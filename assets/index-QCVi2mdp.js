var _y=t=>{throw TypeError(t)};var W0=(t,e,r)=>e.has(t)||_y("Cannot "+r);var ie=(t,e,r)=>(W0(t,e,"read from private field"),r?r.call(t):e.get(t)),mt=(t,e,r)=>e.has(t)?_y("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Ge=(t,e,r,n)=>(W0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),$r=(t,e,r)=>(W0(t,e,"access private method"),r);var Pd=(t,e,r,n)=>({set _(s){Ge(t,e,s,r)},get _(){return ie(t,e,n)}});function Gg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Hc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function W2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var $2={exports:{}},Df={},G2={exports:{}},it={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ad=Symbol.for("react.element"),hI=Symbol.for("react.portal"),fI=Symbol.for("react.fragment"),pI=Symbol.for("react.strict_mode"),gI=Symbol.for("react.profiler"),mI=Symbol.for("react.provider"),xI=Symbol.for("react.context"),yI=Symbol.for("react.forward_ref"),wI=Symbol.for("react.suspense"),vI=Symbol.for("react.memo"),_I=Symbol.for("react.lazy"),by=Symbol.iterator;function bI(t){return t===null||typeof t!="object"?null:(t=by&&t[by]||t["@@iterator"],typeof t=="function"?t:null)}var Y2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X2=Object.assign,q2={};function bc(t,e,r){this.props=t,this.context=e,this.refs=q2,this.updater=r||Y2}bc.prototype.isReactComponent={};bc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function K2(){}K2.prototype=bc.prototype;function Xg(t,e,r){this.props=t,this.context=e,this.refs=q2,this.updater=r||Y2}var qg=Xg.prototype=new K2;qg.constructor=Xg;X2(qg,bc.prototype);qg.isPureReactComponent=!0;var Ey=Array.isArray,Q2=Object.prototype.hasOwnProperty,Kg={current:null},Z2={key:!0,ref:!0,__self:!0,__source:!0};function J2(t,e,r){var n,s={},o=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Q2.call(e,n)&&!Z2.hasOwnProperty(n)&&(s[n]=e[n]);var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){for(var f=Array(u),h=0;h<u;h++)f[h]=arguments[h+2];s.children=f}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)s[n]===void 0&&(s[n]=u[n]);return{$$typeof:ad,type:t,key:o,ref:l,props:s,_owner:Kg.current}}function EI(t,e){return{$$typeof:ad,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Qg(t){return typeof t=="object"&&t!==null&&t.$$typeof===ad}function CI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Cy=/\/+/g;function $0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CI(""+t.key):e.toString(36)}function xh(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case ad:case hI:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+$0(l,0):n,Ey(s)?(r="",t!=null&&(r=t.replace(Cy,"$&/")+"/"),xh(s,e,r,"",function(h){return h})):s!=null&&(Qg(s)&&(s=EI(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(Cy,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",Ey(t))for(var u=0;u<t.length;u++){o=t[u];var f=n+$0(o,u);l+=xh(o,e,r,f,s)}else if(f=bI(t),typeof f=="function")for(t=f.call(t),u=0;!(o=t.next()).done;)o=o.value,f=n+$0(o,u++),l+=xh(o,e,r,f,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Dd(t,e,r){if(t==null)return t;var n=[],s=0;return xh(t,n,"","",function(o){return e.call(r,o,s++)}),n}function SI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var un={current:null},yh={transition:null},AI={ReactCurrentDispatcher:un,ReactCurrentBatchConfig:yh,ReactCurrentOwner:Kg};function e_(){throw Error("act(...) is not supported in production builds of React.")}it.Children={map:Dd,forEach:function(t,e,r){Dd(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Dd(t,function(){e++}),e},toArray:function(t){return Dd(t,function(e){return e})||[]},only:function(t){if(!Qg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};it.Component=bc;it.Fragment=fI;it.Profiler=gI;it.PureComponent=Xg;it.StrictMode=pI;it.Suspense=wI;it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AI;it.act=e_;it.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=X2({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Kg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(f in e)Q2.call(e,f)&&!Z2.hasOwnProperty(f)&&(n[f]=e[f]===void 0&&u!==void 0?u[f]:e[f])}var f=arguments.length-2;if(f===1)n.children=r;else if(1<f){u=Array(f);for(var h=0;h<f;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:ad,type:t.type,key:s,ref:o,props:n,_owner:l}};it.createContext=function(t){return t={$$typeof:xI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mI,_context:t},t.Consumer=t};it.createElement=J2;it.createFactory=function(t){var e=J2.bind(null,t);return e.type=t,e};it.createRef=function(){return{current:null}};it.forwardRef=function(t){return{$$typeof:yI,render:t}};it.isValidElement=Qg;it.lazy=function(t){return{$$typeof:_I,_payload:{_status:-1,_result:t},_init:SI}};it.memo=function(t,e){return{$$typeof:vI,type:t,compare:e===void 0?null:e}};it.startTransition=function(t){var e=yh.transition;yh.transition={};try{t()}finally{yh.transition=e}};it.unstable_act=e_;it.useCallback=function(t,e){return un.current.useCallback(t,e)};it.useContext=function(t){return un.current.useContext(t)};it.useDebugValue=function(){};it.useDeferredValue=function(t){return un.current.useDeferredValue(t)};it.useEffect=function(t,e){return un.current.useEffect(t,e)};it.useId=function(){return un.current.useId()};it.useImperativeHandle=function(t,e,r){return un.current.useImperativeHandle(t,e,r)};it.useInsertionEffect=function(t,e){return un.current.useInsertionEffect(t,e)};it.useLayoutEffect=function(t,e){return un.current.useLayoutEffect(t,e)};it.useMemo=function(t,e){return un.current.useMemo(t,e)};it.useReducer=function(t,e,r){return un.current.useReducer(t,e,r)};it.useRef=function(t){return un.current.useRef(t)};it.useState=function(t){return un.current.useState(t)};it.useSyncExternalStore=function(t,e,r){return un.current.useSyncExternalStore(t,e,r)};it.useTransition=function(){return un.current.useTransition()};it.version="18.3.1";G2.exports=it;var I=G2.exports;const ue=Yg(I),Zg=Gg({__proto__:null,default:ue},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TI=I,NI=Symbol.for("react.element"),II=Symbol.for("react.fragment"),RI=Object.prototype.hasOwnProperty,OI=TI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,MI={key:!0,ref:!0,__self:!0,__source:!0};function t_(t,e,r){var n,s={},o=null,l=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)RI.call(e,n)&&!MI.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:NI,type:t,key:o,ref:l,props:s,_owner:OI.current}}Df.Fragment=II;Df.jsx=t_;Df.jsxs=t_;$2.exports=Df;var m=$2.exports,r_={exports:{}},Yn={},n_={exports:{}},s_={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,J){var oe=Y.length;Y.push(J);e:for(;0<oe;){var Ee=oe-1>>>1,de=Y[Ee];if(0<s(de,J))Y[Ee]=J,Y[oe]=de,oe=Ee;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var J=Y[0],oe=Y.pop();if(oe!==J){Y[0]=oe;e:for(var Ee=0,de=Y.length,ae=de>>>1;Ee<ae;){var fe=2*(Ee+1)-1,ze=Y[fe],ve=fe+1,_e=Y[ve];if(0>s(ze,oe))ve<de&&0>s(_e,ze)?(Y[Ee]=_e,Y[ve]=oe,Ee=ve):(Y[Ee]=ze,Y[fe]=oe,Ee=fe);else if(ve<de&&0>s(_e,oe))Y[Ee]=_e,Y[ve]=oe,Ee=ve;else break e}}return J}function s(Y,J){var oe=Y.sortIndex-J.sortIndex;return oe!==0?oe:Y.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var f=[],h=[],x=1,w=null,v=3,E=!1,S=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,T=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var J=r(h);J!==null;){if(J.callback===null)n(h);else if(J.startTime<=Y)n(h),J.sortIndex=J.expirationTime,e(f,J);else break;J=r(h)}}function M(Y){if(b=!1,A(Y),!S)if(r(f)!==null)S=!0,ne(D);else{var J=r(h);J!==null&&X(M,J.startTime-Y)}}function D(Y,J){S=!1,b&&(b=!1,R(U),U=-1),E=!0;var oe=v;try{for(A(J),w=r(f);w!==null&&(!(w.expirationTime>J)||Y&&!ee());){var Ee=w.callback;if(typeof Ee=="function"){w.callback=null,v=w.priorityLevel;var de=Ee(w.expirationTime<=J);J=t.unstable_now(),typeof de=="function"?w.callback=de:w===r(f)&&n(f),A(J)}else n(f);w=r(f)}if(w!==null)var ae=!0;else{var fe=r(h);fe!==null&&X(M,fe.startTime-J),ae=!1}return ae}finally{w=null,v=oe,E=!1}}var F=!1,L=null,U=-1,B=5,K=-1;function ee(){return!(t.unstable_now()-K<B)}function Q(){if(L!==null){var Y=t.unstable_now();K=Y;var J=!0;try{J=L(!0,Y)}finally{J?se():(F=!1,L=null)}}else F=!1}var se;if(typeof T=="function")se=function(){T(Q)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,H=G.port2;G.port1.onmessage=Q,se=function(){H.postMessage(null)}}else se=function(){N(Q,0)};function ne(Y){L=Y,F||(F=!0,se())}function X(Y,J){U=N(function(){Y(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){S||E||(S=!0,ne(D))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(f)},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var J=3;break;default:J=v}var oe=v;v=J;try{return Y()}finally{v=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=v;v=Y;try{return J()}finally{v=oe}},t.unstable_scheduleCallback=function(Y,J,oe){var Ee=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ee+oe:Ee):oe=Ee,Y){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=oe+de,Y={id:x++,callback:J,priorityLevel:Y,startTime:oe,expirationTime:de,sortIndex:-1},oe>Ee?(Y.sortIndex=oe,e(h,Y),r(f)===null&&Y===r(h)&&(b?(R(U),U=-1):b=!0,X(M,oe-Ee))):(Y.sortIndex=de,e(f,Y),S||E||(S=!0,ne(D))),Y},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(Y){var J=v;return function(){var oe=v;v=J;try{return Y.apply(this,arguments)}finally{v=oe}}}})(s_);n_.exports=s_;var kI=n_.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PI=I,Wn=kI;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i_=new Set,Au={};function $a(t,e){nc(t,e),nc(t+"Capture",e)}function nc(t,e){for(Au[t]=e,t=0;t<e.length;t++)i_.add(e[t])}var Mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Z1=Object.prototype.hasOwnProperty,DI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sy={},Ay={};function jI(t){return Z1.call(Ay,t)?!0:Z1.call(Sy,t)?!1:DI.test(t)?Ay[t]=!0:(Sy[t]=!0,!1)}function LI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BI(t,e,r,n){if(e===null||typeof e>"u"||LI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function dn(t,e,r,n,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Vr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vr[t]=new dn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vr[e]=new dn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vr[t]=new dn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vr[t]=new dn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vr[t]=new dn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vr[t]=new dn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vr[t]=new dn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vr[t]=new dn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vr[t]=new dn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Jg=/[\-:]([a-z])/g;function em(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Jg,em);Vr[e]=new dn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Jg,em);Vr[e]=new dn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Jg,em);Vr[e]=new dn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vr[t]=new dn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vr.xlinkHref=new dn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vr[t]=new dn(t,1,!1,t.toLowerCase(),null,!0,!0)});function tm(t,e,r,n){var s=Vr.hasOwnProperty(e)?Vr[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BI(e,r,s,n)&&(r=null),n||s===null?jI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vi=PI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,jd=Symbol.for("react.element"),vl=Symbol.for("react.portal"),_l=Symbol.for("react.fragment"),rm=Symbol.for("react.strict_mode"),J1=Symbol.for("react.profiler"),o_=Symbol.for("react.provider"),a_=Symbol.for("react.context"),nm=Symbol.for("react.forward_ref"),ep=Symbol.for("react.suspense"),tp=Symbol.for("react.suspense_list"),sm=Symbol.for("react.memo"),ro=Symbol.for("react.lazy"),l_=Symbol.for("react.offscreen"),Ty=Symbol.iterator;function Wc(t){return t===null||typeof t!="object"?null:(t=Ty&&t[Ty]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,G0;function ru(t){if(G0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);G0=e&&e[1]||""}return`
`+G0+t}var Y0=!1;function X0(t,e){if(!t||Y0)return"";Y0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=n.stack.split(`
`),l=s.length-1,u=o.length-1;1<=l&&0<=u&&s[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==o[u]){var f=`
`+s[l].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=l&&0<=u);break}}}finally{Y0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?ru(t):""}function FI(t){switch(t.tag){case 5:return ru(t.type);case 16:return ru("Lazy");case 13:return ru("Suspense");case 19:return ru("SuspenseList");case 0:case 2:case 15:return t=X0(t.type,!1),t;case 11:return t=X0(t.type.render,!1),t;case 1:return t=X0(t.type,!0),t;default:return""}}function rp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _l:return"Fragment";case vl:return"Portal";case J1:return"Profiler";case rm:return"StrictMode";case ep:return"Suspense";case tp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case a_:return(t.displayName||"Context")+".Consumer";case o_:return(t._context.displayName||"Context")+".Provider";case nm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case sm:return e=t.displayName||null,e!==null?e:rp(t.type)||"Memo";case ro:e=t._payload,t=t._init;try{return rp(t(e))}catch{}}return null}function UI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rp(e);case 8:return e===rm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Mo(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function c_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function zI(t){var e=c_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ld(t){t._valueTracker||(t._valueTracker=zI(t))}function u_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=c_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Lh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function np(t,e){var r=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ny(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Mo(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d_(t,e){e=e.checked,e!=null&&tm(t,"checked",e,!1)}function sp(t,e){d_(t,e);var r=Mo(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ip(t,e.type,r):e.hasOwnProperty("defaultValue")&&ip(t,e.type,Mo(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function ip(t,e,r){(e!=="number"||Lh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var nu=Array.isArray;function jl(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Mo(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function op(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ry(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(pe(92));if(nu(r)){if(1<r.length)throw Error(pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Mo(r)}}function h_(t,e){var r=Mo(e.value),n=Mo(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Oy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function f_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ap(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?f_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bd,p_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bd=Bd||document.createElement("div"),Bd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var uu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},VI=["Webkit","ms","Moz","O"];Object.keys(uu).forEach(function(t){VI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uu[e]=uu[t]})});function g_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||uu.hasOwnProperty(t)&&uu[t]?(""+e).trim():e+"px"}function m_(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=g_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var HI=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lp(t,e){if(e){if(HI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function cp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var up=null;function im(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dp=null,Ll=null,Bl=null;function My(t){if(t=ud(t)){if(typeof dp!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=Uf(e),dp(t.stateNode,t.type,e))}}function x_(t){Ll?Bl?Bl.push(t):Bl=[t]:Ll=t}function y_(){if(Ll){var t=Ll,e=Bl;if(Bl=Ll=null,My(t),e)for(t=0;t<e.length;t++)My(e[t])}}function w_(t,e){return t(e)}function v_(){}var q0=!1;function __(t,e,r){if(q0)return t(e,r);q0=!0;try{return w_(t,e,r)}finally{q0=!1,(Ll!==null||Bl!==null)&&(v_(),y_())}}function Nu(t,e){var r=t.stateNode;if(r===null)return null;var n=Uf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(pe(231,e,typeof r));return r}var hp=!1;if(Mi)try{var $c={};Object.defineProperty($c,"passive",{get:function(){hp=!0}}),window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{hp=!1}function WI(t,e,r,n,s,o,l,u,f){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(x){this.onError(x)}}var du=!1,Bh=null,Fh=!1,fp=null,$I={onError:function(t){du=!0,Bh=t}};function GI(t,e,r,n,s,o,l,u,f){du=!1,Bh=null,WI.apply($I,arguments)}function YI(t,e,r,n,s,o,l,u,f){if(GI.apply(this,arguments),du){if(du){var h=Bh;du=!1,Bh=null}else throw Error(pe(198));Fh||(Fh=!0,fp=h)}}function Ga(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function b_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ky(t){if(Ga(t)!==t)throw Error(pe(188))}function XI(t){var e=t.alternate;if(!e){if(e=Ga(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return ky(s),t;if(o===n)return ky(s),e;o=o.sibling}throw Error(pe(188))}if(r.return!==n.return)r=s,n=o;else{for(var l=!1,u=s.child;u;){if(u===r){l=!0,r=s,n=o;break}if(u===n){l=!0,n=s,r=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===r){l=!0,r=o,n=s;break}if(u===n){l=!0,n=o,r=s;break}u=u.sibling}if(!l)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?t:e}function E_(t){return t=XI(t),t!==null?C_(t):null}function C_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=C_(t);if(e!==null)return e;t=t.sibling}return null}var S_=Wn.unstable_scheduleCallback,Py=Wn.unstable_cancelCallback,qI=Wn.unstable_shouldYield,KI=Wn.unstable_requestPaint,hr=Wn.unstable_now,QI=Wn.unstable_getCurrentPriorityLevel,om=Wn.unstable_ImmediatePriority,A_=Wn.unstable_UserBlockingPriority,Uh=Wn.unstable_NormalPriority,ZI=Wn.unstable_LowPriority,T_=Wn.unstable_IdlePriority,jf=null,ai=null;function JI(t){if(ai&&typeof ai.onCommitFiberRoot=="function")try{ai.onCommitFiberRoot(jf,t,void 0,(t.current.flags&128)===128)}catch{}}var Ls=Math.clz32?Math.clz32:r4,e4=Math.log,t4=Math.LN2;function r4(t){return t>>>=0,t===0?32:31-(e4(t)/t4|0)|0}var Fd=64,Ud=4194304;function su(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function zh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,l=r&268435455;if(l!==0){var u=l&~s;u!==0?n=su(u):(o&=l,o!==0&&(n=su(o)))}else l=r&~s,l!==0?n=su(l):o!==0&&(n=su(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ls(e),s=1<<r,n|=t[r],e&=~s;return n}function n4(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function s4(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Ls(o),u=1<<l,f=s[l];f===-1?(!(u&r)||u&n)&&(s[l]=n4(u,e)):f<=e&&(t.expiredLanes|=u),o&=~u}}function pp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function N_(){var t=Fd;return Fd<<=1,!(Fd&4194240)&&(Fd=64),t}function K0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function ld(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ls(e),t[e]=r}function i4(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ls(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function am(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ls(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Et=0;function I_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var R_,lm,O_,M_,k_,gp=!1,zd=[],vo=null,_o=null,bo=null,Iu=new Map,Ru=new Map,so=[],o4="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dy(t,e){switch(t){case"focusin":case"focusout":vo=null;break;case"dragenter":case"dragleave":_o=null;break;case"mouseover":case"mouseout":bo=null;break;case"pointerover":case"pointerout":Iu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(e.pointerId)}}function Gc(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=ud(e),e!==null&&lm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function a4(t,e,r,n,s){switch(e){case"focusin":return vo=Gc(vo,t,e,r,n,s),!0;case"dragenter":return _o=Gc(_o,t,e,r,n,s),!0;case"mouseover":return bo=Gc(bo,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Iu.set(o,Gc(Iu.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Ru.set(o,Gc(Ru.get(o)||null,t,e,r,n,s)),!0}return!1}function P_(t){var e=ga(t.target);if(e!==null){var r=Ga(e);if(r!==null){if(e=r.tag,e===13){if(e=b_(r),e!==null){t.blockedOn=e,k_(t.priority,function(){O_(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=mp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);up=n,r.target.dispatchEvent(n),up=null}else return e=ud(r),e!==null&&lm(e),t.blockedOn=r,!1;e.shift()}return!0}function jy(t,e,r){wh(t)&&r.delete(e)}function l4(){gp=!1,vo!==null&&wh(vo)&&(vo=null),_o!==null&&wh(_o)&&(_o=null),bo!==null&&wh(bo)&&(bo=null),Iu.forEach(jy),Ru.forEach(jy)}function Yc(t,e){t.blockedOn===e&&(t.blockedOn=null,gp||(gp=!0,Wn.unstable_scheduleCallback(Wn.unstable_NormalPriority,l4)))}function Ou(t){function e(s){return Yc(s,t)}if(0<zd.length){Yc(zd[0],t);for(var r=1;r<zd.length;r++){var n=zd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(vo!==null&&Yc(vo,t),_o!==null&&Yc(_o,t),bo!==null&&Yc(bo,t),Iu.forEach(e),Ru.forEach(e),r=0;r<so.length;r++)n=so[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<so.length&&(r=so[0],r.blockedOn===null);)P_(r),r.blockedOn===null&&so.shift()}var Fl=Vi.ReactCurrentBatchConfig,Vh=!0;function c4(t,e,r,n){var s=Et,o=Fl.transition;Fl.transition=null;try{Et=1,cm(t,e,r,n)}finally{Et=s,Fl.transition=o}}function u4(t,e,r,n){var s=Et,o=Fl.transition;Fl.transition=null;try{Et=4,cm(t,e,r,n)}finally{Et=s,Fl.transition=o}}function cm(t,e,r,n){if(Vh){var s=mp(t,e,r,n);if(s===null)o1(t,e,n,Hh,r),Dy(t,n);else if(a4(s,t,e,r,n))n.stopPropagation();else if(Dy(t,n),e&4&&-1<o4.indexOf(t)){for(;s!==null;){var o=ud(s);if(o!==null&&R_(o),o=mp(t,e,r,n),o===null&&o1(t,e,n,Hh,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else o1(t,e,n,null,r)}}var Hh=null;function mp(t,e,r,n){if(Hh=null,t=im(n),t=ga(t),t!==null)if(e=Ga(t),e===null)t=null;else if(r=e.tag,r===13){if(t=b_(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hh=t,null}function D_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QI()){case om:return 1;case A_:return 4;case Uh:case ZI:return 16;case T_:return 536870912;default:return 16}default:return 16}}var fo=null,um=null,vh=null;function j_(){if(vh)return vh;var t,e=um,r=e.length,n,s="value"in fo?fo.value:fo.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===s[o-n];n++);return vh=s.slice(t,1<n?1-n:void 0)}function _h(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vd(){return!0}function Ly(){return!1}function Xn(t){function e(r,n,s,o,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Vd:Ly,this.isPropagationStopped=Ly,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vd)},persist:function(){},isPersistent:Vd}),e}var Ec={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dm=Xn(Ec),cd=Qt({},Ec,{view:0,detail:0}),d4=Xn(cd),Q0,Z0,Xc,Lf=Qt({},cd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xc&&(Xc&&t.type==="mousemove"?(Q0=t.screenX-Xc.screenX,Z0=t.screenY-Xc.screenY):Z0=Q0=0,Xc=t),Q0)},movementY:function(t){return"movementY"in t?t.movementY:Z0}}),By=Xn(Lf),h4=Qt({},Lf,{dataTransfer:0}),f4=Xn(h4),p4=Qt({},cd,{relatedTarget:0}),J0=Xn(p4),g4=Qt({},Ec,{animationName:0,elapsedTime:0,pseudoElement:0}),m4=Xn(g4),x4=Qt({},Ec,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),y4=Xn(x4),w4=Qt({},Ec,{data:0}),Fy=Xn(w4),v4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function E4(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=b4[t])?!!e[t]:!1}function hm(){return E4}var C4=Qt({},cd,{key:function(t){if(t.key){var e=v4[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=_h(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?_4[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hm,charCode:function(t){return t.type==="keypress"?_h(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?_h(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),S4=Xn(C4),A4=Qt({},Lf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uy=Xn(A4),T4=Qt({},cd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hm}),N4=Xn(T4),I4=Qt({},Ec,{propertyName:0,elapsedTime:0,pseudoElement:0}),R4=Xn(I4),O4=Qt({},Lf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),M4=Xn(O4),k4=[9,13,27,32],fm=Mi&&"CompositionEvent"in window,hu=null;Mi&&"documentMode"in document&&(hu=document.documentMode);var P4=Mi&&"TextEvent"in window&&!hu,L_=Mi&&(!fm||hu&&8<hu&&11>=hu),zy=" ",Vy=!1;function B_(t,e){switch(t){case"keyup":return k4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bl=!1;function D4(t,e){switch(t){case"compositionend":return F_(e);case"keypress":return e.which!==32?null:(Vy=!0,zy);case"textInput":return t=e.data,t===zy&&Vy?null:t;default:return null}}function j4(t,e){if(bl)return t==="compositionend"||!fm&&B_(t,e)?(t=j_(),vh=um=fo=null,bl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return L_&&e.locale!=="ko"?null:e.data;default:return null}}var L4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!L4[t.type]:e==="textarea"}function U_(t,e,r,n){x_(n),e=Wh(e,"onChange"),0<e.length&&(r=new dm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var fu=null,Mu=null;function B4(t){Q_(t,0)}function Bf(t){var e=Sl(t);if(u_(e))return t}function F4(t,e){if(t==="change")return e}var z_=!1;if(Mi){var e1;if(Mi){var t1="oninput"in document;if(!t1){var Wy=document.createElement("div");Wy.setAttribute("oninput","return;"),t1=typeof Wy.oninput=="function"}e1=t1}else e1=!1;z_=e1&&(!document.documentMode||9<document.documentMode)}function $y(){fu&&(fu.detachEvent("onpropertychange",V_),Mu=fu=null)}function V_(t){if(t.propertyName==="value"&&Bf(Mu)){var e=[];U_(e,Mu,t,im(t)),__(B4,e)}}function U4(t,e,r){t==="focusin"?($y(),fu=e,Mu=r,fu.attachEvent("onpropertychange",V_)):t==="focusout"&&$y()}function z4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Bf(Mu)}function V4(t,e){if(t==="click")return Bf(e)}function H4(t,e){if(t==="input"||t==="change")return Bf(e)}function W4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Us=typeof Object.is=="function"?Object.is:W4;function ku(t,e){if(Us(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Z1.call(e,s)||!Us(t[s],e[s]))return!1}return!0}function Gy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yy(t,e){var r=Gy(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gy(r)}}function H_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?H_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W_(){for(var t=window,e=Lh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Lh(t.document)}return e}function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function $4(t){var e=W_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&H_(r.ownerDocument.documentElement,r)){if(n!==null&&pm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=Yy(r,o);var l=Yy(r,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var G4=Mi&&"documentMode"in document&&11>=document.documentMode,El=null,xp=null,pu=null,yp=!1;function Xy(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yp||El==null||El!==Lh(n)||(n=El,"selectionStart"in n&&pm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pu&&ku(pu,n)||(pu=n,n=Wh(xp,"onSelect"),0<n.length&&(e=new dm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=El)))}function Hd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Cl={animationend:Hd("Animation","AnimationEnd"),animationiteration:Hd("Animation","AnimationIteration"),animationstart:Hd("Animation","AnimationStart"),transitionend:Hd("Transition","TransitionEnd")},r1={},$_={};Mi&&($_=document.createElement("div").style,"AnimationEvent"in window||(delete Cl.animationend.animation,delete Cl.animationiteration.animation,delete Cl.animationstart.animation),"TransitionEvent"in window||delete Cl.transitionend.transition);function Ff(t){if(r1[t])return r1[t];if(!Cl[t])return t;var e=Cl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in $_)return r1[t]=e[r];return t}var G_=Ff("animationend"),Y_=Ff("animationiteration"),X_=Ff("animationstart"),q_=Ff("transitionend"),K_=new Map,qy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vo(t,e){K_.set(t,e),$a(e,[t])}for(var n1=0;n1<qy.length;n1++){var s1=qy[n1],Y4=s1.toLowerCase(),X4=s1[0].toUpperCase()+s1.slice(1);Vo(Y4,"on"+X4)}Vo(G_,"onAnimationEnd");Vo(Y_,"onAnimationIteration");Vo(X_,"onAnimationStart");Vo("dblclick","onDoubleClick");Vo("focusin","onFocus");Vo("focusout","onBlur");Vo(q_,"onTransitionEnd");nc("onMouseEnter",["mouseout","mouseover"]);nc("onMouseLeave",["mouseout","mouseover"]);nc("onPointerEnter",["pointerout","pointerover"]);nc("onPointerLeave",["pointerout","pointerover"]);$a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));$a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));$a("onBeforeInput",["compositionend","keypress","textInput","paste"]);$a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));$a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var iu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q4=new Set("cancel close invalid load scroll toggle".split(" ").concat(iu));function Ky(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,YI(n,e,void 0,t),t.currentTarget=null}function Q_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var l=n.length-1;0<=l;l--){var u=n[l],f=u.instance,h=u.currentTarget;if(u=u.listener,f!==o&&s.isPropagationStopped())break e;Ky(s,u,h),o=f}else for(l=0;l<n.length;l++){if(u=n[l],f=u.instance,h=u.currentTarget,u=u.listener,f!==o&&s.isPropagationStopped())break e;Ky(s,u,h),o=f}}}if(Fh)throw t=fp,Fh=!1,fp=null,t}function Dt(t,e){var r=e[Ep];r===void 0&&(r=e[Ep]=new Set);var n=t+"__bubble";r.has(n)||(Z_(e,t,2,!1),r.add(n))}function i1(t,e,r){var n=0;e&&(n|=4),Z_(r,t,n,e)}var Wd="_reactListening"+Math.random().toString(36).slice(2);function Pu(t){if(!t[Wd]){t[Wd]=!0,i_.forEach(function(r){r!=="selectionchange"&&(q4.has(r)||i1(r,!1,t),i1(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Wd]||(e[Wd]=!0,i1("selectionchange",!1,e))}}function Z_(t,e,r,n){switch(D_(e)){case 1:var s=c4;break;case 4:s=u4;break;default:s=cm}r=s.bind(null,e,r,t),s=void 0,!hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function o1(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var f=l.tag;if((f===3||f===4)&&(f=l.stateNode.containerInfo,f===s||f.nodeType===8&&f.parentNode===s))return;l=l.return}for(;u!==null;){if(l=ga(u),l===null)return;if(f=l.tag,f===5||f===6){n=o=l;continue e}u=u.parentNode}}n=n.return}__(function(){var h=o,x=im(r),w=[];e:{var v=K_.get(t);if(v!==void 0){var E=dm,S=t;switch(t){case"keypress":if(_h(r)===0)break e;case"keydown":case"keyup":E=S4;break;case"focusin":S="focus",E=J0;break;case"focusout":S="blur",E=J0;break;case"beforeblur":case"afterblur":E=J0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=By;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=f4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=N4;break;case G_:case Y_:case X_:E=m4;break;case q_:E=R4;break;case"scroll":E=d4;break;case"wheel":E=M4;break;case"copy":case"cut":case"paste":E=y4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=Uy}var b=(e&4)!==0,N=!b&&t==="scroll",R=b?v!==null?v+"Capture":null:v;b=[];for(var T=h,A;T!==null;){A=T;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,R!==null&&(M=Nu(T,R),M!=null&&b.push(Du(T,M,A)))),N)break;T=T.return}0<b.length&&(v=new E(v,S,null,r,x),w.push({event:v,listeners:b}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",v&&r!==up&&(S=r.relatedTarget||r.fromElement)&&(ga(S)||S[ki]))break e;if((E||v)&&(v=x.window===x?x:(v=x.ownerDocument)?v.defaultView||v.parentWindow:window,E?(S=r.relatedTarget||r.toElement,E=h,S=S?ga(S):null,S!==null&&(N=Ga(S),S!==N||S.tag!==5&&S.tag!==6)&&(S=null)):(E=null,S=h),E!==S)){if(b=By,M="onMouseLeave",R="onMouseEnter",T="mouse",(t==="pointerout"||t==="pointerover")&&(b=Uy,M="onPointerLeave",R="onPointerEnter",T="pointer"),N=E==null?v:Sl(E),A=S==null?v:Sl(S),v=new b(M,T+"leave",E,r,x),v.target=N,v.relatedTarget=A,M=null,ga(x)===h&&(b=new b(R,T+"enter",S,r,x),b.target=A,b.relatedTarget=N,M=b),N=M,E&&S)t:{for(b=E,R=S,T=0,A=b;A;A=ll(A))T++;for(A=0,M=R;M;M=ll(M))A++;for(;0<T-A;)b=ll(b),T--;for(;0<A-T;)R=ll(R),A--;for(;T--;){if(b===R||R!==null&&b===R.alternate)break t;b=ll(b),R=ll(R)}b=null}else b=null;E!==null&&Qy(w,v,E,b,!1),S!==null&&N!==null&&Qy(w,N,S,b,!0)}}e:{if(v=h?Sl(h):window,E=v.nodeName&&v.nodeName.toLowerCase(),E==="select"||E==="input"&&v.type==="file")var D=F4;else if(Hy(v))if(z_)D=H4;else{D=z4;var F=U4}else(E=v.nodeName)&&E.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(D=V4);if(D&&(D=D(t,h))){U_(w,D,r,x);break e}F&&F(t,v,h),t==="focusout"&&(F=v._wrapperState)&&F.controlled&&v.type==="number"&&ip(v,"number",v.value)}switch(F=h?Sl(h):window,t){case"focusin":(Hy(F)||F.contentEditable==="true")&&(El=F,xp=h,pu=null);break;case"focusout":pu=xp=El=null;break;case"mousedown":yp=!0;break;case"contextmenu":case"mouseup":case"dragend":yp=!1,Xy(w,r,x);break;case"selectionchange":if(G4)break;case"keydown":case"keyup":Xy(w,r,x)}var L;if(fm)e:{switch(t){case"compositionstart":var U="onCompositionStart";break e;case"compositionend":U="onCompositionEnd";break e;case"compositionupdate":U="onCompositionUpdate";break e}U=void 0}else bl?B_(t,r)&&(U="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(U="onCompositionStart");U&&(L_&&r.locale!=="ko"&&(bl||U!=="onCompositionStart"?U==="onCompositionEnd"&&bl&&(L=j_()):(fo=x,um="value"in fo?fo.value:fo.textContent,bl=!0)),F=Wh(h,U),0<F.length&&(U=new Fy(U,t,null,r,x),w.push({event:U,listeners:F}),L?U.data=L:(L=F_(r),L!==null&&(U.data=L)))),(L=P4?D4(t,r):j4(t,r))&&(h=Wh(h,"onBeforeInput"),0<h.length&&(x=new Fy("onBeforeInput","beforeinput",null,r,x),w.push({event:x,listeners:h}),x.data=L))}Q_(w,e)})}function Du(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Wh(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Nu(t,r),o!=null&&n.unshift(Du(t,o,s)),o=Nu(t,e),o!=null&&n.push(Du(t,o,s))),t=t.return}return n}function ll(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qy(t,e,r,n,s){for(var o=e._reactName,l=[];r!==null&&r!==n;){var u=r,f=u.alternate,h=u.stateNode;if(f!==null&&f===n)break;u.tag===5&&h!==null&&(u=h,s?(f=Nu(r,o),f!=null&&l.unshift(Du(r,f,u))):s||(f=Nu(r,o),f!=null&&l.push(Du(r,f,u)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var K4=/\r\n?/g,Q4=/\u0000|\uFFFD/g;function Zy(t){return(typeof t=="string"?t:""+t).replace(K4,`
`).replace(Q4,"")}function $d(t,e,r){if(e=Zy(e),Zy(t)!==e&&r)throw Error(pe(425))}function $h(){}var wp=null,vp=null;function _p(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var bp=typeof setTimeout=="function"?setTimeout:void 0,Z4=typeof clearTimeout=="function"?clearTimeout:void 0,Jy=typeof Promise=="function"?Promise:void 0,J4=typeof queueMicrotask=="function"?queueMicrotask:typeof Jy<"u"?function(t){return Jy.resolve(null).then(t).catch(eR)}:bp;function eR(t){setTimeout(function(){throw t})}function a1(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Ou(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Ou(e)}function Eo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ew(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cc=Math.random().toString(36).slice(2),ni="__reactFiber$"+Cc,ju="__reactProps$"+Cc,ki="__reactContainer$"+Cc,Ep="__reactEvents$"+Cc,tR="__reactListeners$"+Cc,rR="__reactHandles$"+Cc;function ga(t){var e=t[ni];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ki]||r[ni]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=ew(t);t!==null;){if(r=t[ni])return r;t=ew(t)}return e}t=r,r=t.parentNode}return null}function ud(t){return t=t[ni]||t[ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function Uf(t){return t[ju]||null}var Cp=[],Al=-1;function Ho(t){return{current:t}}function Lt(t){0>Al||(t.current=Cp[Al],Cp[Al]=null,Al--)}function Mt(t,e){Al++,Cp[Al]=t.current,t.current=e}var ko={},Jr=Ho(ko),vn=Ho(!1),Pa=ko;function sc(t,e){var r=t.type.contextTypes;if(!r)return ko;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function _n(t){return t=t.childContextTypes,t!=null}function Gh(){Lt(vn),Lt(Jr)}function tw(t,e,r){if(Jr.current!==ko)throw Error(pe(168));Mt(Jr,e),Mt(vn,r)}function J_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(pe(108,UI(t)||"Unknown",s));return Qt({},r,n)}function Yh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ko,Pa=Jr.current,Mt(Jr,t),Mt(vn,vn.current),!0}function rw(t,e,r){var n=t.stateNode;if(!n)throw Error(pe(169));r?(t=J_(t,e,Pa),n.__reactInternalMemoizedMergedChildContext=t,Lt(vn),Lt(Jr),Mt(Jr,t)):Lt(vn),Mt(vn,r)}var Ei=null,zf=!1,l1=!1;function eb(t){Ei===null?Ei=[t]:Ei.push(t)}function nR(t){zf=!0,eb(t)}function Wo(){if(!l1&&Ei!==null){l1=!0;var t=0,e=Et;try{var r=Ei;for(Et=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ei=null,zf=!1}catch(s){throw Ei!==null&&(Ei=Ei.slice(t+1)),S_(om,Wo),s}finally{Et=e,l1=!1}}return null}var Tl=[],Nl=0,Xh=null,qh=0,rs=[],ns=0,Da=null,Ai=1,Ti="";function ca(t,e){Tl[Nl++]=qh,Tl[Nl++]=Xh,Xh=t,qh=e}function tb(t,e,r){rs[ns++]=Ai,rs[ns++]=Ti,rs[ns++]=Da,Da=t;var n=Ai;t=Ti;var s=32-Ls(n)-1;n&=~(1<<s),r+=1;var o=32-Ls(e)+s;if(30<o){var l=s-s%5;o=(n&(1<<l)-1).toString(32),n>>=l,s-=l,Ai=1<<32-Ls(e)+s|r<<s|n,Ti=o+t}else Ai=1<<o|r<<s|n,Ti=t}function gm(t){t.return!==null&&(ca(t,1),tb(t,1,0))}function mm(t){for(;t===Xh;)Xh=Tl[--Nl],Tl[Nl]=null,qh=Tl[--Nl],Tl[Nl]=null;for(;t===Da;)Da=rs[--ns],rs[ns]=null,Ti=rs[--ns],rs[ns]=null,Ai=rs[--ns],rs[ns]=null}var zn=null,Fn=null,Vt=!1,Ps=null;function rb(t,e){var r=as(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function nw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,zn=t,Fn=Eo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,zn=t,Fn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Da!==null?{id:Ai,overflow:Ti}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=as(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,zn=t,Fn=null,!0):!1;default:return!1}}function Sp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ap(t){if(Vt){var e=Fn;if(e){var r=e;if(!nw(t,e)){if(Sp(t))throw Error(pe(418));e=Eo(r.nextSibling);var n=zn;e&&nw(t,e)?rb(n,r):(t.flags=t.flags&-4097|2,Vt=!1,zn=t)}}else{if(Sp(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Vt=!1,zn=t}}}function sw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;zn=t}function Gd(t){if(t!==zn)return!1;if(!Vt)return sw(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_p(t.type,t.memoizedProps)),e&&(e=Fn)){if(Sp(t))throw nb(),Error(pe(418));for(;e;)rb(t,e),e=Eo(e.nextSibling)}if(sw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Fn=Eo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Fn=null}}else Fn=zn?Eo(t.stateNode.nextSibling):null;return!0}function nb(){for(var t=Fn;t;)t=Eo(t.nextSibling)}function ic(){Fn=zn=null,Vt=!1}function xm(t){Ps===null?Ps=[t]:Ps.push(t)}var sR=Vi.ReactCurrentBatchConfig;function qc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=s.refs;l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,t))}return t}function Yd(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function iw(t){var e=t._init;return e(t._payload)}function sb(t){function e(R,T){if(t){var A=R.deletions;A===null?(R.deletions=[T],R.flags|=16):A.push(T)}}function r(R,T){if(!t)return null;for(;T!==null;)e(R,T),T=T.sibling;return null}function n(R,T){for(R=new Map;T!==null;)T.key!==null?R.set(T.key,T):R.set(T.index,T),T=T.sibling;return R}function s(R,T){return R=To(R,T),R.index=0,R.sibling=null,R}function o(R,T,A){return R.index=A,t?(A=R.alternate,A!==null?(A=A.index,A<T?(R.flags|=2,T):A):(R.flags|=2,T)):(R.flags|=1048576,T)}function l(R){return t&&R.alternate===null&&(R.flags|=2),R}function u(R,T,A,M){return T===null||T.tag!==6?(T=g1(A,R.mode,M),T.return=R,T):(T=s(T,A),T.return=R,T)}function f(R,T,A,M){var D=A.type;return D===_l?x(R,T,A.props.children,M,A.key):T!==null&&(T.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ro&&iw(D)===T.type)?(M=s(T,A.props),M.ref=qc(R,T,A),M.return=R,M):(M=Nh(A.type,A.key,A.props,null,R.mode,M),M.ref=qc(R,T,A),M.return=R,M)}function h(R,T,A,M){return T===null||T.tag!==4||T.stateNode.containerInfo!==A.containerInfo||T.stateNode.implementation!==A.implementation?(T=m1(A,R.mode,M),T.return=R,T):(T=s(T,A.children||[]),T.return=R,T)}function x(R,T,A,M,D){return T===null||T.tag!==7?(T=Na(A,R.mode,M,D),T.return=R,T):(T=s(T,A),T.return=R,T)}function w(R,T,A){if(typeof T=="string"&&T!==""||typeof T=="number")return T=g1(""+T,R.mode,A),T.return=R,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case jd:return A=Nh(T.type,T.key,T.props,null,R.mode,A),A.ref=qc(R,null,T),A.return=R,A;case vl:return T=m1(T,R.mode,A),T.return=R,T;case ro:var M=T._init;return w(R,M(T._payload),A)}if(nu(T)||Wc(T))return T=Na(T,R.mode,A,null),T.return=R,T;Yd(R,T)}return null}function v(R,T,A,M){var D=T!==null?T.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return D!==null?null:u(R,T,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case jd:return A.key===D?f(R,T,A,M):null;case vl:return A.key===D?h(R,T,A,M):null;case ro:return D=A._init,v(R,T,D(A._payload),M)}if(nu(A)||Wc(A))return D!==null?null:x(R,T,A,M,null);Yd(R,A)}return null}function E(R,T,A,M,D){if(typeof M=="string"&&M!==""||typeof M=="number")return R=R.get(A)||null,u(T,R,""+M,D);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case jd:return R=R.get(M.key===null?A:M.key)||null,f(T,R,M,D);case vl:return R=R.get(M.key===null?A:M.key)||null,h(T,R,M,D);case ro:var F=M._init;return E(R,T,A,F(M._payload),D)}if(nu(M)||Wc(M))return R=R.get(A)||null,x(T,R,M,D,null);Yd(T,M)}return null}function S(R,T,A,M){for(var D=null,F=null,L=T,U=T=0,B=null;L!==null&&U<A.length;U++){L.index>U?(B=L,L=null):B=L.sibling;var K=v(R,L,A[U],M);if(K===null){L===null&&(L=B);break}t&&L&&K.alternate===null&&e(R,L),T=o(K,T,U),F===null?D=K:F.sibling=K,F=K,L=B}if(U===A.length)return r(R,L),Vt&&ca(R,U),D;if(L===null){for(;U<A.length;U++)L=w(R,A[U],M),L!==null&&(T=o(L,T,U),F===null?D=L:F.sibling=L,F=L);return Vt&&ca(R,U),D}for(L=n(R,L);U<A.length;U++)B=E(L,R,U,A[U],M),B!==null&&(t&&B.alternate!==null&&L.delete(B.key===null?U:B.key),T=o(B,T,U),F===null?D=B:F.sibling=B,F=B);return t&&L.forEach(function(ee){return e(R,ee)}),Vt&&ca(R,U),D}function b(R,T,A,M){var D=Wc(A);if(typeof D!="function")throw Error(pe(150));if(A=D.call(A),A==null)throw Error(pe(151));for(var F=D=null,L=T,U=T=0,B=null,K=A.next();L!==null&&!K.done;U++,K=A.next()){L.index>U?(B=L,L=null):B=L.sibling;var ee=v(R,L,K.value,M);if(ee===null){L===null&&(L=B);break}t&&L&&ee.alternate===null&&e(R,L),T=o(ee,T,U),F===null?D=ee:F.sibling=ee,F=ee,L=B}if(K.done)return r(R,L),Vt&&ca(R,U),D;if(L===null){for(;!K.done;U++,K=A.next())K=w(R,K.value,M),K!==null&&(T=o(K,T,U),F===null?D=K:F.sibling=K,F=K);return Vt&&ca(R,U),D}for(L=n(R,L);!K.done;U++,K=A.next())K=E(L,R,U,K.value,M),K!==null&&(t&&K.alternate!==null&&L.delete(K.key===null?U:K.key),T=o(K,T,U),F===null?D=K:F.sibling=K,F=K);return t&&L.forEach(function(Q){return e(R,Q)}),Vt&&ca(R,U),D}function N(R,T,A,M){if(typeof A=="object"&&A!==null&&A.type===_l&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case jd:e:{for(var D=A.key,F=T;F!==null;){if(F.key===D){if(D=A.type,D===_l){if(F.tag===7){r(R,F.sibling),T=s(F,A.props.children),T.return=R,R=T;break e}}else if(F.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===ro&&iw(D)===F.type){r(R,F.sibling),T=s(F,A.props),T.ref=qc(R,F,A),T.return=R,R=T;break e}r(R,F);break}else e(R,F);F=F.sibling}A.type===_l?(T=Na(A.props.children,R.mode,M,A.key),T.return=R,R=T):(M=Nh(A.type,A.key,A.props,null,R.mode,M),M.ref=qc(R,T,A),M.return=R,R=M)}return l(R);case vl:e:{for(F=A.key;T!==null;){if(T.key===F)if(T.tag===4&&T.stateNode.containerInfo===A.containerInfo&&T.stateNode.implementation===A.implementation){r(R,T.sibling),T=s(T,A.children||[]),T.return=R,R=T;break e}else{r(R,T);break}else e(R,T);T=T.sibling}T=m1(A,R.mode,M),T.return=R,R=T}return l(R);case ro:return F=A._init,N(R,T,F(A._payload),M)}if(nu(A))return S(R,T,A,M);if(Wc(A))return b(R,T,A,M);Yd(R,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,T!==null&&T.tag===6?(r(R,T.sibling),T=s(T,A),T.return=R,R=T):(r(R,T),T=g1(A,R.mode,M),T.return=R,R=T),l(R)):r(R,T)}return N}var oc=sb(!0),ib=sb(!1),Kh=Ho(null),Qh=null,Il=null,ym=null;function wm(){ym=Il=Qh=null}function vm(t){var e=Kh.current;Lt(Kh),t._currentValue=e}function Tp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ul(t,e){Qh=t,ym=Il=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function hs(t){var e=t._currentValue;if(ym!==t)if(t={context:t,memoizedValue:e,next:null},Il===null){if(Qh===null)throw Error(pe(308));Il=t,Qh.dependencies={lanes:0,firstContext:t}}else Il=Il.next=t;return e}var ma=null;function _m(t){ma===null?ma=[t]:ma.push(t)}function ob(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,_m(e)):(r.next=s.next,s.next=r),e.interleaved=r,Pi(t,n)}function Pi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var no=!1;function bm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ab(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Co(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pt&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Pi(t,r)}return s=n.interleaved,s===null?(e.next=e,_m(n)):(e.next=s.next,s.next=e),n.interleaved=e,Pi(t,r)}function bh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,am(t,r)}}function ow(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Zh(t,e,r,n){var s=t.updateQueue;no=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var f=u,h=f.next;f.next=null,l===null?o=h:l.next=h,l=f;var x=t.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==l&&(u===null?x.firstBaseUpdate=h:u.next=h,x.lastBaseUpdate=f))}if(o!==null){var w=s.baseState;l=0,x=h=f=null,u=o;do{var v=u.lane,E=u.eventTime;if((n&v)===v){x!==null&&(x=x.next={eventTime:E,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var S=t,b=u;switch(v=e,E=r,b.tag){case 1:if(S=b.payload,typeof S=="function"){w=S.call(E,w,v);break e}w=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=b.payload,v=typeof S=="function"?S.call(E,w,v):S,v==null)break e;w=Qt({},w,v);break e;case 2:no=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,v=s.effects,v===null?s.effects=[u]:v.push(u))}else E={eventTime:E,lane:v,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(h=x=E,f=w):x=x.next=E,l|=v;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;v=u,u=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(x===null&&(f=w),s.baseState=f,s.firstBaseUpdate=h,s.lastBaseUpdate=x,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);La|=l,t.lanes=l,t.memoizedState=w}}function aw(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(pe(191,s));s.call(n)}}}var dd={},li=Ho(dd),Lu=Ho(dd),Bu=Ho(dd);function xa(t){if(t===dd)throw Error(pe(174));return t}function Em(t,e){switch(Mt(Bu,e),Mt(Lu,t),Mt(li,dd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ap(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ap(e,t)}Lt(li),Mt(li,e)}function ac(){Lt(li),Lt(Lu),Lt(Bu)}function lb(t){xa(Bu.current);var e=xa(li.current),r=ap(e,t.type);e!==r&&(Mt(Lu,t),Mt(li,r))}function Cm(t){Lu.current===t&&(Lt(li),Lt(Lu))}var Gt=Ho(0);function Jh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var c1=[];function Sm(){for(var t=0;t<c1.length;t++)c1[t]._workInProgressVersionPrimary=null;c1.length=0}var Eh=Vi.ReactCurrentDispatcher,u1=Vi.ReactCurrentBatchConfig,ja=0,Kt=null,Cr=null,Or=null,ef=!1,gu=!1,Fu=0,iR=0;function Gr(){throw Error(pe(321))}function Am(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Us(t[r],e[r]))return!1;return!0}function Tm(t,e,r,n,s,o){if(ja=o,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Eh.current=t===null||t.memoizedState===null?cR:uR,t=r(n,s),gu){o=0;do{if(gu=!1,Fu=0,25<=o)throw Error(pe(301));o+=1,Or=Cr=null,e.updateQueue=null,Eh.current=dR,t=r(n,s)}while(gu)}if(Eh.current=tf,e=Cr!==null&&Cr.next!==null,ja=0,Or=Cr=Kt=null,ef=!1,e)throw Error(pe(300));return t}function Nm(){var t=Fu!==0;return Fu=0,t}function Qs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Or===null?Kt.memoizedState=Or=t:Or=Or.next=t,Or}function fs(){if(Cr===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=Cr.next;var e=Or===null?Kt.memoizedState:Or.next;if(e!==null)Or=e,Cr=t;else{if(t===null)throw Error(pe(310));Cr=t,t={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Or===null?Kt.memoizedState=Or=t:Or=Or.next=t}return Or}function Uu(t,e){return typeof e=="function"?e(t):e}function d1(t){var e=fs(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=Cr,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var u=l=null,f=null,h=o;do{var x=h.lane;if((ja&x)===x)f!==null&&(f=f.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var w={lane:x,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};f===null?(u=f=w,l=n):f=f.next=w,Kt.lanes|=x,La|=x}h=h.next}while(h!==null&&h!==o);f===null?l=n:f.next=u,Us(n,e.memoizedState)||(wn=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=f,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Kt.lanes|=o,La|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function h1(t){var e=fs(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);Us(o,e.memoizedState)||(wn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function cb(){}function ub(t,e){var r=Kt,n=fs(),s=e(),o=!Us(n.memoizedState,s);if(o&&(n.memoizedState=s,wn=!0),n=n.queue,Im(fb.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Or!==null&&Or.memoizedState.tag&1){if(r.flags|=2048,zu(9,hb.bind(null,r,n,s,e),void 0,null),Mr===null)throw Error(pe(349));ja&30||db(r,e,s)}return s}function db(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function hb(t,e,r,n){e.value=r,e.getSnapshot=n,pb(e)&&gb(t)}function fb(t,e,r){return r(function(){pb(e)&&gb(t)})}function pb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Us(t,r)}catch{return!0}}function gb(t){var e=Pi(t,1);e!==null&&Bs(e,t,1,-1)}function lw(t){var e=Qs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Uu,lastRenderedState:t},e.queue=t,t=t.dispatch=lR.bind(null,Kt,t),[e.memoizedState,t]}function zu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function mb(){return fs().memoizedState}function Ch(t,e,r,n){var s=Qs();Kt.flags|=t,s.memoizedState=zu(1|e,r,void 0,n===void 0?null:n)}function Vf(t,e,r,n){var s=fs();n=n===void 0?null:n;var o=void 0;if(Cr!==null){var l=Cr.memoizedState;if(o=l.destroy,n!==null&&Am(n,l.deps)){s.memoizedState=zu(e,r,o,n);return}}Kt.flags|=t,s.memoizedState=zu(1|e,r,o,n)}function cw(t,e){return Ch(8390656,8,t,e)}function Im(t,e){return Vf(2048,8,t,e)}function xb(t,e){return Vf(4,2,t,e)}function yb(t,e){return Vf(4,4,t,e)}function wb(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vb(t,e,r){return r=r!=null?r.concat([t]):null,Vf(4,4,wb.bind(null,e,t),r)}function Rm(){}function _b(t,e){var r=fs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Am(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function bb(t,e){var r=fs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Am(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Eb(t,e,r){return ja&21?(Us(r,e)||(r=N_(),Kt.lanes|=r,La|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=r)}function oR(t,e){var r=Et;Et=r!==0&&4>r?r:4,t(!0);var n=u1.transition;u1.transition={};try{t(!1),e()}finally{Et=r,u1.transition=n}}function Cb(){return fs().memoizedState}function aR(t,e,r){var n=Ao(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Sb(t))Ab(e,r);else if(r=ob(t,e,r,n),r!==null){var s=cn();Bs(r,t,n,s),Tb(r,e,n)}}function lR(t,e,r){var n=Ao(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sb(t))Ab(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,r);if(s.hasEagerState=!0,s.eagerState=u,Us(u,l)){var f=e.interleaved;f===null?(s.next=s,_m(e)):(s.next=f.next,f.next=s),e.interleaved=s;return}}catch{}finally{}r=ob(t,e,s,n),r!==null&&(s=cn(),Bs(r,t,n,s),Tb(r,e,n))}}function Sb(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function Ab(t,e){gu=ef=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Tb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,am(t,r)}}var tf={readContext:hs,useCallback:Gr,useContext:Gr,useEffect:Gr,useImperativeHandle:Gr,useInsertionEffect:Gr,useLayoutEffect:Gr,useMemo:Gr,useReducer:Gr,useRef:Gr,useState:Gr,useDebugValue:Gr,useDeferredValue:Gr,useTransition:Gr,useMutableSource:Gr,useSyncExternalStore:Gr,useId:Gr,unstable_isNewReconciler:!1},cR={readContext:hs,useCallback:function(t,e){return Qs().memoizedState=[t,e===void 0?null:e],t},useContext:hs,useEffect:cw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ch(4194308,4,wb.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ch(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ch(4,2,t,e)},useMemo:function(t,e){var r=Qs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Qs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=aR.bind(null,Kt,t),[n.memoizedState,t]},useRef:function(t){var e=Qs();return t={current:t},e.memoizedState=t},useState:lw,useDebugValue:Rm,useDeferredValue:function(t){return Qs().memoizedState=t},useTransition:function(){var t=lw(!1),e=t[0];return t=oR.bind(null,t[1]),Qs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Kt,s=Qs();if(Vt){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=e(),Mr===null)throw Error(pe(349));ja&30||db(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,cw(fb.bind(null,n,o,t),[t]),n.flags|=2048,zu(9,hb.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Qs(),e=Mr.identifierPrefix;if(Vt){var r=Ti,n=Ai;r=(n&~(1<<32-Ls(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iR++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uR={readContext:hs,useCallback:_b,useContext:hs,useEffect:Im,useImperativeHandle:vb,useInsertionEffect:xb,useLayoutEffect:yb,useMemo:bb,useReducer:d1,useRef:mb,useState:function(){return d1(Uu)},useDebugValue:Rm,useDeferredValue:function(t){var e=fs();return Eb(e,Cr.memoizedState,t)},useTransition:function(){var t=d1(Uu)[0],e=fs().memoizedState;return[t,e]},useMutableSource:cb,useSyncExternalStore:ub,useId:Cb,unstable_isNewReconciler:!1},dR={readContext:hs,useCallback:_b,useContext:hs,useEffect:Im,useImperativeHandle:vb,useInsertionEffect:xb,useLayoutEffect:yb,useMemo:bb,useReducer:h1,useRef:mb,useState:function(){return h1(Uu)},useDebugValue:Rm,useDeferredValue:function(t){var e=fs();return Cr===null?e.memoizedState=t:Eb(e,Cr.memoizedState,t)},useTransition:function(){var t=h1(Uu)[0],e=fs().memoizedState;return[t,e]},useMutableSource:cb,useSyncExternalStore:ub,useId:Cb,unstable_isNewReconciler:!1};function As(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Np(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Hf={isMounted:function(t){return(t=t._reactInternals)?Ga(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=cn(),s=Ao(t),o=Oi(n,s);o.payload=e,r!=null&&(o.callback=r),e=Co(t,o,s),e!==null&&(Bs(e,t,s,n),bh(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=cn(),s=Ao(t),o=Oi(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=Co(t,o,s),e!==null&&(Bs(e,t,s,n),bh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=cn(),n=Ao(t),s=Oi(r,n);s.tag=2,e!=null&&(s.callback=e),e=Co(t,s,n),e!==null&&(Bs(e,t,n,r),bh(e,t,n))}};function uw(t,e,r,n,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,l):e.prototype&&e.prototype.isPureReactComponent?!ku(r,n)||!ku(s,o):!0}function Nb(t,e,r){var n=!1,s=ko,o=e.contextType;return typeof o=="object"&&o!==null?o=hs(o):(s=_n(e)?Pa:Jr.current,n=e.contextTypes,o=(n=n!=null)?sc(t,s):ko),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function dw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Hf.enqueueReplaceState(e,e.state,null)}function Ip(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},bm(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=hs(o):(o=_n(e)?Pa:Jr.current,s.context=sc(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(Np(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hf.enqueueReplaceState(s,s.state,null),Zh(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function lc(t,e){try{var r="",n=e;do r+=FI(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function f1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Rp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var hR=typeof WeakMap=="function"?WeakMap:Map;function Ib(t,e,r){r=Oi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){nf||(nf=!0,Up=n),Rp(t,e)},r}function Rb(t,e,r){r=Oi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Rp(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Rp(t,e),typeof n!="function"&&(So===null?So=new Set([this]):So.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function hw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new hR;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=AR.bind(null,t,e,r),e.then(t,t))}function fw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function pw(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Oi(-1,1),e.tag=2,Co(r,e,1))),r.lanes|=1),t)}var fR=Vi.ReactCurrentOwner,wn=!1;function sn(t,e,r,n){e.child=t===null?ib(e,null,r,n):oc(e,t.child,r,n)}function gw(t,e,r,n,s){r=r.render;var o=e.ref;return Ul(e,s),n=Tm(t,e,r,n,o,s),r=Nm(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Di(t,e,s)):(Vt&&r&&gm(e),e.flags|=1,sn(t,e,n,s),e.child)}function mw(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!Bm(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,Ob(t,e,o,n,s)):(t=Nh(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:ku,r(l,n)&&t.ref===e.ref)return Di(t,e,s)}return e.flags|=1,t=To(o,n),t.ref=e.ref,t.return=e,e.child=t}function Ob(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(ku(o,n)&&t.ref===e.ref)if(wn=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,Di(t,e,s)}return Op(t,e,r,n,s)}function Mb(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Ol,Mn),Mn|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mt(Ol,Mn),Mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Mt(Ol,Mn),Mn|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Mt(Ol,Mn),Mn|=n;return sn(t,e,s,r),e.child}function kb(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Op(t,e,r,n,s){var o=_n(r)?Pa:Jr.current;return o=sc(e,o),Ul(e,s),r=Tm(t,e,r,n,o,s),n=Nm(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Di(t,e,s)):(Vt&&n&&gm(e),e.flags|=1,sn(t,e,r,s),e.child)}function xw(t,e,r,n,s){if(_n(r)){var o=!0;Yh(e)}else o=!1;if(Ul(e,s),e.stateNode===null)Sh(t,e),Nb(e,r,n),Ip(e,r,n,s),n=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var f=l.context,h=r.contextType;typeof h=="object"&&h!==null?h=hs(h):(h=_n(r)?Pa:Jr.current,h=sc(e,h));var x=r.getDerivedStateFromProps,w=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||f!==h)&&dw(e,l,n,h),no=!1;var v=e.memoizedState;l.state=v,Zh(e,n,l,s),f=e.memoizedState,u!==n||v!==f||vn.current||no?(typeof x=="function"&&(Np(e,r,x,n),f=e.memoizedState),(u=no||uw(e,r,u,n,v,f,h))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=f),l.props=n,l.state=f,l.context=h,n=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,ab(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:As(e.type,u),l.props=h,w=e.pendingProps,v=l.context,f=r.contextType,typeof f=="object"&&f!==null?f=hs(f):(f=_n(r)?Pa:Jr.current,f=sc(e,f));var E=r.getDerivedStateFromProps;(x=typeof E=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==w||v!==f)&&dw(e,l,n,f),no=!1,v=e.memoizedState,l.state=v,Zh(e,n,l,s);var S=e.memoizedState;u!==w||v!==S||vn.current||no?(typeof E=="function"&&(Np(e,r,E,n),S=e.memoizedState),(h=no||uw(e,r,h,n,v,S,f)||!1)?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,S,f),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,S,f)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=S),l.props=n,l.state=S,l.context=f,n=h):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),n=!1)}return Mp(t,e,r,n,o,s)}function Mp(t,e,r,n,s,o){kb(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&rw(e,r,!1),Di(t,e,o);n=e.stateNode,fR.current=e;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=oc(e,t.child,null,o),e.child=oc(e,null,u,o)):sn(t,e,u,o),e.memoizedState=n.state,s&&rw(e,r,!0),e.child}function Pb(t){var e=t.stateNode;e.pendingContext?tw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&tw(t,e.context,!1),Em(t,e.containerInfo)}function yw(t,e,r,n,s){return ic(),xm(s),e.flags|=256,sn(t,e,r,n),e.child}var kp={dehydrated:null,treeContext:null,retryLane:0};function Pp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Db(t,e,r){var n=e.pendingProps,s=Gt.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Mt(Gt,s&1),t===null)return Ap(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,o?(n=e.mode,o=e.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Gf(l,n,0,null),t=Na(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Pp(r),e.memoizedState=kp,t):Om(e,l));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return pR(t,e,l,n,u,s,r);if(o){o=n.fallback,l=e.mode,s=t.child,u=s.sibling;var f={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=f,e.deletions=null):(n=To(s,f),n.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=To(u,o):(o=Na(o,l,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,l=t.child.memoizedState,l=l===null?Pp(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~r,e.memoizedState=kp,n}return o=t.child,t=o.sibling,n=To(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Om(t,e){return e=Gf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Xd(t,e,r,n){return n!==null&&xm(n),oc(e,t.child,null,r),t=Om(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pR(t,e,r,n,s,o,l){if(r)return e.flags&256?(e.flags&=-257,n=f1(Error(pe(422))),Xd(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=Gf({mode:"visible",children:n.children},s,0,null),o=Na(o,s,l,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&oc(e,t.child,null,l),e.child.memoizedState=Pp(l),e.memoizedState=kp,o);if(!(e.mode&1))return Xd(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var u=n.dgst;return n=u,o=Error(pe(419)),n=f1(o,n,void 0),Xd(t,e,l,n)}if(u=(l&t.childLanes)!==0,wn||u){if(n=Mr,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Pi(t,s),Bs(n,t,s,-1))}return Lm(),n=f1(Error(pe(421))),Xd(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=TR.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Fn=Eo(s.nextSibling),zn=e,Vt=!0,Ps=null,t!==null&&(rs[ns++]=Ai,rs[ns++]=Ti,rs[ns++]=Da,Ai=t.id,Ti=t.overflow,Da=e),e=Om(e,n.children),e.flags|=4096,e)}function ww(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Tp(t.return,e,r)}function p1(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function jb(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(sn(t,e,n.children,r),n=Gt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ww(t,r,e);else if(t.tag===19)ww(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Mt(Gt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Jh(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),p1(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Jh(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}p1(e,!0,r,null,o);break;case"together":p1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Di(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),La|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,r=To(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=To(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function gR(t,e,r){switch(e.tag){case 3:Pb(e),ic();break;case 5:lb(e);break;case 1:_n(e.type)&&Yh(e);break;case 4:Em(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Mt(Kh,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Mt(Gt,Gt.current&1),e.flags|=128,null):r&e.child.childLanes?Db(t,e,r):(Mt(Gt,Gt.current&1),t=Di(t,e,r),t!==null?t.sibling:null);Mt(Gt,Gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return jb(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Mt(Gt,Gt.current),n)break;return null;case 22:case 23:return e.lanes=0,Mb(t,e,r)}return Di(t,e,r)}var Lb,Dp,Bb,Fb;Lb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Dp=function(){};Bb=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,xa(li.current);var o=null;switch(r){case"input":s=np(t,s),n=np(t,n),o=[];break;case"select":s=Qt({},s,{value:void 0}),n=Qt({},n,{value:void 0}),o=[];break;case"textarea":s=op(t,s),n=op(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=$h)}lp(r,n);var l;r=null;for(h in s)if(!n.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Au.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var f=n[h];if(u=s!=null?s[h]:void 0,n.hasOwnProperty(h)&&f!==u&&(f!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||f&&f.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in f)f.hasOwnProperty(l)&&u[l]!==f[l]&&(r||(r={}),r[l]=f[l])}else r||(o||(o=[]),o.push(h,r)),r=f;else h==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,u=u?u.__html:void 0,f!=null&&u!==f&&(o=o||[]).push(h,f)):h==="children"?typeof f!="string"&&typeof f!="number"||(o=o||[]).push(h,""+f):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Au.hasOwnProperty(h)?(f!=null&&h==="onScroll"&&Dt("scroll",t),o||u===f||(o=[])):(o=o||[]).push(h,f))}r&&(o=o||[]).push("style",r);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Fb=function(t,e,r,n){r!==n&&(e.flags|=4)};function Kc(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Yr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function mR(t,e,r){var n=e.pendingProps;switch(mm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yr(e),null;case 1:return _n(e.type)&&Gh(),Yr(e),null;case 3:return n=e.stateNode,ac(),Lt(vn),Lt(Jr),Sm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Gd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ps!==null&&(Hp(Ps),Ps=null))),Dp(t,e),Yr(e),null;case 5:Cm(e);var s=xa(Bu.current);if(r=e.type,t!==null&&e.stateNode!=null)Bb(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return Yr(e),null}if(t=xa(li.current),Gd(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[ni]=e,n[ju]=o,t=(e.mode&1)!==0,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<iu.length;s++)Dt(iu[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Ny(n,o),Dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Dt("invalid",n);break;case"textarea":Ry(n,o),Dt("invalid",n)}lp(r,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?n.textContent!==u&&(o.suppressHydrationWarning!==!0&&$d(n.textContent,u,t),s=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&$d(n.textContent,u,t),s=["children",""+u]):Au.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Dt("scroll",n)}switch(r){case"input":Ld(n),Iy(n,o,!0);break;case"textarea":Ld(n),Oy(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=$h)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=f_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[ni]=e,t[ju]=n,Lb(t,e,!1,!1),e.stateNode=t;e:{switch(l=cp(r,n),r){case"dialog":Dt("cancel",t),Dt("close",t),s=n;break;case"iframe":case"object":case"embed":Dt("load",t),s=n;break;case"video":case"audio":for(s=0;s<iu.length;s++)Dt(iu[s],t);s=n;break;case"source":Dt("error",t),s=n;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),s=n;break;case"details":Dt("toggle",t),s=n;break;case"input":Ny(t,n),s=np(t,n),Dt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Qt({},n,{value:void 0}),Dt("invalid",t);break;case"textarea":Ry(t,n),s=op(t,n),Dt("invalid",t);break;default:s=n}lp(r,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var f=u[o];o==="style"?m_(t,f):o==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&p_(t,f)):o==="children"?typeof f=="string"?(r!=="textarea"||f!=="")&&Tu(t,f):typeof f=="number"&&Tu(t,""+f):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Au.hasOwnProperty(o)?f!=null&&o==="onScroll"&&Dt("scroll",t):f!=null&&tm(t,o,f,l))}switch(r){case"input":Ld(t),Iy(t,n,!1);break;case"textarea":Ld(t),Oy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Mo(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?jl(t,!!n.multiple,o,!1):n.defaultValue!=null&&jl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=$h)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Yr(e),null;case 6:if(t&&e.stateNode!=null)Fb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(pe(166));if(r=xa(Bu.current),xa(li.current),Gd(e)){if(n=e.stateNode,r=e.memoizedProps,n[ni]=e,(o=n.nodeValue!==r)&&(t=zn,t!==null))switch(t.tag){case 3:$d(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&$d(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ni]=e,e.stateNode=n}return Yr(e),null;case 13:if(Lt(Gt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&Fn!==null&&e.mode&1&&!(e.flags&128))nb(),ic(),e.flags|=98560,o=!1;else if(o=Gd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(pe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pe(317));o[ni]=e}else ic(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Yr(e),o=!1}else Ps!==null&&(Hp(Ps),Ps=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Gt.current&1?Ar===0&&(Ar=3):Lm())),e.updateQueue!==null&&(e.flags|=4),Yr(e),null);case 4:return ac(),Dp(t,e),t===null&&Pu(e.stateNode.containerInfo),Yr(e),null;case 10:return vm(e.type._context),Yr(e),null;case 17:return _n(e.type)&&Gh(),Yr(e),null;case 19:if(Lt(Gt),o=e.memoizedState,o===null)return Yr(e),null;if(n=(e.flags&128)!==0,l=o.rendering,l===null)if(n)Kc(o,!1);else{if(Ar!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=Jh(t),l!==null){for(e.flags|=128,Kc(o,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Mt(Gt,Gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&hr()>cc&&(e.flags|=128,n=!0,Kc(o,!1),e.lanes=4194304)}else{if(!n)if(t=Jh(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Kc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Vt)return Yr(e),null}else 2*hr()-o.renderingStartTime>cc&&r!==1073741824&&(e.flags|=128,n=!0,Kc(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(r=o.last,r!==null?r.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=hr(),e.sibling=null,r=Gt.current,Mt(Gt,n?r&1|2:r&1),e):(Yr(e),null);case 22:case 23:return jm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Mn&1073741824&&(Yr(e),e.subtreeFlags&6&&(e.flags|=8192)):Yr(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function xR(t,e){switch(mm(e),e.tag){case 1:return _n(e.type)&&Gh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ac(),Lt(vn),Lt(Jr),Sm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cm(e),null;case 13:if(Lt(Gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));ic()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(Gt),null;case 4:return ac(),null;case 10:return vm(e.type._context),null;case 22:case 23:return jm(),null;case 24:return null;default:return null}}var qd=!1,Kr=!1,yR=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Rl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ir(t,e,n)}else r.current=null}function jp(t,e,r){try{r()}catch(n){ir(t,e,n)}}var vw=!1;function wR(t,e){if(wp=Vh,t=W_(),pm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,u=-1,f=-1,h=0,x=0,w=t,v=null;t:for(;;){for(var E;w!==r||s!==0&&w.nodeType!==3||(u=l+s),w!==o||n!==0&&w.nodeType!==3||(f=l+n),w.nodeType===3&&(l+=w.nodeValue.length),(E=w.firstChild)!==null;)v=w,w=E;for(;;){if(w===t)break t;if(v===r&&++h===s&&(u=l),v===o&&++x===n&&(f=l),(E=w.nextSibling)!==null)break;w=v,v=w.parentNode}w=E}r=u===-1||f===-1?null:{start:u,end:f}}else r=null}r=r||{start:0,end:0}}else r=null;for(vp={focusedElem:t,selectionRange:r},Vh=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var b=S.memoizedProps,N=S.memoizedState,R=e.stateNode,T=R.getSnapshotBeforeUpdate(e.elementType===e.type?b:As(e.type,b),N);R.__reactInternalSnapshotBeforeUpdate=T}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(M){ir(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return S=vw,vw=!1,S}function mu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&jp(e,r,o)}s=s.next}while(s!==n)}}function Wf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Lp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Ub(t){var e=t.alternate;e!==null&&(t.alternate=null,Ub(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ni],delete e[ju],delete e[Ep],delete e[tR],delete e[rR])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function zb(t){return t.tag===5||t.tag===3||t.tag===4}function _w(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||zb(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Bp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=$h));else if(n!==4&&(t=t.child,t!==null))for(Bp(t,e,r),t=t.sibling;t!==null;)Bp(t,e,r),t=t.sibling}function Fp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Fp(t,e,r),t=t.sibling;t!==null;)Fp(t,e,r),t=t.sibling}var Fr=null,Os=!1;function qi(t,e,r){for(r=r.child;r!==null;)Vb(t,e,r),r=r.sibling}function Vb(t,e,r){if(ai&&typeof ai.onCommitFiberUnmount=="function")try{ai.onCommitFiberUnmount(jf,r)}catch{}switch(r.tag){case 5:Kr||Rl(r,e);case 6:var n=Fr,s=Os;Fr=null,qi(t,e,r),Fr=n,Os=s,Fr!==null&&(Os?(t=Fr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Fr.removeChild(r.stateNode));break;case 18:Fr!==null&&(Os?(t=Fr,r=r.stateNode,t.nodeType===8?a1(t.parentNode,r):t.nodeType===1&&a1(t,r),Ou(t)):a1(Fr,r.stateNode));break;case 4:n=Fr,s=Os,Fr=r.stateNode.containerInfo,Os=!0,qi(t,e,r),Fr=n,Os=s;break;case 0:case 11:case 14:case 15:if(!Kr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&jp(r,e,l),s=s.next}while(s!==n)}qi(t,e,r);break;case 1:if(!Kr&&(Rl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){ir(r,e,u)}qi(t,e,r);break;case 21:qi(t,e,r);break;case 22:r.mode&1?(Kr=(n=Kr)||r.memoizedState!==null,qi(t,e,r),Kr=n):qi(t,e,r);break;default:qi(t,e,r)}}function bw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yR),e.forEach(function(n){var s=NR.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function _s(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Fr=u.stateNode,Os=!1;break e;case 3:Fr=u.stateNode.containerInfo,Os=!0;break e;case 4:Fr=u.stateNode.containerInfo,Os=!0;break e}u=u.return}if(Fr===null)throw Error(pe(160));Vb(o,l,s),Fr=null,Os=!1;var f=s.alternate;f!==null&&(f.return=null),s.return=null}catch(h){ir(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hb(e,t),e=e.sibling}function Hb(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(_s(e,t),Ks(t),n&4){try{mu(3,t,t.return),Wf(3,t)}catch(b){ir(t,t.return,b)}try{mu(5,t,t.return)}catch(b){ir(t,t.return,b)}}break;case 1:_s(e,t),Ks(t),n&512&&r!==null&&Rl(r,r.return);break;case 5:if(_s(e,t),Ks(t),n&512&&r!==null&&Rl(r,r.return),t.flags&32){var s=t.stateNode;try{Tu(s,"")}catch(b){ir(t,t.return,b)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=r!==null?r.memoizedProps:o,u=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&d_(s,o),cp(u,l);var h=cp(u,o);for(l=0;l<f.length;l+=2){var x=f[l],w=f[l+1];x==="style"?m_(s,w):x==="dangerouslySetInnerHTML"?p_(s,w):x==="children"?Tu(s,w):tm(s,x,w,h)}switch(u){case"input":sp(s,o);break;case"textarea":h_(s,o);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var E=o.value;E!=null?jl(s,!!o.multiple,E,!1):v!==!!o.multiple&&(o.defaultValue!=null?jl(s,!!o.multiple,o.defaultValue,!0):jl(s,!!o.multiple,o.multiple?[]:"",!1))}s[ju]=o}catch(b){ir(t,t.return,b)}}break;case 6:if(_s(e,t),Ks(t),n&4){if(t.stateNode===null)throw Error(pe(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(b){ir(t,t.return,b)}}break;case 3:if(_s(e,t),Ks(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ou(e.containerInfo)}catch(b){ir(t,t.return,b)}break;case 4:_s(e,t),Ks(t);break;case 13:_s(e,t),Ks(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Pm=hr())),n&4&&bw(t);break;case 22:if(x=r!==null&&r.memoizedState!==null,t.mode&1?(Kr=(h=Kr)||x,_s(e,t),Kr=h):_s(e,t),Ks(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!x&&t.mode&1)for(Te=t,x=t.child;x!==null;){for(w=Te=x;Te!==null;){switch(v=Te,E=v.child,v.tag){case 0:case 11:case 14:case 15:mu(4,v,v.return);break;case 1:Rl(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){n=v,r=v.return;try{e=n,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(b){ir(n,r,b)}}break;case 5:Rl(v,v.return);break;case 22:if(v.memoizedState!==null){Cw(w);continue}}E!==null?(E.return=v,Te=E):Cw(w)}x=x.sibling}e:for(x=null,w=t;;){if(w.tag===5){if(x===null){x=w;try{s=w.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=w.stateNode,f=w.memoizedProps.style,l=f!=null&&f.hasOwnProperty("display")?f.display:null,u.style.display=g_("display",l))}catch(b){ir(t,t.return,b)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(b){ir(t,t.return,b)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:_s(e,t),Ks(t),n&4&&bw(t);break;case 21:break;default:_s(e,t),Ks(t)}}function Ks(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(zb(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Tu(s,""),n.flags&=-33);var o=_w(t);Fp(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=_w(t);Bp(t,u,l);break;default:throw Error(pe(161))}}catch(f){ir(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function vR(t,e,r){Te=t,Wb(t)}function Wb(t,e,r){for(var n=(t.mode&1)!==0;Te!==null;){var s=Te,o=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||qd;if(!l){var u=s.alternate,f=u!==null&&u.memoizedState!==null||Kr;u=qd;var h=Kr;if(qd=l,(Kr=f)&&!h)for(Te=s;Te!==null;)l=Te,f=l.child,l.tag===22&&l.memoizedState!==null?Sw(s):f!==null?(f.return=l,Te=f):Sw(s);for(;o!==null;)Te=o,Wb(o),o=o.sibling;Te=s,qd=u,Kr=h}Ew(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Te=o):Ew(t)}}function Ew(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kr||Wf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Kr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:As(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&aw(e,o,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}aw(e,l,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&r.focus();break;case"img":f.src&&(r.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var x=h.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&Ou(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}Kr||e.flags&512&&Lp(e)}catch(v){ir(e,e.return,v)}}if(e===t){Te=null;break}if(r=e.sibling,r!==null){r.return=e.return,Te=r;break}Te=e.return}}function Cw(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Te=r;break}Te=e.return}}function Sw(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Wf(4,e)}catch(f){ir(e,r,f)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(f){ir(e,s,f)}}var o=e.return;try{Lp(e)}catch(f){ir(e,o,f)}break;case 5:var l=e.return;try{Lp(e)}catch(f){ir(e,l,f)}}}catch(f){ir(e,e.return,f)}if(e===t){Te=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Te=u;break}Te=e.return}}var _R=Math.ceil,rf=Vi.ReactCurrentDispatcher,Mm=Vi.ReactCurrentOwner,ds=Vi.ReactCurrentBatchConfig,pt=0,Mr=null,mr=null,Ur=0,Mn=0,Ol=Ho(0),Ar=0,Vu=null,La=0,$f=0,km=0,xu=null,yn=null,Pm=0,cc=1/0,wi=null,nf=!1,Up=null,So=null,Kd=!1,po=null,sf=0,yu=0,zp=null,Ah=-1,Th=0;function cn(){return pt&6?hr():Ah!==-1?Ah:Ah=hr()}function Ao(t){return t.mode&1?pt&2&&Ur!==0?Ur&-Ur:sR.transition!==null?(Th===0&&(Th=N_()),Th):(t=Et,t!==0||(t=window.event,t=t===void 0?16:D_(t.type)),t):1}function Bs(t,e,r,n){if(50<yu)throw yu=0,zp=null,Error(pe(185));ld(t,r,n),(!(pt&2)||t!==Mr)&&(t===Mr&&(!(pt&2)&&($f|=r),Ar===4&&io(t,Ur)),bn(t,n),r===1&&pt===0&&!(e.mode&1)&&(cc=hr()+500,zf&&Wo()))}function bn(t,e){var r=t.callbackNode;s4(t,e);var n=zh(t,t===Mr?Ur:0);if(n===0)r!==null&&Py(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Py(r),e===1)t.tag===0?nR(Aw.bind(null,t)):eb(Aw.bind(null,t)),J4(function(){!(pt&6)&&Wo()}),r=null;else{switch(I_(n)){case 1:r=om;break;case 4:r=A_;break;case 16:r=Uh;break;case 536870912:r=T_;break;default:r=Uh}r=Zb(r,$b.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function $b(t,e){if(Ah=-1,Th=0,pt&6)throw Error(pe(327));var r=t.callbackNode;if(zl()&&t.callbackNode!==r)return null;var n=zh(t,t===Mr?Ur:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=of(t,n);else{e=n;var s=pt;pt|=2;var o=Yb();(Mr!==t||Ur!==e)&&(wi=null,cc=hr()+500,Ta(t,e));do try{CR();break}catch(u){Gb(t,u)}while(!0);wm(),rf.current=o,pt=s,mr!==null?e=0:(Mr=null,Ur=0,e=Ar)}if(e!==0){if(e===2&&(s=pp(t),s!==0&&(n=s,e=Vp(t,s))),e===1)throw r=Vu,Ta(t,0),io(t,n),bn(t,hr()),r;if(e===6)io(t,n);else{if(s=t.current.alternate,!(n&30)&&!bR(s)&&(e=of(t,n),e===2&&(o=pp(t),o!==0&&(n=o,e=Vp(t,o))),e===1))throw r=Vu,Ta(t,0),io(t,n),bn(t,hr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(pe(345));case 2:ua(t,yn,wi);break;case 3:if(io(t,n),(n&130023424)===n&&(e=Pm+500-hr(),10<e)){if(zh(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){cn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=bp(ua.bind(null,t,yn,wi),e);break}ua(t,yn,wi);break;case 4:if(io(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-Ls(n);o=1<<l,l=e[l],l>s&&(s=l),n&=~o}if(n=s,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*_R(n/1960))-n,10<n){t.timeoutHandle=bp(ua.bind(null,t,yn,wi),n);break}ua(t,yn,wi);break;case 5:ua(t,yn,wi);break;default:throw Error(pe(329))}}}return bn(t,hr()),t.callbackNode===r?$b.bind(null,t):null}function Vp(t,e){var r=xu;return t.current.memoizedState.isDehydrated&&(Ta(t,e).flags|=256),t=of(t,e),t!==2&&(e=yn,yn=r,e!==null&&Hp(e)),t}function Hp(t){yn===null?yn=t:yn.push.apply(yn,t)}function bR(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!Us(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function io(t,e){for(e&=~km,e&=~$f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ls(e),n=1<<r;t[r]=-1,e&=~n}}function Aw(t){if(pt&6)throw Error(pe(327));zl();var e=zh(t,0);if(!(e&1))return bn(t,hr()),null;var r=of(t,e);if(t.tag!==0&&r===2){var n=pp(t);n!==0&&(e=n,r=Vp(t,n))}if(r===1)throw r=Vu,Ta(t,0),io(t,e),bn(t,hr()),r;if(r===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ua(t,yn,wi),bn(t,hr()),null}function Dm(t,e){var r=pt;pt|=1;try{return t(e)}finally{pt=r,pt===0&&(cc=hr()+500,zf&&Wo())}}function Ba(t){po!==null&&po.tag===0&&!(pt&6)&&zl();var e=pt;pt|=1;var r=ds.transition,n=Et;try{if(ds.transition=null,Et=1,t)return t()}finally{Et=n,ds.transition=r,pt=e,!(pt&6)&&Wo()}}function jm(){Mn=Ol.current,Lt(Ol)}function Ta(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Z4(r)),mr!==null)for(r=mr.return;r!==null;){var n=r;switch(mm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gh();break;case 3:ac(),Lt(vn),Lt(Jr),Sm();break;case 5:Cm(n);break;case 4:ac();break;case 13:Lt(Gt);break;case 19:Lt(Gt);break;case 10:vm(n.type._context);break;case 22:case 23:jm()}r=r.return}if(Mr=t,mr=t=To(t.current,null),Ur=Mn=e,Ar=0,Vu=null,km=$f=La=0,yn=xu=null,ma!==null){for(e=0;e<ma.length;e++)if(r=ma[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=s,n.next=l}r.pending=n}ma=null}return t}function Gb(t,e){do{var r=mr;try{if(wm(),Eh.current=tf,ef){for(var n=Kt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ef=!1}if(ja=0,Or=Cr=Kt=null,gu=!1,Fu=0,Mm.current=null,r===null||r.return===null){Ar=1,Vu=e,mr=null;break}e:{var o=t,l=r.return,u=r,f=e;if(e=Ur,u.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var h=f,x=u,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var v=x.alternate;v?(x.updateQueue=v.updateQueue,x.memoizedState=v.memoizedState,x.lanes=v.lanes):(x.updateQueue=null,x.memoizedState=null)}var E=fw(l);if(E!==null){E.flags&=-257,pw(E,l,u,o,e),E.mode&1&&hw(o,h,e),e=E,f=h;var S=e.updateQueue;if(S===null){var b=new Set;b.add(f),e.updateQueue=b}else S.add(f);break e}else{if(!(e&1)){hw(o,h,e),Lm();break e}f=Error(pe(426))}}else if(Vt&&u.mode&1){var N=fw(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),pw(N,l,u,o,e),xm(lc(f,u));break e}}o=f=lc(f,u),Ar!==4&&(Ar=2),xu===null?xu=[o]:xu.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var R=Ib(o,f,e);ow(o,R);break e;case 1:u=f;var T=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof T.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(So===null||!So.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=Rb(o,u,e);ow(o,M);break e}}o=o.return}while(o!==null)}qb(r)}catch(D){e=D,mr===r&&r!==null&&(mr=r=r.return);continue}break}while(!0)}function Yb(){var t=rf.current;return rf.current=tf,t===null?tf:t}function Lm(){(Ar===0||Ar===3||Ar===2)&&(Ar=4),Mr===null||!(La&268435455)&&!($f&268435455)||io(Mr,Ur)}function of(t,e){var r=pt;pt|=2;var n=Yb();(Mr!==t||Ur!==e)&&(wi=null,Ta(t,e));do try{ER();break}catch(s){Gb(t,s)}while(!0);if(wm(),pt=r,rf.current=n,mr!==null)throw Error(pe(261));return Mr=null,Ur=0,Ar}function ER(){for(;mr!==null;)Xb(mr)}function CR(){for(;mr!==null&&!qI();)Xb(mr)}function Xb(t){var e=Qb(t.alternate,t,Mn);t.memoizedProps=t.pendingProps,e===null?qb(t):mr=e,Mm.current=null}function qb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=xR(r,e),r!==null){r.flags&=32767,mr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ar=6,mr=null;return}}else if(r=mR(r,e,Mn),r!==null){mr=r;return}if(e=e.sibling,e!==null){mr=e;return}mr=e=t}while(e!==null);Ar===0&&(Ar=5)}function ua(t,e,r){var n=Et,s=ds.transition;try{ds.transition=null,Et=1,SR(t,e,r,n)}finally{ds.transition=s,Et=n}return null}function SR(t,e,r,n){do zl();while(po!==null);if(pt&6)throw Error(pe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(i4(t,o),t===Mr&&(mr=Mr=null,Ur=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Kd||(Kd=!0,Zb(Uh,function(){return zl(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=ds.transition,ds.transition=null;var l=Et;Et=1;var u=pt;pt|=4,Mm.current=null,wR(t,r),Hb(r,t),$4(vp),Vh=!!wp,vp=wp=null,t.current=r,vR(r),KI(),pt=u,Et=l,ds.transition=o}else t.current=r;if(Kd&&(Kd=!1,po=t,sf=s),o=t.pendingLanes,o===0&&(So=null),JI(r.stateNode),bn(t,hr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(nf)throw nf=!1,t=Up,Up=null,t;return sf&1&&t.tag!==0&&zl(),o=t.pendingLanes,o&1?t===zp?yu++:(yu=0,zp=t):yu=0,Wo(),null}function zl(){if(po!==null){var t=I_(sf),e=ds.transition,r=Et;try{if(ds.transition=null,Et=16>t?16:t,po===null)var n=!1;else{if(t=po,po=null,sf=0,pt&6)throw Error(pe(331));var s=pt;for(pt|=4,Te=t.current;Te!==null;){var o=Te,l=o.child;if(Te.flags&16){var u=o.deletions;if(u!==null){for(var f=0;f<u.length;f++){var h=u[f];for(Te=h;Te!==null;){var x=Te;switch(x.tag){case 0:case 11:case 15:mu(8,x,o)}var w=x.child;if(w!==null)w.return=x,Te=w;else for(;Te!==null;){x=Te;var v=x.sibling,E=x.return;if(Ub(x),x===h){Te=null;break}if(v!==null){v.return=E,Te=v;break}Te=E}}}var S=o.alternate;if(S!==null){var b=S.child;if(b!==null){S.child=null;do{var N=b.sibling;b.sibling=null,b=N}while(b!==null)}}Te=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Te=l;else e:for(;Te!==null;){if(o=Te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:mu(9,o,o.return)}var R=o.sibling;if(R!==null){R.return=o.return,Te=R;break e}Te=o.return}}var T=t.current;for(Te=T;Te!==null;){l=Te;var A=l.child;if(l.subtreeFlags&2064&&A!==null)A.return=l,Te=A;else e:for(l=T;Te!==null;){if(u=Te,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Wf(9,u)}}catch(D){ir(u,u.return,D)}if(u===l){Te=null;break e}var M=u.sibling;if(M!==null){M.return=u.return,Te=M;break e}Te=u.return}}if(pt=s,Wo(),ai&&typeof ai.onPostCommitFiberRoot=="function")try{ai.onPostCommitFiberRoot(jf,t)}catch{}n=!0}return n}finally{Et=r,ds.transition=e}}return!1}function Tw(t,e,r){e=lc(r,e),e=Ib(t,e,1),t=Co(t,e,1),e=cn(),t!==null&&(ld(t,1,e),bn(t,e))}function ir(t,e,r){if(t.tag===3)Tw(t,t,r);else for(;e!==null;){if(e.tag===3){Tw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(So===null||!So.has(n))){t=lc(r,t),t=Rb(e,t,1),e=Co(e,t,1),t=cn(),e!==null&&(ld(e,1,t),bn(e,t));break}}e=e.return}}function AR(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&r,Mr===t&&(Ur&r)===r&&(Ar===4||Ar===3&&(Ur&130023424)===Ur&&500>hr()-Pm?Ta(t,0):km|=r),bn(t,e)}function Kb(t,e){e===0&&(t.mode&1?(e=Ud,Ud<<=1,!(Ud&130023424)&&(Ud=4194304)):e=1);var r=cn();t=Pi(t,e),t!==null&&(ld(t,e,r),bn(t,r))}function TR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Kb(t,r)}function NR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(e),Kb(t,r)}var Qb;Qb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||vn.current)wn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return wn=!1,gR(t,e,r);wn=!!(t.flags&131072)}else wn=!1,Vt&&e.flags&1048576&&tb(e,qh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Sh(t,e),t=e.pendingProps;var s=sc(e,Jr.current);Ul(e,r),s=Tm(null,e,n,t,s,r);var o=Nm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_n(n)?(o=!0,Yh(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,bm(e),s.updater=Hf,e.stateNode=s,s._reactInternals=e,Ip(e,n,t,r),e=Mp(null,e,n,!0,o,r)):(e.tag=0,Vt&&o&&gm(e),sn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Sh(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=RR(n),t=As(n,t),s){case 0:e=Op(null,e,n,t,r);break e;case 1:e=xw(null,e,n,t,r);break e;case 11:e=gw(null,e,n,t,r);break e;case 14:e=mw(null,e,n,As(n.type,t),r);break e}throw Error(pe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:As(n,s),Op(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:As(n,s),xw(t,e,n,s,r);case 3:e:{if(Pb(e),t===null)throw Error(pe(387));n=e.pendingProps,o=e.memoizedState,s=o.element,ab(t,e),Zh(e,n,null,r);var l=e.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=lc(Error(pe(423)),e),e=yw(t,e,n,r,s);break e}else if(n!==s){s=lc(Error(pe(424)),e),e=yw(t,e,n,r,s);break e}else for(Fn=Eo(e.stateNode.containerInfo.firstChild),zn=e,Vt=!0,Ps=null,r=ib(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ic(),n===s){e=Di(t,e,r);break e}sn(t,e,n,r)}e=e.child}return e;case 5:return lb(e),t===null&&Ap(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,_p(n,s)?l=null:o!==null&&_p(n,o)&&(e.flags|=32),kb(t,e),sn(t,e,l,r),e.child;case 6:return t===null&&Ap(e),null;case 13:return Db(t,e,r);case 4:return Em(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=oc(e,null,n,r):sn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:As(n,s),gw(t,e,n,s,r);case 7:return sn(t,e,e.pendingProps,r),e.child;case 8:return sn(t,e,e.pendingProps.children,r),e.child;case 12:return sn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,Mt(Kh,n._currentValue),n._currentValue=l,o!==null)if(Us(o.value,l)){if(o.children===s.children&&!vn.current){e=Di(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var f=u.firstContext;f!==null;){if(f.context===n){if(o.tag===1){f=Oi(-1,r&-r),f.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var x=h.pending;x===null?f.next=f:(f.next=x.next,x.next=f),h.pending=f}}o.lanes|=r,f=o.alternate,f!==null&&(f.lanes|=r),Tp(o.return,r,e),u.lanes|=r;break}f=f.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(pe(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),Tp(l,r,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}sn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Ul(e,r),s=hs(s),n=n(s),e.flags|=1,sn(t,e,n,r),e.child;case 14:return n=e.type,s=As(n,e.pendingProps),s=As(n.type,s),mw(t,e,n,s,r);case 15:return Ob(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:As(n,s),Sh(t,e),e.tag=1,_n(n)?(t=!0,Yh(e)):t=!1,Ul(e,r),Nb(e,n,s),Ip(e,n,s,r),Mp(null,e,n,!0,t,r);case 19:return jb(t,e,r);case 22:return Mb(t,e,r)}throw Error(pe(156,e.tag))};function Zb(t,e){return S_(t,e)}function IR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function as(t,e,r,n){return new IR(t,e,r,n)}function Bm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function RR(t){if(typeof t=="function")return Bm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nm)return 11;if(t===sm)return 14}return 2}function To(t,e){var r=t.alternate;return r===null?(r=as(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nh(t,e,r,n,s,o){var l=2;if(n=t,typeof t=="function")Bm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case _l:return Na(r.children,s,o,e);case rm:l=8,s|=8;break;case J1:return t=as(12,r,e,s|2),t.elementType=J1,t.lanes=o,t;case ep:return t=as(13,r,e,s),t.elementType=ep,t.lanes=o,t;case tp:return t=as(19,r,e,s),t.elementType=tp,t.lanes=o,t;case l_:return Gf(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case o_:l=10;break e;case a_:l=9;break e;case nm:l=11;break e;case sm:l=14;break e;case ro:l=16,n=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=as(l,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function Na(t,e,r,n){return t=as(7,t,n,e),t.lanes=r,t}function Gf(t,e,r,n){return t=as(22,t,n,e),t.elementType=l_,t.lanes=r,t.stateNode={isHidden:!1},t}function g1(t,e,r){return t=as(6,t,null,e),t.lanes=r,t}function m1(t,e,r){return e=as(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OR(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=K0(0),this.expirationTimes=K0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=K0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Fm(t,e,r,n,s,o,l,u,f){return t=new OR(t,e,r,u,f),e===1?(e=1,o===!0&&(e|=8)):e=0,o=as(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},bm(o),t}function MR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Jb(t){if(!t)return ko;t=t._reactInternals;e:{if(Ga(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_n(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var r=t.type;if(_n(r))return J_(t,r,e)}return e}function eE(t,e,r,n,s,o,l,u,f){return t=Fm(r,n,!0,t,s,o,l,u,f),t.context=Jb(null),r=t.current,n=cn(),s=Ao(r),o=Oi(n,s),o.callback=e??null,Co(r,o,s),t.current.lanes=s,ld(t,s,n),bn(t,n),t}function Yf(t,e,r,n){var s=e.current,o=cn(),l=Ao(s);return r=Jb(r),e.context===null?e.context=r:e.pendingContext=r,e=Oi(o,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Co(s,e,l),t!==null&&(Bs(t,s,l,o),bh(t,s,l)),l}function af(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Nw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Um(t,e){Nw(t,e),(t=t.alternate)&&Nw(t,e)}function kR(){return null}var tE=typeof reportError=="function"?reportError:function(t){console.error(t)};function zm(t){this._internalRoot=t}Xf.prototype.render=zm.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));Yf(t,e,null,null)};Xf.prototype.unmount=zm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ba(function(){Yf(null,t,null,null)}),e[ki]=null}};function Xf(t){this._internalRoot=t}Xf.prototype.unstable_scheduleHydration=function(t){if(t){var e=M_();t={blockedOn:null,target:t,priority:e};for(var r=0;r<so.length&&e!==0&&e<so[r].priority;r++);so.splice(r,0,t),r===0&&P_(t)}};function Vm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iw(){}function PR(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var h=af(l);o.call(h)}}var l=eE(e,n,t,0,null,!1,!1,"",Iw);return t._reactRootContainer=l,t[ki]=l.current,Pu(t.nodeType===8?t.parentNode:t),Ba(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var u=n;n=function(){var h=af(f);u.call(h)}}var f=Fm(t,0,!1,null,null,!1,!1,"",Iw);return t._reactRootContainer=f,t[ki]=f.current,Pu(t.nodeType===8?t.parentNode:t),Ba(function(){Yf(e,f,r,n)}),f}function Kf(t,e,r,n,s){var o=r._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var u=s;s=function(){var f=af(l);u.call(f)}}Yf(e,l,t,s)}else l=PR(r,e,t,s,n);return af(l)}R_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=su(e.pendingLanes);r!==0&&(am(e,r|1),bn(e,hr()),!(pt&6)&&(cc=hr()+500,Wo()))}break;case 13:Ba(function(){var n=Pi(t,1);if(n!==null){var s=cn();Bs(n,t,1,s)}}),Um(t,1)}};lm=function(t){if(t.tag===13){var e=Pi(t,134217728);if(e!==null){var r=cn();Bs(e,t,134217728,r)}Um(t,134217728)}};O_=function(t){if(t.tag===13){var e=Ao(t),r=Pi(t,e);if(r!==null){var n=cn();Bs(r,t,e,n)}Um(t,e)}};M_=function(){return Et};k_=function(t,e){var r=Et;try{return Et=t,e()}finally{Et=r}};dp=function(t,e,r){switch(e){case"input":if(sp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Uf(n);if(!s)throw Error(pe(90));u_(n),sp(n,s)}}}break;case"textarea":h_(t,r);break;case"select":e=r.value,e!=null&&jl(t,!!r.multiple,e,!1)}};w_=Dm;v_=Ba;var DR={usingClientEntryPoint:!1,Events:[ud,Sl,Uf,x_,y_,Dm]},Qc={findFiberByHostInstance:ga,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},jR={bundleType:Qc.bundleType,version:Qc.version,rendererPackageName:Qc.rendererPackageName,rendererConfig:Qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=E_(t),t===null?null:t.stateNode},findFiberByHostInstance:Qc.findFiberByHostInstance||kR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qd.isDisabled&&Qd.supportsFiber)try{jf=Qd.inject(jR),ai=Qd}catch{}}Yn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DR;Yn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vm(e))throw Error(pe(200));return MR(t,e,null,r)};Yn.createRoot=function(t,e){if(!Vm(t))throw Error(pe(299));var r=!1,n="",s=tE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Fm(t,1,!1,null,null,r,!1,n,s),t[ki]=e.current,Pu(t.nodeType===8?t.parentNode:t),new zm(e)};Yn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=E_(e),t=t===null?null:t.stateNode,t};Yn.flushSync=function(t){return Ba(t)};Yn.hydrate=function(t,e,r){if(!qf(e))throw Error(pe(200));return Kf(null,t,e,!0,r)};Yn.hydrateRoot=function(t,e,r){if(!Vm(t))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",l=tE;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=eE(e,null,t,1,r??null,s,!1,o,l),t[ki]=e.current,Pu(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Xf(e)};Yn.render=function(t,e,r){if(!qf(e))throw Error(pe(200));return Kf(null,t,e,!1,r)};Yn.unmountComponentAtNode=function(t){if(!qf(t))throw Error(pe(40));return t._reactRootContainer?(Ba(function(){Kf(null,null,t,!1,function(){t._reactRootContainer=null,t[ki]=null})}),!0):!1};Yn.unstable_batchedUpdates=Dm;Yn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qf(r))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Kf(t,e,r,!1,n)};Yn.version="18.3.1-next-f1338f8080-20240426";function rE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rE)}catch(t){console.error(t)}}rE(),r_.exports=Yn;var Ya=r_.exports;const nE=Yg(Ya);var sE,Rw=Ya;sE=Rw.createRoot,Rw.hydrateRoot;const LR=1,BR=1e6;let x1=0;function FR(){return x1=(x1+1)%Number.MAX_SAFE_INTEGER,x1.toString()}const y1=new Map,Ow=t=>{if(y1.has(t))return;const e=setTimeout(()=>{y1.delete(t),wu({type:"REMOVE_TOAST",toastId:t})},BR);y1.set(t,e)},UR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,LR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?Ow(r):t.toasts.forEach(n=>{Ow(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Ih=[];let Rh={toasts:[]};function wu(t){Rh=UR(Rh,t),Ih.forEach(e=>{e(Rh)})}function zR({...t}){const e=FR(),r=s=>wu({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>wu({type:"DISMISS_TOAST",toastId:e});return wu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function VR(){const[t,e]=I.useState(Rh);return I.useEffect(()=>(Ih.push(e),()=>{const r=Ih.indexOf(e);r>-1&&Ih.splice(r,1)}),[t]),{...t,toast:zR,dismiss:r=>wu({type:"DISMISS_TOAST",toastId:r})}}function Ie(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Mw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function iE(...t){return e=>{let r=!1;const n=t.map(s=>{const o=Mw(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():Mw(t[s],null)}}}}function st(...t){return I.useCallback(iE(...t),t)}function HR(t,e){const r=I.createContext(e),n=o=>{const{children:l,...u}=o,f=I.useMemo(()=>u,Object.values(u));return m.jsx(r.Provider,{value:f,children:l})};n.displayName=t+"Provider";function s(o){const l=I.useContext(r);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function ps(t,e=[]){let r=[];function n(o,l){const u=I.createContext(l),f=r.length;r=[...r,l];const h=w=>{var R;const{scope:v,children:E,...S}=w,b=((R=v==null?void 0:v[t])==null?void 0:R[f])||u,N=I.useMemo(()=>S,Object.values(S));return m.jsx(b.Provider,{value:N,children:E})};h.displayName=o+"Provider";function x(w,v){var b;const E=((b=v==null?void 0:v[t])==null?void 0:b[f])||u,S=I.useContext(E);if(S)return S;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${o}\``)}return[h,x]}const s=()=>{const o=r.map(l=>I.createContext(l));return function(u){const f=(u==null?void 0:u[t])||o;return I.useMemo(()=>({[`__scope${t}`]:{...u,[t]:f}}),[u,f])}};return s.scopeName=t,[n,WR(s,...e)]}function WR(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=n.reduce((u,{useScope:f,scopeName:h})=>{const w=f(o)[`__scope${h}`];return{...u,...w}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return r.scopeName=e.scopeName,r}function uc(t){const e=GR(t),r=I.forwardRef((n,s)=>{const{children:o,...l}=n,u=I.Children.toArray(o),f=u.find(XR);if(f){const h=f.props.children,x=u.map(w=>w===f?I.Children.count(h)>1?I.Children.only(null):I.isValidElement(h)?h.props.children:null:w);return m.jsx(e,{...l,ref:s,children:I.isValidElement(h)?I.cloneElement(h,void 0,x):null})}return m.jsx(e,{...l,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var $R=uc("Slot");function GR(t){const e=I.forwardRef((r,n)=>{const{children:s,...o}=r;if(I.isValidElement(s)){const l=KR(s),u=qR(o,s.props);return s.type!==I.Fragment&&(u.ref=n?iE(n,l):l),I.cloneElement(s,u)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var oE=Symbol("radix.slottable");function YR(t){const e=({children:r})=>m.jsx(m.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=oE,e}function XR(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oE}function qR(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...u)=>{const f=o(...u);return s(...u),f}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function KR(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Hm(t){const e=t+"CollectionProvider",[r,n]=ps(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),l=b=>{const{scope:N,children:R}=b,T=ue.useRef(null),A=ue.useRef(new Map).current;return m.jsx(s,{scope:N,itemMap:A,collectionRef:T,children:R})};l.displayName=e;const u=t+"CollectionSlot",f=uc(u),h=ue.forwardRef((b,N)=>{const{scope:R,children:T}=b,A=o(u,R),M=st(N,A.collectionRef);return m.jsx(f,{ref:M,children:T})});h.displayName=u;const x=t+"CollectionItemSlot",w="data-radix-collection-item",v=uc(x),E=ue.forwardRef((b,N)=>{const{scope:R,children:T,...A}=b,M=ue.useRef(null),D=st(N,M),F=o(x,R);return ue.useEffect(()=>(F.itemMap.set(M,{ref:M,...A}),()=>void F.itemMap.delete(M))),m.jsx(v,{[w]:"",ref:D,children:T})});E.displayName=x;function S(b){const N=o(t+"CollectionConsumer",b);return ue.useCallback(()=>{const T=N.collectionRef.current;if(!T)return[];const A=Array.from(T.querySelectorAll(`[${w}]`));return Array.from(N.itemMap.values()).sort((F,L)=>A.indexOf(F.ref.current)-A.indexOf(L.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:h,ItemSlot:E},S,n]}var QR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=QR.reduce((t,e)=>{const r=uc(`Primitive.${e}`),n=I.forwardRef((s,o)=>{const{asChild:l,...u}=s,f=l?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(f,{...u,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function aE(t,e){t&&Ya.flushSync(()=>t.dispatchEvent(e))}function Sr(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function ZR(t,e=globalThis==null?void 0:globalThis.document){const r=Sr(t);I.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var JR="DismissableLayer",Wp="dismissableLayer.update",eO="dismissableLayer.pointerDownOutside",tO="dismissableLayer.focusOutside",kw,lE=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),hd=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...f}=t,h=I.useContext(lE),[x,w]=I.useState(null),v=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,E]=I.useState({}),S=st(e,L=>w(L)),b=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=b.indexOf(N),T=x?b.indexOf(x):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,M=T>=R,D=nO(L=>{const U=L.target,B=[...h.branches].some(K=>K.contains(U));!M||B||(s==null||s(L),l==null||l(L),L.defaultPrevented||u==null||u())},v),F=sO(L=>{const U=L.target;[...h.branches].some(K=>K.contains(U))||(o==null||o(L),l==null||l(L),L.defaultPrevented||u==null||u())},v);return ZR(L=>{T===h.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&u&&(L.preventDefault(),u()))},v),I.useEffect(()=>{if(x)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(kw=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(x)),h.layers.add(x),Pw(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=kw)}},[x,v,r,h]),I.useEffect(()=>()=>{x&&(h.layers.delete(x),h.layersWithOutsidePointerEventsDisabled.delete(x),Pw())},[x,h]),I.useEffect(()=>{const L=()=>E({});return document.addEventListener(Wp,L),()=>document.removeEventListener(Wp,L)},[]),m.jsx(Fe.div,{...f,ref:S,style:{pointerEvents:A?M?"auto":"none":void 0,...t.style},onFocusCapture:Ie(t.onFocusCapture,F.onFocusCapture),onBlurCapture:Ie(t.onBlurCapture,F.onBlurCapture),onPointerDownCapture:Ie(t.onPointerDownCapture,D.onPointerDownCapture)})});hd.displayName=JR;var rO="DismissableLayerBranch",cE=I.forwardRef((t,e)=>{const r=I.useContext(lE),n=I.useRef(null),s=st(e,n);return I.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),m.jsx(Fe.div,{...t,ref:s})});cE.displayName=rO;function nO(t,e=globalThis==null?void 0:globalThis.document){const r=Sr(t),n=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let f=function(){uE(eO,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function sO(t,e=globalThis==null?void 0:globalThis.document){const r=Sr(t),n=I.useRef(!1);return I.useEffect(()=>{const s=o=>{o.target&&!n.current&&uE(tO,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Pw(){const t=new CustomEvent(Wp);document.dispatchEvent(t)}function uE(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?aE(s,o):s.dispatchEvent(o)}var iO=hd,oO=cE,kr=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},aO="Portal",Qf=I.forwardRef((t,e)=>{var u;const{container:r,...n}=t,[s,o]=I.useState(!1);kr(()=>o(!0),[]);const l=r||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?nE.createPortal(m.jsx(Fe.div,{...n,ref:e}),l):null});Qf.displayName=aO;function lO(t,e){return I.useReducer((r,n)=>e[r][n]??r,t)}var gs=t=>{const{present:e,children:r}=t,n=cO(e),s=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),o=st(n.ref,uO(s));return typeof r=="function"||n.isPresent?I.cloneElement(s,{ref:o}):null};gs.displayName="Presence";function cO(t){const[e,r]=I.useState(),n=I.useRef(null),s=I.useRef(t),o=I.useRef("none"),l=t?"mounted":"unmounted",[u,f]=lO(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const h=Zd(n.current);o.current=u==="mounted"?h:"none"},[u]),kr(()=>{const h=n.current,x=s.current;if(x!==t){const v=o.current,E=Zd(h);t?f("MOUNT"):E==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(x&&v!==E?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,f]),kr(()=>{if(e){let h;const x=e.ownerDocument.defaultView??window,w=E=>{const b=Zd(n.current).includes(E.animationName);if(E.target===e&&b&&(f("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",h=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},v=E=>{E.target===e&&(o.current=Zd(n.current))};return e.addEventListener("animationstart",v),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{x.clearTimeout(h),e.removeEventListener("animationstart",v),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:I.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Zd(t){return(t==null?void 0:t.animationName)||"none"}function uO(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var dO=Zg[" useInsertionEffect ".trim().toString()]||kr;function Po({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,l]=hO({defaultProp:e,onChange:r}),u=t!==void 0,f=u?t:s;{const x=I.useRef(t!==void 0);I.useEffect(()=>{const w=x.current;w!==u&&console.warn(`${n} is changing from ${w?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=u},[u,n])}const h=I.useCallback(x=>{var w;if(u){const v=fO(x)?x(t):x;v!==t&&((w=l.current)==null||w.call(l,v))}else o(x)},[u,t,o,l]);return[f,h]}function hO({defaultProp:t,onChange:e}){const[r,n]=I.useState(t),s=I.useRef(r),o=I.useRef(e);return dO(()=>{o.current=e},[e]),I.useEffect(()=>{var l;s.current!==r&&((l=o.current)==null||l.call(o,r),s.current=r)},[r,s]),[r,n,o]}function fO(t){return typeof t=="function"}var dE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),pO="VisuallyHidden",Zf=I.forwardRef((t,e)=>m.jsx(Fe.span,{...t,ref:e,style:{...dE,...t.style}}));Zf.displayName=pO;var gO=Zf,Wm="ToastProvider",[$m,mO,xO]=Hm("Toast"),[hE,aF]=ps("Toast",[xO]),[yO,Jf]=hE(Wm),fE=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=t,[u,f]=I.useState(null),[h,x]=I.useState(0),w=I.useRef(!1),v=I.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${Wm}\`. Expected non-empty \`string\`.`),m.jsx($m.Provider,{scope:e,children:m.jsx(yO,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:u,onViewportChange:f,onToastAdd:I.useCallback(()=>x(E=>E+1),[]),onToastRemove:I.useCallback(()=>x(E=>E-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:v,children:l})})};fE.displayName=Wm;var pE="ToastViewport",wO=["F8"],$p="toast.viewportPause",Gp="toast.viewportResume",gE=I.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=wO,label:s="Notifications ({hotkey})",...o}=t,l=Jf(pE,r),u=mO(r),f=I.useRef(null),h=I.useRef(null),x=I.useRef(null),w=I.useRef(null),v=st(e,w,l.onViewportChange),E=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),S=l.toastCount>0;I.useEffect(()=>{const N=R=>{var A;n.length!==0&&n.every(M=>R[M]||R.code===M)&&((A=w.current)==null||A.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),I.useEffect(()=>{const N=f.current,R=w.current;if(S&&N&&R){const T=()=>{if(!l.isClosePausedRef.current){const F=new CustomEvent($p);R.dispatchEvent(F),l.isClosePausedRef.current=!0}},A=()=>{if(l.isClosePausedRef.current){const F=new CustomEvent(Gp);R.dispatchEvent(F),l.isClosePausedRef.current=!1}},M=F=>{!N.contains(F.relatedTarget)&&A()},D=()=>{N.contains(document.activeElement)||A()};return N.addEventListener("focusin",T),N.addEventListener("focusout",M),N.addEventListener("pointermove",T),N.addEventListener("pointerleave",D),window.addEventListener("blur",T),window.addEventListener("focus",A),()=>{N.removeEventListener("focusin",T),N.removeEventListener("focusout",M),N.removeEventListener("pointermove",T),N.removeEventListener("pointerleave",D),window.removeEventListener("blur",T),window.removeEventListener("focus",A)}}},[S,l.isClosePausedRef]);const b=I.useCallback(({tabbingDirection:N})=>{const T=u().map(A=>{const M=A.ref.current,D=[M,...MO(M)];return N==="forwards"?D:D.reverse()});return(N==="forwards"?T.reverse():T).flat()},[u]);return I.useEffect(()=>{const N=w.current;if(N){const R=T=>{var D,F,L;const A=T.altKey||T.ctrlKey||T.metaKey;if(T.key==="Tab"&&!A){const U=document.activeElement,B=T.shiftKey;if(T.target===N&&B){(D=h.current)==null||D.focus();return}const Q=b({tabbingDirection:B?"backwards":"forwards"}),se=Q.findIndex(G=>G===U);w1(Q.slice(se+1))?T.preventDefault():B?(F=h.current)==null||F.focus():(L=x.current)==null||L.focus()}};return N.addEventListener("keydown",R),()=>N.removeEventListener("keydown",R)}},[u,b]),m.jsxs(oO,{ref:f,role:"region","aria-label":s.replace("{hotkey}",E),tabIndex:-1,style:{pointerEvents:S?void 0:"none"},children:[S&&m.jsx(Yp,{ref:h,onFocusFromOutsideViewport:()=>{const N=b({tabbingDirection:"forwards"});w1(N)}}),m.jsx($m.Slot,{scope:r,children:m.jsx(Fe.ol,{tabIndex:-1,...o,ref:v})}),S&&m.jsx(Yp,{ref:x,onFocusFromOutsideViewport:()=>{const N=b({tabbingDirection:"backwards"});w1(N)}})]})});gE.displayName=pE;var mE="ToastFocusProxy",Yp=I.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=Jf(mE,r);return m.jsx(Zf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const u=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(u))&&n()}})});Yp.displayName=mE;var fd="Toast",vO="toast.swipeStart",_O="toast.swipeMove",bO="toast.swipeCancel",EO="toast.swipeEnd",xE=I.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...l}=t,[u,f]=Po({prop:n,defaultProp:s??!0,onChange:o,caller:fd});return m.jsx(gs,{present:r||u,children:m.jsx(AO,{open:u,...l,ref:e,onClose:()=>f(!1),onPause:Sr(t.onPause),onResume:Sr(t.onResume),onSwipeStart:Ie(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Ie(t.onSwipeMove,h=>{const{x,y:w}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Ie(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Ie(t.onSwipeEnd,h=>{const{x,y:w}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),f(!1)})})})});xE.displayName=fd;var[CO,SO]=hE(fd,{onClose(){}}),AO=I.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:u,onPause:f,onResume:h,onSwipeStart:x,onSwipeMove:w,onSwipeCancel:v,onSwipeEnd:E,...S}=t,b=Jf(fd,r),[N,R]=I.useState(null),T=st(e,G=>R(G)),A=I.useRef(null),M=I.useRef(null),D=s||b.duration,F=I.useRef(0),L=I.useRef(D),U=I.useRef(0),{onToastAdd:B,onToastRemove:K}=b,ee=Sr(()=>{var H;(N==null?void 0:N.contains(document.activeElement))&&((H=b.viewport)==null||H.focus()),l()}),Q=I.useCallback(G=>{!G||G===1/0||(window.clearTimeout(U.current),F.current=new Date().getTime(),U.current=window.setTimeout(ee,G))},[ee]);I.useEffect(()=>{const G=b.viewport;if(G){const H=()=>{Q(L.current),h==null||h()},ne=()=>{const X=new Date().getTime()-F.current;L.current=L.current-X,window.clearTimeout(U.current),f==null||f()};return G.addEventListener($p,ne),G.addEventListener(Gp,H),()=>{G.removeEventListener($p,ne),G.removeEventListener(Gp,H)}}},[b.viewport,D,f,h,Q]),I.useEffect(()=>{o&&!b.isClosePausedRef.current&&Q(D)},[o,D,b.isClosePausedRef,Q]),I.useEffect(()=>(B(),()=>K()),[B,K]);const se=I.useMemo(()=>N?CE(N):null,[N]);return b.viewport?m.jsxs(m.Fragment,{children:[se&&m.jsx(TO,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:se}),m.jsx(CO,{scope:r,onClose:ee,children:Ya.createPortal(m.jsx($m.ItemSlot,{scope:r,children:m.jsx(iO,{asChild:!0,onEscapeKeyDown:Ie(u,()=>{b.isFocusedToastEscapeKeyDownRef.current||ee(),b.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":b.swipeDirection,...S,ref:T,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Ie(t.onKeyDown,G=>{G.key==="Escape"&&(u==null||u(G.nativeEvent),G.nativeEvent.defaultPrevented||(b.isFocusedToastEscapeKeyDownRef.current=!0,ee()))}),onPointerDown:Ie(t.onPointerDown,G=>{G.button===0&&(A.current={x:G.clientX,y:G.clientY})}),onPointerMove:Ie(t.onPointerMove,G=>{if(!A.current)return;const H=G.clientX-A.current.x,ne=G.clientY-A.current.y,X=!!M.current,Y=["left","right"].includes(b.swipeDirection),J=["left","up"].includes(b.swipeDirection)?Math.min:Math.max,oe=Y?J(0,H):0,Ee=Y?0:J(0,ne),de=G.pointerType==="touch"?10:2,ae={x:oe,y:Ee},fe={originalEvent:G,delta:ae};X?(M.current=ae,Jd(_O,w,fe,{discrete:!1})):Dw(ae,b.swipeDirection,de)?(M.current=ae,Jd(vO,x,fe,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(H)>de||Math.abs(ne)>de)&&(A.current=null)}),onPointerUp:Ie(t.onPointerUp,G=>{const H=M.current,ne=G.target;if(ne.hasPointerCapture(G.pointerId)&&ne.releasePointerCapture(G.pointerId),M.current=null,A.current=null,H){const X=G.currentTarget,Y={originalEvent:G,delta:H};Dw(H,b.swipeDirection,b.swipeThreshold)?Jd(EO,E,Y,{discrete:!0}):Jd(bO,v,Y,{discrete:!0}),X.addEventListener("click",J=>J.preventDefault(),{once:!0})}})})})}),b.viewport)})]}):null}),TO=t=>{const{__scopeToast:e,children:r,...n}=t,s=Jf(fd,e),[o,l]=I.useState(!1),[u,f]=I.useState(!1);return RO(()=>l(!0)),I.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:m.jsx(Qf,{asChild:!0,children:m.jsx(Zf,{...n,children:o&&m.jsxs(m.Fragment,{children:[s.label," ",r]})})})},NO="ToastTitle",yE=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(Fe.div,{...n,ref:e})});yE.displayName=NO;var IO="ToastDescription",wE=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(Fe.div,{...n,ref:e})});wE.displayName=IO;var vE="ToastAction",_E=I.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?m.jsx(EE,{altText:r,asChild:!0,children:m.jsx(Gm,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${vE}\`. Expected non-empty \`string\`.`),null)});_E.displayName=vE;var bE="ToastClose",Gm=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=SO(bE,r);return m.jsx(EE,{asChild:!0,children:m.jsx(Fe.button,{type:"button",...n,ref:e,onClick:Ie(t.onClick,s.onClose)})})});Gm.displayName=bE;var EE=I.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return m.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function CE(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),OO(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=n.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...CE(n))}}),e}function Jd(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?aE(s,o):s.dispatchEvent(o)}var Dw=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function RO(t=()=>{}){const e=Sr(t);kr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function OO(t){return t.nodeType===t.ELEMENT_NODE}function MO(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function w1(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var kO=fE,SE=gE,AE=xE,TE=yE,NE=wE,IE=_E,RE=Gm;function OE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=OE(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function ME(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=OE(t))&&(n&&(n+=" "),n+=e);return n}const jw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Lw=ME,e0=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Lw(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const x=r==null?void 0:r[h],w=o==null?void 0:o[h];if(x===null)return null;const v=jw(x)||jw(w);return s[h][v]}),u=r&&Object.entries(r).reduce((h,x)=>{let[w,v]=x;return v===void 0||(h[w]=v),h},{}),f=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,x)=>{let{class:w,className:v,...E}=x;return Object.entries(E).every(S=>{let[b,N]=S;return Array.isArray(N)?N.includes({...o,...u}[b]):{...o,...u}[b]===N})?[...h,w,v]:h},[]);return Lw(t,l,f,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),kE=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var DO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...u},f)=>I.createElement("svg",{ref:f,...DO,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:kE("lucide",s),...u},[...l.map(([h,x])=>I.createElement(h,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const r=I.forwardRef(({className:n,...s},o)=>I.createElement(jO,{ref:o,iconNode:e,className:kE(`lucide-${PO(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=rt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=rt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BO=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=rt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UO=rt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=rt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ym=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=rt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HO=rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jE=rt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ac=rt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t0=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LE=rt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=rt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BE=rt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ia=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=rt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=rt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=rt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uw=rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cf=rt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=rt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=rt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=rt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xm=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qm=rt("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KO=rt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Km="-",QO=t=>{const e=JO(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const u=l.split(Km);return u[0]===""&&u.length!==1&&u.shift(),HE(u,e)||ZO(l)},getConflictingClassGroupIds:(l,u)=>{const f=r[l]||[];return u&&n[l]?[...f,...n[l]]:f}}},HE=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?HE(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Km);return(l=e.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},zw=/^\[(.+)\]$/,ZO=t=>{if(zw.test(t)){const e=zw.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},JO=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return t8(Object.entries(t.classGroups),r).forEach(([o,l])=>{Xp(l,n,o,e)}),n},Xp=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Vw(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(e8(s)){Xp(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,l])=>{Xp(l,Vw(e,o),r,n)})})},Vw=(t,e)=>{let r=t;return e.split(Km).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},e8=t=>t.isThemeGetter,t8=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[e+l,u])):o);return[r,s]}):t,r8=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,l)=>{r.set(o,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return s(o,l),l},set(o,l){r.has(o)?r.set(o,l):s(o,l)}}},WE="!",n8=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,l=u=>{const f=[];let h=0,x=0,w;for(let N=0;N<u.length;N++){let R=u[N];if(h===0){if(R===s&&(n||u.slice(N,N+o)===e)){f.push(u.slice(x,N)),x=N+o;continue}if(R==="/"){w=N;continue}}R==="["?h++:R==="]"&&h--}const v=f.length===0?u:u.substring(x),E=v.startsWith(WE),S=E?v.substring(1):v,b=w&&w>x?w-x:void 0;return{modifiers:f,hasImportantModifier:E,baseClassName:S,maybePostfixModifierPosition:b}};return r?u=>r({className:u,parseClassName:l}):l},s8=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},i8=t=>({cache:r8(t.cacheSize),parseClassName:n8(t),...QO(t)}),o8=/\s+/,a8=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],l=t.trim().split(o8);let u="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{modifiers:x,hasImportantModifier:w,baseClassName:v,maybePostfixModifierPosition:E}=r(h);let S=!!E,b=n(S?v.substring(0,E):v);if(!b){if(!S){u=h+(u.length>0?" "+u:u);continue}if(b=n(v),!b){u=h+(u.length>0?" "+u:u);continue}S=!1}const N=s8(x).join(":"),R=w?N+WE:N,T=R+b;if(o.includes(T))continue;o.push(T);const A=s(b,S);for(let M=0;M<A.length;++M){const D=A[M];o.push(R+D)}u=h+(u.length>0?" "+u:u)}return u};function l8(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=$E(e))&&(n&&(n+=" "),n+=r);return n}const $E=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=$E(t[n]))&&(r&&(r+=" "),r+=e);return r};function c8(t,...e){let r,n,s,o=l;function l(f){const h=e.reduce((x,w)=>w(x),t());return r=i8(h),n=r.cache.get,s=r.cache.set,o=u,u(f)}function u(f){const h=n(f);if(h)return h;const x=a8(f,r);return s(f,x),x}return function(){return o(l8.apply(null,arguments))}}const Pt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},GE=/^\[(?:([a-z-]+):)?(.+)\]$/i,u8=/^\d+\/\d+$/,d8=new Set(["px","full","screen"]),h8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,f8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,p8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,g8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,m8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,xi=t=>Vl(t)||d8.has(t)||u8.test(t),Ki=t=>Tc(t,"length",C8),Vl=t=>!!t&&!Number.isNaN(Number(t)),_1=t=>Tc(t,"number",Vl),Zc=t=>!!t&&Number.isInteger(Number(t)),x8=t=>t.endsWith("%")&&Vl(t.slice(0,-1)),Ke=t=>GE.test(t),Qi=t=>h8.test(t),y8=new Set(["length","size","percentage"]),w8=t=>Tc(t,y8,YE),v8=t=>Tc(t,"position",YE),_8=new Set(["image","url"]),b8=t=>Tc(t,_8,A8),E8=t=>Tc(t,"",S8),Jc=()=>!0,Tc=(t,e,r)=>{const n=GE.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},C8=t=>f8.test(t)&&!p8.test(t),YE=()=>!1,S8=t=>g8.test(t),A8=t=>m8.test(t),T8=()=>{const t=Pt("colors"),e=Pt("spacing"),r=Pt("blur"),n=Pt("brightness"),s=Pt("borderColor"),o=Pt("borderRadius"),l=Pt("borderSpacing"),u=Pt("borderWidth"),f=Pt("contrast"),h=Pt("grayscale"),x=Pt("hueRotate"),w=Pt("invert"),v=Pt("gap"),E=Pt("gradientColorStops"),S=Pt("gradientColorStopPositions"),b=Pt("inset"),N=Pt("margin"),R=Pt("opacity"),T=Pt("padding"),A=Pt("saturate"),M=Pt("scale"),D=Pt("sepia"),F=Pt("skew"),L=Pt("space"),U=Pt("translate"),B=()=>["auto","contain","none"],K=()=>["auto","hidden","clip","visible","scroll"],ee=()=>["auto",Ke,e],Q=()=>[Ke,e],se=()=>["",xi,Ki],G=()=>["auto",Vl,Ke],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],J=()=>["","0",Ke],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ee=()=>[Vl,Ke];return{cacheSize:500,separator:":",theme:{colors:[Jc],spacing:[xi,Ki],blur:["none","",Qi,Ke],brightness:Ee(),borderColor:[t],borderRadius:["none","","full",Qi,Ke],borderSpacing:Q(),borderWidth:se(),contrast:Ee(),grayscale:J(),hueRotate:Ee(),invert:J(),gap:Q(),gradientColorStops:[t],gradientColorStopPositions:[x8,Ki],inset:ee(),margin:ee(),opacity:Ee(),padding:Q(),saturate:Ee(),scale:Ee(),sepia:J(),skew:Ee(),space:Q(),translate:Q()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[Qi]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Ke]}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:B()}],"overscroll-x":[{"overscroll-x":B()}],"overscroll-y":[{"overscroll-y":B()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[b]}],"inset-x":[{"inset-x":[b]}],"inset-y":[{"inset-y":[b]}],start:[{start:[b]}],end:[{end:[b]}],top:[{top:[b]}],right:[{right:[b]}],bottom:[{bottom:[b]}],left:[{left:[b]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Zc,Ke]}],basis:[{basis:ee()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:J()}],shrink:[{shrink:J()}],order:[{order:["first","last","none",Zc,Ke]}],"grid-cols":[{"grid-cols":[Jc]}],"col-start-end":[{col:["auto",{span:["full",Zc,Ke]},Ke]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Jc]}],"row-start-end":[{row:["auto",{span:[Zc,Ke]},Ke]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[v]}],"gap-x":[{"gap-x":[v]}],"gap-y":[{"gap-y":[v]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[T]}],px:[{px:[T]}],py:[{py:[T]}],ps:[{ps:[T]}],pe:[{pe:[T]}],pt:[{pt:[T]}],pr:[{pr:[T]}],pb:[{pb:[T]}],pl:[{pl:[T]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,e]}],"min-w":[{"min-w":[Ke,e,"min","max","fit"]}],"max-w":[{"max-w":[Ke,e,"none","full","min","max","fit","prose",{screen:[Qi]},Qi]}],h:[{h:[Ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Qi,Ki]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_1]}],"font-family":[{font:[Jc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",Vl,_1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",xi,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",xi,Ki]}],"underline-offset":[{"underline-offset":["auto",xi,Ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Q()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),v8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",w8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},b8]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[S]}],"gradient-via-pos":[{via:[S]}],"gradient-to-pos":[{to:[S]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:ne()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[xi,Ke]}],"outline-w":[{outline:[xi,Ki]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[xi,Ki]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Qi,E8]}],"shadow-color":[{shadow:[Jc]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Qi,Ke]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[w]}],saturate:[{saturate:[A]}],sepia:[{sepia:[D]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[D]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:Ee()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:Ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Zc,Ke]}],"translate-x":[{"translate-x":[U]}],"translate-y":[{"translate-y":[U]}],"skew-x":[{"skew-x":[F]}],"skew-y":[{"skew-y":[F]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Q()}],"scroll-mx":[{"scroll-mx":Q()}],"scroll-my":[{"scroll-my":Q()}],"scroll-ms":[{"scroll-ms":Q()}],"scroll-me":[{"scroll-me":Q()}],"scroll-mt":[{"scroll-mt":Q()}],"scroll-mr":[{"scroll-mr":Q()}],"scroll-mb":[{"scroll-mb":Q()}],"scroll-ml":[{"scroll-ml":Q()}],"scroll-p":[{"scroll-p":Q()}],"scroll-px":[{"scroll-px":Q()}],"scroll-py":[{"scroll-py":Q()}],"scroll-ps":[{"scroll-ps":Q()}],"scroll-pe":[{"scroll-pe":Q()}],"scroll-pt":[{"scroll-pt":Q()}],"scroll-pr":[{"scroll-pr":Q()}],"scroll-pb":[{"scroll-pb":Q()}],"scroll-pl":[{"scroll-pl":Q()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[xi,Ki,_1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},N8=c8(T8);function He(...t){return N8(ME(t))}const I8=kO,XE=I.forwardRef(({className:t,...e},r)=>m.jsx(SE,{ref:r,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));XE.displayName=SE.displayName;const R8=e0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),qE=I.forwardRef(({className:t,variant:e,...r},n)=>m.jsx(AE,{ref:n,className:He(R8({variant:e}),t),...r}));qE.displayName=AE.displayName;const O8=I.forwardRef(({className:t,...e},r)=>m.jsx(IE,{ref:r,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));O8.displayName=IE.displayName;const KE=I.forwardRef(({className:t,...e},r)=>m.jsx(RE,{ref:r,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(VE,{className:"h-4 w-4"})}));KE.displayName=RE.displayName;const QE=I.forwardRef(({className:t,...e},r)=>m.jsx(TE,{ref:r,className:He("text-sm font-semibold",t),...e}));QE.displayName=TE.displayName;const ZE=I.forwardRef(({className:t,...e},r)=>m.jsx(NE,{ref:r,className:He("text-sm opacity-90",t),...e}));ZE.displayName=NE.displayName;function M8(){const{toasts:t}=VR();return m.jsxs(I8,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return m.jsxs(qE,{...o,children:[m.jsxs("div",{className:"grid gap-1",children:[r&&m.jsx(QE,{children:r}),n&&m.jsx(ZE,{children:n})]}),s,m.jsx(KE,{})]},e)}),m.jsx(XE,{})]})}var Hw=["light","dark"],k8="(prefers-color-scheme: dark)",P8=I.createContext(void 0),D8={setTheme:t=>{},themes:[]},j8=()=>{var t;return(t=I.useContext(P8))!=null?t:D8};I.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:l,attrs:u,nonce:f})=>{let h=o==="system",x=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(S=>`'${S}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,w=s?Hw.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",v=(S,b=!1,N=!0)=>{let R=l?l[S]:S,T=b?S+"|| ''":`'${R}'`,A="";return s&&N&&!b&&Hw.includes(S)&&(A+=`d.style.colorScheme = '${S}';`),r==="class"?b||R?A+=`c.add(${T})`:A+="null":R&&(A+=`d[s](n,${T})`),A},E=t?`!function(){${x}${v(t)}}()`:n?`!function(){try{${x}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${k8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${v("dark")}}else{${v("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${v(l?"x[e]":"e",!0)}}${h?"":"else{"+v(o,!1,!1)+"}"}${w}}catch(e){}}()`:`!function(){try{${x}var e=localStorage.getItem('${e}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${v(l?"x[e]":"e",!0)}}else{${v(o,!1,!1)};}${w}}catch(t){}}();`;return I.createElement("script",{nonce:f,dangerouslySetInnerHTML:{__html:E}})});var L8=t=>{switch(t){case"success":return U8;case"info":return V8;case"warning":return z8;case"error":return H8;default:return null}},B8=Array(12).fill(0),F8=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},B8.map((r,n)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),U8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),z8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),V8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),H8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),W8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),$8=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},qp=1,G8=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:qp++,o=this.toasts.find(u=>u.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:r}),{...u,...t,id:s,dismissible:l,title:r}):u):this.addToast({title:r,...n,dismissible:l,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,o,l=n.then(async f=>{if(o=["resolve",f],ue.isValidElement(f))s=!1,this.create({id:r,type:"default",message:f});else if(X8(f)&&!f.ok){s=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${f.status}`):e.error,x=typeof e.description=="function"?await e.description(`HTTP error! status: ${f.status}`):e.description;this.create({id:r,type:"error",message:h,description:x})}else if(e.success!==void 0){s=!1;let h=typeof e.success=="function"?await e.success(f):e.success,x=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"success",message:h,description:x})}}).catch(async f=>{if(o=["reject",f],e.error!==void 0){s=!1;let h=typeof e.error=="function"?await e.error(f):e.error,x=typeof e.description=="function"?await e.description(f):e.description;this.create({id:r,type:"error",message:h,description:x})}}).finally(()=>{var f;s&&(this.dismiss(r),r=void 0),(f=e.finally)==null||f.call(e)}),u=()=>new Promise((f,h)=>l.then(()=>o[0]==="reject"?h(o[1]):f(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||qp++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},xn=new G8,Y8=(t,e)=>{let r=(e==null?void 0:e.id)||qp++;return xn.addToast({title:t,...e,id:r}),r},X8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",q8=Y8,K8=()=>xn.toasts,Q8=()=>xn.getActiveToasts(),we=Object.assign(q8,{success:xn.success,info:xn.info,warning:xn.warning,error:xn.error,custom:xn.custom,message:xn.message,promise:xn.promise,dismiss:xn.dismiss,loading:xn.loading},{getHistory:K8,getToasts:Q8});function Z8(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}Z8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function eh(t){return t.label!==void 0}var J8=3,eM="32px",tM="16px",Ww=4e3,rM=356,nM=14,sM=20,iM=200;function bs(...t){return t.filter(Boolean).join(" ")}function oM(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var aM=t=>{var e,r,n,s,o,l,u,f,h,x,w;let{invert:v,toast:E,unstyled:S,interacting:b,setHeights:N,visibleToasts:R,heights:T,index:A,toasts:M,expanded:D,removeToast:F,defaultRichColors:L,closeButton:U,style:B,cancelButtonStyle:K,actionButtonStyle:ee,className:Q="",descriptionClassName:se="",duration:G,position:H,gap:ne,loadingIcon:X,expandByDefault:Y,classNames:J,icons:oe,closeButtonAriaLabel:Ee="Close toast",pauseWhenPageIsHidden:de}=t,[ae,fe]=ue.useState(null),[ze,ve]=ue.useState(null),[_e,ke]=ue.useState(!1),[dt,Xe]=ue.useState(!1),[Le,Je]=ue.useState(!1),[Ue,cr]=ue.useState(!1),[yr,Tr]=ue.useState(!1),[ce,Re]=ue.useState(0),[be,vt]=ue.useState(0),ye=ue.useRef(E.duration||G||Ww),en=ue.useRef(null),tt=ue.useRef(null),Zt=A===0,Zo=A+1<=R,St=E.type,gi=E.dismissible!==!1,Ws=E.className||"",Dr=E.descriptionClassName||"",Jo=ue.useMemo(()=>T.findIndex(Pe=>Pe.toastId===E.id)||0,[T,E.id]),Za=ue.useMemo(()=>{var Pe;return(Pe=E.closeButton)!=null?Pe:U},[E.closeButton,U]),Cd=ue.useMemo(()=>E.duration||G||Ww,[E.duration,G]),Bt=ue.useRef(0),xe=ue.useRef(0),Jt=ue.useRef(0),ut=ue.useRef(null),[Ft,ea]=H.split("-"),Ja=ue.useMemo(()=>T.reduce((Pe,gt,qe)=>qe>=Jo?Pe:Pe+gt.height,0),[T,Jo]),Pc=$8(),ht=E.invert||v,ys=St==="loading";xe.current=ue.useMemo(()=>Jo*ne+Ja,[Jo,Ja]),ue.useEffect(()=>{ye.current=Cd},[Cd]),ue.useEffect(()=>{ke(!0)},[]),ue.useEffect(()=>{let Pe=tt.current;if(Pe){let gt=Pe.getBoundingClientRect().height;return vt(gt),N(qe=>[{toastId:E.id,height:gt,position:E.position},...qe]),()=>N(qe=>qe.filter(Nr=>Nr.toastId!==E.id))}},[N,E.id]),ue.useLayoutEffect(()=>{if(!_e)return;let Pe=tt.current,gt=Pe.style.height;Pe.style.height="auto";let qe=Pe.getBoundingClientRect().height;Pe.style.height=gt,vt(qe),N(Nr=>Nr.find(Hr=>Hr.toastId===E.id)?Nr.map(Hr=>Hr.toastId===E.id?{...Hr,height:qe}:Hr):[{toastId:E.id,height:qe,position:E.position},...Nr])},[_e,E.title,E.description,N,E.id]);let ws=ue.useCallback(()=>{Xe(!0),Re(xe.current),N(Pe=>Pe.filter(gt=>gt.toastId!==E.id)),setTimeout(()=>{F(E)},iM)},[E,F,N,xe]);ue.useEffect(()=>{if(E.promise&&St==="loading"||E.duration===1/0||E.type==="loading")return;let Pe;return D||b||de&&Pc?(()=>{if(Jt.current<Bt.current){let gt=new Date().getTime()-Bt.current;ye.current=ye.current-gt}Jt.current=new Date().getTime()})():ye.current!==1/0&&(Bt.current=new Date().getTime(),Pe=setTimeout(()=>{var gt;(gt=E.onAutoClose)==null||gt.call(E,E),ws()},ye.current)),()=>clearTimeout(Pe)},[D,b,E,St,de,Pc,ws]),ue.useEffect(()=>{E.delete&&ws()},[ws,E.delete]);function Sd(){var Pe,gt,qe;return oe!=null&&oe.loading?ue.createElement("div",{className:bs(J==null?void 0:J.loader,(Pe=E==null?void 0:E.classNames)==null?void 0:Pe.loader,"sonner-loader"),"data-visible":St==="loading"},oe.loading):X?ue.createElement("div",{className:bs(J==null?void 0:J.loader,(gt=E==null?void 0:E.classNames)==null?void 0:gt.loader,"sonner-loader"),"data-visible":St==="loading"},X):ue.createElement(F8,{className:bs(J==null?void 0:J.loader,(qe=E==null?void 0:E.classNames)==null?void 0:qe.loader),visible:St==="loading"})}return ue.createElement("li",{tabIndex:0,ref:tt,className:bs(Q,Ws,J==null?void 0:J.toast,(e=E==null?void 0:E.classNames)==null?void 0:e.toast,J==null?void 0:J.default,J==null?void 0:J[St],(r=E==null?void 0:E.classNames)==null?void 0:r[St]),"data-sonner-toast":"","data-rich-colors":(n=E.richColors)!=null?n:L,"data-styled":!(E.jsx||E.unstyled||S),"data-mounted":_e,"data-promise":!!E.promise,"data-swiped":yr,"data-removed":dt,"data-visible":Zo,"data-y-position":Ft,"data-x-position":ea,"data-index":A,"data-front":Zt,"data-swiping":Le,"data-dismissible":gi,"data-type":St,"data-invert":ht,"data-swipe-out":Ue,"data-swipe-direction":ze,"data-expanded":!!(D||Y&&_e),style:{"--index":A,"--toasts-before":A,"--z-index":M.length-A,"--offset":`${dt?ce:xe.current}px`,"--initial-height":Y?"auto":`${be}px`,...B,...E.style},onDragEnd:()=>{Je(!1),fe(null),ut.current=null},onPointerDown:Pe=>{ys||!gi||(en.current=new Date,Re(xe.current),Pe.target.setPointerCapture(Pe.pointerId),Pe.target.tagName!=="BUTTON"&&(Je(!0),ut.current={x:Pe.clientX,y:Pe.clientY}))},onPointerUp:()=>{var Pe,gt,qe,Nr;if(Ue||!gi)return;ut.current=null;let Hr=Number(((Pe=tt.current)==null?void 0:Pe.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wr=Number(((gt=tt.current)==null?void 0:gt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),mi=new Date().getTime()-((qe=en.current)==null?void 0:qe.getTime()),vr=ae==="x"?Hr:wr,qn=Math.abs(vr)/mi;if(Math.abs(vr)>=sM||qn>.11){Re(xe.current),(Nr=E.onDismiss)==null||Nr.call(E,E),ve(ae==="x"?Hr>0?"right":"left":wr>0?"down":"up"),ws(),cr(!0),Tr(!1);return}Je(!1),fe(null)},onPointerMove:Pe=>{var gt,qe,Nr,Hr;if(!ut.current||!gi||((gt=window.getSelection())==null?void 0:gt.toString().length)>0)return;let wr=Pe.clientY-ut.current.y,mi=Pe.clientX-ut.current.x,vr=(qe=t.swipeDirections)!=null?qe:oM(H);!ae&&(Math.abs(mi)>1||Math.abs(wr)>1)&&fe(Math.abs(mi)>Math.abs(wr)?"x":"y");let qn={x:0,y:0};ae==="y"?(vr.includes("top")||vr.includes("bottom"))&&(vr.includes("top")&&wr<0||vr.includes("bottom")&&wr>0)&&(qn.y=wr):ae==="x"&&(vr.includes("left")||vr.includes("right"))&&(vr.includes("left")&&mi<0||vr.includes("right")&&mi>0)&&(qn.x=mi),(Math.abs(qn.x)>0||Math.abs(qn.y)>0)&&Tr(!0),(Nr=tt.current)==null||Nr.style.setProperty("--swipe-amount-x",`${qn.x}px`),(Hr=tt.current)==null||Hr.style.setProperty("--swipe-amount-y",`${qn.y}px`)}},Za&&!E.jsx?ue.createElement("button",{"aria-label":Ee,"data-disabled":ys,"data-close-button":!0,onClick:ys||!gi?()=>{}:()=>{var Pe;ws(),(Pe=E.onDismiss)==null||Pe.call(E,E)},className:bs(J==null?void 0:J.closeButton,(s=E==null?void 0:E.classNames)==null?void 0:s.closeButton)},(o=oe==null?void 0:oe.close)!=null?o:W8):null,E.jsx||I.isValidElement(E.title)?E.jsx?E.jsx:typeof E.title=="function"?E.title():E.title:ue.createElement(ue.Fragment,null,St||E.icon||E.promise?ue.createElement("div",{"data-icon":"",className:bs(J==null?void 0:J.icon,(l=E==null?void 0:E.classNames)==null?void 0:l.icon)},E.promise||E.type==="loading"&&!E.icon?E.icon||Sd():null,E.type!=="loading"?E.icon||(oe==null?void 0:oe[St])||L8(St):null):null,ue.createElement("div",{"data-content":"",className:bs(J==null?void 0:J.content,(u=E==null?void 0:E.classNames)==null?void 0:u.content)},ue.createElement("div",{"data-title":"",className:bs(J==null?void 0:J.title,(f=E==null?void 0:E.classNames)==null?void 0:f.title)},typeof E.title=="function"?E.title():E.title),E.description?ue.createElement("div",{"data-description":"",className:bs(se,Dr,J==null?void 0:J.description,(h=E==null?void 0:E.classNames)==null?void 0:h.description)},typeof E.description=="function"?E.description():E.description):null),I.isValidElement(E.cancel)?E.cancel:E.cancel&&eh(E.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:E.cancelButtonStyle||K,onClick:Pe=>{var gt,qe;eh(E.cancel)&&gi&&((qe=(gt=E.cancel).onClick)==null||qe.call(gt,Pe),ws())},className:bs(J==null?void 0:J.cancelButton,(x=E==null?void 0:E.classNames)==null?void 0:x.cancelButton)},E.cancel.label):null,I.isValidElement(E.action)?E.action:E.action&&eh(E.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:E.actionButtonStyle||ee,onClick:Pe=>{var gt,qe;eh(E.action)&&((qe=(gt=E.action).onClick)==null||qe.call(gt,Pe),!Pe.defaultPrevented&&ws())},className:bs(J==null?void 0:J.actionButton,(w=E==null?void 0:E.classNames)==null?void 0:w.actionButton)},E.action.label):null))};function $w(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function lM(t,e){let r={};return[t,e].forEach((n,s)=>{let o=s===1,l=o?"--mobile-offset":"--offset",u=o?tM:eM;function f(h){["top","right","bottom","left"].forEach(x=>{r[`${l}-${x}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?f(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${l}-${h}`]=u:r[`${l}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):f(u)}),r}var cM=I.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:f,mobileOffset:h,theme:x="light",richColors:w,duration:v,style:E,visibleToasts:S=J8,toastOptions:b,dir:N=$w(),gap:R=nM,loadingIcon:T,icons:A,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:D}=t,[F,L]=ue.useState([]),U=ue.useMemo(()=>Array.from(new Set([n].concat(F.filter(de=>de.position).map(de=>de.position)))),[F,n]),[B,K]=ue.useState([]),[ee,Q]=ue.useState(!1),[se,G]=ue.useState(!1),[H,ne]=ue.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=ue.useRef(null),Y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),J=ue.useRef(null),oe=ue.useRef(!1),Ee=ue.useCallback(de=>{L(ae=>{var fe;return(fe=ae.find(ze=>ze.id===de.id))!=null&&fe.delete||xn.dismiss(de.id),ae.filter(({id:ze})=>ze!==de.id)})},[]);return ue.useEffect(()=>xn.subscribe(de=>{if(de.dismiss){L(ae=>ae.map(fe=>fe.id===de.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{nE.flushSync(()=>{L(ae=>{let fe=ae.findIndex(ze=>ze.id===de.id);return fe!==-1?[...ae.slice(0,fe),{...ae[fe],...de},...ae.slice(fe+1)]:[de,...ae]})})})}),[]),ue.useEffect(()=>{if(x!=="system"){ne(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?ne("dark"):ne("light")),typeof window>"u")return;let de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:ae})=>{ne(ae?"dark":"light")})}catch{de.addListener(({matches:fe})=>{try{ne(fe?"dark":"light")}catch(ze){console.error(ze)}})}},[x]),ue.useEffect(()=>{F.length<=1&&Q(!1)},[F]),ue.useEffect(()=>{let de=ae=>{var fe,ze;s.every(ve=>ae[ve]||ae.code===ve)&&(Q(!0),(fe=X.current)==null||fe.focus()),ae.code==="Escape"&&(document.activeElement===X.current||(ze=X.current)!=null&&ze.contains(document.activeElement))&&Q(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[s]),ue.useEffect(()=>{if(X.current)return()=>{J.current&&(J.current.focus({preventScroll:!0}),J.current=null,oe.current=!1)}},[X.current]),ue.createElement("section",{ref:e,"aria-label":`${M} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},U.map((de,ae)=>{var fe;let[ze,ve]=de.split("-");return F.length?ue.createElement("ol",{key:de,dir:N==="auto"?$w():N,tabIndex:-1,ref:X,className:u,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":ze,"data-lifted":ee&&F.length>1&&!o,"data-x-position":ve,style:{"--front-toast-height":`${((fe=B[0])==null?void 0:fe.height)||0}px`,"--width":`${rM}px`,"--gap":`${R}px`,...E,...lM(f,h)},onBlur:_e=>{oe.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(oe.current=!1,J.current&&(J.current.focus({preventScroll:!0}),J.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,J.current=_e.relatedTarget)},onMouseEnter:()=>Q(!0),onMouseMove:()=>Q(!0),onMouseLeave:()=>{se||Q(!1)},onDragEnd:()=>Q(!1),onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},F.filter(_e=>!_e.position&&ae===0||_e.position===de).map((_e,ke)=>{var dt,Xe;return ue.createElement(aM,{key:_e.id,icons:A,index:ke,toast:_e,defaultRichColors:w,duration:(dt=b==null?void 0:b.duration)!=null?dt:v,className:b==null?void 0:b.className,descriptionClassName:b==null?void 0:b.descriptionClassName,invert:r,visibleToasts:S,closeButton:(Xe=b==null?void 0:b.closeButton)!=null?Xe:l,interacting:se,position:de,style:b==null?void 0:b.style,unstyled:b==null?void 0:b.unstyled,classNames:b==null?void 0:b.classNames,cancelButtonStyle:b==null?void 0:b.cancelButtonStyle,actionButtonStyle:b==null?void 0:b.actionButtonStyle,removeToast:Ee,toasts:F.filter(Le=>Le.position==_e.position),heights:B.filter(Le=>Le.position==_e.position),setHeights:K,expandByDefault:o,gap:R,loadingIcon:T,expanded:ee,pauseWhenPageIsHidden:D,swipeDirections:t.swipeDirections})})):null}))});const uM=({...t})=>{const{theme:e="system"}=j8();return m.jsx(cM,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var dM=Zg[" useId ".trim().toString()]||(()=>{}),hM=0;function No(t){const[e,r]=I.useState(dM());return kr(()=>{t||r(n=>n??String(hM++))},[t]),t||(e?`radix-${e}`:"")}const fM=["top","right","bottom","left"],Do=Math.min,Pn=Math.max,uf=Math.round,th=Math.floor,ci=t=>({x:t,y:t}),pM={left:"right",right:"left",bottom:"top",top:"bottom"},gM={start:"end",end:"start"};function Kp(t,e,r){return Pn(t,Do(e,r))}function ji(t,e){return typeof t=="function"?t(e):t}function Li(t){return t.split("-")[0]}function Nc(t){return t.split("-")[1]}function Qm(t){return t==="x"?"y":"x"}function Zm(t){return t==="y"?"height":"width"}const mM=new Set(["top","bottom"]);function ii(t){return mM.has(Li(t))?"y":"x"}function Jm(t){return Qm(ii(t))}function xM(t,e,r){r===void 0&&(r=!1);const n=Nc(t),s=Jm(t),o=Zm(s);let l=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=df(l)),[l,df(l)]}function yM(t){const e=df(t);return[Qp(t),e,Qp(e)]}function Qp(t){return t.replace(/start|end/g,e=>gM[e])}const Gw=["left","right"],Yw=["right","left"],wM=["top","bottom"],vM=["bottom","top"];function _M(t,e,r){switch(t){case"top":case"bottom":return r?e?Yw:Gw:e?Gw:Yw;case"left":case"right":return e?wM:vM;default:return[]}}function bM(t,e,r,n){const s=Nc(t);let o=_M(Li(t),r==="start",n);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(Qp)))),o}function df(t){return t.replace(/left|right|bottom|top/g,e=>pM[e])}function EM(t){return{top:0,right:0,bottom:0,left:0,...t}}function JE(t){return typeof t!="number"?EM(t):{top:t,right:t,bottom:t,left:t}}function hf(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function Xw(t,e,r){let{reference:n,floating:s}=t;const o=ii(e),l=Jm(e),u=Zm(l),f=Li(e),h=o==="y",x=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,v=n[u]/2-s[u]/2;let E;switch(f){case"top":E={x,y:n.y-s.height};break;case"bottom":E={x,y:n.y+n.height};break;case"right":E={x:n.x+n.width,y:w};break;case"left":E={x:n.x-s.width,y:w};break;default:E={x:n.x,y:n.y}}switch(Nc(e)){case"start":E[l]-=v*(r&&h?-1:1);break;case"end":E[l]+=v*(r&&h?-1:1);break}return E}const CM=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x,y:w}=Xw(h,n,f),v=n,E={},S=0;for(let b=0;b<u.length;b++){const{name:N,fn:R}=u[b],{x:T,y:A,data:M,reset:D}=await R({x,y:w,initialPlacement:n,placement:v,strategy:s,middlewareData:E,rects:h,platform:l,elements:{reference:t,floating:e}});x=T??x,w=A??w,E={...E,[N]:{...E[N],...M}},D&&S<=50&&(S++,typeof D=="object"&&(D.placement&&(v=D.placement),D.rects&&(h=D.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):D.rects),{x,y:w}=Xw(h,v,f)),b=-1)}return{x,y:w,placement:v,strategy:s,middlewareData:E}};async function Hu(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:l,elements:u,strategy:f}=t,{boundary:h="clippingAncestors",rootBoundary:x="viewport",elementContext:w="floating",altBoundary:v=!1,padding:E=0}=ji(e,t),S=JE(E),N=u[v?w==="floating"?"reference":"floating":w],R=hf(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(N)))==null||r?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:x,strategy:f})),T=w==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),M=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},D=hf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:T,offsetParent:A,strategy:f}):T);return{top:(R.top-D.top+S.top)/M.y,bottom:(D.bottom-R.bottom+S.bottom)/M.y,left:(R.left-D.left+S.left)/M.x,right:(D.right-R.right+S.right)/M.x}}const SM=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:l,elements:u,middlewareData:f}=e,{element:h,padding:x=0}=ji(t,e)||{};if(h==null)return{};const w=JE(x),v={x:r,y:n},E=Jm(s),S=Zm(E),b=await l.getDimensions(h),N=E==="y",R=N?"top":"left",T=N?"bottom":"right",A=N?"clientHeight":"clientWidth",M=o.reference[S]+o.reference[E]-v[E]-o.floating[S],D=v[E]-o.reference[E],F=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let L=F?F[A]:0;(!L||!await(l.isElement==null?void 0:l.isElement(F)))&&(L=u.floating[A]||o.floating[S]);const U=M/2-D/2,B=L/2-b[S]/2-1,K=Do(w[R],B),ee=Do(w[T],B),Q=K,se=L-b[S]-ee,G=L/2-b[S]/2+U,H=Kp(Q,G,se),ne=!f.arrow&&Nc(s)!=null&&G!==H&&o.reference[S]/2-(G<Q?K:ee)-b[S]/2<0,X=ne?G<Q?G-Q:G-se:0;return{[E]:v[E]+X,data:{[E]:H,centerOffset:G-H-X,...ne&&{alignmentOffset:X}},reset:ne}}}),AM=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:f,elements:h}=e,{mainAxis:x=!0,crossAxis:w=!0,fallbackPlacements:v,fallbackStrategy:E="bestFit",fallbackAxisSideDirection:S="none",flipAlignment:b=!0,...N}=ji(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const R=Li(s),T=ii(u),A=Li(u)===u,M=await(f.isRTL==null?void 0:f.isRTL(h.floating)),D=v||(A||!b?[df(u)]:yM(u)),F=S!=="none";!v&&F&&D.push(...bM(u,b,S,M));const L=[u,...D],U=await Hu(e,N),B=[];let K=((n=o.flip)==null?void 0:n.overflows)||[];if(x&&B.push(U[R]),w){const G=xM(s,l,M);B.push(U[G[0]],U[G[1]])}if(K=[...K,{placement:s,overflows:B}],!B.every(G=>G<=0)){var ee,Q;const G=(((ee=o.flip)==null?void 0:ee.index)||0)+1,H=L[G];if(H&&(!(w==="alignment"?T!==ii(H):!1)||K.every(Y=>Y.overflows[0]>0&&ii(Y.placement)===T)))return{data:{index:G,overflows:K},reset:{placement:H}};let ne=(Q=K.filter(X=>X.overflows[0]<=0).sort((X,Y)=>X.overflows[1]-Y.overflows[1])[0])==null?void 0:Q.placement;if(!ne)switch(E){case"bestFit":{var se;const X=(se=K.filter(Y=>{if(F){const J=ii(Y.placement);return J===T||J==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(J=>J>0).reduce((J,oe)=>J+oe,0)]).sort((Y,J)=>Y[1]-J[1])[0])==null?void 0:se[0];X&&(ne=X);break}case"initialPlacement":ne=u;break}if(s!==ne)return{reset:{placement:ne}}}return{}}}};function qw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Kw(t){return fM.some(e=>t[e]>=0)}const TM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=ji(t,e);switch(n){case"referenceHidden":{const o=await Hu(e,{...s,elementContext:"reference"}),l=qw(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Kw(l)}}}case"escaped":{const o=await Hu(e,{...s,altBoundary:!0}),l=qw(o,r.floating);return{data:{escapedOffsets:l,escaped:Kw(l)}}}default:return{}}}}},eC=new Set(["left","top"]);async function NM(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=Li(r),u=Nc(r),f=ii(r)==="y",h=eC.has(l)?-1:1,x=o&&f?-1:1,w=ji(e,t);let{mainAxis:v,crossAxis:E,alignmentAxis:S}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return u&&typeof S=="number"&&(E=u==="end"?S*-1:S),f?{x:E*x,y:v*h}:{x:v*h,y:E*x}}const IM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:l,middlewareData:u}=e,f=await NM(e,t);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+f.x,y:o+f.y,data:{...f,placement:l}}}}},RM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:N=>{let{x:R,y:T}=N;return{x:R,y:T}}},...f}=ji(t,e),h={x:r,y:n},x=await Hu(e,f),w=ii(Li(s)),v=Qm(w);let E=h[v],S=h[w];if(o){const N=v==="y"?"top":"left",R=v==="y"?"bottom":"right",T=E+x[N],A=E-x[R];E=Kp(T,E,A)}if(l){const N=w==="y"?"top":"left",R=w==="y"?"bottom":"right",T=S+x[N],A=S-x[R];S=Kp(T,S,A)}const b=u.fn({...e,[v]:E,[w]:S});return{...b,data:{x:b.x-r,y:b.y-n,enabled:{[v]:o,[w]:l}}}}}},OM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:l}=e,{offset:u=0,mainAxis:f=!0,crossAxis:h=!0}=ji(t,e),x={x:r,y:n},w=ii(s),v=Qm(w);let E=x[v],S=x[w];const b=ji(u,e),N=typeof b=="number"?{mainAxis:b,crossAxis:0}:{mainAxis:0,crossAxis:0,...b};if(f){const A=v==="y"?"height":"width",M=o.reference[v]-o.floating[A]+N.mainAxis,D=o.reference[v]+o.reference[A]-N.mainAxis;E<M?E=M:E>D&&(E=D)}if(h){var R,T;const A=v==="y"?"width":"height",M=eC.has(Li(s)),D=o.reference[w]-o.floating[A]+(M&&((R=l.offset)==null?void 0:R[w])||0)+(M?0:N.crossAxis),F=o.reference[w]+o.reference[A]+(M?0:((T=l.offset)==null?void 0:T[w])||0)-(M?N.crossAxis:0);S<D?S=D:S>F&&(S=F)}return{[v]:E,[w]:S}}}},MM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:l,elements:u}=e,{apply:f=()=>{},...h}=ji(t,e),x=await Hu(e,h),w=Li(s),v=Nc(s),E=ii(s)==="y",{width:S,height:b}=o.floating;let N,R;w==="top"||w==="bottom"?(N=w,R=v===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(R=w,N=v==="end"?"top":"bottom");const T=b-x.top-x.bottom,A=S-x.left-x.right,M=Do(b-x[N],T),D=Do(S-x[R],A),F=!e.middlewareData.shift;let L=M,U=D;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(U=A),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(L=T),F&&!v){const K=Pn(x.left,0),ee=Pn(x.right,0),Q=Pn(x.top,0),se=Pn(x.bottom,0);E?U=S-2*(K!==0||ee!==0?K+ee:Pn(x.left,x.right)):L=b-2*(Q!==0||se!==0?Q+se:Pn(x.top,x.bottom))}await f({...e,availableWidth:U,availableHeight:L});const B=await l.getDimensions(u.floating);return S!==B.width||b!==B.height?{reset:{rects:!0}}:{}}}};function r0(){return typeof window<"u"}function Ic(t){return tC(t)?(t.nodeName||"").toLowerCase():"#document"}function Vn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function fi(t){var e;return(e=(tC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function tC(t){return r0()?t instanceof Node||t instanceof Vn(t).Node:!1}function zs(t){return r0()?t instanceof Element||t instanceof Vn(t).Element:!1}function di(t){return r0()?t instanceof HTMLElement||t instanceof Vn(t).HTMLElement:!1}function Qw(t){return!r0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Vn(t).ShadowRoot}const kM=new Set(["inline","contents"]);function gd(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Vs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!kM.has(s)}const PM=new Set(["table","td","th"]);function DM(t){return PM.has(Ic(t))}const jM=[":popover-open",":modal"];function n0(t){return jM.some(e=>{try{return t.matches(e)}catch{return!1}})}const LM=["transform","translate","scale","rotate","perspective"],BM=["transform","translate","scale","rotate","perspective","filter"],FM=["paint","layout","strict","content"];function ex(t){const e=tx(),r=zs(t)?Vs(t):t;return LM.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||BM.some(n=>(r.willChange||"").includes(n))||FM.some(n=>(r.contain||"").includes(n))}function UM(t){let e=jo(t);for(;di(e)&&!dc(e);){if(ex(e))return e;if(n0(e))return null;e=jo(e)}return null}function tx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const zM=new Set(["html","body","#document"]);function dc(t){return zM.has(Ic(t))}function Vs(t){return Vn(t).getComputedStyle(t)}function s0(t){return zs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function jo(t){if(Ic(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Qw(t)&&t.host||fi(t);return Qw(e)?e.host:e}function rC(t){const e=jo(t);return dc(e)?t.ownerDocument?t.ownerDocument.body:t.body:di(e)&&gd(e)?e:rC(e)}function Wu(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=rC(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),l=Vn(s);if(o){const u=Zp(l);return e.concat(l,l.visualViewport||[],gd(s)?s:[],u&&r?Wu(u):[])}return e.concat(s,Wu(s,[],r))}function Zp(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function nC(t){const e=Vs(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=di(t),o=s?t.offsetWidth:r,l=s?t.offsetHeight:n,u=uf(r)!==o||uf(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function rx(t){return zs(t)?t:t.contextElement}function Hl(t){const e=rx(t);if(!di(e))return ci(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=nC(e);let l=(o?uf(r.width):r.width)/n,u=(o?uf(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const VM=ci(0);function sC(t){const e=Vn(t);return!tx()||!e.visualViewport?VM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function HM(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Vn(t)?!1:e}function Fa(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=rx(t);let l=ci(1);e&&(n?zs(n)&&(l=Hl(n)):l=Hl(t));const u=HM(o,r,n)?sC(o):ci(0);let f=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,x=s.width/l.x,w=s.height/l.y;if(o){const v=Vn(o),E=n&&zs(n)?Vn(n):n;let S=v,b=Zp(S);for(;b&&n&&E!==S;){const N=Hl(b),R=b.getBoundingClientRect(),T=Vs(b),A=R.left+(b.clientLeft+parseFloat(T.paddingLeft))*N.x,M=R.top+(b.clientTop+parseFloat(T.paddingTop))*N.y;f*=N.x,h*=N.y,x*=N.x,w*=N.y,f+=A,h+=M,S=Vn(b),b=Zp(S)}}return hf({width:x,height:w,x:f,y:h})}function nx(t,e){const r=s0(t).scrollLeft;return e?e.left+r:Fa(fi(t)).left+r}function iC(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:nx(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function WM(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",l=fi(n),u=e?n0(e.floating):!1;if(n===l||u&&o)return r;let f={scrollLeft:0,scrollTop:0},h=ci(1);const x=ci(0),w=di(n);if((w||!w&&!o)&&((Ic(n)!=="body"||gd(l))&&(f=s0(n)),di(n))){const E=Fa(n);h=Hl(n),x.x=E.x+n.clientLeft,x.y=E.y+n.clientTop}const v=l&&!w&&!o?iC(l,f,!0):ci(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-f.scrollLeft*h.x+x.x+v.x,y:r.y*h.y-f.scrollTop*h.y+x.y+v.y}}function $M(t){return Array.from(t.getClientRects())}function GM(t){const e=fi(t),r=s0(t),n=t.ownerDocument.body,s=Pn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=Pn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+nx(t);const u=-r.scrollTop;return Vs(n).direction==="rtl"&&(l+=Pn(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:u}}function YM(t,e){const r=Vn(t),n=fi(t),s=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,f=0;if(s){o=s.width,l=s.height;const h=tx();(!h||h&&e==="fixed")&&(u=s.offsetLeft,f=s.offsetTop)}return{width:o,height:l,x:u,y:f}}const XM=new Set(["absolute","fixed"]);function qM(t,e){const r=Fa(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=di(t)?Hl(t):ci(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,f=s*o.x,h=n*o.y;return{width:l,height:u,x:f,y:h}}function Zw(t,e,r){let n;if(e==="viewport")n=YM(t,r);else if(e==="document")n=GM(fi(t));else if(zs(e))n=qM(e,r);else{const s=sC(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return hf(n)}function oC(t,e){const r=jo(t);return r===e||!zs(r)||dc(r)?!1:Vs(r).position==="fixed"||oC(r,e)}function KM(t,e){const r=e.get(t);if(r)return r;let n=Wu(t,[],!1).filter(u=>zs(u)&&Ic(u)!=="body"),s=null;const o=Vs(t).position==="fixed";let l=o?jo(t):t;for(;zs(l)&&!dc(l);){const u=Vs(l),f=ex(l);!f&&u.position==="fixed"&&(s=null),(o?!f&&!s:!f&&u.position==="static"&&!!s&&XM.has(s.position)||gd(l)&&!f&&oC(t,l))?n=n.filter(x=>x!==l):s=u,l=jo(l)}return e.set(t,n),n}function QM(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const l=[...r==="clippingAncestors"?n0(e)?[]:KM(e,this._c):[].concat(r),n],u=l[0],f=l.reduce((h,x)=>{const w=Zw(e,x,s);return h.top=Pn(w.top,h.top),h.right=Do(w.right,h.right),h.bottom=Do(w.bottom,h.bottom),h.left=Pn(w.left,h.left),h},Zw(e,u,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function ZM(t){const{width:e,height:r}=nC(t);return{width:e,height:r}}function JM(t,e,r){const n=di(e),s=fi(e),o=r==="fixed",l=Fa(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const f=ci(0);function h(){f.x=nx(s)}if(n||!n&&!o)if((Ic(e)!=="body"||gd(s))&&(u=s0(e)),n){const E=Fa(e,!0,o,e);f.x=E.x+e.clientLeft,f.y=E.y+e.clientTop}else s&&h();o&&!n&&s&&h();const x=s&&!n&&!o?iC(s,u):ci(0),w=l.left+u.scrollLeft-f.x-x.x,v=l.top+u.scrollTop-f.y-x.y;return{x:w,y:v,width:l.width,height:l.height}}function b1(t){return Vs(t).position==="static"}function Jw(t,e){if(!di(t)||Vs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return fi(t)===r&&(r=r.ownerDocument.body),r}function aC(t,e){const r=Vn(t);if(n0(t))return r;if(!di(t)){let s=jo(t);for(;s&&!dc(s);){if(zs(s)&&!b1(s))return s;s=jo(s)}return r}let n=Jw(t,e);for(;n&&DM(n)&&b1(n);)n=Jw(n,e);return n&&dc(n)&&b1(n)&&!ex(n)?r:n||UM(t)||r}const e6=async function(t){const e=this.getOffsetParent||aC,r=this.getDimensions,n=await r(t.floating);return{reference:JM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function t6(t){return Vs(t).direction==="rtl"}const r6={convertOffsetParentRelativeRectToViewportRelativeRect:WM,getDocumentElement:fi,getClippingRect:QM,getOffsetParent:aC,getElementRects:e6,getClientRects:$M,getDimensions:ZM,getScale:Hl,isElement:zs,isRTL:t6};function lC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function n6(t,e){let r=null,n;const s=fi(t);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,f){u===void 0&&(u=!1),f===void 0&&(f=1),o();const h=t.getBoundingClientRect(),{left:x,top:w,width:v,height:E}=h;if(u||e(),!v||!E)return;const S=th(w),b=th(s.clientWidth-(x+v)),N=th(s.clientHeight-(w+E)),R=th(x),A={rootMargin:-S+"px "+-b+"px "+-N+"px "+-R+"px",threshold:Pn(0,Do(1,f))||1};let M=!0;function D(F){const L=F[0].intersectionRatio;if(L!==f){if(!M)return l();L?l(!1,L):n=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!lC(h,t.getBoundingClientRect())&&l(),M=!1}try{r=new IntersectionObserver(D,{...A,root:s.ownerDocument})}catch{r=new IntersectionObserver(D,A)}r.observe(t)}return l(!0),o}function s6(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:f=!1}=n,h=rx(t),x=s||o?[...h?Wu(h):[],...Wu(e)]:[];x.forEach(R=>{s&&R.addEventListener("scroll",r,{passive:!0}),o&&R.addEventListener("resize",r)});const w=h&&u?n6(h,r):null;let v=-1,E=null;l&&(E=new ResizeObserver(R=>{let[T]=R;T&&T.target===h&&E&&(E.unobserve(e),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var A;(A=E)==null||A.observe(e)})),r()}),h&&!f&&E.observe(h),E.observe(e));let S,b=f?Fa(t):null;f&&N();function N(){const R=Fa(t);b&&!lC(b,R)&&r(),b=R,S=requestAnimationFrame(N)}return r(),()=>{var R;x.forEach(T=>{s&&T.removeEventListener("scroll",r),o&&T.removeEventListener("resize",r)}),w==null||w(),(R=E)==null||R.disconnect(),E=null,f&&cancelAnimationFrame(S)}}const i6=IM,o6=RM,a6=AM,l6=MM,c6=TM,ev=SM,u6=OM,d6=(t,e,r)=>{const n=new Map,s={platform:r6,...r},o={...s.platform,_c:n};return CM(t,e,{...s,platform:o})};var h6=typeof document<"u",f6=function(){},Oh=h6?I.useLayoutEffect:f6;function ff(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!ff(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!ff(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function cC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function tv(t,e){const r=cC(t);return Math.round(e*r)/r}function E1(t){const e=I.useRef(t);return Oh(()=>{e.current=t}),e}function p6(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:f,open:h}=t,[x,w]=I.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[v,E]=I.useState(n);ff(v,n)||E(n);const[S,b]=I.useState(null),[N,R]=I.useState(null),T=I.useCallback(Y=>{Y!==F.current&&(F.current=Y,b(Y))},[]),A=I.useCallback(Y=>{Y!==L.current&&(L.current=Y,R(Y))},[]),M=o||S,D=l||N,F=I.useRef(null),L=I.useRef(null),U=I.useRef(x),B=f!=null,K=E1(f),ee=E1(s),Q=E1(h),se=I.useCallback(()=>{if(!F.current||!L.current)return;const Y={placement:e,strategy:r,middleware:v};ee.current&&(Y.platform=ee.current),d6(F.current,L.current,Y).then(J=>{const oe={...J,isPositioned:Q.current!==!1};G.current&&!ff(U.current,oe)&&(U.current=oe,Ya.flushSync(()=>{w(oe)}))})},[v,e,r,ee,Q]);Oh(()=>{h===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[h]);const G=I.useRef(!1);Oh(()=>(G.current=!0,()=>{G.current=!1}),[]),Oh(()=>{if(M&&(F.current=M),D&&(L.current=D),M&&D){if(K.current)return K.current(M,D,se);se()}},[M,D,se,K,B]);const H=I.useMemo(()=>({reference:F,floating:L,setReference:T,setFloating:A}),[T,A]),ne=I.useMemo(()=>({reference:M,floating:D}),[M,D]),X=I.useMemo(()=>{const Y={position:r,left:0,top:0};if(!ne.floating)return Y;const J=tv(ne.floating,x.x),oe=tv(ne.floating,x.y);return u?{...Y,transform:"translate("+J+"px, "+oe+"px)",...cC(ne.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:oe}},[r,u,ne.floating,x.x,x.y]);return I.useMemo(()=>({...x,update:se,refs:H,elements:ne,floatingStyles:X}),[x,se,H,ne,X])}const g6=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?ev({element:n.current,padding:s}).fn(r):{}:n?ev({element:n,padding:s}).fn(r):{}}}},m6=(t,e)=>({...i6(t),options:[t,e]}),x6=(t,e)=>({...o6(t),options:[t,e]}),y6=(t,e)=>({...u6(t),options:[t,e]}),w6=(t,e)=>({...a6(t),options:[t,e]}),v6=(t,e)=>({...l6(t),options:[t,e]}),_6=(t,e)=>({...c6(t),options:[t,e]}),b6=(t,e)=>({...g6(t),options:[t,e]});var E6="Arrow",uC=I.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return m.jsx(Fe.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});uC.displayName=E6;var C6=uC;function sx(t){const[e,r]=I.useState(void 0);return kr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const f=o.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,u=h.blockSize}else l=t.offsetWidth,u=t.offsetHeight;r({width:l,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var ix="Popper",[dC,i0]=ps(ix),[S6,hC]=dC(ix),fC=t=>{const{__scopePopper:e,children:r}=t,[n,s]=I.useState(null);return m.jsx(S6,{scope:e,anchor:n,onAnchorChange:s,children:r})};fC.displayName=ix;var pC="PopperAnchor",gC=I.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=hC(pC,r),l=I.useRef(null),u=st(e,l);return I.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:m.jsx(Fe.div,{...s,ref:u})});gC.displayName=pC;var ox="PopperContent",[A6,T6]=dC(ox),mC=I.forwardRef((t,e)=>{var _e,ke,dt,Xe,Le,Je;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:x=0,sticky:w="partial",hideWhenDetached:v=!1,updatePositionStrategy:E="optimized",onPlaced:S,...b}=t,N=hC(ox,r),[R,T]=I.useState(null),A=st(e,Ue=>T(Ue)),[M,D]=I.useState(null),F=sx(M),L=(F==null?void 0:F.width)??0,U=(F==null?void 0:F.height)??0,B=n+(o!=="center"?"-"+o:""),K=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ee=Array.isArray(h)?h:[h],Q=ee.length>0,se={padding:K,boundary:ee.filter(I6),altBoundary:Q},{refs:G,floatingStyles:H,placement:ne,isPositioned:X,middlewareData:Y}=p6({strategy:"fixed",placement:B,whileElementsMounted:(...Ue)=>s6(...Ue,{animationFrame:E==="always"}),elements:{reference:N.anchor},middleware:[m6({mainAxis:s+U,alignmentAxis:l}),f&&x6({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?y6():void 0,...se}),f&&w6({...se}),v6({...se,apply:({elements:Ue,rects:cr,availableWidth:yr,availableHeight:Tr})=>{const{width:ce,height:Re}=cr.reference,be=Ue.floating.style;be.setProperty("--radix-popper-available-width",`${yr}px`),be.setProperty("--radix-popper-available-height",`${Tr}px`),be.setProperty("--radix-popper-anchor-width",`${ce}px`),be.setProperty("--radix-popper-anchor-height",`${Re}px`)}}),M&&b6({element:M,padding:u}),R6({arrowWidth:L,arrowHeight:U}),v&&_6({strategy:"referenceHidden",...se})]}),[J,oe]=wC(ne),Ee=Sr(S);kr(()=>{X&&(Ee==null||Ee())},[X,Ee]);const de=(_e=Y.arrow)==null?void 0:_e.x,ae=(ke=Y.arrow)==null?void 0:ke.y,fe=((dt=Y.arrow)==null?void 0:dt.centerOffset)!==0,[ze,ve]=I.useState();return kr(()=>{R&&ve(window.getComputedStyle(R).zIndex)},[R]),m.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:X?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ze,"--radix-popper-transform-origin":[(Xe=Y.transformOrigin)==null?void 0:Xe.x,(Le=Y.transformOrigin)==null?void 0:Le.y].join(" "),...((Je=Y.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(A6,{scope:r,placedSide:J,onArrowChange:D,arrowX:de,arrowY:ae,shouldHideArrow:fe,children:m.jsx(Fe.div,{"data-side":J,"data-align":oe,...b,ref:A,style:{...b.style,animation:X?void 0:"none"}})})})});mC.displayName=ox;var xC="PopperArrow",N6={top:"bottom",right:"left",bottom:"top",left:"right"},yC=I.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=T6(xC,n),l=N6[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(C6,{...s,ref:r,style:{...s.style,display:"block"}})})});yC.displayName=xC;function I6(t){return t!==null}var R6=t=>({name:"transformOrigin",options:t,fn(e){var N,R,T;const{placement:r,rects:n,middlewareData:s}=e,l=((N=s.arrow)==null?void 0:N.centerOffset)!==0,u=l?0:t.arrowWidth,f=l?0:t.arrowHeight,[h,x]=wC(r),w={start:"0%",center:"50%",end:"100%"}[x],v=(((R=s.arrow)==null?void 0:R.x)??0)+u/2,E=(((T=s.arrow)==null?void 0:T.y)??0)+f/2;let S="",b="";return h==="bottom"?(S=l?w:`${v}px`,b=`${-f}px`):h==="top"?(S=l?w:`${v}px`,b=`${n.floating.height+f}px`):h==="right"?(S=`${-f}px`,b=l?w:`${E}px`):h==="left"&&(S=`${n.floating.width+f}px`,b=l?w:`${E}px`),{data:{x:S,y:b}}}});function wC(t){const[e,r="center"]=t.split("-");return[e,r]}var O6=fC,vC=gC,_C=mC,bC=yC,[o0,lF]=ps("Tooltip",[i0]),ax=i0(),EC="TooltipProvider",M6=700,rv="tooltip.open",[k6,CC]=o0(EC),SC=t=>{const{__scopeTooltip:e,delayDuration:r=M6,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,l=I.useRef(!0),u=I.useRef(!1),f=I.useRef(0);return I.useEffect(()=>{const h=f.current;return()=>window.clearTimeout(h)},[]),m.jsx(k6,{scope:e,isOpenDelayedRef:l,delayDuration:r,onOpen:I.useCallback(()=>{window.clearTimeout(f.current),l.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:I.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:o})};SC.displayName=EC;var AC="Tooltip",[cF,a0]=o0(AC),Jp="TooltipTrigger",P6=I.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=a0(Jp,r),o=CC(Jp,r),l=ax(r),u=I.useRef(null),f=st(e,u,s.onTriggerChange),h=I.useRef(!1),x=I.useRef(!1),w=I.useCallback(()=>h.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),m.jsx(vC,{asChild:!0,...l,children:m.jsx(Fe.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:f,onPointerMove:Ie(t.onPointerMove,v=>{v.pointerType!=="touch"&&!x.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),x.current=!0)}),onPointerLeave:Ie(t.onPointerLeave,()=>{s.onTriggerLeave(),x.current=!1}),onPointerDown:Ie(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Ie(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:Ie(t.onBlur,s.onClose),onClick:Ie(t.onClick,s.onClose)})})});P6.displayName=Jp;var D6="TooltipPortal",[uF,j6]=o0(D6,{forceMount:void 0}),hc="TooltipContent",TC=I.forwardRef((t,e)=>{const r=j6(hc,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,l=a0(hc,t.__scopeTooltip);return m.jsx(gs,{present:n||l.open,children:l.disableHoverableContent?m.jsx(NC,{side:s,...o,ref:e}):m.jsx(L6,{side:s,...o,ref:e})})}),L6=I.forwardRef((t,e)=>{const r=a0(hc,t.__scopeTooltip),n=CC(hc,t.__scopeTooltip),s=I.useRef(null),o=st(e,s),[l,u]=I.useState(null),{trigger:f,onClose:h}=r,x=s.current,{onPointerInTransitChange:w}=n,v=I.useCallback(()=>{u(null),w(!1)},[w]),E=I.useCallback((S,b)=>{const N=S.currentTarget,R={x:S.clientX,y:S.clientY},T=V6(R,N.getBoundingClientRect()),A=H6(R,T),M=W6(b.getBoundingClientRect()),D=G6([...A,...M]);u(D),w(!0)},[w]);return I.useEffect(()=>()=>v(),[v]),I.useEffect(()=>{if(f&&x){const S=N=>E(N,x),b=N=>E(N,f);return f.addEventListener("pointerleave",S),x.addEventListener("pointerleave",b),()=>{f.removeEventListener("pointerleave",S),x.removeEventListener("pointerleave",b)}}},[f,x,E,v]),I.useEffect(()=>{if(l){const S=b=>{const N=b.target,R={x:b.clientX,y:b.clientY},T=(f==null?void 0:f.contains(N))||(x==null?void 0:x.contains(N)),A=!$6(R,l);T?v():A&&(v(),h())};return document.addEventListener("pointermove",S),()=>document.removeEventListener("pointermove",S)}},[f,x,l,h,v]),m.jsx(NC,{...t,ref:o})}),[B6,F6]=o0(AC,{isInside:!1}),U6=YR("TooltipContent"),NC=I.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=t,f=a0(hc,r),h=ax(r),{onClose:x}=f;return I.useEffect(()=>(document.addEventListener(rv,x),()=>document.removeEventListener(rv,x)),[x]),I.useEffect(()=>{if(f.trigger){const w=v=>{const E=v.target;E!=null&&E.contains(f.trigger)&&x()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[f.trigger,x]),m.jsx(hd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:w=>w.preventDefault(),onDismiss:x,children:m.jsxs(_C,{"data-state":f.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(U6,{children:n}),m.jsx(B6,{scope:r,isInside:!0,children:m.jsx(gO,{id:f.contentId,role:"tooltip",children:s||n})})]})})});TC.displayName=hc;var IC="TooltipArrow",z6=I.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=ax(r);return F6(IC,r).isInside?null:m.jsx(bC,{...s,...n,ref:e})});z6.displayName=IC;function V6(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function H6(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function W6(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function $6(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o],f=e[l],h=u.x,x=u.y,w=f.x,v=f.y;x>n!=v>n&&r<(w-h)*(n-x)/(v-x)+h&&(s=!s)}return s}function G6(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Y6(e)}function Y6(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],l=r[r.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var X6=SC,RC=TC;const q6=X6,K6=I.forwardRef(({className:t,sideOffset:e=4,...r},n)=>m.jsx(RC,{ref:n,sideOffset:e,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));K6.displayName=RC.displayName;var l0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},c0=typeof window>"u"||"Deno"in globalThis;function Ts(){}function Q6(t,e){return typeof t=="function"?t(e):t}function Z6(t){return typeof t=="number"&&t>=0&&t!==1/0}function J6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function eg(t,e){return typeof t=="function"?t(e):t}function ek(t,e){return typeof t=="function"?t(e):t}function nv(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:l,stale:u}=t;if(l){if(n){if(e.queryHash!==lx(l,e.options))return!1}else if(!Gu(e.queryKey,l))return!1}if(r!=="all"){const f=e.isActive();if(r==="active"&&!f||r==="inactive"&&f)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||o&&!o(e))}function sv(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if($u(e.options.mutationKey)!==$u(o))return!1}else if(!Gu(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function lx(t,e){return((e==null?void 0:e.queryKeyHashFn)||$u)(t)}function $u(t){return JSON.stringify(t,(e,r)=>tg(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Gu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Gu(t[r],e[r])):!1}function OC(t,e){if(t===e)return t;const r=iv(t)&&iv(e);if(r||tg(t)&&tg(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),l=o.length,u=r?[]:{},f=new Set(n);let h=0;for(let x=0;x<l;x++){const w=r?x:o[x];(!r&&f.has(w)||r)&&t[w]===void 0&&e[w]===void 0?(u[w]=void 0,h++):(u[w]=OC(t[w],e[w]),u[w]===t[w]&&t[w]!==void 0&&h++)}return s===l&&h===s?t:u}return e}function iv(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function tg(t){if(!ov(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!ov(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function ov(t){return Object.prototype.toString.call(t)==="[object Object]"}function tk(t){return new Promise(e=>{setTimeout(e,t)})}function rk(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?OC(t,e):e}function nk(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function sk(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var cx=Symbol();function MC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var _a,ao,ql,j2,ik=(j2=class extends l0{constructor(){super();mt(this,_a);mt(this,ao);mt(this,ql);Ge(this,ql,e=>{if(!c0&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ie(this,ao)||this.setEventListener(ie(this,ql))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,ao))==null||e.call(this),Ge(this,ao,void 0))}setEventListener(e){var r;Ge(this,ql,e),(r=ie(this,ao))==null||r.call(this),Ge(this,ao,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ie(this,_a)!==e&&(Ge(this,_a,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ie(this,_a)=="boolean"?ie(this,_a):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},_a=new WeakMap,ao=new WeakMap,ql=new WeakMap,j2),kC=new ik,Kl,lo,Ql,L2,ok=(L2=class extends l0{constructor(){super();mt(this,Kl,!0);mt(this,lo);mt(this,Ql);Ge(this,Ql,e=>{if(!c0&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,lo)||this.setEventListener(ie(this,Ql))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,lo))==null||e.call(this),Ge(this,lo,void 0))}setEventListener(e){var r;Ge(this,Ql,e),(r=ie(this,lo))==null||r.call(this),Ge(this,lo,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Kl)!==e&&(Ge(this,Kl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ie(this,Kl)}},Kl=new WeakMap,lo=new WeakMap,Ql=new WeakMap,L2),pf=new ok;function ak(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function lk(t){return Math.min(1e3*2**t,3e4)}function PC(t){return(t??"online")==="online"?pf.isOnline():!0}var DC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function C1(t){return t instanceof DC}function jC(t){let e=!1,r=0,n=!1,s;const o=ak(),l=b=>{var N;n||(v(new DC(b)),(N=t.abort)==null||N.call(t))},u=()=>{e=!0},f=()=>{e=!1},h=()=>kC.isFocused()&&(t.networkMode==="always"||pf.isOnline())&&t.canRun(),x=()=>PC(t.networkMode)&&t.canRun(),w=b=>{var N;n||(n=!0,(N=t.onSuccess)==null||N.call(t,b),s==null||s(),o.resolve(b))},v=b=>{var N;n||(n=!0,(N=t.onError)==null||N.call(t,b),s==null||s(),o.reject(b))},E=()=>new Promise(b=>{var N;s=R=>{(n||h())&&b(R)},(N=t.onPause)==null||N.call(t)}).then(()=>{var b;s=void 0,n||(b=t.onContinue)==null||b.call(t)}),S=()=>{if(n)return;let b;const N=r===0?t.initialPromise:void 0;try{b=N??t.fn()}catch(R){b=Promise.reject(R)}Promise.resolve(b).then(w).catch(R=>{var F;if(n)return;const T=t.retry??(c0?0:3),A=t.retryDelay??lk,M=typeof A=="function"?A(r,R):A,D=T===!0||typeof T=="number"&&r<T||typeof T=="function"&&T(r,R);if(e||!D){v(R);return}r++,(F=t.onFail)==null||F.call(t,r,R),tk(M).then(()=>h()?void 0:E()).then(()=>{e?v(R):S()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:u,continueRetry:f,canStart:x,start:()=>(x()?S():E().then(S),o)}}var ck=t=>setTimeout(t,0);function uk(){let t=[],e=0,r=u=>{u()},n=u=>{u()},s=ck;const o=u=>{e?t.push(u):s(()=>{r(u)})},l=()=>{const u=t;t=[],u.length&&s(()=>{n(()=>{u.forEach(f=>{r(f)})})})};return{batch:u=>{let f;e++;try{f=u()}finally{e--,e||l()}return f},batchCalls:u=>(...f)=>{o(()=>{u(...f)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var on=uk(),ba,B2,LC=(B2=class{constructor(){mt(this,ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Z6(this.gcTime)&&Ge(this,ba,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(c0?1/0:5*60*1e3))}clearGcTimeout(){ie(this,ba)&&(clearTimeout(ie(this,ba)),Ge(this,ba,void 0))}},ba=new WeakMap,B2),Zl,Ea,ts,Ca,qr,id,Sa,Is,yi,F2,dk=(F2=class extends LC{constructor(e){super();mt(this,Is);mt(this,Zl);mt(this,Ea);mt(this,ts);mt(this,Ca);mt(this,qr);mt(this,id);mt(this,Sa);Ge(this,Sa,!1),Ge(this,id,e.defaultOptions),this.setOptions(e.options),this.observers=[],Ge(this,Ca,e.client),Ge(this,ts,ie(this,Ca).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Ge(this,Zl,fk(this.options)),this.state=e.state??ie(this,Zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ie(this,qr))==null?void 0:e.promise}setOptions(e){this.options={...ie(this,id),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,ts).remove(this)}setData(e,r){const n=rk(this.state.data,e,this.options);return $r(this,Is,yi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){$r(this,Is,yi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=ie(this,qr))==null?void 0:n.promise;return(s=ie(this,qr))==null||s.cancel(e),r?r.then(Ts).catch(Ts):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Zl))}isActive(){return this.observers.some(e=>ek(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>eg(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!J6(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ie(this,qr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ie(this,qr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ie(this,ts).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ie(this,qr)&&(ie(this,Sa)?ie(this,qr).cancel({revert:!0}):ie(this,qr).cancelRetry()),this.scheduleGc()),ie(this,ts).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||$r(this,Is,yi).call(this,{type:"invalidate"})}fetch(e,r){var h,x,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,qr))return ie(this,qr).continueRetry(),ie(this,qr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const v=this.observers.find(E=>E.options.queryFn);v&&this.setOptions(v.options)}const n=new AbortController,s=v=>{Object.defineProperty(v,"signal",{enumerable:!0,get:()=>(Ge(this,Sa,!0),n.signal)})},o=()=>{const v=MC(this.options,r),S=(()=>{const b={client:ie(this,Ca),queryKey:this.queryKey,meta:this.meta};return s(b),b})();return Ge(this,Sa,!1),this.options.persister?this.options.persister(v,S,this):v(S)},u=(()=>{const v={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,Ca),state:this.state,fetchFn:o};return s(v),v})();(h=this.options.behavior)==null||h.onFetch(u,this),Ge(this,Ea,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=u.fetchOptions)==null?void 0:x.meta))&&$r(this,Is,yi).call(this,{type:"fetch",meta:(w=u.fetchOptions)==null?void 0:w.meta});const f=v=>{var E,S,b,N;C1(v)&&v.silent||$r(this,Is,yi).call(this,{type:"error",error:v}),C1(v)||((S=(E=ie(this,ts).config).onError)==null||S.call(E,v,this),(N=(b=ie(this,ts).config).onSettled)==null||N.call(b,this.state.data,v,this)),this.scheduleGc()};return Ge(this,qr,jC({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:v=>{var E,S,b,N;if(v===void 0){f(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(v)}catch(R){f(R);return}(S=(E=ie(this,ts).config).onSuccess)==null||S.call(E,v,this),(N=(b=ie(this,ts).config).onSettled)==null||N.call(b,v,this.state.error,this),this.scheduleGc()},onError:f,onFail:(v,E)=>{$r(this,Is,yi).call(this,{type:"failed",failureCount:v,error:E})},onPause:()=>{$r(this,Is,yi).call(this,{type:"pause"})},onContinue:()=>{$r(this,Is,yi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),ie(this,qr).start()}},Zl=new WeakMap,Ea=new WeakMap,ts=new WeakMap,Ca=new WeakMap,qr=new WeakMap,id=new WeakMap,Sa=new WeakMap,Is=new WeakSet,yi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...hk(n.data,this.options),fetchMeta:e.meta??null};case"success":return Ge(this,Ea,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return C1(s)&&s.revert&&ie(this,Ea)?{...ie(this,Ea),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),on.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,ts).notify({query:this,type:"updated",action:e})})},F2);function hk(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:PC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function fk(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var ei,U2,pk=(U2=class extends l0{constructor(e={}){super();mt(this,ei);this.config=e,Ge(this,ei,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??lx(s,r);let l=this.get(o);return l||(l=new dk({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){ie(this,ei).has(e.queryHash)||(ie(this,ei).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ie(this,ei).get(e.queryHash);r&&(e.destroy(),r===e&&ie(this,ei).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){on.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,ei).get(e)}getAll(){return[...ie(this,ei).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>nv(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>nv(e,n)):r}notify(e){on.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){on.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){on.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ei=new WeakMap,U2),ti,nn,Aa,ri,eo,z2,gk=(z2=class extends LC{constructor(e){super();mt(this,ri);mt(this,ti);mt(this,nn);mt(this,Aa);this.mutationId=e.mutationId,Ge(this,nn,e.mutationCache),Ge(this,ti,[]),this.state=e.state||mk(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ie(this,ti).includes(e)||(ie(this,ti).push(e),this.clearGcTimeout(),ie(this,nn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Ge(this,ti,ie(this,ti).filter(r=>r!==e)),this.scheduleGc(),ie(this,nn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ie(this,ti).length||(this.state.status==="pending"?this.scheduleGc():ie(this,nn).remove(this))}continue(){var e;return((e=ie(this,Aa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,u,f,h,x,w,v,E,S,b,N,R,T,A,M,D,F,L,U;const r=()=>{$r(this,ri,eo).call(this,{type:"continue"})};Ge(this,Aa,jC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(B,K)=>{$r(this,ri,eo).call(this,{type:"failed",failureCount:B,error:K})},onPause:()=>{$r(this,ri,eo).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,nn).canRun(this)}));const n=this.state.status==="pending",s=!ie(this,Aa).canStart();try{if(n)r();else{$r(this,ri,eo).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(o=ie(this,nn).config).onMutate)==null?void 0:l.call(o,e,this));const K=await((f=(u=this.options).onMutate)==null?void 0:f.call(u,e));K!==this.state.context&&$r(this,ri,eo).call(this,{type:"pending",context:K,variables:e,isPaused:s})}const B=await ie(this,Aa).start();return await((x=(h=ie(this,nn).config).onSuccess)==null?void 0:x.call(h,B,e,this.state.context,this)),await((v=(w=this.options).onSuccess)==null?void 0:v.call(w,B,e,this.state.context)),await((S=(E=ie(this,nn).config).onSettled)==null?void 0:S.call(E,B,null,this.state.variables,this.state.context,this)),await((N=(b=this.options).onSettled)==null?void 0:N.call(b,B,null,e,this.state.context)),$r(this,ri,eo).call(this,{type:"success",data:B}),B}catch(B){try{throw await((T=(R=ie(this,nn).config).onError)==null?void 0:T.call(R,B,e,this.state.context,this)),await((M=(A=this.options).onError)==null?void 0:M.call(A,B,e,this.state.context)),await((F=(D=ie(this,nn).config).onSettled)==null?void 0:F.call(D,void 0,B,this.state.variables,this.state.context,this)),await((U=(L=this.options).onSettled)==null?void 0:U.call(L,void 0,B,e,this.state.context)),B}finally{$r(this,ri,eo).call(this,{type:"error",error:B})}}finally{ie(this,nn).runNext(this)}}},ti=new WeakMap,nn=new WeakMap,Aa=new WeakMap,ri=new WeakSet,eo=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),on.batch(()=>{ie(this,ti).forEach(n=>{n.onMutationUpdate(e)}),ie(this,nn).notify({mutation:this,type:"updated",action:e})})},z2);function mk(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Si,Rs,od,V2,xk=(V2=class extends l0{constructor(e={}){super();mt(this,Si);mt(this,Rs);mt(this,od);this.config=e,Ge(this,Si,new Set),Ge(this,Rs,new Map),Ge(this,od,0)}build(e,r,n){const s=new gk({mutationCache:this,mutationId:++Pd(this,od)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){ie(this,Si).add(e);const r=rh(e);if(typeof r=="string"){const n=ie(this,Rs).get(r);n?n.push(e):ie(this,Rs).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ie(this,Si).delete(e)){const r=rh(e);if(typeof r=="string"){const n=ie(this,Rs).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&ie(this,Rs).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=rh(e);if(typeof r=="string"){const n=ie(this,Rs).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=rh(e);if(typeof r=="string"){const s=(n=ie(this,Rs).get(r))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){on.batch(()=>{ie(this,Si).forEach(e=>{this.notify({type:"removed",mutation:e})}),ie(this,Si).clear(),ie(this,Rs).clear()})}getAll(){return Array.from(ie(this,Si))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>sv(r,n))}findAll(e={}){return this.getAll().filter(r=>sv(e,r))}notify(e){on.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return on.batch(()=>Promise.all(e.map(r=>r.continue().catch(Ts))))}},Si=new WeakMap,Rs=new WeakMap,od=new WeakMap,V2);function rh(t){var e;return(e=t.options.scope)==null?void 0:e.id}function av(t){return{onFetch:(e,r)=>{var x,w,v,E,S;const n=e.options,s=(v=(w=(x=e.fetchOptions)==null?void 0:x.meta)==null?void 0:w.fetchMore)==null?void 0:v.direction,o=((E=e.state.data)==null?void 0:E.pages)||[],l=((S=e.state.data)==null?void 0:S.pageParams)||[];let u={pages:[],pageParams:[]},f=0;const h=async()=>{let b=!1;const N=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?b=!0:e.signal.addEventListener("abort",()=>{b=!0}),e.signal)})},R=MC(e.options,e.fetchOptions),T=async(A,M,D)=>{if(b)return Promise.reject();if(M==null&&A.pages.length)return Promise.resolve(A);const L=(()=>{const ee={client:e.client,queryKey:e.queryKey,pageParam:M,direction:D?"backward":"forward",meta:e.options.meta};return N(ee),ee})(),U=await R(L),{maxPages:B}=e.options,K=D?sk:nk;return{pages:K(A.pages,U,B),pageParams:K(A.pageParams,M,B)}};if(s&&o.length){const A=s==="backward",M=A?yk:lv,D={pages:o,pageParams:l},F=M(n,D);u=await T(D,F,A)}else{const A=t??o.length;do{const M=f===0?l[0]??n.initialPageParam:lv(n,u);if(f>0&&M==null)break;u=await T(u,M),f++}while(f<A)}return u};e.options.persister?e.fetchFn=()=>{var b,N;return(N=(b=e.options).persister)==null?void 0:N.call(b,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=h}}}function lv(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function yk(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var nr,co,uo,Jl,ec,ho,tc,rc,H2,wk=(H2=class{constructor(t={}){mt(this,nr);mt(this,co);mt(this,uo);mt(this,Jl);mt(this,ec);mt(this,ho);mt(this,tc);mt(this,rc);Ge(this,nr,t.queryCache||new pk),Ge(this,co,t.mutationCache||new xk),Ge(this,uo,t.defaultOptions||{}),Ge(this,Jl,new Map),Ge(this,ec,new Map),Ge(this,ho,0)}mount(){Pd(this,ho)._++,ie(this,ho)===1&&(Ge(this,tc,kC.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,nr).onFocus())})),Ge(this,rc,pf.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,nr).onOnline())})))}unmount(){var t,e;Pd(this,ho)._--,ie(this,ho)===0&&((t=ie(this,tc))==null||t.call(this),Ge(this,tc,void 0),(e=ie(this,rc))==null||e.call(this),Ge(this,rc,void 0))}isFetching(t){return ie(this,nr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,co).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ie(this,nr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=ie(this,nr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(eg(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return ie(this,nr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=ie(this,nr).get(n.queryHash),o=s==null?void 0:s.state.data,l=Q6(e,o);if(l!==void 0)return ie(this,nr).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return on.batch(()=>ie(this,nr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ie(this,nr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ie(this,nr);on.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ie(this,nr);return on.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=on.batch(()=>ie(this,nr).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Ts).catch(Ts)}invalidateQueries(t,e={}){return on.batch(()=>(ie(this,nr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=on.batch(()=>ie(this,nr).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Ts)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Ts)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ie(this,nr).build(this,e);return r.isStaleByTime(eg(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ts).catch(Ts)}fetchInfiniteQuery(t){return t.behavior=av(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ts).catch(Ts)}ensureInfiniteQueryData(t){return t.behavior=av(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return pf.isOnline()?ie(this,co).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,nr)}getMutationCache(){return ie(this,co)}getDefaultOptions(){return ie(this,uo)}setDefaultOptions(t){Ge(this,uo,t)}setQueryDefaults(t,e){ie(this,Jl).set($u(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,Jl).values()],r={};return e.forEach(n=>{Gu(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){ie(this,ec).set($u(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,ec).values()],r={};return e.forEach(n=>{Gu(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,uo).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lx(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,uo).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,nr).clear(),ie(this,co).clear()}},nr=new WeakMap,co=new WeakMap,uo=new WeakMap,Jl=new WeakMap,ec=new WeakMap,ho=new WeakMap,tc=new WeakMap,rc=new WeakMap,H2),vk=I.createContext(void 0),_k=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(vk.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yu(){return Yu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yu.apply(this,arguments)}var mo;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(mo||(mo={}));const cv="popstate";function bk(t){t===void 0&&(t={});function e(s,o){let{pathname:l="/",search:u="",hash:f=""}=Xa(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),rg("",{pathname:l,search:u,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let f=s.location.href,h=f.indexOf("#");u=h===-1?f:f.slice(0,h)}return u+"#"+(typeof o=="string"?o:gf(o))}function n(s,o){ux(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Ck(e,r,n,t)}function xr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ux(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ek(){return Math.random().toString(36).substr(2,8)}function uv(t,e){return{usr:t.state,key:t.key,idx:e}}function rg(t,e,r,n){return r===void 0&&(r=null),Yu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xa(e):e,{state:r,key:e&&e.key||n||Ek()})}function gf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xa(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Ck(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u=mo.Pop,f=null,h=x();h==null&&(h=0,l.replaceState(Yu({},l.state,{idx:h}),""));function x(){return(l.state||{idx:null}).idx}function w(){u=mo.Pop;let N=x(),R=N==null?null:N-h;h=N,f&&f({action:u,location:b.location,delta:R})}function v(N,R){u=mo.Push;let T=rg(b.location,N,R);r&&r(T,N),h=x()+1;let A=uv(T,h),M=b.createHref(T);try{l.pushState(A,"",M)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(M)}o&&f&&f({action:u,location:b.location,delta:1})}function E(N,R){u=mo.Replace;let T=rg(b.location,N,R);r&&r(T,N),h=x();let A=uv(T,h),M=b.createHref(T);l.replaceState(A,"",M),o&&f&&f({action:u,location:b.location,delta:0})}function S(N){let R=s.location.origin!=="null"?s.location.origin:s.location.href,T=typeof N=="string"?N:gf(N);return T=T.replace(/ $/,"%20"),xr(R,"No window.location.(origin|href) available to create URL for href: "+T),new URL(T,R)}let b={get action(){return u},get location(){return t(s,l)},listen(N){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(cv,w),f=N,()=>{s.removeEventListener(cv,w),f=null}},createHref(N){return e(s,N)},createURL:S,encodeLocation(N){let R=S(N);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:E,go(N){return l.go(N)}};return b}var dv;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dv||(dv={}));function Sk(t,e,r){return r===void 0&&(r="/"),Ak(t,e,r,!1)}function Ak(t,e,r,n){let s=typeof e=="string"?Xa(e):e,o=dx(s.pathname||"/",r);if(o==null)return null;let l=BC(t);Tk(l);let u=null;for(let f=0;u==null&&f<l.length;++f){let h=Bk(o);u=jk(l[f],h,n)}return u}function BC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,l,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};f.relativePath.startsWith("/")&&(xr(f.relativePath.startsWith(n),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(n.length));let h=Io([n,f.relativePath]),x=r.concat(f);o.children&&o.children.length>0&&(xr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),BC(o.children,e,x,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:Pk(h,o.index),routesMeta:x})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let f of FC(o.path))s(o,l,f)}),e}function FC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=FC(n.join("/")),u=[];return u.push(...l.map(f=>f===""?o:[o,f].join("/"))),s&&u.push(...l),u.map(f=>t.startsWith("/")&&f===""?"/":f)}function Tk(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Dk(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Nk=/^:[\w-]+$/,Ik=3,Rk=2,Ok=1,Mk=10,kk=-2,hv=t=>t==="*";function Pk(t,e){let r=t.split("/"),n=r.length;return r.some(hv)&&(n+=kk),e&&(n+=Rk),r.filter(s=>!hv(s)).reduce((s,o)=>s+(Nk.test(o)?Ik:o===""?Ok:Mk),n)}function Dk(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function jk(t,e,r){let{routesMeta:n}=t,s={},o="/",l=[];for(let u=0;u<n.length;++u){let f=n[u],h=u===n.length-1,x=o==="/"?e:e.slice(o.length)||"/",w=fv({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},x),v=f.route;if(!w&&h&&r&&!n[n.length-1].route.index&&(w=fv({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},x)),!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:Io([o,w.pathname]),pathnameBase:Vk(Io([o,w.pathnameBase])),route:v}),w.pathnameBase!=="/"&&(o=Io([o,w.pathnameBase]))}return l}function fv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Lk(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,x,w)=>{let{paramName:v,isOptional:E}=x;if(v==="*"){let b=u[w]||"";l=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const S=u[w];return E&&!S?h[v]=void 0:h[v]=(S||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function Lk(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),ux(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,f)=>(n.push({paramName:u,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Bk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ux(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function dx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Fk(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Xa(t):t;return{pathname:r?r.startsWith("/")?r:Uk(r,e):e,search:Hk(n),hash:Wk(s)}}function Uk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function S1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function UC(t,e){let r=zk(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function zC(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Xa(t):(s=Yu({},t),xr(!s.pathname||!s.pathname.includes("?"),S1("?","pathname","search",s)),xr(!s.pathname||!s.pathname.includes("#"),S1("#","pathname","hash",s)),xr(!s.search||!s.search.includes("#"),S1("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=r;else{let w=e.length-1;if(!n&&l.startsWith("..")){let v=l.split("/");for(;v[0]==="..";)v.shift(),w-=1;s.pathname=v.join("/")}u=w>=0?e[w]:"/"}let f=Fk(s,u),h=l&&l!=="/"&&l.endsWith("/"),x=(o||l===".")&&r.endsWith("/");return!f.pathname.endsWith("/")&&(h||x)&&(f.pathname+="/"),f}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),Vk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function $k(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const VC=["post","put","patch","delete"];new Set(VC);const Gk=["get",...VC];new Set(Gk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}const hx=I.createContext(null),Yk=I.createContext(null),qa=I.createContext(null),u0=I.createContext(null),$o=I.createContext({outlet:null,matches:[],isDataRoute:!1}),HC=I.createContext(null);function Xk(t,e){let{relative:r}=e===void 0?{}:e;md()||xr(!1);let{basename:n,navigator:s}=I.useContext(qa),{hash:o,pathname:l,search:u}=$C(t,{relative:r}),f=l;return n!=="/"&&(f=l==="/"?n:Io([n,l])),s.createHref({pathname:f,search:u,hash:o})}function md(){return I.useContext(u0)!=null}function Go(){return md()||xr(!1),I.useContext(u0).location}function WC(t){I.useContext(qa).static||I.useLayoutEffect(t)}function Nn(){let{isDataRoute:t}=I.useContext($o);return t?lP():qk()}function qk(){md()||xr(!1);let t=I.useContext(hx),{basename:e,future:r,navigator:n}=I.useContext(qa),{matches:s}=I.useContext($o),{pathname:o}=Go(),l=JSON.stringify(UC(s,r.v7_relativeSplatPath)),u=I.useRef(!1);return WC(()=>{u.current=!0}),I.useCallback(function(h,x){if(x===void 0&&(x={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let w=zC(h,JSON.parse(l),o,x.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Io([e,w.pathname])),(x.replace?n.replace:n.push)(w,x.state,x)},[e,n,l,o,t])}function Kk(){let{matches:t}=I.useContext($o),e=t[t.length-1];return e?e.params:{}}function $C(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=I.useContext(qa),{matches:s}=I.useContext($o),{pathname:o}=Go(),l=JSON.stringify(UC(s,n.v7_relativeSplatPath));return I.useMemo(()=>zC(t,JSON.parse(l),o,r==="path"),[t,l,o,r])}function Qk(t,e){return Zk(t,e)}function Zk(t,e,r,n){md()||xr(!1);let{navigator:s}=I.useContext(qa),{matches:o}=I.useContext($o),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let h=Go(),x;if(e){var w;let N=typeof e=="string"?Xa(e):e;f==="/"||(w=N.pathname)!=null&&w.startsWith(f)||xr(!1),x=N}else x=h;let v=x.pathname||"/",E=v;if(f!=="/"){let N=f.replace(/^\//,"").split("/");E="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=Sk(t,{pathname:E}),b=nP(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Io([f,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?f:Io([f,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,r,n);return e&&b?I.createElement(u0.Provider,{value:{location:Xu({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:mo.Pop}},b):b}function Jk(){let t=aP(),e=$k(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:s},r):null,null)}const eP=I.createElement(Jk,null);class tP extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?I.createElement($o.Provider,{value:this.props.routeContext},I.createElement(HC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rP(t){let{routeContext:e,match:r,children:n}=t,s=I.useContext(hx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement($o.Provider,{value:e},n)}function nP(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=(s=r)==null?void 0:s.errors;if(u!=null){let x=l.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);x>=0||xr(!1),l=l.slice(0,Math.min(l.length,x+1))}let f=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let x=0;x<l.length;x++){let w=l[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(h=x),w.route.id){let{loaderData:v,errors:E}=r,S=w.route.loader&&v[w.route.id]===void 0&&(!E||E[w.route.id]===void 0);if(w.route.lazy||S){f=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((x,w,v)=>{let E,S=!1,b=null,N=null;r&&(E=u&&w.route.id?u[w.route.id]:void 0,b=w.route.errorElement||eP,f&&(h<0&&v===0?(S=!0,N=null):h===v&&(S=!0,N=w.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,v+1)),T=()=>{let A;return E?A=b:S?A=N:w.route.Component?A=I.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=x,I.createElement(rP,{match:w,routeContext:{outlet:x,matches:R,isDataRoute:r!=null},children:A})};return r&&(w.route.ErrorBoundary||w.route.errorElement||v===0)?I.createElement(tP,{location:r.location,revalidation:r.revalidation,component:b,error:E,children:T(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):T()},null)}var GC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(GC||{}),mf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(mf||{});function sP(t){let e=I.useContext(hx);return e||xr(!1),e}function iP(t){let e=I.useContext(Yk);return e||xr(!1),e}function oP(t){let e=I.useContext($o);return e||xr(!1),e}function YC(t){let e=oP(),r=e.matches[e.matches.length-1];return r.route.id||xr(!1),r.route.id}function aP(){var t;let e=I.useContext(HC),r=iP(mf.UseRouteError),n=YC(mf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function lP(){let{router:t}=sP(GC.UseNavigateStable),e=YC(mf.UseNavigateStable),r=I.useRef(!1);return WC(()=>{r.current=!0}),I.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Xu({fromRouteId:e},o)))},[t,e])}function cP(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Xr(t){xr(!1)}function uP(t){let{basename:e="/",children:r=null,location:n,navigationType:s=mo.Pop,navigator:o,static:l=!1,future:u}=t;md()&&xr(!1);let f=e.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:f,navigator:o,static:l,future:Xu({v7_relativeSplatPath:!1},u)}),[f,u,o,l]);typeof n=="string"&&(n=Xa(n));let{pathname:x="/",search:w="",hash:v="",state:E=null,key:S="default"}=n,b=I.useMemo(()=>{let N=dx(x,f);return N==null?null:{location:{pathname:N,search:w,hash:v,state:E,key:S},navigationType:s}},[f,x,w,v,E,S,s]);return b==null?null:I.createElement(qa.Provider,{value:h},I.createElement(u0.Provider,{children:r,value:b}))}function dP(t){let{children:e,location:r}=t;return Qk(ng(e),r)}new Promise(()=>{});function ng(t,e){e===void 0&&(e=[]);let r=[];return I.Children.forEach(t,(n,s)=>{if(!I.isValidElement(n))return;let o=[...e,s];if(n.type===I.Fragment){r.push.apply(r,ng(n.props.children,o));return}n.type!==Xr&&xr(!1),!n.props.index||!n.props.children||xr(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=ng(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sg(){return sg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sg.apply(this,arguments)}function hP(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function fP(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function pP(t,e){return t.button===0&&(!e||e==="_self")&&!fP(t)}const gP=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],mP="6";try{window.__reactRouterVersion=mP}catch{}const xP="startTransition",pv=Zg[xP];function yP(t){let{basename:e,children:r,future:n,window:s}=t,o=I.useRef();o.current==null&&(o.current=bk({window:s,v5Compat:!0}));let l=o.current,[u,f]=I.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},x=I.useCallback(w=>{h&&pv?pv(()=>f(w)):f(w)},[f,h]);return I.useLayoutEffect(()=>l.listen(x),[l,x]),I.useEffect(()=>cP(n),[n]),I.createElement(uP,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const wP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,A1=I.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:o,replace:l,state:u,target:f,to:h,preventScrollReset:x,viewTransition:w}=e,v=hP(e,gP),{basename:E}=I.useContext(qa),S,b=!1;if(typeof h=="string"&&vP.test(h)&&(S=h,wP))try{let A=new URL(window.location.href),M=h.startsWith("//")?new URL(A.protocol+h):new URL(h),D=dx(M.pathname,E);M.origin===A.origin&&D!=null?h=D+M.search+M.hash:b=!0}catch{}let N=Xk(h,{relative:s}),R=_P(h,{replace:l,state:u,target:f,preventScrollReset:x,relative:s,viewTransition:w});function T(A){n&&n(A),A.defaultPrevented||R(A)}return I.createElement("a",sg({},v,{href:S||N,onClick:b||o?n:T,ref:r,target:f}))});var gv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(gv||(gv={}));var mv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(mv||(mv={}));function _P(t,e){let{target:r,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,f=Nn(),h=Go(),x=$C(t,{relative:l});return I.useCallback(w=>{if(pP(w,r)){w.preventDefault();let v=n!==void 0?n:gf(h)===gf(x);f(t,{replace:v,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[h,f,x,n,s,r,t,o,l,u])}var ig=function(t,e){return ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},ig(t,e)};function XC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");ig(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ss=function(){return ss=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ss.apply(this,arguments)};function Yo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function qC(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(o=(s<3?l(o):s>3?l(e,r,o):l(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function KC(t,e){return function(r,n){e(r,n,t)}}function QC(t,e,r,n,s,o){function l(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var u=n.kind,f=u==="getter"?"get":u==="setter"?"set":"value",h=!e&&t?n.static?t:t.prototype:null,x=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),w,v=!1,E=r.length-1;E>=0;E--){var S={};for(var b in n)S[b]=b==="access"?{}:n[b];for(var b in n.access)S.access[b]=n.access[b];S.addInitializer=function(R){if(v)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(R||null))};var N=(0,r[E])(u==="accessor"?{get:x.get,set:x.set}:x[f],S);if(u==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(w=l(N.get))&&(x.get=w),(w=l(N.set))&&(x.set=w),(w=l(N.init))&&s.unshift(w)}else(w=l(N))&&(u==="field"?s.unshift(w):x[f]=w)}h&&Object.defineProperty(h,n.name,x),v=!0}function ZC(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function JC(t){return typeof t=="symbol"?t:"".concat(t)}function eS(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function tS(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ne(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function f(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,f)}h((n=n.apply(t,e||[])).next())})}function rS(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return f([h,x])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var d0=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function nS(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&d0(e,t,r)}function xf(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function fx(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],l;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return o}function sS(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(fx(arguments[e]));return t}function iS(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],l=0,u=o.length;l<u;l++,s++)n[s]=o[l];return n}function px(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function fc(t){return this instanceof fc?(this.v=t,this):new fc(t)}function oS(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(E){return function(S){return Promise.resolve(S).then(E,w)}}function u(E,S){n[E]&&(s[E]=function(b){return new Promise(function(N,R){o.push([E,b,N,R])>1||f(E,b)})},S&&(s[E]=S(s[E])))}function f(E,S){try{h(n[E](S))}catch(b){v(o[0][3],b)}}function h(E){E.value instanceof fc?Promise.resolve(E.value.v).then(x,w):v(o[0][2],E)}function x(E){f("next",E)}function w(E){f("throw",E)}function v(E,S){E(S),o.shift(),o.length&&f(o[0][0],o[0][1])}}function aS(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(l){return(r=!r)?{value:fc(t[s](l)),done:!1}:o?o(l):l}:o}}function lS(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof xf=="function"?xf(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(l){return new Promise(function(u,f){l=t[o](l),s(u,f,l.done,l.value)})}}function s(o,l,u,f){Promise.resolve(f).then(function(h){o({value:h,done:u})},l)}}function cS(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var bP=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},og=function(t){return og=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},og(t)};function uS(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=og(t),n=0;n<r.length;n++)r[n]!=="default"&&d0(e,t,r[n]);return bP(e,t),e}function dS(t){return t&&t.__esModule?t:{default:t}}function hS(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function fS(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function pS(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function gS(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var EP=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function mS(t){function e(o){t.error=t.hasError?new EP(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(l){return e(l),s()})}else n|=1}catch(l){e(l)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function xS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,l){return n?e?".jsx":".js":s&&(!o||!l)?r:s+o+"."+l.toLowerCase()+"js"}):t}const CP={__extends:XC,__assign:ss,__rest:Yo,__decorate:qC,__param:KC,__esDecorate:QC,__runInitializers:ZC,__propKey:JC,__setFunctionName:eS,__metadata:tS,__awaiter:Ne,__generator:rS,__createBinding:d0,__exportStar:nS,__values:xf,__read:fx,__spread:sS,__spreadArrays:iS,__spreadArray:px,__await:fc,__asyncGenerator:oS,__asyncDelegator:aS,__asyncValues:lS,__makeTemplateObject:cS,__importStar:uS,__importDefault:dS,__classPrivateFieldGet:hS,__classPrivateFieldSet:fS,__classPrivateFieldIn:pS,__addDisposableResource:gS,__disposeResources:mS,__rewriteRelativeImportExtension:xS},SP=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:gS,get __assign(){return ss},__asyncDelegator:aS,__asyncGenerator:oS,__asyncValues:lS,__await:fc,__awaiter:Ne,__classPrivateFieldGet:hS,__classPrivateFieldIn:pS,__classPrivateFieldSet:fS,__createBinding:d0,__decorate:qC,__disposeResources:mS,__esDecorate:QC,__exportStar:nS,__extends:XC,__generator:rS,__importDefault:dS,__importStar:uS,__makeTemplateObject:cS,__metadata:tS,__param:KC,__propKey:JC,__read:fx,__rest:Yo,__rewriteRelativeImportExtension:xS,__runInitializers:ZC,__setFunctionName:eS,__spread:sS,__spreadArray:px,__spreadArrays:iS,__values:xf,default:CP},Symbol.toStringTag,{value:"Module"})),AP="modulepreload",TP=function(t){return"/ALAN_NEW/"+t},xv={},Rc=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(f=>{if(f=TP(f),f in xv)return;xv[f]=!0;const h=f.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${x}`))return;const w=document.createElement("link");if(w.rel=h?"stylesheet":AP,h||(w.as="script"),w.crossOrigin="",w.href=f,u&&w.setAttribute("nonce",u),document.head.appendChild(w),h)return new Promise((v,E)=>{w.addEventListener("load",v),w.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${f}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},NP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Rc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ka);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class gx extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class yv extends gx{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class wv extends gx{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vv extends gx{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var ag;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(ag||(ag={}));class IP{constructor(e,{headers:r={},customFetch:n,region:s=ag.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=NP(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ne(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:o,method:l,body:u,signal:f}=n;let h={},{region:x}=n;x||(x=this.region);const w=new URL(`${this.url}/${r}`);x&&x!=="any"&&(h["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)):v=u;const E=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v,signal:f}).catch(R=>{throw R.name==="AbortError"?R:new yv(R)}),S=E.headers.get("x-relay-error");if(S&&S==="true")throw new wv(E);if(!E.ok)throw new vv(E);let b=((s=E.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return b==="application/json"?N=yield E.json():b==="application/octet-stream"||b==="application/pdf"?N=yield E.blob():b==="text/event-stream"?N=E:b==="multipart/form-data"?N=yield E.formData():N=yield E.text(),{data:N,error:null,response:E}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new yv(o)}:{data:null,error:o,response:o instanceof vv||o instanceof wv?o.context:void 0}}})}}var an={};const Oc=W2(SP);var nh={},sh={},ih={},oh={},ah={},RP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},pc=RP();const OP=pc.fetch,yS=pc.fetch.bind(pc),wS=pc.Headers,MP=pc.Request,kP=pc.Response,Ka=Object.freeze(Object.defineProperty({__proto__:null,Headers:wS,Request:MP,Response:kP,default:yS,fetch:OP},Symbol.toStringTag,{value:"Module"})),PP=W2(Ka);var lh={},_v;function vS(){if(_v)return lh;_v=1,Object.defineProperty(lh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return lh.default=t,lh}var bv;function _S(){if(bv)return ah;bv=1,Object.defineProperty(ah,"__esModule",{value:!0});const t=Oc,e=t.__importDefault(PP),r=t.__importDefault(vS());class n{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let f=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var x,w,v,E;let S=null,b=null,N=null,R=h.status,T=h.statusText;if(h.ok){if(this.method!=="HEAD"){const F=await h.text();F===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?b=F:b=JSON.parse(F))}const M=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),D=(v=h.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");M&&D&&D.length>1&&(N=parseInt(D[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(S={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,N=null,R=406,T="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const M=await h.text();try{S=JSON.parse(M),Array.isArray(S)&&h.status===404&&(b=[],S=null,R=200,T="OK")}catch{h.status===404&&M===""?(R=204,T="No Content"):S={message:M}}if(S&&this.isMaybeSingle&&(!((E=S==null?void 0:S.details)===null||E===void 0)&&E.includes("0 rows"))&&(S=null,R=200,T="OK"),S&&this.shouldThrowOnError)throw new r.default(S)}return{error:S,data:b,count:N,status:R,statusText:T}});return this.shouldThrowOnError||(f=f.catch(h=>{var x,w,v;return{error:{message:`${(x=h==null?void 0:h.name)!==null&&x!==void 0?x:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(w=h==null?void 0:h.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(v=h==null?void 0:h.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),f.then(o,l)}returns(){return this}overrideTypes(){return this}}return ah.default=n,ah}var Ev;function bS(){if(Ev)return oh;Ev=1,Object.defineProperty(oh,"__esModule",{value:!0});const e=Oc.__importDefault(_S());class r extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:f=u}={}){const h=f?`${f}.order`:"order",x=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${x?`${x},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:u=l}={}){const f=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(f,`${s}`),this.url.searchParams.set(h,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:f=!1,format:h="text"}={}){var x;const w=[s?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,f?"wal":null].filter(Boolean).join("|"),v=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${v}"; options=${w};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return oh.default=r,oh}var Cv;function mx(){if(Cv)return ih;Cv=1,Object.defineProperty(ih,"__esModule",{value:!0});const e=Oc.__importDefault(bS()),r=new RegExp("[,()]");class n extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(f=>typeof f=="string"&&r.test(f)?`"${f}"`:`${f}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:f}={}){let h="";f==="plain"?h="pl":f==="phrase"?h="ph":f==="websearch"&&(h="w");const x=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${h}fts${x}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const f=u?`${u}.or`:"or";return this.url.searchParams.append(f,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return ih.default=n,ih}var Sv;function ES(){if(Sv)return sh;Sv=1,Object.defineProperty(sh,"__esModule",{value:!0});const e=Oc.__importDefault(mx());class r{constructor(s,{headers:o={},schema:l,fetch:u}){this.url=s,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(s,o){const{head:l=!1,count:u}=o??{},f=l?"HEAD":"GET";let h=!1;const x=(s??"*").split("").map(w=>/\s/.test(w)&&!h?"":(w==='"'&&(h=!h),w)).join("");return this.url.searchParams.set("select",x),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:l=!0}={}){var u;const f="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(h.length>0){const x=[...new Set(h)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:f=!0}={}){var h;const x="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),f||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const w=s.reduce((v,E)=>v.concat(Object.keys(E)),[]);if(w.length>0){const v=[...new Set(w)].map(E=>`"${E}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var o;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return sh.default=r,sh}var Av;function DP(){if(Av)return nh;Av=1,Object.defineProperty(nh,"__esModule",{value:!0});const t=Oc,e=t.__importDefault(ES()),r=t.__importDefault(mx());class n{constructor(o,{headers:l={},schema:u,fetch:f}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=f}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:f=!1,count:h}={}){var x;let w;const v=new URL(`${this.url}/rpc/${o}`);let E;u||f?(w=u?"HEAD":"GET",Object.entries(l).filter(([b,N])=>N!==void 0).map(([b,N])=>[b,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([b,N])=>{v.searchParams.append(b,N)})):(w="POST",E=l);const S=new Headers(this.headers);return h&&S.set("Prefer",`count=${h}`),new r.default({method:w,url:v,headers:S,schema:this.schemaName,body:E,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return nh.default=n,nh}Object.defineProperty(an,"__esModule",{value:!0});var CS=an.PostgrestError=PS=an.PostgrestBuilder=MS=an.PostgrestTransformBuilder=RS=an.PostgrestFilterBuilder=NS=an.PostgrestQueryBuilder=AS=an.PostgrestClient=void 0;const Mc=Oc,SS=Mc.__importDefault(DP());var AS=an.PostgrestClient=SS.default;const TS=Mc.__importDefault(ES());var NS=an.PostgrestQueryBuilder=TS.default;const IS=Mc.__importDefault(mx());var RS=an.PostgrestFilterBuilder=IS.default;const OS=Mc.__importDefault(bS());var MS=an.PostgrestTransformBuilder=OS.default;const kS=Mc.__importDefault(_S());var PS=an.PostgrestBuilder=kS.default;const DS=Mc.__importDefault(vS());CS=an.PostgrestError=DS.default;var jS=an.default={PostgrestClient:SS.default,PostgrestQueryBuilder:TS.default,PostgrestFilterBuilder:IS.default,PostgrestTransformBuilder:OS.default,PostgrestBuilder:kS.default,PostgrestError:DS.default};const jP=Gg({__proto__:null,get PostgrestBuilder(){return PS},get PostgrestClient(){return AS},get PostgrestError(){return CS},get PostgrestFilterBuilder(){return RS},get PostgrestQueryBuilder(){return NS},get PostgrestTransformBuilder(){return MS},default:jS},[an]),{PostgrestClient:LP,PostgrestQueryBuilder:dF,PostgrestFilterBuilder:hF,PostgrestTransformBuilder:fF,PostgrestBuilder:pF,PostgrestError:gF}=jS||jP;class BP{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const FP="2.78.0",UP=`realtime-js/${FP}`,zP="1.0.0",lg=1e4,VP=1e3,HP=100;var vu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(vu||(vu={}));var Er;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Er||(Er={}));var Ms;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ms||(Ms={}));var cg;(function(t){t.websocket="websocket"})(cg||(cg={}));var fa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fa||(fa={}));class WP{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(e.slice(l,l+s));l=l+s;const f=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:f,payload:h}}}class LS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ot||(Ot={}));const Tv=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=$P(l,t,e,s),o),{}):{}},$P=(t,e,r,n)=>{const s=e.find(u=>u.name===t),o=s==null?void 0:s.type,l=r[t];return o&&!n.includes(o)?BS(o,l):ug(l)},BS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return qP(e,r)}switch(t){case Ot.bool:return GP(e);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return YP(e);case Ot.json:case Ot.jsonb:return XP(e);case Ot.timestamp:return KP(e);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return ug(e);default:return ug(e)}},ug=t=>t,GP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},YP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},XP=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},qP=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const l=t.slice(1,r);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>BS(e,u))}return t},KP=t=>typeof t=="string"?t.replace(" ","T"):t,FS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class T1{constructor(e,r,n={},s=lg){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nv||(Nv={}));class _u{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_u.syncState(this.state,s,o,l),this.pendingDiffs.forEach(f=>{this.state=_u.syncDiff(this.state,f,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_u.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),l=this.transformState(r),u={},f={};return this.map(o,(h,x)=>{l[h]||(f[h]=x)}),this.map(l,(h,x)=>{const w=o[h];if(w){const v=x.map(N=>N.presence_ref),E=w.map(N=>N.presence_ref),S=x.filter(N=>E.indexOf(N.presence_ref)<0),b=w.filter(N=>v.indexOf(N.presence_ref)<0);S.length>0&&(u[h]=S),b.length>0&&(f[h]=b)}else u[h]=x}),this.syncDiff(o,{joins:u,leaves:f},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(u,f)=>{var h;const x=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(f),x.length>0){const w=e[u].map(E=>E.presence_ref),v=x.filter(E=>w.indexOf(E.presence_ref)<0);e[u].unshift(...v)}n(u,x,f)}),this.map(l,(u,f)=>{let h=e[u];if(!h)return;const x=f.map(w=>w.presence_ref);h=h.filter(w=>x.indexOf(w.presence_ref)<0),e[u]=h,s(u,h,f),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Iv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Iv||(Iv={}));var bu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(bu||(bu={}));var vi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(vi||(vi={}));class xx{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Er.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new T1(this,Ms.join,this.params,this.timeout),this.rejoinTimer=new LS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Er.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Er.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ms.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new _u(this),this.broadcastEndpointURL=FS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Er.closed){const{config:{broadcast:l,presence:u,private:f}}=this.params,h=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(E=>E.filter))!==null&&s!==void 0?s:[],x=!!this.bindings[bu.PRESENCE]&&this.bindings[bu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,w={},v={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:x}),postgres_changes:h,private:f};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(E=>e==null?void 0:e(vi.CHANNEL_ERROR,E)),this._onClose(()=>e==null?void 0:e(vi.CLOSED)),this.updateJoinPayload(Object.assign({config:v},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var S;if(this.socket.setAuth(),E===void 0){e==null||e(vi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,N=(S=b==null?void 0:b.length)!==null&&S!==void 0?S:0,R=[];for(let T=0;T<N;T++){const A=b[T],{filter:{event:M,schema:D,table:F,filter:L}}=A,U=E&&E[T];if(U&&U.event===M&&U.schema===D&&U.table===F&&U.filter===L)R.push(Object.assign(Object.assign({},A),{id:U.id}));else{this.unsubscribe(),this.state=Er.errored,e==null||e(vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(vi.SUBSCRIBED);return}}).receive("error",E=>{this.state=Er.errored,e==null||e(vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Er.joined&&e===bu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let f=u.statusText;try{const h=await u.json();f=h.error||h.message||f}catch{}return Promise.reject(new Error(f))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,f={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,f,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,f;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((f=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||f===void 0)&&f.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Er.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ms.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new T1(this,Ms.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Er.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new T1(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>HP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const l=e.toLocaleLowerCase(),{close:u,error:f,leave:h,join:x}=Ms;if(n&&[u,f,h,x].indexOf(l)>=0&&n!==this._joinRef())return;let v=this._onMessage(l,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(E=>{var S,b,N;return((S=E.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(b=E.filter)===null||b===void 0?void 0:b.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===l}).map(E=>E.callback(v,n)):(o=this.bindings[l])===null||o===void 0||o.filter(E=>{var S,b,N,R,T,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in E){const M=E.id,D=(S=E.filter)===null||S===void 0?void 0:S.event;return M&&((b=r.ids)===null||b===void 0?void 0:b.includes(M))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const M=(T=(R=E==null?void 0:E.filter)===null||R===void 0?void 0:R.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return M==="*"||M===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===l}).map(E=>{if(typeof v=="object"&&"ids"in v){const S=v.data,{schema:b,table:N,commit_timestamp:R,type:T,errors:A}=S;v=Object.assign(Object.assign({},{schema:b,table:N,commit_timestamp:R,eventType:T,new:{},old:{},errors:A}),this._getPayloadRecords(S))}E.callback(v,n)})}_isClosed(){return this.state===Er.closed}_isJoined(){return this.state===Er.joined}_isJoining(){return this.state===Er.joining}_isLeaving(){return this.state===Er.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&xx.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ms.close,{},e)}_onError(e){this._on(Ms.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Er.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Tv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Tv(e.columns,e.old_record)),r}}const N1=()=>{},ch={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},QP=[1e3,2e3,5e3,1e4],ZP=1e4,JP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class eD{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=lg,this.transport=null,this.heartbeatIntervalMs=ch.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=N1,this.ref=0,this.reconnectTimer=null,this.logger=N1,this.conn=null,this.sendBuffer=[],this.serializer=new WP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Rc(async()=>{const{default:u}=await Promise.resolve().then(()=>Ka);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${cg.websocket}`,this.httpEndpoint=FS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=BP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:zP}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case vu.connecting:return fa.Connecting;case vu.open:return fa.Open;case vu.closing:return fa.Closing;default:return fa.Closed}}isConnected(){return this.connectionState()===fa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new xx(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,l=()=>{this.encode(e,u=>{var f;(f=this.conn)===null||f===void 0||f.send(u)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(VP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ch.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:l}=r,u=l?`(${l})`:"",f=o.status||"";this.log("receive",`${f} ${n} ${s} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ms.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([JP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:UP};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ms.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new LS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ch.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,l,u,f,h,x;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:lg,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ch.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:N1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:w=>QP[w-1]||ZP,this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(w,v)=>v(JSON.stringify(w)),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class yx extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $t(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class tD extends yx{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dg extends yx{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const wx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Rc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ka);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},rD=()=>Ne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Rc(()=>Promise.resolve().then(()=>Ka),void 0)).Response:Response}),hg=t=>{if(Array.isArray(t))return t.map(r=>hg(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=hg(n)}),e},nD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},I1=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},sD=(t,e,r)=>Ne(void 0,void 0,void 0,function*(){const n=yield rD();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,l=(s==null?void 0:s.statusCode)||o+"";e(new tD(I1(s),o,l))}).catch(s=>{e(new dg(I1(s),s))}):e(new dg(I1(t),t))}),iD=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(nD(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function xd(t,e,r,n,s,o){return Ne(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(r,iD(e,n,s,o)).then(f=>{if(!f.ok)throw f;return n!=null&&n.noResolveJson?f:f.json()}).then(f=>l(f)).catch(f=>sD(f,u,n))})})}function qu(t,e,r,n){return Ne(this,void 0,void 0,function*(){return xd(t,"GET",e,r,n)})}function Ns(t,e,r,n,s){return Ne(this,void 0,void 0,function*(){return xd(t,"POST",e,n,s,r)})}function fg(t,e,r,n,s){return Ne(this,void 0,void 0,function*(){return xd(t,"PUT",e,n,s,r)})}function oD(t,e,r,n){return Ne(this,void 0,void 0,function*(){return xd(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function vx(t,e,r,n,s){return Ne(this,void 0,void 0,function*(){return xd(t,"DELETE",e,n,s,r)})}class aD{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($t(e))return{data:null,error:e};throw e}})}}var US;class lD{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[US]="BlobDownloadBuilder",this.promise=null}asStream(){return new aD(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($t(e))return{data:null,error:e};throw e}})}}US=Symbol.toStringTag;const cD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Rv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uD{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=wx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Ne(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},Rv),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const f=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",l.cacheControl),f&&o.append("metadata",this.encodeMetadata(f))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,f&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(f)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const h=this._removeEmptyFolders(r),x=this._getFinalPath(h),w=yield(e=="PUT"?fg:Ns)(this.fetch,`${this.url}/object/${x}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:w.Id,fullPath:w.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($t(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ne(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let f;const h=Object.assign({upsert:Rv.upsert},s),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),f.append("",n)):typeof FormData<"u"&&n instanceof FormData?(f=n,f.append("cacheControl",h.cacheControl)):(f=n,x["cache-control"]=`max-age=${h.cacheControl}`,x["content-type"]=h.contentType);const w=yield fg(this.fetch,u.toString(),f,{headers:x});return{data:{path:o,fullPath:w.Key},error:null}}catch(f){if(this.shouldThrowOnError)throw f;if($t(f))return{data:null,error:f};throw f}})}createSignedUploadUrl(e,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Ns(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new yx("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Ns(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Ns(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ne(this,void 0,void 0,function*(){try{const s=yield Ns(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(e),f=()=>qu(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new lD(f,this.shouldThrowOnError)}info(e){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield qu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:hg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}exists(e){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield oD(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n)&&n instanceof dg){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",f=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});f!==""&&s.push(f);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield vx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},cD),r),{prefix:e||""});return{data:yield Ns(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}listV2(e,r){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ns(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const zS="2.78.0",VS={"X-Client-Info":`storage-js/${zS}`};class dD{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},VS),r),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ne(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield qu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield qu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}createBucket(e){return Ne(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield fg(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield vx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class hD{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},VS),r),this.fetch=wx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ns(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield qu(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield vx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}}const _x={"X-Client-Info":`storage-js/${zS}`,"Content-Type":"application/json"};class HS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Dn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class R1 extends HS{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class fD extends HS{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Ov;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Ov||(Ov={}));const bx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Rc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ka);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},pD=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Mv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),gD=(t,e,r)=>Ne(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new R1(Mv(l),s,u))}).catch(()=>{const l=s+"",u=o.statusText||`HTTP ${s} error`;e(new R1(u,s,l))});else{const l=s+"",u=o.statusText||`HTTP ${s} error`;e(new R1(u,s,l))}}else e(new fD(Mv(t),t))}),mD=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(pD(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function xD(t,e,r,n,s,o){return Ne(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(r,mD(e,n,s,o)).then(f=>{if(!f.ok)throw f;if(n!=null&&n.noResolveJson)return f;const h=f.headers.get("content-type");return!h||!h.includes("application/json")?{}:f.json()}).then(f=>l(f)).catch(f=>gD(f,u,n))})})}function jn(t,e,r,n,s){return Ne(this,void 0,void 0,function*(){return xD(t,"POST",e,n,s,r)})}class yD{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_x),r),this.fetch=bx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield jn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}listIndexes(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:(yield jn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Dn(n))return{data:null,error:n};throw n}})}}class wD{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_x),r),this.fetch=bx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getVectors(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}listVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield jn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}}class vD{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_x),r),this.fetch=bx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield jn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}getBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield jn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}listBuckets(){return Ne(this,arguments,void 0,function*(e={}){try{return{data:yield jn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield jn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Dn(r))return{data:null,error:r};throw r}})}}class _D extends vD{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new bD(this.url,this.headers,e,this.fetch)}}class bD extends yD{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ne(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ED(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ED extends wD{constructor(e,r,n,s,o){super(e,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ne(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class CD extends dD{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new uD(this.url,this.headers,e,this.fetch)}get vectors(){return new _D(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new hD(this.url+"/iceberg",this.headers,this.fetch)}}const SD="2.78.0";let ou="";typeof Deno<"u"?ou="deno":typeof document<"u"?ou="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ou="react-native":ou="node";const AD={"X-Client-Info":`supabase-js-${ou}/${SD}`},TD={headers:AD},ND={schema:"public"},ID={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},RD={},OD=t=>{let e;return t?e=t:typeof fetch>"u"?e=yS:e=fetch,(...r)=>e(...r)},MD=()=>typeof Headers>"u"?wS:Headers,kD=(t,e,r)=>{const n=OD(r),s=MD();return async(o,l)=>{var u;const f=(u=await e())!==null&&u!==void 0?u:t;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${f}`),n(o,Object.assign(Object.assign({},l),{headers:h}))}};function PD(t){return t.endsWith("/")?t:t+"/"}function DD(t,e){var r,n;const{db:s,auth:o,realtime:l,global:u}=t,{db:f,auth:h,realtime:x,global:w}=e,v={db:Object.assign(Object.assign({},f),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},x),l),storage:{},global:Object.assign(Object.assign(Object.assign({},w),u),{headers:Object.assign(Object.assign({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function jD(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(PD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const WS="2.78.0",yl=30*1e3,pg=3,O1=pg*yl,LD="http://localhost:9999",BD="supabase.auth.token",FD={"X-Client-Info":`gotrue-js/${WS}`},gg="X-Supabase-Api-Version",$S={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},UD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,zD=10*60*1e3;class Ku extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Me(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class VD extends Ku{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function HD(t){return Me(t)&&t.name==="AuthApiError"}class pa extends Ku{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Xo extends Ku{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Es extends Xo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function WD(t){return Me(t)&&t.name==="AuthSessionMissingError"}class cl extends Xo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class uh extends Xo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class dh extends Xo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $D(t){return Me(t)&&t.name==="AuthImplicitGrantRedirectError"}class kv extends Xo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class mg extends Xo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function M1(t){return Me(t)&&t.name==="AuthRetryableFetchError"}class Pv extends Xo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class xg extends Xo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const yf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dv=` 	
\r=`.split(""),GD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Dv.length;e+=1)t[Dv[e].charCodeAt(0)]=-2;for(let e=0;e<yf.length;e+=1)t[yf[e].charCodeAt(0)]=e;return t})();function jv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(yf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(yf[n]),e.queuedBits-=6}}function GS(t,e,r){const n=GD[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Lv(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{qD(l,n,r)};for(let l=0;l<t.length;l+=1)GS(t.charCodeAt(l),s,o);return e.join("")}function YD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function XD(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}YD(n,e)}}function qD(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Wl(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)GS(t.charCodeAt(s),r,n);return new Uint8Array(e)}function KD(t){const e=[];return XD(t,r=>e.push(r)),new Uint8Array(e)}function ya(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>jv(s,r,n)),jv(null,r,n),e.join("")}function QD(t){return Math.round(Date.now()/1e3)+t}function ZD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const rn=()=>typeof window<"u"&&typeof document<"u",ia={tested:!1,writable:!1},YS=()=>{if(!rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ia.tested)return ia.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ia.tested=!0,ia.writable=!0}catch{ia.tested=!0,ia.writable=!1}return ia.writable};function JD(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const XS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Rc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ka);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},e5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",wl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},oa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Zi=async(t,e)=>{await t.removeItem(e)};class h0{constructor(){this.promise=new h0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}h0.promiseConstructor=Promise;function k1(t){const e=t.split(".");if(e.length!==3)throw new xg("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!UD.test(e[n]))throw new xg("JWT not in base64url format");return{header:JSON.parse(Lv(e[0])),payload:JSON.parse(Lv(e[1])),signature:Wl(e[2]),raw:{header:e[0],payload:e[1]}}}async function t5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function r5(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function n5(t){return("0"+t.toString(16)).substr(-2)}function s5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,n5).join("")}async function i5(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function o5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await i5(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ul(t,e,r=!1){const n=s5();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await wl(t,`${e}-code-verifier`,s);const o=await o5(n);return[o,n===o?"plain":"s256"]}const a5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function l5(t){const e=t.headers.get(gg);if(!e||!e.match(a5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function c5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function u5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const d5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function dl(t){if(!d5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function P1(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function h5(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Bv(t){return JSON.parse(JSON.stringify(t))}const da=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),f5=[502,503,504];async function Fv(t){var e;if(!e5(t))throw new mg(da(t),0);if(f5.includes(t.status))throw new mg(da(t),t.status);let r;try{r=await t.json()}catch(o){throw new pa(da(o),o)}let n;const s=l5(t);if(s&&s.getTime()>=$S["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Pv(da(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Es}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new Pv(da(r),t.status,r.weak_password.reasons);throw new VD(da(r),t.status||500,n)}const p5=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function We(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[gg]||(o[gg]=$S["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",f=await g5(t,e,r+u,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(f):{data:Object.assign({},f),error:null}}async function g5(t,e,r,n,s,o){const l=p5(e,n,s,o);let u;try{u=await t(r,Object.assign({},l))}catch(f){throw console.error(f),new mg(da(f),0)}if(u.ok||await Fv(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(f){await Fv(f)}}function Cs(t){var e;let r=null;y5(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=QD(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Uv(t){const e=Cs(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function oo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function m5(t){return{data:t,error:null}}function x5(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,l=Yo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},f=Object.assign({},l);return{data:{properties:u,user:f},error:null}}function zv(t){return t}function y5(t){return t.access_token&&t.refresh_token&&t.expires_in}const D1=["global","local","others"];class w5{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=XS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=D1[0]){if(D1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${D1.join(", ")}`);try{return await We(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await We(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:oo})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Yo(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await We(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:x5,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Me(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await We(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:oo})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},x=await We(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:zv});if(x.error)throw x.error;const w=await x.json(),v=(l=x.headers.get("x-total-count"))!==null&&l!==void 0?l:0,E=(f=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return E.length>0&&(E.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);h[`${N}Page`]=b}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(Me(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){dl(e);try{return await We(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:oo})}catch(r){if(Me(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){dl(e);try{return await We(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:oo})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){dl(e);try{return await We(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:oo})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){dl(e.userId);try{const{data:r,error:n}=await We(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _deleteFactor(e){dl(e.userId),dl(e.id);try{return{data:await We(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,l,u,f;try{const h={nextPage:null,lastPage:0,total:0},x=await We(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:zv});if(x.error)throw x.error;const w=await x.json(),v=(l=x.headers.get("x-total-count"))!==null&&l!==void 0?l:0,E=(f=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&f!==void 0?f:[];return E.length>0&&(E.forEach(S=>{const b=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);h[`${N}Page`]=b}),h.total=parseInt(v)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(Me(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await We(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await We(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await We(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await We(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}}function Vv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const hl={debug:!!(globalThis&&YS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class v5 extends qS{}async function _5(t,e,r){hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),hl.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw hl.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new v5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(hl.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function b5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function KS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function E5(t){return parseInt(t,16)}function C5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function S5(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:f,resources:h,scheme:x,uri:w,version:v}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const E=KS(t.address),S=x?`${x}://${n}`:n,b=t.statement?`${t.statement}
`:"",N=`${S} wants you to sign in with your Ethereum account:
${E}

${b}`;let R=`URI: ${w}
Version: ${v}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(R+=`
Expiration Time: ${s.toISOString()}`),u&&(R+=`
Not Before: ${u.toISOString()}`),f&&(R+=`
Request ID: ${f}`),h){let T=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);T+=`
- ${A}`}R+=T}return`${N}
${R}`}class fr extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class wf extends fr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function A5({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new fr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(QS(l)){if(o.rp.id!==l)return new fr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new fr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function T5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(QS(n)){if(r.rpId!==n)return new fr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class N5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const I5=new N5;function R5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=Yo(t,["challenge","user","excludeCredentials"]),o=Wl(e).buffer,l=Object.assign(Object.assign({},r),{id:Wl(r.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let f=0;f<n.length;f++){const h=n[f];u.excludeCredentials[f]=Object.assign(Object.assign({},h),{id:Wl(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function O5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Yo(t,["challenge","allowCredentials"]),s=Wl(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Wl(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function M5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ya(new Uint8Array(t.response.attestationObject)),clientDataJSON:ya(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function k5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ya(new Uint8Array(s.authenticatorData)),clientDataJSON:ya(new Uint8Array(s.clientDataJSON)),signature:ya(new Uint8Array(s.signature)),userHandle:s.userHandle?ya(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function QS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Hv(){var t,e;return!!(rn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function P5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wf("Browser returned unexpected credential type",e)}:{data:null,error:new wf("Empty credential response",e)}}catch(e){return{data:null,error:A5({error:e,options:t})}}}async function D5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new wf("Browser returned unexpected credential type",e)}:{data:null,error:new wf("Empty credential response",e)}}catch(e){return{data:null,error:T5({error:e,options:t})}}}const j5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},L5={userVerification:"preferred",hints:["security-key"]};function vf(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))n[o]=l;else if(r(l))n[o]=l;else if(e(l)){const u=n[o];e(u)?n[o]=vf(u,l):n[o]=vf(l)}else n[o]=l}return n}function B5(t,e){return vf(j5,t,e||{})}function F5(t,e){return vf(L5,t,e||{})}class U5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:u};const f=s??I5.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=B5(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:x,error:w}=await P5({publicKey:h,signal:f});return x?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const h=F5(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:x,error:w}=await D5(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:f}));return x?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new pa("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!r)return{data:null,error:new Ku("rpId is required for WebAuthn authentication")};try{if(!Hv())return{data:null,error:new pa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!l)return{data:null,error:u};const{webauthn:f}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:f.type,rpId:r,rpOrigins:n,credential_response:f.credential_response}})}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new pa("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!r)return{data:null,error:new Ku("rpId is required for WebAuthn registration")};try{if(!Hv())return{data:null,error:new pa("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(x=>{var w;return(w=x.data)===null||w===void 0?void 0:w.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:u};const{data:f,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return f?this._verify({factorId:l.id,challengeId:f.challengeId,webauthn:{rpId:r,rpOrigins:n,type:f.webauthn.type,credential_response:f.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Me(l)?{data:null,error:l}:{data:null,error:new pa("Unexpected error in register",l)}}}}b5();const z5={url:LD,storageKey:BD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:FD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Wv(t,e,r){return await r()}const fl={};class Qu{get jwks(){var e,r;return(r=(e=fl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){fl[this.storageKey]=Object.assign(Object.assign({},fl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=fl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){fl[this.storageKey]=Object.assign(Object.assign({},fl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Qu.nextInstanceID,Qu.nextInstanceID+=1,this.instanceID>0&&rn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},z5),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new w5({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=XS(s.fetch),this.lock=s.lock||Wv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:rn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=_5:this.lock=Wv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new U5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:YS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vv(this.memoryStorage)),rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${WS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=JD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),rn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),$D(o)){const f=(e=o.details)===null||e===void 0?void 0:e.code;if(f==="identity_already_exists"||f==="identity_not_found"||f==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Me(r)?{error:r}:{error:new pa("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:Cs}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:x,password:w,options:v}=e;let E=null,S=null;this.flowType==="pkce"&&([E,S]=await ul(this.storage,this.storageKey)),o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:x,password:w,data:(r=v==null?void 0:v.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:E,code_challenge_method:S},xform:Cs})}else if("phone"in e){const{phone:x,password:w,options:v}=e;o=await We(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},channel:(s=v==null?void 0:v.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Cs})}else throw new uh("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const f=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(o){if(Me(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:l,options:u}=e;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Uv})}else if("phone"in e){const{phone:o,password:l,options:u}=e;r=await We(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Uv})}else throw new uh("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new cl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,l,u,f,h,x,w,v;let E,S;if("message"in e)E=e.message,S=e.signature;else{const{chain:b,wallet:N,statement:R,options:T}=e;let A;if(rn())if(typeof N=="object")A=N;else{const B=window;if("ethereum"in B&&typeof B.ethereum=="object"&&"request"in B.ethereum&&typeof B.ethereum.request=="function")A=B.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const M=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href),D=await A.request({method:"eth_requestAccounts"}).then(B=>B).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!D||D.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const F=KS(D[0]);let L=(n=T==null?void 0:T.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const B=await A.request({method:"eth_chainId"});L=E5(B)}const U={domain:M.host,address:F,statement:R,uri:M.href,version:"1",chainId:L,nonce:(s=T==null?void 0:T.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=T==null?void 0:T.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=T==null?void 0:T.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(f=T==null?void 0:T.signInWithEthereum)===null||f===void 0?void 0:f.notBefore,requestId:(h=T==null?void 0:T.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(x=T==null?void 0:T.signInWithEthereum)===null||x===void 0?void 0:x.resources};E=S5(U),S=await A.request({method:"personal_sign",params:[C5(E),F]})}try{const{data:b,error:N}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:S},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Cs});if(N)throw N;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new cl}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:N})}catch(b){if(Me(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(e){var r,n,s,o,l,u,f,h,x,w,v,E;let S,b;if("message"in e)S=e.message,b=e.signature;else{const{chain:N,wallet:R,statement:T,options:A}=e;let M;if(rn())if(typeof R=="object")M=R;else{const F=window;if("solana"in F&&typeof F.solana=="object"&&("signIn"in F.solana&&typeof F.solana.signIn=="function"||"signMessage"in F.solana&&typeof F.solana.signMessage=="function"))M=F.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=R}const D=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in M&&M.signIn){const F=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),T?{statement:T}:null));let L;if(Array.isArray(F)&&F[0]&&typeof F[0]=="object")L=F[0];else if(F&&typeof F=="object"&&"signedMessage"in F&&"signature"in F)L=F;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)S=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),b=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${D.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...T?["",T,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(s=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((f=A==null?void 0:A.signInWithSolana)===null||f===void 0)&&f.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((w=(x=A==null?void 0:A.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...A.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const F=await M.signMessage(new TextEncoder().encode(S),"utf8");if(!F||!(F instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=F}}try{const{data:N,error:R}=await We(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:ya(b)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(E=e.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Cs});if(R)throw R;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new cl}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:R})}catch(N){if(Me(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const r=await oa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:l}=await We(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Cs});if(await Zi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new cl}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(Me(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:l}=e,u=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Cs}),{data:f,error:h}=u;return h?{data:{user:null,session:null},error:h}:!f||!f.session||!f.user?{data:{user:null,session:null},error:new cl}:(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),{data:f,error:h})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,l;try{if("email"in e){const{email:u,options:f}=e;let h=null,x=null;this.flowType==="pkce"&&([h,x]=await ul(this.storage,this.storageKey));const{error:w}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},create_user:(n=f==null?void 0:f.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:x},redirectTo:f==null?void 0:f.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){const{phone:u,options:f}=e,{data:h,error:x}=await We(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=f==null?void 0:f.data)!==null&&s!==void 0?s:{},create_user:(o=f==null?void 0:f.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},channel:(l=f==null?void 0:f.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:x}}throw new uh("You must provide either an email or phone number.")}catch(u){if(Me(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await We(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Cs});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const f=l.session,h=l.user;return f!=null&&f.access_token&&(await this._saveSession(f),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",f)),{data:{user:h,session:f},error:null}}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await ul(this.storage,this.storageKey)),await We(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:m5})}catch(o){if(Me(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Es;const{error:s}=await We(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Me(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:l}=await We(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:l,error:u}=await We(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new uh("You must provide either an email or phone number and a type")}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await oa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<O1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await oa(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=P1()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=h5(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:oo}):await this._useSession(async r=>{var n,s,o;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Es}:await We(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:oo})})}catch(r){if(Me(r))return WD(r)&&(await this._removeSession(),await Zi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new Es;const l=s.session;let u=null,f=null;this.flowType==="pkce"&&e.email!=null&&([u,f]=await ul(this.storage,this.storageKey));const{data:h,error:x}=await We(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:f}),jwt:l.access_token,xform:oo});if(x)throw x;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Me(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Es;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:l}=k1(e.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{data:u,error:f}=await this._callRefreshToken(e.refresh_token);if(f)return{data:{user:null,session:null},error:f};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:f}=await this._getUser(e.access_token);if(f)throw f;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Me(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Es;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Me(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!rn())throw new dh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new dh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new kv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new dh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new kv("No code detected.");const{data:T,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:T.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:f,token_type:h}=e;if(!o||!u||!l||!h)throw new dh("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(u);let v=x+w;f&&(v=parseInt(f));const E=v-x;E*1e3<=yl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${w}s`);const S=v-w;x-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,x):x-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,x);const{data:b,error:N}=await this._getUser(o);if(N)throw N;const R={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:w,expires_at:v,refresh_token:l,token_type:h,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(n){if(Me(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await oa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(HD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Zi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=ZD(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ul(this.storage,this.storageKey,!0));try{return await We(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Me(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Me(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var l,u,f,h,x;const{data:w,error:v}=o;if(v)throw v;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(f=e.options)===null||f===void 0?void 0:f.queryParams,skipBrowserRedirect:!0});return await We(this.fetch,"GET",E,{headers:this.headers,jwt:(x=(h=w.session)===null||h===void 0?void 0:h.access_token)!==null&&x!==void 0?x:void 0})});if(s)throw s;return rn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Me(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:l,provider:u,token:f,access_token:h,nonce:x}=e,w=await We(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:f,access_token:h,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Cs}),{data:v,error:E}=w;return E?{data:{user:null,session:null},error:E}:!v||!v.session||!v.user?{data:{user:null,session:null},error:new cl}:(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),{data:v,error:E})}catch(s){if(Me(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:l}=r;if(l)throw l;return await We(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await r5(async s=>(s>0&&await t5(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await We(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Cs})),(s,o)=>{const l=200*Math.pow(2,s);return o&&M1(o)&&Date.now()+l-n<yl})}catch(n){if(this._debug(r,"error",n),Me(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),rn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await oa(this.storage,this.storageKey);if(s&&this.userStorage){let l=await oa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await wl(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:P1()}else if(s&&!s.user&&!s.user){const l=await oa(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Zi(this.storage,this.storageKey+"-user"),await wl(this.storage,this.storageKey,s)):s.user=P1()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<O1;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${O1}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),M1(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(s.access_token);!u&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Es;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new h0;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new Es;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Me(o)){const l={data:null,error:o};return M1(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(f){o.push(f)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await wl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Bv(s);await wl(this.storage,this.storageKey,o)}else{const s=Bv(r);await wl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Zi(this.storage,this.storageKey),await Zi(this.storage,this.storageKey+"-code-verifier"),await Zi(this.storage,this.storageKey+"-user"),this.userStorage&&await Zi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/yl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${yl}ms, refresh threshold is ${pg} ticks`),s<=pg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof qS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await ul(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await We(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:f,error:h}=await We(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&f.type==="totp"&&(!((s=f==null?void 0:f.totp)===null||s===void 0)&&s.qr_code)&&(f.totp.qr_code=`data:image/svg+xml;utf-8,${f.totp.qr_code}`),{data:f,error:null})})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?M5(e.webauthn.credential_response):k5(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:f}=await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return f?{data:null,error:f}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:f})})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=await We(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:R5(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:O5(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Me(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=k1(n.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await We(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):{data:null,error:new Es}})}catch(r){if(Me(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new Es};const l=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&rn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new Es};const l=await We(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&rn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Me(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+zD>s)return n;const{data:o,error:l}=await We(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:E,error:S}=await this.getSession();if(S||!E.session)return{data:null,error:S};n=E.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:f}}=k1(n);r!=null&&r.allowExpired||c5(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:E}=await this.getUser(n);if(E)throw E;return{data:{claims:o,header:s,signature:l},error:null}}const x=u5(s.alg),w=await crypto.subtle.importKey("jwk",h,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,l,KD(`${u}.${f}`)))throw new xg("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(n){if(Me(n))return{data:null,error:n};throw n}}}Qu.nextInstanceID=0;const V5=Qu;class H5 extends V5{constructor(e){super(e)}}class W5{constructor(e,r,n){var s,o,l;this.supabaseUrl=e,this.supabaseKey=r;const u=jD(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const f=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:ND,realtime:RD,auth:Object.assign(Object.assign({},ID),{storageKey:f}),global:TD},x=DD(n??{},h);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=x.global.headers)!==null&&o!==void 0?o:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(w,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,x.global.fetch),this.fetch=kD(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new LP(new URL("rest/v1",u).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new CD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new IP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:f,debug:h},x,w){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new H5({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),x),storageKey:l,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:f,debug:h,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new eD(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $5=(t,e,r)=>new W5(t,e,r);function G5(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}G5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Y5="https://mtwburwdescvdngmzcmu.supabase.co",X5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im10d2J1cndkZXNjdmRuZ216Y211Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxMTM2MzMsImV4cCI6MjA3NzY4OTYzM30.9Ez2Dg9DdMaqNJy960B5V4U8H8uvz5RS5KyVsSHIZ2c",Ce=$5(Y5,X5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),ZS=I.createContext(void 0),q5=({children:t})=>{const[e,r]=I.useState(null),[n,s]=I.useState(null),[o,l]=I.useState(null),[u,f]=I.useState(!0);I.useEffect(()=>{const{data:{subscription:E}}=Ce.auth.onAuthStateChange((S,b)=>{s(b),r((b==null?void 0:b.user)??null),b!=null&&b.user?setTimeout(()=>{h(b.user.id)},0):l(null)});return Ce.auth.getSession().then(({data:{session:S}})=>{s(S),r((S==null?void 0:S.user)??null),S!=null&&S.user?h(S.user.id).then(()=>f(!1)):f(!1)}),()=>E.unsubscribe()},[]);const h=async E=>{const{data:S,error:b}=await Ce.from("user_roles").select("role").eq("user_id",E).single();l(!b&&S?S.role:"customer")},x=async(E,S,b,N)=>{const R=`${window.location.origin}/home`,{error:T}=await Ce.auth.signUp({email:E,password:S,options:{emailRedirectTo:R,data:{full_name:b,phone:N}}});return{error:T}},w=async(E,S)=>{const{error:b}=await Ce.auth.signInWithPassword({email:E,password:S});return{error:b}},v=async()=>{await Ce.auth.signOut()};return m.jsx(ZS.Provider,{value:{user:e,session:n,userRole:o,signUp:x,signIn:w,signOut:v,loading:u},children:t})},ms=()=>{const t=I.useContext(ZS);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},K5=e0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),je=I.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const l=n?$R:"button";return m.jsx(l,{className:He(K5({variant:e,size:r,className:t})),ref:o,...s})});je.displayName="Button";function _i(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Hn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},gc={duration:.5,overwrite:!1,delay:0},Ex,zr,Ht,ls=1e8,It=1/ls,yg=Math.PI*2,Q5=yg/4,Z5=0,eA=Math.sqrt,J5=Math.cos,ej=Math.sin,Pr=function(e){return typeof e=="string"},lr=function(e){return typeof e=="function"},Bi=function(e){return typeof e=="number"},Cx=function(e){return typeof e>"u"},hi=function(e){return typeof e=="object"},En=function(e){return e!==!1},Sx=function(){return typeof window<"u"},hh=function(e){return lr(e)||Pr(e)},tA=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Zr=Array.isArray,wg=/(?:-?\.?\d|\.)+/gi,rA=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Ml=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,j1=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,nA=/[+-]=-?[.\d]+/,sA=/[^,'"\[\]\s]+/gi,tj=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Yt,Js,vg,Ax,$n={},_f={},iA,oA=function(e){return(_f=mc(e,$n))&&Tn},Tx=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},Zu=function(e,r){return!r&&console.warn(e)},aA=function(e,r){return e&&($n[e]=r)&&_f&&(_f[e]=r)||$n},Ju=function(){return 0},rj={suppressEvents:!0,isStart:!0,kill:!1},Mh={suppressEvents:!0,kill:!1},nj={suppressEvents:!0},Nx={},Ro=[],_g={},lA,kn={},L1={},$v=30,kh=[],Ix="",Rx=function(e){var r=e[0],n,s;if(hi(r)||lr(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(s=kh.length;s--&&!kh[s].targetTest(r););n=kh[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new MA(e[s],n)))||e.splice(s,1);return e},Ra=function(e){return e._gsap||Rx(cs(e))[0]._gsap},cA=function(e,r,n){return(n=e[r])&&lr(n)?e[r]():Cx(n)&&e.getAttribute&&e.getAttribute(r)||n},Cn=function(e,r){return(e=e.split(",")).forEach(r)||e},dr=function(e){return Math.round(e*1e5)/1e5||0},gr=function(e){return Math.round(e*1e7)/1e7||0},$l=function(e,r){var n=r.charAt(0),s=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},sj=function(e,r){for(var n=r.length,s=0;e.indexOf(r[s])<0&&++s<n;);return s<n},bf=function(){var e=Ro.length,r=Ro.slice(0),n,s;for(_g={},Ro.length=0,n=0;n<e;n++)s=r[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Ox=function(e){return!!(e._initted||e._startAt||e.add)},uA=function(e,r,n,s){Ro.length&&!zr&&bf(),e.render(r,n,!!(zr&&r<0&&Ox(e))),Ro.length&&!zr&&bf()},dA=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(sA).length<2?r:Pr(e)?e.trim():e},hA=function(e){return e},Gn=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},ij=function(e){return function(r,n){for(var s in n)s in r||s==="duration"&&e||s==="ease"||(r[s]=n[s])}},mc=function(e,r){for(var n in r)e[n]=r[n];return e},Gv=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=hi(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},Ef=function(e,r){var n={},s;for(s in e)s in r||(n[s]=e[s]);return n},Eu=function(e){var r=e.parent||Yt,n=e.keyframes?ij(Zr(e.keyframes)):Gn;if(En(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},oj=function(e,r){for(var n=e.length,s=n===r.length;s&&n--&&e[n]===r[n];);return n<0},fA=function(e,r,n,s,o){var l=e[s],u;if(o)for(u=r[o];l&&l[o]>u;)l=l._prev;return l?(r._next=l._next,l._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[s]=r,r._prev=l,r.parent=r._dp=e,r},f0=function(e,r,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=r._prev,l=r._next;o?o._next=l:e[n]===r&&(e[n]=l),l?l._prev=o:e[s]===r&&(e[s]=o),r._next=r._prev=r.parent=null},Lo=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Oa=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},aj=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},bg=function(e,r,n,s){return e._startAt&&(zr?e._startAt.revert(Mh):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,s))},lj=function t(e){return!e||e._ts&&t(e.parent)},Yv=function(e){return e._repeat?xc(e._tTime,e=e.duration()+e._rDelay)*e:0},xc=function(e,r){var n=Math.floor(e=gr(e/r));return e&&n===e?n-1:n},Cf=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},p0=function(e){return e._end=gr(e._start+(e._tDur/Math.abs(e._ts||e._rts||It)||0))},g0=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=gr(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),p0(e),n._dirty||Oa(n,e)),e},pA=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=Cf(e.rawTime(),r),(!r._dur||yd(0,r.totalDuration(),n)-r._tTime>It)&&r.render(n,!0)),Oa(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-It}},si=function(e,r,n,s){return r.parent&&Lo(r),r._start=gr((Bi(n)?n:n||e!==Yt?es(e,n,r):e._time)+r._delay),r._end=gr(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),fA(e,r,"_first","_last",e._sort?"_start":0),Eg(r)||(e._recent=r),s||pA(e,r),e._ts<0&&g0(e,e._tTime),e},gA=function(e,r){return($n.ScrollTrigger||Tx("scrollTrigger",r))&&$n.ScrollTrigger.create(r,e)},mA=function(e,r,n,s,o){if(kx(e,r,o),!e._initted)return 1;if(!n&&e._pt&&!zr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&lA!==Ln.frame)return Ro.push(e),e._lazy=[o,s],1},cj=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},Eg=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},uj=function(e,r,n,s){var o=e.ratio,l=r<0||!r&&(!e._start&&cj(e)&&!(!e._initted&&Eg(e))||(e._ts<0||e._dp._ts<0)&&!Eg(e))?0:1,u=e._rDelay,f=0,h,x,w;if(u&&e._repeat&&(f=yd(0,e._tDur,r),x=xc(f,u),e._yoyo&&x&1&&(l=1-l),x!==xc(e._tTime,u)&&(o=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==o||zr||s||e._zTime===It||!r&&e._zTime){if(!e._initted&&mA(e,r,s,n,f))return;for(w=e._zTime,e._zTime=r||(n?It:0),n||(n=r&&!w),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=f,h=e._pt;h;)h.r(l,h.d),h=h._next;r<0&&bg(e,r,n,!0),e._onUpdate&&!n&&Un(e,"onUpdate"),f&&e._repeat&&!n&&e.parent&&Un(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===l&&(l&&Lo(e,1),!n&&!zr&&(Un(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},dj=function(e,r,n){var s;if(n>r)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>r)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<r)return s;s=s._prev}},yc=function(e,r,n,s){var o=e._repeat,l=gr(r)||0,u=e._tTime/e._tDur;return u&&!s&&(e._time*=l/e._dur),e._dur=l,e._tDur=o?o<0?1e10:gr(l*(o+1)+e._rDelay*o):l,u>0&&!s&&g0(e,e._tTime=e._tDur*u),e.parent&&p0(e),n||Oa(e.parent,e),e},Xv=function(e){return e instanceof ln?Oa(e):yc(e,e._dur)},hj={_start:0,endTime:Ju,totalDuration:Ju},es=function t(e,r,n){var s=e.labels,o=e._recent||hj,l=e.duration()>=ls?o.endTime(!1):e._dur,u,f,h;return Pr(r)&&(isNaN(r)||r in s)?(f=r.charAt(0),h=r.substr(-1)==="%",u=r.indexOf("="),f==="<"||f===">"?(u>=0&&(r=r.replace(/=/,"")),(f==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0)*(h?(u<0?o:n).totalDuration()/100:1)):u<0?(r in s||(s[r]=l),s[r]):(f=parseFloat(r.charAt(u-1)+r.substr(u+1)),h&&n&&(f=f/100*(Zr(n)?n[0]:n).totalDuration()),u>1?t(e,r.substr(0,u-1),n)+f:l+f)):r==null?l:+r},Cu=function(e,r,n){var s=Bi(r[1]),o=(s?2:1)+(e<2?0:1),l=r[o],u,f;if(s&&(l.duration=r[1]),l.parent=n,e){for(u=l,f=n;f&&!("immediateRender"in u);)u=f.vars.defaults||{},f=En(f.vars.inherit)&&f.parent;l.immediateRender=En(u.immediateRender),e<2?l.runBackwards=1:l.startAt=r[o-1]}return new pr(r[0],l,r[o+1])},qo=function(e,r){return e||e===0?r(e):r},yd=function(e,r,n){return n<e?e:n>r?r:n},Qr=function(e,r){return!Pr(e)||!(r=tj.exec(e))?"":r[1]},fj=function(e,r,n){return qo(n,function(s){return yd(e,r,s)})},Cg=[].slice,xA=function(e,r){return e&&hi(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&hi(e[0]))&&!e.nodeType&&e!==Js},pj=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(s){var o;return Pr(s)&&!r||xA(s,1)?(o=n).push.apply(o,cs(s)):n.push(s)})||n},cs=function(e,r,n){return Ht&&!r&&Ht.selector?Ht.selector(e):Pr(e)&&!n&&(vg||!wc())?Cg.call((r||Ax).querySelectorAll(e),0):Zr(e)?pj(e,n):xA(e)?Cg.call(e,0):e?[e]:[]},Sg=function(e){return e=cs(e)[0]||Zu("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return cs(r,n.querySelectorAll?n:n===e?Zu("Invalid scope")||Ax.createElement("div"):e)}},yA=function(e){return e.sort(function(){return .5-Math.random()})},wA=function(e){if(lr(e))return e;var r=hi(e)?e:{each:e},n=Ma(r.ease),s=r.from||0,o=parseFloat(r.base)||0,l={},u=s>0&&s<1,f=isNaN(s)||u,h=r.axis,x=s,w=s;return Pr(s)?x=w={center:.5,edges:.5,end:1}[s]||0:!u&&f&&(x=s[0],w=s[1]),function(v,E,S){var b=(S||r).length,N=l[b],R,T,A,M,D,F,L,U,B;if(!N){if(B=r.grid==="auto"?0:(r.grid||[1,ls])[1],!B){for(L=-ls;L<(L=S[B++].getBoundingClientRect().left)&&B<b;);B<b&&B--}for(N=l[b]=[],R=f?Math.min(B,b)*x-.5:s%B,T=B===ls?0:f?b*w/B-.5:s/B|0,L=0,U=ls,F=0;F<b;F++)A=F%B-R,M=T-(F/B|0),N[F]=D=h?Math.abs(h==="y"?M:A):eA(A*A+M*M),D>L&&(L=D),D<U&&(U=D);s==="random"&&yA(N),N.max=L-U,N.min=U,N.v=b=(parseFloat(r.amount)||parseFloat(r.each)*(B>b?b-1:h?h==="y"?b/B:B:Math.max(B,b/B))||0)*(s==="edges"?-1:1),N.b=b<0?o-b:o,N.u=Qr(r.amount||r.each)||0,n=n&&b<0?IA(n):n}return b=(N[v]-N.min)/N.max||0,gr(N.b+(n?n(b):b)*N.v)+N.u}},Ag=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=gr(Math.round(parseFloat(n)/e)*e*r);return(s-s%1)/r+(Bi(n)?0:Qr(n))}},vA=function(e,r){var n=Zr(e),s,o;return!n&&hi(e)&&(s=n=e.radius||ls,e.values?(e=cs(e.values),(o=!Bi(e[0]))&&(s*=s)):e=Ag(e.increment)),qo(r,n?lr(e)?function(l){return o=e(l),Math.abs(o-l)<=s?o:l}:function(l){for(var u=parseFloat(o?l.x:l),f=parseFloat(o?l.y:0),h=ls,x=0,w=e.length,v,E;w--;)o?(v=e[w].x-u,E=e[w].y-f,v=v*v+E*E):v=Math.abs(e[w]-u),v<h&&(h=v,x=w);return x=!s||h<=s?e[x]:l,o||x===l||Bi(l)?x:x+Qr(l)}:Ag(e))},_A=function(e,r,n,s){return qo(Zr(e)?!r:n===!0?!!(n=0):!s,function(){return Zr(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*s)/s})},gj=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduce(function(o,l){return l(o)},s)}},mj=function(e,r){return function(n){return e(parseFloat(n))+(r||Qr(n))}},xj=function(e,r,n){return EA(e,r,0,1,n)},bA=function(e,r,n){return qo(n,function(s){return e[~~r(s)]})},yj=function t(e,r,n){var s=r-e;return Zr(e)?bA(e,t(0,e.length),r):qo(n,function(o){return(s+(o-e)%s)%s+e})},wj=function t(e,r,n){var s=r-e,o=s*2;return Zr(e)?bA(e,t(0,e.length-1),r):qo(n,function(l){return l=(o+(l-e)%o)%o||0,e+(l>s?o-l:l)})},ed=function(e){for(var r=0,n="",s,o,l,u;~(s=e.indexOf("random(",r));)l=e.indexOf(")",s),u=e.charAt(s+7)==="[",o=e.substr(s+7,l-s-7).match(u?sA:wg),n+=e.substr(r,s-r)+_A(u?o:+o[0],u?0:+o[1],+o[2]||1e-5),r=l+1;return n+e.substr(r,e.length-r)},EA=function(e,r,n,s,o){var l=r-e,u=s-n;return qo(o,function(f){return n+((f-e)/l*u||0)})},vj=function t(e,r,n,s){var o=isNaN(e+r)?0:function(E){return(1-E)*e+E*r};if(!o){var l=Pr(e),u={},f,h,x,w,v;if(n===!0&&(s=1)&&(n=null),l)e={p:e},r={p:r};else if(Zr(e)&&!Zr(r)){for(x=[],w=e.length,v=w-2,h=1;h<w;h++)x.push(t(e[h-1],e[h]));w--,o=function(S){S*=w;var b=Math.min(v,~~S);return x[b](S-b)},n=r}else s||(e=mc(Zr(e)?[]:{},e));if(!x){for(f in r)Mx.call(u,e,f,"get",r[f]);o=function(S){return jx(S,u)||(l?e.p:e)}}}return qo(n,o)},qv=function(e,r,n){var s=e.labels,o=ls,l,u,f;for(l in s)u=s[l]-r,u<0==!!n&&u&&o>(u=Math.abs(u))&&(f=l,o=u);return f},Un=function(e,r,n){var s=e.vars,o=s[r],l=Ht,u=e._ctx,f,h,x;if(o)return f=s[r+"Params"],h=s.callbackScope||e,n&&Ro.length&&bf(),u&&(Ht=u),x=f?o.apply(h,f):o.call(h),Ht=l,x},au=function(e){return Lo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!zr),e.progress()<1&&Un(e,"onInterrupt"),e},kl,CA=[],SA=function(e){if(e)if(e=!e.name&&e.default||e,Sx()||e.headless){var r=e.name,n=lr(e),s=r&&!n&&e.init?function(){this._props=[]}:e,o={init:Ju,render:jx,add:Mx,kill:jj,modifier:Dj,rawVars:0},l={targetTest:0,get:0,getSetter:Dx,aliases:{},register:0};if(wc(),e!==s){if(kn[r])return;Gn(s,Gn(Ef(e,o),l)),mc(s.prototype,mc(o,Ef(e,l))),kn[s.prop=r]=s,e.targetTest&&(kh.push(s),Nx[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}aA(r,s),e.register&&e.register(Tn,s,Sn)}else CA.push(e)},Nt=255,lu={aqua:[0,Nt,Nt],lime:[0,Nt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Nt],navy:[0,0,128],white:[Nt,Nt,Nt],olive:[128,128,0],yellow:[Nt,Nt,0],orange:[Nt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Nt,0,0],pink:[Nt,192,203],cyan:[0,Nt,Nt],transparent:[Nt,Nt,Nt,0]},B1=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*Nt+.5|0},AA=function(e,r,n){var s=e?Bi(e)?[e>>16,e>>8&Nt,e&Nt]:0:lu.black,o,l,u,f,h,x,w,v,E,S;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),lu[e])s=lu[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),l=e.charAt(2),u=e.charAt(3),e="#"+o+o+l+l+u+u+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Nt,s&Nt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Nt,e&Nt]}else if(e.substr(0,3)==="hsl"){if(s=S=e.match(wg),!r)f=+s[0]%360/360,h=+s[1]/100,x=+s[2]/100,l=x<=.5?x*(h+1):x+h-x*h,o=x*2-l,s.length>3&&(s[3]*=1),s[0]=B1(f+1/3,o,l),s[1]=B1(f,o,l),s[2]=B1(f-1/3,o,l);else if(~e.indexOf("="))return s=e.match(rA),n&&s.length<4&&(s[3]=1),s}else s=e.match(wg)||lu.transparent;s=s.map(Number)}return r&&!S&&(o=s[0]/Nt,l=s[1]/Nt,u=s[2]/Nt,w=Math.max(o,l,u),v=Math.min(o,l,u),x=(w+v)/2,w===v?f=h=0:(E=w-v,h=x>.5?E/(2-w-v):E/(w+v),f=w===o?(l-u)/E+(l<u?6:0):w===l?(u-o)/E+2:(o-l)/E+4,f*=60),s[0]=~~(f+.5),s[1]=~~(h*100+.5),s[2]=~~(x*100+.5)),n&&s.length<4&&(s[3]=1),s},TA=function(e){var r=[],n=[],s=-1;return e.split(Oo).forEach(function(o){var l=o.match(Ml)||[];r.push.apply(r,l),n.push(s+=l.length+1)}),r.c=n,r},Kv=function(e,r,n){var s="",o=(e+s).match(Oo),l=r?"hsla(":"rgba(",u=0,f,h,x,w;if(!o)return e;if(o=o.map(function(v){return(v=AA(v,r,1))&&l+(r?v[0]+","+v[1]+"%,"+v[2]+"%,"+v[3]:v.join(","))+")"}),n&&(x=TA(e),f=n.c,f.join(s)!==x.c.join(s)))for(h=e.replace(Oo,"1").split(Ml),w=h.length-1;u<w;u++)s+=h[u]+(~f.indexOf(u)?o.shift()||l+"0,0,0,0)":(x.length?x:o.length?o:n).shift());if(!h)for(h=e.split(Oo),w=h.length-1;u<w;u++)s+=h[u]+o[u];return s+h[w]},Oo=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in lu)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),_j=/hsl[a]?\(/,NA=function(e){var r=e.join(" "),n;if(Oo.lastIndex=0,Oo.test(r))return n=_j.test(r),e[1]=Kv(e[1],n),e[0]=Kv(e[0],n,TA(e[1])),!0},td,Ln=function(){var t=Date.now,e=500,r=33,n=t(),s=n,o=1e3/240,l=o,u=[],f,h,x,w,v,E,S=function b(N){var R=t()-s,T=N===!0,A,M,D,F;if((R>e||R<0)&&(n+=R-r),s+=R,D=s-n,A=D-l,(A>0||T)&&(F=++w.frame,v=D-w.time*1e3,w.time=D=D/1e3,l+=A+(A>=o?4:o-A),M=1),T||(f=h(b)),M)for(E=0;E<u.length;E++)u[E](D,v,F,N)};return w={time:0,frame:0,tick:function(){S(!0)},deltaRatio:function(N){return v/(1e3/(N||60))},wake:function(){iA&&(!vg&&Sx()&&(Js=vg=window,Ax=Js.document||{},$n.gsap=Tn,(Js.gsapVersions||(Js.gsapVersions=[])).push(Tn.version),oA(_f||Js.GreenSockGlobals||!Js.gsap&&Js||{}),CA.forEach(SA)),x=typeof requestAnimationFrame<"u"&&requestAnimationFrame,f&&w.sleep(),h=x||function(N){return setTimeout(N,l-w.time*1e3+1|0)},td=1,S(2))},sleep:function(){(x?cancelAnimationFrame:clearTimeout)(f),td=0,h=Ju},lagSmoothing:function(N,R){e=N||1/0,r=Math.min(R||33,e)},fps:function(N){o=1e3/(N||240),l=w.time*1e3+o},add:function(N,R,T){var A=R?function(M,D,F,L){N(M,D,F,L),w.remove(A)}:N;return w.remove(N),u[T?"unshift":"push"](A),wc(),A},remove:function(N,R){~(R=u.indexOf(N))&&u.splice(R,1)&&E>=R&&E--},_listeners:u},w}(),wc=function(){return!td&&Ln.wake()},ct={},bj=/^[\d.\-M][\d.\-,\s]/,Ej=/["']/g,Cj=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),s=n[0],o=1,l=n.length,u,f,h;o<l;o++)f=n[o],u=o!==l-1?f.lastIndexOf(","):f.length,h=f.substr(0,u),r[s]=isNaN(h)?h.replace(Ej,"").trim():+h,s=f.substr(u+1).trim();return r},Sj=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",r);return e.substring(r,~s&&s<n?e.indexOf(")",n+1):n)},Aj=function(e){var r=(e+"").split("("),n=ct[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Cj(r[1])]:Sj(e).split(",").map(dA)):ct._CE&&bj.test(e)?ct._CE("",e):n},IA=function(e){return function(r){return 1-e(1-r)}},RA=function t(e,r){for(var n=e._first,s;n;)n instanceof ln?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=r)),n=n._next},Ma=function(e,r){return e&&(lr(e)?e:ct[e]||Aj(e))||r},Qa=function(e,r,n,s){n===void 0&&(n=function(f){return 1-r(1-f)}),s===void 0&&(s=function(f){return f<.5?r(f*2)/2:1-r((1-f)*2)/2});var o={easeIn:r,easeOut:n,easeInOut:s},l;return Cn(e,function(u){ct[u]=$n[u]=o,ct[l=u.toLowerCase()]=n;for(var f in o)ct[l+(f==="easeIn"?".in":f==="easeOut"?".out":".inOut")]=ct[u+"."+f]=o[f]}),o},OA=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},F1=function t(e,r,n){var s=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),l=o/yg*(Math.asin(1/s)||0),u=function(x){return x===1?1:s*Math.pow(2,-10*x)*ej((x-l)*o)+1},f=e==="out"?u:e==="in"?function(h){return 1-u(1-h)}:OA(u);return o=yg/o,f.config=function(h,x){return t(e,h,x)},f},U1=function t(e,r){r===void 0&&(r=1.70158);var n=function(l){return l?--l*l*((r+1)*l+r)+1:0},s=e==="out"?n:e==="in"?function(o){return 1-n(1-o)}:OA(n);return s.config=function(o){return t(e,o)},s};Cn("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Qa(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});ct.Linear.easeNone=ct.none=ct.Linear.easeIn;Qa("Elastic",F1("in"),F1("out"),F1());(function(t,e){var r=1/e,n=2*r,s=2.5*r,o=function(u){return u<r?t*u*u:u<n?t*Math.pow(u-1.5/e,2)+.75:u<s?t*(u-=2.25/e)*u+.9375:t*Math.pow(u-2.625/e,2)+.984375};Qa("Bounce",function(l){return 1-o(1-l)},o)})(7.5625,2.75);Qa("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Qa("Circ",function(t){return-(eA(1-t*t)-1)});Qa("Sine",function(t){return t===1?1:-J5(t*Q5)+1});Qa("Back",U1("in"),U1("out"),U1());ct.SteppedEase=ct.steps=$n.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,s=e+(r?0:1),o=r?1:0,l=1-It;return function(u){return((s*yd(0,l,u)|0)+o)*n}}};gc.ease=ct["quad.out"];Cn("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return Ix+=t+","+t+"Params,"});var MA=function(e,r){this.id=Z5++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:cA,this.set=r?r.getSetter:Dx},rd=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,yc(this,+r.duration,1,1),this.data=r.data,Ht&&(this._ctx=Ht,Ht.data.push(this)),td||Ln.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,yc(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(wc(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(g0(this,n),!o._dp||o.parent||pA(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&si(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===It||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),uA(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Yv(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Yv(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,s):this._repeat?xc(this._tTime,o)+1:1},e.timeScale=function(n,s){if(!arguments.length)return this._rts===-It?0:this._rts;if(this._rts===n)return this;var o=this.parent&&this._ts?Cf(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-It?0:this._rts,this.totalTime(yd(-Math.abs(this._delay),this.totalDuration(),o),s!==!1),p0(this),aj(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(wc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==It&&(this._tTime-=It)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&si(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(En(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Cf(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=nj);var s=zr;return zr=n,Ox(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),zr=s,this},e.globalTime=function(n){for(var s=this,o=arguments.length?n:s.rawTime();s;)o=s._start+o/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):o},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,Xv(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,Xv(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(es(this,n),En(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,En(s)),this._dur||(this._zTime=-It),this},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-It:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-It,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=s&&o<this.endTime(!0)-It)},e.eventCallback=function(n,s,o){var l=this.vars;return arguments.length>1?(s?(l[n]=s,o&&(l[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=s)):delete l[n],this):l[n]},e.then=function(n){var s=this;return new Promise(function(o){var l=lr(n)?n:hA,u=function(){var h=s.then;s.then=null,lr(l)&&(l=l(s))&&(l.then||l===s)&&(s.then=h),o(l),s.then=h};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?u():s._prom=u})},e.kill=function(){au(this)},t}();Gn(rd.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-It,_prom:0,_ps:!1,_rts:1});var ln=function(t){JS(e,t);function e(n,s){var o;return n===void 0&&(n={}),o=t.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=En(n.sortChildren),Yt&&si(n.parent||Yt,_i(o),s),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&gA(_i(o),n.scrollTrigger),o}var r=e.prototype;return r.to=function(s,o,l){return Cu(0,arguments,this),this},r.from=function(s,o,l){return Cu(1,arguments,this),this},r.fromTo=function(s,o,l,u){return Cu(2,arguments,this),this},r.set=function(s,o,l){return o.duration=0,o.parent=this,Eu(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new pr(s,o,es(this,l),1),this},r.call=function(s,o,l){return si(this,pr.delayedCall(0,s,o),l)},r.staggerTo=function(s,o,l,u,f,h,x){return l.duration=o,l.stagger=l.stagger||u,l.onComplete=h,l.onCompleteParams=x,l.parent=this,new pr(s,l,es(this,f)),this},r.staggerFrom=function(s,o,l,u,f,h,x){return l.runBackwards=1,Eu(l).immediateRender=En(l.immediateRender),this.staggerTo(s,o,l,u,f,h,x)},r.staggerFromTo=function(s,o,l,u,f,h,x,w){return u.startAt=l,Eu(u).immediateRender=En(u.immediateRender),this.staggerTo(s,o,u,f,h,x,w)},r.render=function(s,o,l){var u=this._time,f=this._dirty?this.totalDuration():this._tDur,h=this._dur,x=s<=0?0:gr(s),w=this._zTime<0!=s<0&&(this._initted||!h),v,E,S,b,N,R,T,A,M,D,F,L;if(this!==Yt&&x>f&&s>=0&&(x=f),x!==this._tTime||l||w){if(u!==this._time&&h&&(x+=this._time-u,s+=this._time-u),v=x,M=this._start,A=this._ts,R=!A,w&&(h||(u=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(F=this._yoyo,N=h+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(N*100+s,o,l);if(v=gr(x%N),x===f?(b=this._repeat,v=h):(D=gr(x/N),b=~~D,b&&b===D&&(v=h,b--),v>h&&(v=h)),D=xc(this._tTime,N),!u&&this._tTime&&D!==b&&this._tTime-D*N-this._dur<=0&&(D=b),F&&b&1&&(v=h-v,L=1),b!==D&&!this._lock){var U=F&&D&1,B=U===(F&&b&1);if(b<D&&(U=!U),u=U?0:x%h?h:x,this._lock=1,this.render(u||(L?0:gr(b*N)),o,!h)._lock=0,this._tTime=x,!o&&this.parent&&Un(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),u&&u!==this._time||R!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,f=this._tDur,B&&(this._lock=2,u=U?h:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!R)return this;RA(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(T=dj(this,gr(u),gr(v)),T&&(x-=v-(v=T._start))),this._tTime=x,this._time=v,this._act=!A,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,u=0),!u&&x&&!o&&!D&&(Un(this,"onStart"),this._tTime!==x))return this;if(v>=u&&s>=0)for(E=this._first;E;){if(S=E._next,(E._act||v>=E._start)&&E._ts&&T!==E){if(E.parent!==this)return this.render(s,o,l);if(E.render(E._ts>0?(v-E._start)*E._ts:(E._dirty?E.totalDuration():E._tDur)+(v-E._start)*E._ts,o,l),v!==this._time||!this._ts&&!R){T=0,S&&(x+=this._zTime=-It);break}}E=S}else{E=this._last;for(var K=s<0?s:v;E;){if(S=E._prev,(E._act||K<=E._end)&&E._ts&&T!==E){if(E.parent!==this)return this.render(s,o,l);if(E.render(E._ts>0?(K-E._start)*E._ts:(E._dirty?E.totalDuration():E._tDur)+(K-E._start)*E._ts,o,l||zr&&Ox(E)),v!==this._time||!this._ts&&!R){T=0,S&&(x+=this._zTime=K?-It:It);break}}E=S}}if(T&&!o&&(this.pause(),T.render(v>=u?0:-It)._zTime=v>=u?1:-1,this._ts))return this._start=M,p0(this),this.render(s,o,l);this._onUpdate&&!o&&Un(this,"onUpdate",!0),(x===f&&this._tTime>=this.totalDuration()||!x&&u)&&(M===this._start||Math.abs(A)!==Math.abs(this._ts))&&(this._lock||((s||!h)&&(x===f&&this._ts>0||!x&&this._ts<0)&&Lo(this,1),!o&&!(s<0&&!u)&&(x||u||!f)&&(Un(this,x===f&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(x<f&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(s,o){var l=this;if(Bi(o)||(o=es(this,o,s)),!(s instanceof rd)){if(Zr(s))return s.forEach(function(u){return l.add(u,o)}),this;if(Pr(s))return this.addLabel(s,o);if(lr(s))s=pr.delayedCall(0,s);else return this}return this!==s?si(this,s,o):this},r.getChildren=function(s,o,l,u){s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),u===void 0&&(u=-ls);for(var f=[],h=this._first;h;)h._start>=u&&(h instanceof pr?o&&f.push(h):(l&&f.push(h),s&&f.push.apply(f,h.getChildren(!0,o,l)))),h=h._next;return f},r.getById=function(s){for(var o=this.getChildren(1,1,1),l=o.length;l--;)if(o[l].vars.id===s)return o[l]},r.remove=function(s){return Pr(s)?this.removeLabel(s):lr(s)?this.killTweensOf(s):(s.parent===this&&f0(this,s),s===this._recent&&(this._recent=this._last),Oa(this))},r.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=gr(Ln.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},r.addLabel=function(s,o){return this.labels[s]=es(this,o),this},r.removeLabel=function(s){return delete this.labels[s],this},r.addPause=function(s,o,l){var u=pr.delayedCall(0,o||Ju,l);return u.data="isPause",this._hasPause=1,si(this,u,es(this,s))},r.removePause=function(s){var o=this._first;for(s=es(this,s);o;)o._start===s&&o.data==="isPause"&&Lo(o),o=o._next},r.killTweensOf=function(s,o,l){for(var u=this.getTweensOf(s,l),f=u.length;f--;)xo!==u[f]&&u[f].kill(s,o);return this},r.getTweensOf=function(s,o){for(var l=[],u=cs(s),f=this._first,h=Bi(o),x;f;)f instanceof pr?sj(f._targets,u)&&(h?(!xo||f._initted&&f._ts)&&f.globalTime(0)<=o&&f.globalTime(f.totalDuration())>o:!o||f.isActive())&&l.push(f):(x=f.getTweensOf(u,o)).length&&l.push.apply(l,x),f=f._next;return l},r.tweenTo=function(s,o){o=o||{};var l=this,u=es(l,s),f=o,h=f.startAt,x=f.onStart,w=f.onStartParams,v=f.immediateRender,E,S=pr.to(l,Gn({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:o.duration||Math.abs((u-(h&&"time"in h?h.time:l._time))/l.timeScale())||It,onStart:function(){if(l.pause(),!E){var N=o.duration||Math.abs((u-(h&&"time"in h?h.time:l._time))/l.timeScale());S._dur!==N&&yc(S,N,0,1).render(S._time,!0,!0),E=1}x&&x.apply(S,w||[])}},o));return v?S.render(0):S},r.tweenFromTo=function(s,o,l){return this.tweenTo(o,Gn({startAt:{time:es(this,s)}},l))},r.recent=function(){return this._recent},r.nextLabel=function(s){return s===void 0&&(s=this._time),qv(this,es(this,s))},r.previousLabel=function(s){return s===void 0&&(s=this._time),qv(this,es(this,s),1)},r.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+It)},r.shiftChildren=function(s,o,l){l===void 0&&(l=0);for(var u=this._first,f=this.labels,h;u;)u._start>=l&&(u._start+=s,u._end+=s),u=u._next;if(o)for(h in f)f[h]>=l&&(f[h]+=s);return Oa(this)},r.invalidate=function(s){var o=this._first;for(this._lock=0;o;)o.invalidate(s),o=o._next;return t.prototype.invalidate.call(this,s)},r.clear=function(s){s===void 0&&(s=!0);for(var o=this._first,l;o;)l=o._next,this.remove(o),o=l;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Oa(this)},r.totalDuration=function(s){var o=0,l=this,u=l._last,f=ls,h,x,w;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-s:s));if(l._dirty){for(w=l.parent;u;)h=u._prev,u._dirty&&u.totalDuration(),x=u._start,x>f&&l._sort&&u._ts&&!l._lock?(l._lock=1,si(l,u,x-u._delay,1)._lock=0):f=x,x<0&&u._ts&&(o-=x,(!w&&!l._dp||w&&w.smoothChildTiming)&&(l._start+=x/l._ts,l._time-=x,l._tTime-=x),l.shiftChildren(-x,!1,-1/0),f=0),u._end>o&&u._ts&&(o=u._end),u=h;yc(l,l===Yt&&l._time>o?l._time:o,1,1),l._dirty=0}return l._tDur},e.updateRoot=function(s){if(Yt._ts&&(uA(Yt,Cf(s,Yt)),lA=Ln.frame),Ln.frame>=$v){$v+=Hn.autoSleep||120;var o=Yt._first;if((!o||!o._ts)&&Hn.autoSleep&&Ln._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||Ln.sleep()}}},e}(rd);Gn(ln.prototype,{_lock:0,_hasPause:0,_forcing:0});var Tj=function(e,r,n,s,o,l,u){var f=new Sn(this._pt,e,r,0,1,BA,null,o),h=0,x=0,w,v,E,S,b,N,R,T;for(f.b=n,f.e=s,n+="",s+="",(R=~s.indexOf("random("))&&(s=ed(s)),l&&(T=[n,s],l(T,e,r),n=T[0],s=T[1]),v=n.match(j1)||[];w=j1.exec(s);)S=w[0],b=s.substring(h,w.index),E?E=(E+1)%5:b.substr(-5)==="rgba("&&(E=1),S!==v[x++]&&(N=parseFloat(v[x-1])||0,f._pt={_next:f._pt,p:b||x===1?b:",",s:N,c:S.charAt(1)==="="?$l(N,S)-N:parseFloat(S)-N,m:E&&E<4?Math.round:0},h=j1.lastIndex);return f.c=h<s.length?s.substring(h,s.length):"",f.fp=u,(nA.test(s)||R)&&(f.e=0),this._pt=f,f},Mx=function(e,r,n,s,o,l,u,f,h,x){lr(s)&&(s=s(o||0,e,l));var w=e[r],v=n!=="get"?n:lr(w)?h?e[r.indexOf("set")||!lr(e["get"+r.substr(3)])?r:"get"+r.substr(3)](h):e[r]():w,E=lr(w)?h?Mj:jA:Px,S;if(Pr(s)&&(~s.indexOf("random(")&&(s=ed(s)),s.charAt(1)==="="&&(S=$l(v,s)+(Qr(v)||0),(S||S===0)&&(s=S))),!x||v!==s||Tg)return!isNaN(v*s)&&s!==""?(S=new Sn(this._pt,e,r,+v||0,s-(v||0),typeof w=="boolean"?Pj:LA,0,E),h&&(S.fp=h),u&&S.modifier(u,this,e),this._pt=S):(!w&&!(r in e)&&Tx(r,s),Tj.call(this,e,r,v,s,E,f||Hn.stringFilter,h))},Nj=function(e,r,n,s,o){if(lr(e)&&(e=Su(e,o,r,n,s)),!hi(e)||e.style&&e.nodeType||Zr(e)||tA(e))return Pr(e)?Su(e,o,r,n,s):e;var l={},u;for(u in e)l[u]=Su(e[u],o,r,n,s);return l},kA=function(e,r,n,s,o,l){var u,f,h,x;if(kn[e]&&(u=new kn[e]).init(o,u.rawVars?r[e]:Nj(r[e],s,o,l,n),n,s,l)!==!1&&(n._pt=f=new Sn(n._pt,o,e,0,1,u.render,u,0,u.priority),n!==kl))for(h=n._ptLookup[n._targets.indexOf(o)],x=u._props.length;x--;)h[u._props[x]]=f;return u},xo,Tg,kx=function t(e,r,n){var s=e.vars,o=s.ease,l=s.startAt,u=s.immediateRender,f=s.lazy,h=s.onUpdate,x=s.runBackwards,w=s.yoyoEase,v=s.keyframes,E=s.autoRevert,S=e._dur,b=e._startAt,N=e._targets,R=e.parent,T=R&&R.data==="nested"?R.vars.targets:N,A=e._overwrite==="auto"&&!Ex,M=e.timeline,D,F,L,U,B,K,ee,Q,se,G,H,ne,X;if(M&&(!v||!o)&&(o="none"),e._ease=Ma(o,gc.ease),e._yEase=w?IA(Ma(w===!0?o:w,gc.ease)):0,w&&e._yoyo&&!e._repeat&&(w=e._yEase,e._yEase=e._ease,e._ease=w),e._from=!M&&!!s.runBackwards,!M||v&&!s.stagger){if(Q=N[0]?Ra(N[0]).harness:0,ne=Q&&s[Q.prop],D=Ef(s,Nx),b&&(b._zTime<0&&b.progress(1),r<0&&x&&u&&!E?b.render(-1,!0):b.revert(x&&S?Mh:rj),b._lazy=0),l){if(Lo(e._startAt=pr.set(N,Gn({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!b&&En(f),startAt:null,delay:0,onUpdate:h&&function(){return Un(e,"onUpdate")},stagger:0},l))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(zr||!u&&!E)&&e._startAt.revert(Mh),u&&S&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(x&&S&&!b){if(r&&(u=!1),L=Gn({overwrite:!1,data:"isFromStart",lazy:u&&!b&&En(f),immediateRender:u,stagger:0,parent:R},D),ne&&(L[Q.prop]=ne),Lo(e._startAt=pr.set(N,L)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(zr?e._startAt.revert(Mh):e._startAt.render(-1,!0)),e._zTime=r,!u)t(e._startAt,It,It);else if(!r)return}for(e._pt=e._ptCache=0,f=S&&En(f)||f&&!S,F=0;F<N.length;F++){if(B=N[F],ee=B._gsap||Rx(N)[F]._gsap,e._ptLookup[F]=G={},_g[ee.id]&&Ro.length&&bf(),H=T===N?F:T.indexOf(B),Q&&(se=new Q).init(B,ne||D,e,H,T)!==!1&&(e._pt=U=new Sn(e._pt,B,se.name,0,1,se.render,se,0,se.priority),se._props.forEach(function(Y){G[Y]=U}),se.priority&&(K=1)),!Q||ne)for(L in D)kn[L]&&(se=kA(L,D,e,H,B,T))?se.priority&&(K=1):G[L]=U=Mx.call(e,B,L,"get",D[L],H,T,0,s.stringFilter);e._op&&e._op[F]&&e.kill(B,e._op[F]),A&&e._pt&&(xo=e,Yt.killTweensOf(B,G,e.globalTime(r)),X=!e.parent,xo=0),e._pt&&f&&(_g[ee.id]=1)}K&&FA(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!X,v&&r<=0&&M.render(ls,!0,!0)},Ij=function(e,r,n,s,o,l,u,f){var h=(e._pt&&e._ptCache||(e._ptCache={}))[r],x,w,v,E;if(!h)for(h=e._ptCache[r]=[],v=e._ptLookup,E=e._targets.length;E--;){if(x=v[E][r],x&&x.d&&x.d._pt)for(x=x.d._pt;x&&x.p!==r&&x.fp!==r;)x=x._next;if(!x)return Tg=1,e.vars[r]="+=0",kx(e,u),Tg=0,f?Zu(r+" not eligible for reset"):1;h.push(x)}for(E=h.length;E--;)w=h[E],x=w._pt||w,x.s=(s||s===0)&&!o?s:x.s+(s||0)+l*x.c,x.c=n-x.s,w.e&&(w.e=dr(n)+Qr(w.e)),w.b&&(w.b=x.s+Qr(w.b))},Rj=function(e,r){var n=e[0]?Ra(e[0]).harness:0,s=n&&n.aliases,o,l,u,f;if(!s)return r;o=mc({},r);for(l in s)if(l in o)for(f=s[l].split(","),u=f.length;u--;)o[f[u]]=o[l];return o},Oj=function(e,r,n,s){var o=r.ease||s||"power1.inOut",l,u;if(Zr(r))u=n[e]||(n[e]=[]),r.forEach(function(f,h){return u.push({t:h/(r.length-1)*100,v:f,e:o})});else for(l in r)u=n[l]||(n[l]=[]),l==="ease"||u.push({t:parseFloat(e),v:r[l],e:o})},Su=function(e,r,n,s,o){return lr(e)?e.call(r,n,s,o):Pr(e)&&~e.indexOf("random(")?ed(e):e},PA=Ix+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",DA={};Cn(PA+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return DA[t]=1});var pr=function(t){JS(e,t);function e(n,s,o,l){var u;typeof s=="number"&&(o.duration=s,s=o,o=null),u=t.call(this,l?s:Eu(s))||this;var f=u.vars,h=f.duration,x=f.delay,w=f.immediateRender,v=f.stagger,E=f.overwrite,S=f.keyframes,b=f.defaults,N=f.scrollTrigger,R=f.yoyoEase,T=s.parent||Yt,A=(Zr(n)||tA(n)?Bi(n[0]):"length"in s)?[n]:cs(n),M,D,F,L,U,B,K,ee;if(u._targets=A.length?Rx(A):Zu("GSAP target "+n+" not found. https://gsap.com",!Hn.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=E,S||v||hh(h)||hh(x)){if(s=u.vars,M=u.timeline=new ln({data:"nested",defaults:b||{},targets:T&&T.data==="nested"?T.vars.targets:A}),M.kill(),M.parent=M._dp=_i(u),M._start=0,v||hh(h)||hh(x)){if(L=A.length,K=v&&wA(v),hi(v))for(U in v)~PA.indexOf(U)&&(ee||(ee={}),ee[U]=v[U]);for(D=0;D<L;D++)F=Ef(s,DA),F.stagger=0,R&&(F.yoyoEase=R),ee&&mc(F,ee),B=A[D],F.duration=+Su(h,_i(u),D,B,A),F.delay=(+Su(x,_i(u),D,B,A)||0)-u._delay,!v&&L===1&&F.delay&&(u._delay=x=F.delay,u._start+=x,F.delay=0),M.to(B,F,K?K(D,B,A):0),M._ease=ct.none;M.duration()?h=x=0:u.timeline=0}else if(S){Eu(Gn(M.vars.defaults,{ease:"none"})),M._ease=Ma(S.ease||s.ease||"none");var Q=0,se,G,H;if(Zr(S))S.forEach(function(ne){return M.to(A,ne,">")}),M.duration();else{F={};for(U in S)U==="ease"||U==="easeEach"||Oj(U,S[U],F,S.easeEach);for(U in F)for(se=F[U].sort(function(ne,X){return ne.t-X.t}),Q=0,D=0;D<se.length;D++)G=se[D],H={ease:G.e,duration:(G.t-(D?se[D-1].t:0))/100*h},H[U]=G.v,M.to(A,H,Q),Q+=H.duration;M.duration()<h&&M.to({},{duration:h-M.duration()})}}h||u.duration(h=M.duration())}else u.timeline=0;return E===!0&&!Ex&&(xo=_i(u),Yt.killTweensOf(A),xo=0),si(T,_i(u),o),s.reversed&&u.reverse(),s.paused&&u.paused(!0),(w||!h&&!S&&u._start===gr(T._time)&&En(w)&&lj(_i(u))&&T.data!=="nested")&&(u._tTime=-It,u.render(Math.max(0,-x)||0)),N&&gA(_i(u),N),u}var r=e.prototype;return r.render=function(s,o,l){var u=this._time,f=this._tDur,h=this._dur,x=s<0,w=s>f-It&&!x?f:s<It?0:s,v,E,S,b,N,R,T,A,M;if(!h)uj(this,s,o,l);else if(w!==this._tTime||!s||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==x||this._lazy){if(v=w,A=this.timeline,this._repeat){if(b=h+this._rDelay,this._repeat<-1&&x)return this.totalTime(b*100+s,o,l);if(v=gr(w%b),w===f?(S=this._repeat,v=h):(N=gr(w/b),S=~~N,S&&S===N?(v=h,S--):v>h&&(v=h)),R=this._yoyo&&S&1,R&&(M=this._yEase,v=h-v),N=xc(this._tTime,b),v===u&&!l&&this._initted&&S===N)return this._tTime=w,this;S!==N&&(A&&this._yEase&&RA(A,R),this.vars.repeatRefresh&&!R&&!this._lock&&v!==b&&this._initted&&(this._lock=l=1,this.render(gr(b*S),!0).invalidate()._lock=0))}if(!this._initted){if(mA(this,x?s:v,l,o,w))return this._tTime=0,this;if(u!==this._time&&!(l&&this.vars.repeatRefresh&&S!==N))return this;if(h!==this._dur)return this.render(s,o,l)}if(this._tTime=w,this._time=v,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=T=(M||this._ease)(v/h),this._from&&(this.ratio=T=1-T),!u&&w&&!o&&!N&&(Un(this,"onStart"),this._tTime!==w))return this;for(E=this._pt;E;)E.r(T,E.d),E=E._next;A&&A.render(s<0?s:A._dur*A._ease(v/this._dur),o,l)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(x&&bg(this,s,o,l),Un(this,"onUpdate")),this._repeat&&S!==N&&this.vars.onRepeat&&!o&&this.parent&&Un(this,"onRepeat"),(w===this._tDur||!w)&&this._tTime===w&&(x&&!this._onUpdate&&bg(this,s,!0,!0),(s||!h)&&(w===this._tDur&&this._ts>0||!w&&this._ts<0)&&Lo(this,1),!o&&!(x&&!u)&&(w||u||R)&&(Un(this,w===f?"onComplete":"onReverseComplete",!0),this._prom&&!(w<f&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},r.resetTo=function(s,o,l,u,f){td||Ln.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),x;return this._initted||kx(this,h),x=this._ease(h/this._dur),Ij(this,s,o,l,u,x,h,f)?this.resetTo(s,o,l,u,1):(g0(this,0),this.parent||fA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(s,o){if(o===void 0&&(o="all"),!s&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?au(this):this.scrollTrigger&&this.scrollTrigger.kill(!!zr),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,xo&&xo.vars.overwrite!==!0)._first||au(this),this.parent&&l!==this.timeline.totalDuration()&&yc(this,this._dur*this.timeline._tDur/l,0,1),this}var u=this._targets,f=s?cs(s):u,h=this._ptLookup,x=this._pt,w,v,E,S,b,N,R;if((!o||o==="all")&&oj(u,f))return o==="all"&&(this._pt=0),au(this);for(w=this._op=this._op||[],o!=="all"&&(Pr(o)&&(b={},Cn(o,function(T){return b[T]=1}),o=b),o=Rj(u,o)),R=u.length;R--;)if(~f.indexOf(u[R])){v=h[R],o==="all"?(w[R]=o,S=v,E={}):(E=w[R]=w[R]||{},S=o);for(b in S)N=v&&v[b],N&&((!("kill"in N.d)||N.d.kill(b)===!0)&&f0(this,N,"_pt"),delete v[b]),E!=="all"&&(E[b]=1)}return this._initted&&!this._pt&&x&&au(this),this},e.to=function(s,o){return new e(s,o,arguments[2])},e.from=function(s,o){return Cu(1,arguments)},e.delayedCall=function(s,o,l,u){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:u})},e.fromTo=function(s,o,l){return Cu(2,arguments)},e.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(s,o)},e.killTweensOf=function(s,o,l){return Yt.killTweensOf(s,o,l)},e}(rd);Gn(pr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});Cn("staggerTo,staggerFrom,staggerFromTo",function(t){pr[t]=function(){var e=new ln,r=Cg.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var Px=function(e,r,n){return e[r]=n},jA=function(e,r,n){return e[r](n)},Mj=function(e,r,n,s){return e[r](s.fp,n)},kj=function(e,r,n){return e.setAttribute(r,n)},Dx=function(e,r){return lr(e[r])?jA:Cx(e[r])&&e.setAttribute?kj:Px},LA=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},Pj=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},BA=function(e,r){var n=r._pt,s="";if(!e&&r.b)s=r.b;else if(e===1&&r.e)s=r.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=r.c}r.set(r.t,r.p,s,r)},jx=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},Dj=function(e,r,n,s){for(var o=this._pt,l;o;)l=o._next,o.p===s&&o.modifier(e,r,n),o=l},jj=function(e){for(var r=this._pt,n,s;r;)s=r._next,r.p===e&&!r.op||r.op===e?f0(this,r,"_pt"):r.dep||(n=1),r=s;return!n},Lj=function(e,r,n,s){s.mSet(e,r,s.m.call(s.tween,n,s.mt),s)},FA=function(e){for(var r=e._pt,n,s,o,l;r;){for(n=r._next,s=o;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:l)?r._prev._next=r:o=r,(r._next=s)?s._prev=r:l=r,r=n}e._pt=o},Sn=function(){function t(r,n,s,o,l,u,f,h,x){this.t=n,this.s=o,this.c=l,this.p=s,this.r=u||LA,this.d=f||this,this.set=h||Px,this.pr=x||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,s,o){this.mSet=this.mSet||this.set,this.set=Lj,this.m=n,this.mt=o,this.tween=s},t}();Cn(Ix+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return Nx[t]=1});$n.TweenMax=$n.TweenLite=pr;$n.TimelineLite=$n.TimelineMax=ln;Yt=new ln({sortChildren:!1,defaults:gc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Hn.stringFilter=NA;var ka=[],Ph={},Bj=[],Qv=0,Fj=0,z1=function(e){return(Ph[e]||Bj).map(function(r){return r()})},Ng=function(){var e=Date.now(),r=[];e-Qv>2&&(z1("matchMediaInit"),ka.forEach(function(n){var s=n.queries,o=n.conditions,l,u,f,h;for(u in s)l=Js.matchMedia(s[u]).matches,l&&(f=1),l!==o[u]&&(o[u]=l,h=1);h&&(n.revert(),f&&r.push(n))}),z1("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),Qv=e,z1("matchMedia"))},UA=function(){function t(r,n){this.selector=n&&Sg(n),this.data=[],this._r=[],this.isReverted=!1,this.id=Fj++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,s,o){lr(n)&&(o=s,s=n,n=lr);var l=this,u=function(){var h=Ht,x=l.selector,w;return h&&h!==l&&h.data.push(l),o&&(l.selector=Sg(o)),Ht=l,w=s.apply(l,arguments),lr(w)&&l._r.push(w),Ht=h,l.selector=x,l.isReverted=!1,w};return l.last=u,n===lr?u(l,function(f){return l.add(null,f)}):n?l[n]=u:u},e.ignore=function(n){var s=Ht;Ht=null,n(this),Ht=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof t?n.push.apply(n,s.getTweens()):s instanceof pr&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var o=this;if(n?function(){for(var u=o.getTweens(),f=o.data.length,h;f--;)h=o.data[f],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(x){return u.splice(u.indexOf(x),1)}));for(u.map(function(x){return{g:x._dur||x._delay||x._sat&&!x._sat.vars.immediateRender?x.globalTime(0):-1/0,t:x}}).sort(function(x,w){return w.g-x.g||-1/0}).forEach(function(x){return x.t.revert(n)}),f=o.data.length;f--;)h=o.data[f],h instanceof ln?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof pr)&&h.revert&&h.revert(n);o._r.forEach(function(x){return x(n,o)}),o.isReverted=!0}():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),s)for(var l=ka.length;l--;)ka[l].id===this.id&&ka.splice(l,1)},e.revert=function(n){this.kill(n||{})},t}(),Uj=function(){function t(r){this.contexts=[],this.scope=r,Ht&&Ht.data.push(this)}var e=t.prototype;return e.add=function(n,s,o){hi(n)||(n={matches:n});var l=new UA(0,o||this.scope),u=l.conditions={},f,h,x;Ht&&!l.selector&&(l.selector=Ht.selector),this.contexts.push(l),s=l.add("onMatch",s),l.queries=n;for(h in n)h==="all"?x=1:(f=Js.matchMedia(n[h]),f&&(ka.indexOf(l)<0&&ka.push(l),(u[h]=f.matches)&&(x=1),f.addListener?f.addListener(Ng):f.addEventListener("change",Ng)));return x&&s(l,function(w){return l.add(null,w)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},t}(),Sf={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(s){return SA(s)})},timeline:function(e){return new ln(e)},getTweensOf:function(e,r){return Yt.getTweensOf(e,r)},getProperty:function(e,r,n,s){Pr(e)&&(e=cs(e)[0]);var o=Ra(e||{}).get,l=n?hA:dA;return n==="native"&&(n=""),e&&(r?l((kn[r]&&kn[r].get||o)(e,r,n,s)):function(u,f,h){return l((kn[u]&&kn[u].get||o)(e,u,f,h))})},quickSetter:function(e,r,n){if(e=cs(e),e.length>1){var s=e.map(function(x){return Tn.quickSetter(x,r,n)}),o=s.length;return function(x){for(var w=o;w--;)s[w](x)}}e=e[0]||{};var l=kn[r],u=Ra(e),f=u.harness&&(u.harness.aliases||{})[r]||r,h=l?function(x){var w=new l;kl._pt=0,w.init(e,n?x+n:x,kl,0,[e]),w.render(1,w),kl._pt&&jx(1,kl)}:u.set(e,f);return l?h:function(x){return h(e,f,n?x+n:x,u,1)}},quickTo:function(e,r,n){var s,o=Tn.to(e,Gn((s={},s[r]="+=0.1",s.paused=!0,s.stagger=0,s),n||{})),l=function(f,h,x){return o.resetTo(r,f,h,x)};return l.tween=o,l},isTweening:function(e){return Yt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Ma(e.ease,gc.ease)),Gv(gc,e||{})},config:function(e){return Gv(Hn,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,s=e.plugins,o=e.defaults,l=e.extendTimeline;(s||"").split(",").forEach(function(u){return u&&!kn[u]&&!$n[u]&&Zu(r+" effect requires "+u+" plugin.")}),L1[r]=function(u,f,h){return n(cs(u),Gn(f||{},o),h)},l&&(ln.prototype[r]=function(u,f,h){return this.add(L1[r](u,hi(f)?f:(h=f)&&{},this),h)})},registerEase:function(e,r){ct[e]=Ma(r)},parseEase:function(e,r){return arguments.length?Ma(e,r):ct},getById:function(e){return Yt.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new ln(e),s,o;for(n.smoothChildTiming=En(e.smoothChildTiming),Yt.remove(n),n._dp=0,n._time=n._tTime=Yt._time,s=Yt._first;s;)o=s._next,(r||!(!s._dur&&s instanceof pr&&s.vars.onComplete===s._targets[0]))&&si(n,s,s._start-s._delay),s=o;return si(Yt,n,0),n},context:function(e,r){return e?new UA(e,r):Ht},matchMedia:function(e){return new Uj(e)},matchMediaRefresh:function(){return ka.forEach(function(e){var r=e.conditions,n,s;for(s in r)r[s]&&(r[s]=!1,n=1);n&&e.revert()})||Ng()},addEventListener:function(e,r){var n=Ph[e]||(Ph[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=Ph[e],s=n&&n.indexOf(r);s>=0&&n.splice(s,1)},utils:{wrap:yj,wrapYoyo:wj,distribute:wA,random:_A,snap:vA,normalize:xj,getUnit:Qr,clamp:fj,splitColor:AA,toArray:cs,selector:Sg,mapRange:EA,pipe:gj,unitize:mj,interpolate:vj,shuffle:yA},install:oA,effects:L1,ticker:Ln,updateRoot:ln.updateRoot,plugins:kn,globalTimeline:Yt,core:{PropTween:Sn,globals:aA,Tween:pr,Timeline:ln,Animation:rd,getCache:Ra,_removeLinkedListItem:f0,reverting:function(){return zr},context:function(e){return e&&Ht&&(Ht.data.push(e),e._ctx=Ht),Ht},suppressOverwrites:function(e){return Ex=e}}};Cn("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return Sf[t]=pr[t]});Ln.add(ln.updateRoot);kl=Sf.to({},{duration:0});var zj=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},Vj=function(e,r){var n=e._targets,s,o,l;for(s in r)for(o=n.length;o--;)l=e._ptLookup[o][s],l&&(l=l.d)&&(l._pt&&(l=zj(l,s)),l&&l.modifier&&l.modifier(r[s],e,n[o],s))},V1=function(e,r){return{name:e,headless:1,rawVars:1,init:function(s,o,l){l._onInit=function(u){var f,h;if(Pr(o)&&(f={},Cn(o,function(x){return f[x]=1}),o=f),r){f={};for(h in o)f[h]=r(o[h]);o=f}Vj(u,o)}}}},Tn=Sf.registerPlugin({name:"attr",init:function(e,r,n,s,o){var l,u,f;this.tween=n;for(l in r)f=e.getAttribute(l)||"",u=this.add(e,"setAttribute",(f||0)+"",r[l],s,o,0,0,l),u.op=l,u.b=f,this._props.push(l)},render:function(e,r){for(var n=r._pt;n;)zr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},V1("roundProps",Ag),V1("modifiers"),V1("snap",vA))||Sf;pr.version=ln.version=Tn.version="3.13.0";iA=1;Sx()&&wc();ct.Power0;ct.Power1;ct.Power2;ct.Power3;ct.Power4;ct.Linear;ct.Quad;ct.Cubic;ct.Quart;ct.Quint;ct.Strong;ct.Elastic;ct.Back;ct.SteppedEase;ct.Bounce;ct.Sine;ct.Expo;ct.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Zv,yo,Gl,Lx,wa,Jv,Bx,Hj=function(){return typeof window<"u"},Fi={},ha=180/Math.PI,Yl=Math.PI/180,pl=Math.atan2,e2=1e8,Fx=/([A-Z])/g,Wj=/(left|right|width|margin|padding|x)/i,$j=/[\s,\(]\S/,oi={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},Ig=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Gj=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},Yj=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},Xj=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},zA=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},VA=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},qj=function(e,r,n){return e.style[r]=n},Kj=function(e,r,n){return e.style.setProperty(r,n)},Qj=function(e,r,n){return e._gsap[r]=n},Zj=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},Jj=function(e,r,n,s,o){var l=e._gsap;l.scaleX=l.scaleY=n,l.renderTransform(o,l)},eL=function(e,r,n,s,o){var l=e._gsap;l[r]=n,l.renderTransform(o,l)},qt="transform",An=qt+"Origin",tL=function t(e,r){var n=this,s=this.target,o=s.style,l=s._gsap;if(e in Fi&&o){if(this.tfm=this.tfm||{},e!=="transform")e=oi[e]||e,~e.indexOf(",")?e.split(",").forEach(function(u){return n.tfm[u]=Ci(s,u)}):this.tfm[e]=l.x?l[e]:Ci(s,e),e===An&&(this.tfm.zOrigin=l.zOrigin);else return oi.transform.split(",").forEach(function(u){return t.call(n,u,r)});if(this.props.indexOf(qt)>=0)return;l.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(An,r,"")),e=qt}(o||r)&&this.props.push(e,r,o[e])},HA=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},rL=function(){var e=this.props,r=this.target,n=r.style,s=r._gsap,o,l;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?r[e[o]](e[o+2]):r[e[o]]=e[o+2]:e[o+2]?n[e[o]]=e[o+2]:n.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(Fx,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)s[l]=this.tfm[l];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),o=Bx(),(!o||!o.isStart)&&!n[qt]&&(HA(n),s.zOrigin&&n[An]&&(n[An]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},WA=function(e,r){var n={target:e,props:[],revert:rL,save:tL};return e._gsap||Tn.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(s){return n.save(s)}),n},$A,Rg=function(e,r){var n=yo.createElementNS?yo.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):yo.createElement(e);return n&&n.style?n:yo.createElement(e)},us=function t(e,r,n){var s=getComputedStyle(e);return s[r]||s.getPropertyValue(r.replace(Fx,"-$1").toLowerCase())||s.getPropertyValue(r)||!n&&t(e,vc(r)||r,1)||""},t2="O,Moz,ms,Ms,Webkit".split(","),vc=function(e,r,n){var s=r||wa,o=s.style,l=5;if(e in o&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);l--&&!(t2[l]+e in o););return l<0?null:(l===3?"ms":l>=0?t2[l]:"")+e},Og=function(){Hj()&&window.document&&(Zv=window,yo=Zv.document,Gl=yo.documentElement,wa=Rg("div")||{style:{}},Rg("div"),qt=vc(qt),An=qt+"Origin",wa.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",$A=!!vc("perspective"),Bx=Tn.core.reverting,Lx=1)},r2=function(e){var r=e.ownerSVGElement,n=Rg("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),o;s.style.display="block",n.appendChild(s),Gl.appendChild(n);try{o=s.getBBox()}catch{}return n.removeChild(s),Gl.removeChild(n),o},n2=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},GA=function(e){var r,n;try{r=e.getBBox()}catch{r=r2(e),n=1}return r&&(r.width||r.height)||n||(r=r2(e)),r&&!r.width&&!r.x&&!r.y?{x:+n2(e,["x","cx","x1"])||0,y:+n2(e,["y","cy","y1"])||0,width:0,height:0}:r},YA=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&GA(e))},Ua=function(e,r){if(r){var n=e.style,s;r in Fi&&r!==An&&(r=qt),n.removeProperty?(s=r.substr(0,2),(s==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(s==="--"?r:r.replace(Fx,"-$1").toLowerCase())):n.removeAttribute(r)}},wo=function(e,r,n,s,o,l){var u=new Sn(e._pt,r,n,0,1,l?VA:zA);return e._pt=u,u.b=s,u.e=o,e._props.push(n),u},s2={deg:1,rad:1,turn:1},nL={grid:1,flex:1},Bo=function t(e,r,n,s){var o=parseFloat(n)||0,l=(n+"").trim().substr((o+"").length)||"px",u=wa.style,f=Wj.test(r),h=e.tagName.toLowerCase()==="svg",x=(h?"client":"offset")+(f?"Width":"Height"),w=100,v=s==="px",E=s==="%",S,b,N,R;if(s===l||!o||s2[s]||s2[l])return o;if(l!=="px"&&!v&&(o=t(e,r,n,"px")),R=e.getCTM&&YA(e),(E||l==="%")&&(Fi[r]||~r.indexOf("adius")))return S=R?e.getBBox()[f?"width":"height"]:e[x],dr(E?o/S*w:o/100*S);if(u[f?"width":"height"]=w+(v?l:s),b=s!=="rem"&&~r.indexOf("adius")||s==="em"&&e.appendChild&&!h?e:e.parentNode,R&&(b=(e.ownerSVGElement||{}).parentNode),(!b||b===yo||!b.appendChild)&&(b=yo.body),N=b._gsap,N&&E&&N.width&&f&&N.time===Ln.time&&!N.uncache)return dr(o/N.width*w);if(E&&(r==="height"||r==="width")){var T=e.style[r];e.style[r]=w+s,S=e[x],T?e.style[r]=T:Ua(e,r)}else(E||l==="%")&&!nL[us(b,"display")]&&(u.position=us(e,"position")),b===e&&(u.position="static"),b.appendChild(wa),S=wa[x],b.removeChild(wa),u.position="absolute";return f&&E&&(N=Ra(b),N.time=Ln.time,N.width=b[x]),dr(v?S*o/w:S&&o?w/S*o:0)},Ci=function(e,r,n,s){var o;return Lx||Og(),r in oi&&r!=="transform"&&(r=oi[r],~r.indexOf(",")&&(r=r.split(",")[0])),Fi[r]&&r!=="transform"?(o=sd(e,s),o=r!=="transformOrigin"?o[r]:o.svg?o.origin:Tf(us(e,An))+" "+o.zOrigin+"px"):(o=e.style[r],(!o||o==="auto"||s||~(o+"").indexOf("calc("))&&(o=Af[r]&&Af[r](e,r,n)||us(e,r)||cA(e,r)||(r==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?Bo(e,r,o,n)+n:o},sL=function(e,r,n,s){if(!n||n==="none"){var o=vc(r,e,1),l=o&&us(e,o,1);l&&l!==n?(r=o,n=l):r==="borderColor"&&(n=us(e,"borderTopColor"))}var u=new Sn(this._pt,e.style,r,0,1,BA),f=0,h=0,x,w,v,E,S,b,N,R,T,A,M,D;if(u.b=n,u.e=s,n+="",s+="",s.substring(0,6)==="var(--"&&(s=us(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(b=e.style[r],e.style[r]=s,s=us(e,r)||s,b?e.style[r]=b:Ua(e,r)),x=[n,s],NA(x),n=x[0],s=x[1],v=n.match(Ml)||[],D=s.match(Ml)||[],D.length){for(;w=Ml.exec(s);)N=w[0],T=s.substring(f,w.index),S?S=(S+1)%5:(T.substr(-5)==="rgba("||T.substr(-5)==="hsla(")&&(S=1),N!==(b=v[h++]||"")&&(E=parseFloat(b)||0,M=b.substr((E+"").length),N.charAt(1)==="="&&(N=$l(E,N)+M),R=parseFloat(N),A=N.substr((R+"").length),f=Ml.lastIndex-A.length,A||(A=A||Hn.units[r]||M,f===s.length&&(s+=A,u.e+=A)),M!==A&&(E=Bo(e,r,b,A)||0),u._pt={_next:u._pt,p:T||h===1?T:",",s:E,c:R-E,m:S&&S<4||r==="zIndex"?Math.round:0});u.c=f<s.length?s.substring(f,s.length):""}else u.r=r==="display"&&s==="none"?VA:zA;return nA.test(s)&&(u.e=0),this._pt=u,u},i2={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},iL=function(e){var r=e.split(" "),n=r[0],s=r[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),r[0]=i2[n]||n,r[1]=i2[s]||s,r.join(" ")},oL=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,s=n.style,o=r.u,l=n._gsap,u,f,h;if(o==="all"||o===!0)s.cssText="",f=1;else for(o=o.split(","),h=o.length;--h>-1;)u=o[h],Fi[u]&&(f=1,u=u==="transformOrigin"?An:qt),Ua(n,u);f&&(Ua(n,qt),l&&(l.svg&&n.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",sd(n,1),l.uncache=1,HA(s)))}},Af={clearProps:function(e,r,n,s,o){if(o.data!=="isFromStart"){var l=e._pt=new Sn(e._pt,r,n,0,0,oL);return l.u=s,l.pr=-10,l.tween=o,e._props.push(n),1}}},nd=[1,0,0,1,0,0],XA={},qA=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},o2=function(e){var r=us(e,qt);return qA(r)?nd:r.substr(7).match(rA).map(dr)},Ux=function(e,r){var n=e._gsap||Ra(e),s=e.style,o=o2(e),l,u,f,h;return n.svg&&e.getAttribute("transform")?(f=e.transform.baseVal.consolidate().matrix,o=[f.a,f.b,f.c,f.d,f.e,f.f],o.join(",")==="1,0,0,1,0,0"?nd:o):(o===nd&&!e.offsetParent&&e!==Gl&&!n.svg&&(f=s.display,s.display="block",l=e.parentNode,(!l||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,u=e.nextElementSibling,Gl.appendChild(e)),o=o2(e),f?s.display=f:Ua(e,"display"),h&&(u?l.insertBefore(e,u):l?l.appendChild(e):Gl.removeChild(e))),r&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},Mg=function(e,r,n,s,o,l){var u=e._gsap,f=o||Ux(e,!0),h=u.xOrigin||0,x=u.yOrigin||0,w=u.xOffset||0,v=u.yOffset||0,E=f[0],S=f[1],b=f[2],N=f[3],R=f[4],T=f[5],A=r.split(" "),M=parseFloat(A[0])||0,D=parseFloat(A[1])||0,F,L,U,B;n?f!==nd&&(L=E*N-S*b)&&(U=M*(N/L)+D*(-b/L)+(b*T-N*R)/L,B=M*(-S/L)+D*(E/L)-(E*T-S*R)/L,M=U,D=B):(F=GA(e),M=F.x+(~A[0].indexOf("%")?M/100*F.width:M),D=F.y+(~(A[1]||A[0]).indexOf("%")?D/100*F.height:D)),s||s!==!1&&u.smooth?(R=M-h,T=D-x,u.xOffset=w+(R*E+T*b)-R,u.yOffset=v+(R*S+T*N)-T):u.xOffset=u.yOffset=0,u.xOrigin=M,u.yOrigin=D,u.smooth=!!s,u.origin=r,u.originIsAbsolute=!!n,e.style[An]="0px 0px",l&&(wo(l,u,"xOrigin",h,M),wo(l,u,"yOrigin",x,D),wo(l,u,"xOffset",w,u.xOffset),wo(l,u,"yOffset",v,u.yOffset)),e.setAttribute("data-svg-origin",M+" "+D)},sd=function(e,r){var n=e._gsap||new MA(e);if("x"in n&&!r&&!n.uncache)return n;var s=e.style,o=n.scaleX<0,l="px",u="deg",f=getComputedStyle(e),h=us(e,An)||"0",x,w,v,E,S,b,N,R,T,A,M,D,F,L,U,B,K,ee,Q,se,G,H,ne,X,Y,J,oe,Ee,de,ae,fe,ze;return x=w=v=b=N=R=T=A=M=0,E=S=1,n.svg=!!(e.getCTM&&YA(e)),f.translate&&((f.translate!=="none"||f.scale!=="none"||f.rotate!=="none")&&(s[qt]=(f.translate!=="none"?"translate3d("+(f.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(f.rotate!=="none"?"rotate("+f.rotate+") ":"")+(f.scale!=="none"?"scale("+f.scale.split(" ").join(",")+") ":"")+(f[qt]!=="none"?f[qt]:"")),s.scale=s.rotate=s.translate="none"),L=Ux(e,n.svg),n.svg&&(n.uncache?(Y=e.getBBox(),h=n.xOrigin-Y.x+"px "+(n.yOrigin-Y.y)+"px",X=""):X=!r&&e.getAttribute("data-svg-origin"),Mg(e,X||h,!!X||n.originIsAbsolute,n.smooth!==!1,L)),D=n.xOrigin||0,F=n.yOrigin||0,L!==nd&&(ee=L[0],Q=L[1],se=L[2],G=L[3],x=H=L[4],w=ne=L[5],L.length===6?(E=Math.sqrt(ee*ee+Q*Q),S=Math.sqrt(G*G+se*se),b=ee||Q?pl(Q,ee)*ha:0,T=se||G?pl(se,G)*ha+b:0,T&&(S*=Math.abs(Math.cos(T*Yl))),n.svg&&(x-=D-(D*ee+F*se),w-=F-(D*Q+F*G))):(ze=L[6],ae=L[7],oe=L[8],Ee=L[9],de=L[10],fe=L[11],x=L[12],w=L[13],v=L[14],U=pl(ze,de),N=U*ha,U&&(B=Math.cos(-U),K=Math.sin(-U),X=H*B+oe*K,Y=ne*B+Ee*K,J=ze*B+de*K,oe=H*-K+oe*B,Ee=ne*-K+Ee*B,de=ze*-K+de*B,fe=ae*-K+fe*B,H=X,ne=Y,ze=J),U=pl(-se,de),R=U*ha,U&&(B=Math.cos(-U),K=Math.sin(-U),X=ee*B-oe*K,Y=Q*B-Ee*K,J=se*B-de*K,fe=G*K+fe*B,ee=X,Q=Y,se=J),U=pl(Q,ee),b=U*ha,U&&(B=Math.cos(U),K=Math.sin(U),X=ee*B+Q*K,Y=H*B+ne*K,Q=Q*B-ee*K,ne=ne*B-H*K,ee=X,H=Y),N&&Math.abs(N)+Math.abs(b)>359.9&&(N=b=0,R=180-R),E=dr(Math.sqrt(ee*ee+Q*Q+se*se)),S=dr(Math.sqrt(ne*ne+ze*ze)),U=pl(H,ne),T=Math.abs(U)>2e-4?U*ha:0,M=fe?1/(fe<0?-fe:fe):0),n.svg&&(X=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!qA(us(e,qt)),X&&e.setAttribute("transform",X))),Math.abs(T)>90&&Math.abs(T)<270&&(o?(E*=-1,T+=b<=0?180:-180,b+=b<=0?180:-180):(S*=-1,T+=T<=0?180:-180)),r=r||n.uncache,n.x=x-((n.xPercent=x&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-x)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+l,n.y=w-((n.yPercent=w&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-w)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+l,n.z=v+l,n.scaleX=dr(E),n.scaleY=dr(S),n.rotation=dr(b)+u,n.rotationX=dr(N)+u,n.rotationY=dr(R)+u,n.skewX=T+u,n.skewY=A+u,n.transformPerspective=M+l,(n.zOrigin=parseFloat(h.split(" ")[2])||!r&&n.zOrigin||0)&&(s[An]=Tf(h)),n.xOffset=n.yOffset=0,n.force3D=Hn.force3D,n.renderTransform=n.svg?lL:$A?KA:aL,n.uncache=0,n},Tf=function(e){return(e=e.split(" "))[0]+" "+e[1]},H1=function(e,r,n){var s=Qr(r);return dr(parseFloat(r)+parseFloat(Bo(e,"x",n+"px",s)))+s},aL=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,KA(e,r)},aa="0deg",eu="0px",la=") ",KA=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,l=n.x,u=n.y,f=n.z,h=n.rotation,x=n.rotationY,w=n.rotationX,v=n.skewX,E=n.skewY,S=n.scaleX,b=n.scaleY,N=n.transformPerspective,R=n.force3D,T=n.target,A=n.zOrigin,M="",D=R==="auto"&&e&&e!==1||R===!0;if(A&&(w!==aa||x!==aa)){var F=parseFloat(x)*Yl,L=Math.sin(F),U=Math.cos(F),B;F=parseFloat(w)*Yl,B=Math.cos(F),l=H1(T,l,L*B*-A),u=H1(T,u,-Math.sin(F)*-A),f=H1(T,f,U*B*-A+A)}N!==eu&&(M+="perspective("+N+la),(s||o)&&(M+="translate("+s+"%, "+o+"%) "),(D||l!==eu||u!==eu||f!==eu)&&(M+=f!==eu||D?"translate3d("+l+", "+u+", "+f+") ":"translate("+l+", "+u+la),h!==aa&&(M+="rotate("+h+la),x!==aa&&(M+="rotateY("+x+la),w!==aa&&(M+="rotateX("+w+la),(v!==aa||E!==aa)&&(M+="skew("+v+", "+E+la),(S!==1||b!==1)&&(M+="scale("+S+", "+b+la),T.style[qt]=M||"translate(0, 0)"},lL=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,l=n.x,u=n.y,f=n.rotation,h=n.skewX,x=n.skewY,w=n.scaleX,v=n.scaleY,E=n.target,S=n.xOrigin,b=n.yOrigin,N=n.xOffset,R=n.yOffset,T=n.forceCSS,A=parseFloat(l),M=parseFloat(u),D,F,L,U,B;f=parseFloat(f),h=parseFloat(h),x=parseFloat(x),x&&(x=parseFloat(x),h+=x,f+=x),f||h?(f*=Yl,h*=Yl,D=Math.cos(f)*w,F=Math.sin(f)*w,L=Math.sin(f-h)*-v,U=Math.cos(f-h)*v,h&&(x*=Yl,B=Math.tan(h-x),B=Math.sqrt(1+B*B),L*=B,U*=B,x&&(B=Math.tan(x),B=Math.sqrt(1+B*B),D*=B,F*=B)),D=dr(D),F=dr(F),L=dr(L),U=dr(U)):(D=w,U=v,F=L=0),(A&&!~(l+"").indexOf("px")||M&&!~(u+"").indexOf("px"))&&(A=Bo(E,"x",l,"px"),M=Bo(E,"y",u,"px")),(S||b||N||R)&&(A=dr(A+S-(S*D+b*L)+N),M=dr(M+b-(S*F+b*U)+R)),(s||o)&&(B=E.getBBox(),A=dr(A+s/100*B.width),M=dr(M+o/100*B.height)),B="matrix("+D+","+F+","+L+","+U+","+A+","+M+")",E.setAttribute("transform",B),T&&(E.style[qt]=B)},cL=function(e,r,n,s,o){var l=360,u=Pr(o),f=parseFloat(o)*(u&&~o.indexOf("rad")?ha:1),h=f-s,x=s+h+"deg",w,v;return u&&(w=o.split("_")[1],w==="short"&&(h%=l,h!==h%(l/2)&&(h+=h<0?l:-l)),w==="cw"&&h<0?h=(h+l*e2)%l-~~(h/l)*l:w==="ccw"&&h>0&&(h=(h-l*e2)%l-~~(h/l)*l)),e._pt=v=new Sn(e._pt,r,n,s,h,Gj),v.e=x,v.u="deg",e._props.push(n),v},a2=function(e,r){for(var n in r)e[n]=r[n];return e},uL=function(e,r,n){var s=a2({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",l=n.style,u,f,h,x,w,v,E,S;s.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),l[qt]=r,u=sd(n,1),Ua(n,qt),n.setAttribute("transform",h)):(h=getComputedStyle(n)[qt],l[qt]=r,u=sd(n,1),l[qt]=h);for(f in Fi)h=s[f],x=u[f],h!==x&&o.indexOf(f)<0&&(E=Qr(h),S=Qr(x),w=E!==S?Bo(n,f,h,S):parseFloat(h),v=parseFloat(x),e._pt=new Sn(e._pt,u,f,w,v-w,Ig),e._pt.u=S||0,e._props.push(f));a2(u,s)};Cn("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",s="Bottom",o="Left",l=(e<3?[r,n,s,o]:[r+o,r+n,s+n,s+o]).map(function(u){return e<2?t+u:"border"+u+t});Af[e>1?"border"+t:t]=function(u,f,h,x,w){var v,E;if(arguments.length<4)return v=l.map(function(S){return Ci(u,S,h)}),E=v.join(" "),E.split(v[0]).length===5?v[0]:E;v=(x+"").split(" "),E={},l.forEach(function(S,b){return E[S]=v[b]=v[b]||v[(b-1)/2|0]}),u.init(f,E,w)}});var QA={name:"css",register:Og,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,s,o){var l=this._props,u=e.style,f=n.vars.startAt,h,x,w,v,E,S,b,N,R,T,A,M,D,F,L,U;Lx||Og(),this.styles=this.styles||WA(e),U=this.styles.props,this.tween=n;for(b in r)if(b!=="autoRound"&&(x=r[b],!(kn[b]&&kA(b,r,n,s,e,o)))){if(E=typeof x,S=Af[b],E==="function"&&(x=x.call(n,s,e,o),E=typeof x),E==="string"&&~x.indexOf("random(")&&(x=ed(x)),S)S(this,e,b,x,n)&&(L=1);else if(b.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(b)+"").trim(),x+="",Oo.lastIndex=0,Oo.test(h)||(N=Qr(h),R=Qr(x)),R?N!==R&&(h=Bo(e,b,h,R)+R):N&&(x+=N),this.add(u,"setProperty",h,x,s,o,0,0,b),l.push(b),U.push(b,0,u[b]);else if(E!=="undefined"){if(f&&b in f?(h=typeof f[b]=="function"?f[b].call(n,s,e,o):f[b],Pr(h)&&~h.indexOf("random(")&&(h=ed(h)),Qr(h+"")||h==="auto"||(h+=Hn.units[b]||Qr(Ci(e,b))||""),(h+"").charAt(1)==="="&&(h=Ci(e,b))):h=Ci(e,b),v=parseFloat(h),T=E==="string"&&x.charAt(1)==="="&&x.substr(0,2),T&&(x=x.substr(2)),w=parseFloat(x),b in oi&&(b==="autoAlpha"&&(v===1&&Ci(e,"visibility")==="hidden"&&w&&(v=0),U.push("visibility",0,u.visibility),wo(this,u,"visibility",v?"inherit":"hidden",w?"inherit":"hidden",!w)),b!=="scale"&&b!=="transform"&&(b=oi[b],~b.indexOf(",")&&(b=b.split(",")[0]))),A=b in Fi,A){if(this.styles.save(b),E==="string"&&x.substring(0,6)==="var(--"&&(x=us(e,x.substring(4,x.indexOf(")"))),w=parseFloat(x)),M||(D=e._gsap,D.renderTransform&&!r.parseTransform||sd(e,r.parseTransform),F=r.smoothOrigin!==!1&&D.smooth,M=this._pt=new Sn(this._pt,u,qt,0,1,D.renderTransform,D,0,-1),M.dep=1),b==="scale")this._pt=new Sn(this._pt,D,"scaleY",D.scaleY,(T?$l(D.scaleY,T+w):w)-D.scaleY||0,Ig),this._pt.u=0,l.push("scaleY",b),b+="X";else if(b==="transformOrigin"){U.push(An,0,u[An]),x=iL(x),D.svg?Mg(e,x,0,F,0,this):(R=parseFloat(x.split(" ")[2])||0,R!==D.zOrigin&&wo(this,D,"zOrigin",D.zOrigin,R),wo(this,u,b,Tf(h),Tf(x)));continue}else if(b==="svgOrigin"){Mg(e,x,1,F,0,this);continue}else if(b in XA){cL(this,D,b,v,T?$l(v,T+x):x);continue}else if(b==="smoothOrigin"){wo(this,D,"smooth",D.smooth,x);continue}else if(b==="force3D"){D[b]=x;continue}else if(b==="transform"){uL(this,x,e);continue}}else b in u||(b=vc(b)||b);if(A||(w||w===0)&&(v||v===0)&&!$j.test(x)&&b in u)N=(h+"").substr((v+"").length),w||(w=0),R=Qr(x)||(b in Hn.units?Hn.units[b]:N),N!==R&&(v=Bo(e,b,h,R)),this._pt=new Sn(this._pt,A?D:u,b,v,(T?$l(v,T+w):w)-v,!A&&(R==="px"||b==="zIndex")&&r.autoRound!==!1?Xj:Ig),this._pt.u=R||0,N!==R&&R!=="%"&&(this._pt.b=h,this._pt.r=Yj);else if(b in u)sL.call(this,e,b,h,T?T+x:x);else if(b in e)this.add(e,b,h||e[b],T?T+x:x,s,o);else if(b!=="parseTransform"){Tx(b,x);continue}A||(b in u?U.push(b,0,u[b]):typeof e[b]=="function"?U.push(b,2,e[b]()):U.push(b,1,h||e[b])),l.push(b)}}L&&FA(this)},render:function(e,r){if(r.tween._time||!Bx())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:Ci,aliases:oi,getSetter:function(e,r,n){var s=oi[r];return s&&s.indexOf(",")<0&&(r=s),r in Fi&&r!==An&&(e._gsap.x||Ci(e,"x"))?n&&Jv===n?r==="scale"?Zj:Qj:(Jv=n||{})&&(r==="scale"?Jj:eL):e.style&&!Cx(e.style[r])?qj:~r.indexOf("-")?Kj:Dx(e,r)},core:{_removeProperty:Ua,_getMatrix:Ux}};Tn.utils.checkPrefix=vc;Tn.core.getStyleSaver=WA;(function(t,e,r,n){var s=Cn(t+","+e+","+r,function(o){Fi[o]=1});Cn(e,function(o){Hn.units[o]="deg",XA[o]=1}),oi[s[13]]=t+","+e,Cn(n,function(o){var l=o.split(":");oi[l[1]]=s[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");Cn("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Hn.units[t]="px"});Tn.registerPlugin(QA);var bi=Tn.registerPlugin(QA)||Tn;bi.core.Tween;const zx="/ALAN_NEW/assets/ALANLOGO-CiZZgqjV.png",dL="/ALAN_NEW/assets/onbarding1-DYox49Gq.png",hL="/ALAN_NEW/assets/onbarding2-vDKFdda2.png",fL="/ALAN_NEW/assets/onbarding3-D_6Pmr_M.png",tu=[{title:"Discover Premium Dining",description:"Browse the finest restaurants in Yangon with detailed menus and exclusive offerings",image:dL},{title:"Prepay with Ease",description:"Secure your table and meals in advance with convenient payment options",image:hL},{title:"Skip the Wait",description:"Show your QR code and enjoy your meal immediately upon arrival",image:fL}],pL=()=>{const[t,e]=I.useState(0),r=Nn(),n=I.useRef(null),s=I.useRef(null),o=I.useRef(null),l=I.useRef(null);I.useEffect(()=>{if(!n.current)return;const x=bi.timeline();return x.fromTo(s.current,{opacity:0,y:10,scale:.98},{opacity:1,y:0,scale:1,duration:.4,ease:"power2.out"}).fromTo(o.current,{opacity:0,y:12},{opacity:1,y:0,duration:.45,ease:"power2.out"},"-=0.15").fromTo(l.current,{opacity:0,y:16,rotate:-2},{opacity:1,y:0,rotate:0,duration:.5,ease:"power2.out"},"-=0.2"),()=>{x.kill()}},[t]);const u=()=>{t<tu.length-1?e(t+1):r("/auth")},f=()=>{r("/auth")},h=tu[t];return m.jsxs("div",{ref:n,className:"min-h-screen bg-gradient-to-b from-background to-secondary/20 flex flex-col",children:[m.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6 py-12",children:m.jsxs("div",{className:"w-full max-w-md space-y-8",children:[m.jsx("div",{className:"flex justify-center",ref:s,children:m.jsx("div",{className:"w-28 h-28 sm:w-32 sm:h-32 rounded-full luxury-gradient flex items-center justify-center luxury-shadow overflow-hidden",children:m.jsx("img",{src:zx,alt:"ALAN Logo",className:"w-16 h-16 object-contain drop-shadow"})})}),m.jsxs("div",{className:"text-center space-y-4",ref:o,children:[m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:h.title}),m.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:h.description})]}),m.jsx("div",{className:"flex justify-center",ref:l,children:m.jsx("div",{className:"w-full flex items-center justify-center",children:m.jsx("img",{src:h.image,alt:"Onboarding illustration",className:"max-h-56 sm:max-h-64 object-contain"})})}),m.jsx("div",{className:"flex justify-center gap-2",children:tu.map((x,w)=>m.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${w===t?"w-8 bg-primary":"w-2 bg-muted"}`},w))})]})}),m.jsxs("div",{className:"p-6 space-y-3 max-w-md mx-auto w-full",children:[m.jsxs(je,{onClick:u,className:"w-full h-12 text-base font-medium luxury-gradient",size:"lg",children:[t<tu.length-1?"Next":"Get Started",m.jsx(BO,{className:"ml-2 h-5 w-5"})]}),t<tu.length-1&&m.jsx(je,{onClick:f,variant:"ghost",className:"w-full h-12 text-base font-medium",size:"lg",children:"Skip"})]})]})},lt=I.forwardRef(({className:t,type:e,...r},n)=>m.jsx("input",{type:e,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));lt.displayName="Input";var gL="Label",ZA=I.forwardRef((t,e)=>m.jsx(Fe.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));ZA.displayName=gL;var JA=ZA;const mL=e0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=I.forwardRef(({className:t,...e},r)=>m.jsx(JA,{ref:r,className:He(mL(),t),...e}));Qe.displayName=JA.displayName;const $e=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));$e.displayName="Card";const or=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:He("flex flex-col space-y-1.5 p-6",t),...e}));or.displayName="CardHeader";const ar=I.forwardRef(({className:t,...e},r)=>m.jsx("h3",{ref:r,className:He("text-2xl font-semibold leading-none tracking-tight",t),...e}));ar.displayName="CardTitle";const Ni=I.forwardRef(({className:t,...e},r)=>m.jsx("p",{ref:r,className:He("text-sm text-muted-foreground",t),...e}));Ni.displayName="CardDescription";const bt=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:He("p-6 pt-0",t),...e}));bt.displayName="CardContent";const xL=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:He("flex items-center p-6 pt-0",t),...e}));xL.displayName="CardFooter";var yL=I.createContext(void 0);function wd(t){const e=I.useContext(yL);return t||e||"ltr"}var W1="rovingFocusGroup.onEntryFocus",wL={bubbles:!1,cancelable:!0},vd="RovingFocusGroup",[kg,eT,vL]=Hm(vd),[_L,m0]=ps(vd,[vL]),[bL,EL]=_L(vd),tT=I.forwardRef((t,e)=>m.jsx(kg.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(kg.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(CL,{...t,ref:e})})}));tT.displayName=vd;var CL=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:x=!1,...w}=t,v=I.useRef(null),E=st(e,v),S=wd(o),[b,N]=Po({prop:l,defaultProp:u??null,onChange:f,caller:vd}),[R,T]=I.useState(!1),A=Sr(h),M=eT(r),D=I.useRef(!1),[F,L]=I.useState(0);return I.useEffect(()=>{const U=v.current;if(U)return U.addEventListener(W1,A),()=>U.removeEventListener(W1,A)},[A]),m.jsx(bL,{scope:r,orientation:n,dir:S,loop:s,currentTabStopId:b,onItemFocus:I.useCallback(U=>N(U),[N]),onItemShiftTab:I.useCallback(()=>T(!0),[]),onFocusableItemAdd:I.useCallback(()=>L(U=>U+1),[]),onFocusableItemRemove:I.useCallback(()=>L(U=>U-1),[]),children:m.jsx(Fe.div,{tabIndex:R||F===0?-1:0,"data-orientation":n,...w,ref:E,style:{outline:"none",...t.style},onMouseDown:Ie(t.onMouseDown,()=>{D.current=!0}),onFocus:Ie(t.onFocus,U=>{const B=!D.current;if(U.target===U.currentTarget&&B&&!R){const K=new CustomEvent(W1,wL);if(U.currentTarget.dispatchEvent(K),!K.defaultPrevented){const ee=M().filter(ne=>ne.focusable),Q=ee.find(ne=>ne.active),se=ee.find(ne=>ne.id===b),H=[Q,se,...ee].filter(Boolean).map(ne=>ne.ref.current);sT(H,x)}}D.current=!1}),onBlur:Ie(t.onBlur,()=>T(!1))})})}),rT="RovingFocusGroupItem",nT=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:l,...u}=t,f=No(),h=o||f,x=EL(rT,r),w=x.currentTabStopId===h,v=eT(r),{onFocusableItemAdd:E,onFocusableItemRemove:S,currentTabStopId:b}=x;return I.useEffect(()=>{if(n)return E(),()=>S()},[n,E,S]),m.jsx(kg.ItemSlot,{scope:r,id:h,focusable:n,active:s,children:m.jsx(Fe.span,{tabIndex:w?0:-1,"data-orientation":x.orientation,...u,ref:e,onMouseDown:Ie(t.onMouseDown,N=>{n?x.onItemFocus(h):N.preventDefault()}),onFocus:Ie(t.onFocus,()=>x.onItemFocus(h)),onKeyDown:Ie(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){x.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const R=TL(N,x.orientation,x.dir);if(R!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=v().filter(M=>M.focusable).map(M=>M.ref.current);if(R==="last")A.reverse();else if(R==="prev"||R==="next"){R==="prev"&&A.reverse();const M=A.indexOf(N.currentTarget);A=x.loop?NL(A,M+1):A.slice(M+1)}setTimeout(()=>sT(A))}}),children:typeof l=="function"?l({isCurrentTabStop:w,hasTabStop:b!=null}):l})})});nT.displayName=rT;var SL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AL(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function TL(t,e,r){const n=AL(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return SL[n]}function sT(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function NL(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var iT=tT,oT=nT,x0="Tabs",[IL,mF]=ps(x0,[m0]),aT=m0(),[RL,Vx]=IL(x0),lT=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:f="automatic",...h}=t,x=wd(u),[w,v]=Po({prop:n,onChange:s,defaultProp:o??"",caller:x0});return m.jsx(RL,{scope:r,baseId:No(),value:w,onValueChange:v,orientation:l,dir:x,activationMode:f,children:m.jsx(Fe.div,{dir:x,"data-orientation":l,...h,ref:e})})});lT.displayName=x0;var cT="TabsList",uT=I.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=Vx(cT,r),l=aT(r);return m.jsx(iT,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:m.jsx(Fe.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});uT.displayName=cT;var dT="TabsTrigger",hT=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,l=Vx(dT,r),u=aT(r),f=gT(l.baseId,n),h=mT(l.baseId,n),x=n===l.value;return m.jsx(oT,{asChild:!0,...u,focusable:!s,active:x,children:m.jsx(Fe.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...o,ref:e,onMouseDown:Ie(t.onMouseDown,w=>{!s&&w.button===0&&w.ctrlKey===!1?l.onValueChange(n):w.preventDefault()}),onKeyDown:Ie(t.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&l.onValueChange(n)}),onFocus:Ie(t.onFocus,()=>{const w=l.activationMode!=="manual";!x&&!s&&w&&l.onValueChange(n)})})})});hT.displayName=dT;var fT="TabsContent",pT=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...l}=t,u=Vx(fT,r),f=gT(u.baseId,n),h=mT(u.baseId,n),x=n===u.value,w=I.useRef(x);return I.useEffect(()=>{const v=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(v)},[]),m.jsx(gs,{present:s||x,children:({present:v})=>m.jsx(Fe.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":f,hidden:!v,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:w.current?"0s":void 0},children:v&&o})})});pT.displayName=fT;function gT(t,e){return`${t}-trigger-${e}`}function mT(t,e){return`${t}-content-${e}`}var OL=lT,xT=uT,yT=hT,wT=pT;const Hx=OL,y0=I.forwardRef(({className:t,...e},r)=>m.jsx(xT,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));y0.displayName=xT.displayName;const Ii=I.forwardRef(({className:t,...e},r)=>m.jsx(yT,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=inactive]:text-muted-foreground/70 data-[state=inactive]:hover:text-muted-foreground",t),...e}));Ii.displayName=yT.displayName;const va=I.forwardRef(({className:t,...e},r)=>m.jsx(wT,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=inactive]:hidden",t),...e}));va.displayName=wT.displayName;const ML=()=>{const[t,e]=I.useState(!1),{signUp:r,signIn:n,user:s,userRole:o}=ms(),l=Nn(),[u,f]=I.useState("signin"),h=I.useRef(null),x=I.useRef(null),w=I.useRef(null);I.useRef(null),I.useEffect(()=>{bi.timeline({defaults:{ease:"power2.out"}}).fromTo(h.current,{opacity:0,y:-12,scale:.92},{opacity:1,y:0,scale:1,duration:.5}).fromTo(x.current,{opacity:0,y:16},{opacity:1,y:0,duration:.5},"-=0.25")},[]),I.useEffect(()=>{const T=w.current;if(!T)return;const A=T.querySelector('[data-state="active"]');if(!A)return;const M=A.scrollHeight,D=T.offsetHeight;bi.set(T,{height:D}),bi.to(T,{height:M,duration:.45,ease:"power2.out",onComplete:()=>bi.set(T,{height:"auto"})}),bi.fromTo(A,{opacity:0,y:8},{opacity:1,y:0,duration:.35,ease:"power2.out"})},[u]),I.useEffect(()=>{const T=w.current;if(!T)return;const A=T.querySelector('[data-state="active"]');A&&(bi.set(T,{height:A.scrollHeight}),bi.set(T,{height:"auto"}))},[]),I.useEffect(()=>{s&&o&&l(o==="admin"?"/admin":o==="restaurant_owner"?"/dashboard":"/home")},[s,o,l]);const[v,E]=I.useState({email:"",password:"",fullName:"",phone:""}),[S,b]=I.useState({email:"",password:""}),N=async T=>{T.preventDefault(),e(!0);const{error:A}=await r(v.email,v.password,v.fullName,v.phone);A?we.error(A.message||"Failed to sign up"):(we.success("Account created! Welcome to ALAN"),l("/home")),e(!1)},R=async T=>{T.preventDefault(),e(!0);const{error:A}=await n(S.email,S.password);A?we.error(A.message||"Failed to sign in"):we.success("Signing in..."),e(!1)};return m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20 flex flex-col items-center justify-center p-6",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",ref:h,children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"w-16 h-16 rounded-full luxury-gradient flex items-center justify-center overflow-hidden",children:m.jsx("img",{src:zx,alt:"ALAN Logo",className:"w-10 h-10 object-contain drop-shadow"})})}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"ALAN"}),m.jsx("p",{className:"text-muted-foreground",children:"Luxury dining made simple"})]}),m.jsxs($e,{className:"border-border/50 luxury-shadow",ref:x,children:[m.jsxs(or,{children:[m.jsx(ar,{children:"Welcome"}),m.jsx(Ni,{children:"Sign in or create an account to continue"})]}),m.jsx(bt,{className:"px-6 pt-2 pb-6",children:m.jsxs(Hx,{value:u,onValueChange:T=>f(T),className:"w-full",children:[m.jsxs(y0,{className:"grid w-full grid-cols-2",children:[m.jsx(Ii,{value:"signin",children:"Sign In"}),m.jsx(Ii,{value:"signup",children:"Sign Up"})]}),m.jsxs("div",{ref:w,className:"relative overflow-visible box-border px-3 sm:px-4 pb-5",children:[m.jsx(va,{value:"signin",forceMount:!0,children:m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signin-email",children:"Email"}),m.jsx(lt,{id:"signin-email",type:"email",placeholder:"your@email.com",value:S.email,onChange:T=>b({...S,email:T.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signin-password",children:"Password"}),m.jsx(lt,{id:"signin-password",type:"password",placeholder:"",value:S.password,onChange:T=>b({...S,password:T.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsx(je,{type:"submit",className:"w-full luxury-gradient",disabled:t,children:t?"Signing in...":"Sign In"})]})}),m.jsx(va,{value:"signup",forceMount:!0,children:m.jsxs("form",{onSubmit:N,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signup-name",children:"Full Name"}),m.jsx(lt,{id:"signup-name",type:"text",placeholder:"John Doe",value:v.fullName,onChange:T=>E({...v,fullName:T.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signup-phone",children:"Phone"}),m.jsx(lt,{id:"signup-phone",type:"tel",placeholder:"+95 9 XXX XXX XXX",value:v.phone,onChange:T=>E({...v,phone:T.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signup-email",children:"Email"}),m.jsx(lt,{id:"signup-email",type:"email",placeholder:"your@email.com",value:v.email,onChange:T=>E({...v,email:T.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signup-password",children:"Password"}),m.jsx(lt,{id:"signup-password",type:"password",placeholder:"",value:v.password,onChange:T=>E({...v,password:T.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsx(je,{type:"submit",className:"w-full luxury-gradient",disabled:t,children:t?"Creating account...":"Create Account"})]})})]})]})})]})]})})},kL=e0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ui({className:t,variant:e,...r}){return m.jsx("div",{className:He(kL({variant:e}),t),...r})}const Wx=()=>{const t=Go(),e=r=>t.pathname===r;return m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border glass-effect z-50",children:m.jsxs("div",{className:"max-w-md mx-auto flex justify-around items-center h-16 px-4",children:[m.jsxs(A1,{to:"/home",className:`flex flex-col items-center justify-center flex-1 transition-colors ${e("/home")?"text-primary":"text-muted-foreground"}`,children:[m.jsx(jE,{className:"h-5 w-5 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),m.jsxs(A1,{to:"/orders",className:`flex flex-col items-center justify-center flex-1 transition-colors ${e("/orders")?"text-primary":"text-muted-foreground"}`,children:[m.jsx(YO,{className:"h-5 w-5 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Orders"})]}),m.jsxs(A1,{to:"/profile",className:`flex flex-col items-center justify-center flex-1 transition-colors ${e("/profile")?"text-primary":"text-muted-foreground"}`,children:[m.jsx(go,{className:"h-5 w-5 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Profile"})]})]})})},PL=()=>{var S;const[t,e]=I.useState(""),[r,n]=I.useState([]),[s,o]=I.useState(!0),l=Nn(),{user:u,signOut:f}=ms(),h=((S=u==null?void 0:u.user_metadata)==null?void 0:S.full_name)||(u==null?void 0:u.email)||"Guest",x=()=>{const b=new Date().getHours();return b<12?"Good morning":b<18?"Good afternoon":"Good evening"},w=async()=>{await f(),l("/auth")};I.useEffect(()=>{v()},[]);const v=async()=>{try{const{data:b,error:N}=await Ce.from("restaurants").select("*").order("rating",{ascending:!1});if(N)throw N;n(b||[])}catch(b){console.error("Error fetching restaurants:",b),we.error("Failed to load restaurants")}finally{o(!1)}},E=r.filter(b=>{var N;return b.name.toLowerCase().includes(t.toLowerCase())||(((N=b.cuisine_type)==null?void 0:N.toLowerCase())||"").includes(t.toLowerCase())});return m.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[m.jsx("div",{className:"sticky top-0 z-40 py-2 bg-background/60 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:m.jsxs("div",{className:"mx-auto max-w-md px-4",children:[m.jsx("div",{className:"luxury-gradient text-white rounded-xl shadow-md",children:m.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[m.jsx("img",{src:zx,alt:"ALAN Logo",className:"h-7 w-auto object-contain drop-shadow"}),m.jsx("button",{onClick:w,"aria-label":"Log out",className:"p-2 focus:outline-none active:scale-95 rounded-md hover:bg-white/10",children:m.jsx(t0,{className:"h-5 w-5 text-white"})})]})}),m.jsx("p",{className:"text-xs opacity-80 mt-2 text-center",children:"Discover Fine Dining with Ease and Comfort"})]})}),m.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-4",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("h2",{className:"text-xl font-semibold",children:[x(),", ",m.jsx("span",{className:"font-bold text-yellow-500",children:h})]}),m.jsxs("div",{className:"relative",children:[m.jsx(pd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),m.jsx(lt,{placeholder:"Search restaurants or cuisine...",value:t,onChange:b=>e(b.target.value),className:"pl-10"})]})]}),s?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ac,{className:"h-8 w-8 animate-spin text-primary"})}):E.length===0?m.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No restaurants found"}):E.map(b=>m.jsxs($e,{className:"overflow-hidden cursor-pointer transition-all hover:scale-[1.02] hover:shadow-lg",onClick:()=>l(`/restaurant/${b.id}`),children:[m.jsxs("div",{className:"relative h-48",children:[m.jsx("img",{src:b.image_url,alt:b.name,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute top-3 right-3",children:m.jsxs(Ui,{className:"bg-primary text-primary-foreground border-0",children:[m.jsx(zE,{className:"h-3 w-3 mr-1 fill-current"}),b.rating]})})]}),m.jsxs("div",{className:"p-4 space-y-2",children:[m.jsx("div",{className:"flex items-start justify-between",children:m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-lg text-foreground",children:b.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:b.description})]})}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[m.jsx(Ui,{variant:"secondary",className:"font-normal",children:b.cuisine_type}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(LE,{className:"h-3 w-3"}),b.address]})]})]})]},b.id))]}),m.jsx(Wx,{})]})};var $1="focusScope.autoFocusOnMount",G1="focusScope.autoFocusOnUnmount",l2={bubbles:!1,cancelable:!0},DL="FocusScope",$x=I.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[u,f]=I.useState(null),h=Sr(s),x=Sr(o),w=I.useRef(null),v=st(e,b=>f(b)),E=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let b=function(A){if(E.paused||!u)return;const M=A.target;u.contains(M)?w.current=M:to(w.current,{select:!0})},N=function(A){if(E.paused||!u)return;const M=A.relatedTarget;M!==null&&(u.contains(M)||to(w.current,{select:!0}))},R=function(A){if(document.activeElement===document.body)for(const D of A)D.removedNodes.length>0&&to(u)};document.addEventListener("focusin",b),document.addEventListener("focusout",N);const T=new MutationObserver(R);return u&&T.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",N),T.disconnect()}}},[n,u,E.paused]),I.useEffect(()=>{if(u){u2.add(E);const b=document.activeElement;if(!u.contains(b)){const R=new CustomEvent($1,l2);u.addEventListener($1,h),u.dispatchEvent(R),R.defaultPrevented||(jL(zL(vT(u)),{select:!0}),document.activeElement===b&&to(u))}return()=>{u.removeEventListener($1,h),setTimeout(()=>{const R=new CustomEvent(G1,l2);u.addEventListener(G1,x),u.dispatchEvent(R),R.defaultPrevented||to(b??document.body,{select:!0}),u.removeEventListener(G1,x),u2.remove(E)},0)}}},[u,h,x,E]);const S=I.useCallback(b=>{if(!r&&!n||E.paused)return;const N=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,R=document.activeElement;if(N&&R){const T=b.currentTarget,[A,M]=LL(T);A&&M?!b.shiftKey&&R===M?(b.preventDefault(),r&&to(A,{select:!0})):b.shiftKey&&R===A&&(b.preventDefault(),r&&to(M,{select:!0})):R===T&&b.preventDefault()}},[r,n,E.paused]);return m.jsx(Fe.div,{tabIndex:-1,...l,ref:v,onKeyDown:S})});$x.displayName=DL;function jL(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(to(n,{select:e}),document.activeElement!==r)return}function LL(t){const e=vT(t),r=c2(e,t),n=c2(e.reverse(),t);return[r,n]}function vT(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function c2(t,e){for(const r of t)if(!BL(r,{upTo:e}))return r}function BL(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function FL(t){return t instanceof HTMLInputElement&&"select"in t}function to(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&FL(t)&&e&&t.select()}}var u2=UL();function UL(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=d2(t,e),t.unshift(e)},remove(e){var r;t=d2(t,e),(r=t[0])==null||r.resume()}}}function d2(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function zL(t){return t.filter(e=>e.tagName!=="A")}var Y1=0;function _T(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??h2()),document.body.insertAdjacentElement("beforeend",t[1]??h2()),Y1++,()=>{Y1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Y1--}},[])}function h2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Dh="right-scroll-bar-position",jh="width-before-scroll-bar",VL="with-scroll-bars-hidden",HL="--removed-body-scroll-bar-size";function X1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function WL(t,e){var r=I.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var $L=typeof window<"u"?I.useLayoutEffect:I.useEffect,f2=new WeakMap;function GL(t,e){var r=WL(null,function(n){return t.forEach(function(s){return X1(s,n)})});return $L(function(){var n=f2.get(r);if(n){var s=new Set(n),o=new Set(t),l=r.current;s.forEach(function(u){o.has(u)||X1(u,null)}),o.forEach(function(u){s.has(u)||X1(u,l)})}f2.set(r,t)},[t]),r}function YL(t){return t}function XL(t,e){e===void 0&&(e=YL);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var l=e(o,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(o),l=r}var f=function(){var x=l;l=[],x.forEach(o)},h=function(){return Promise.resolve().then(f)};h(),r={push:function(x){l.push(x),h()},filter:function(x){return l=l.filter(x),r}}}};return s}function qL(t){t===void 0&&(t={});var e=XL(null);return e.options=ss({async:!0,ssr:!1},t),e}var bT=function(t){var e=t.sideCar,r=Yo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,ss({},r))};bT.isSideCarExport=!0;function KL(t,e){return t.useMedium(e),bT}var ET=qL(),q1=function(){},w0=I.forwardRef(function(t,e){var r=I.useRef(null),n=I.useState({onScrollCapture:q1,onWheelCapture:q1,onTouchMoveCapture:q1}),s=n[0],o=n[1],l=t.forwardProps,u=t.children,f=t.className,h=t.removeScrollBar,x=t.enabled,w=t.shards,v=t.sideCar,E=t.noRelative,S=t.noIsolation,b=t.inert,N=t.allowPinchZoom,R=t.as,T=R===void 0?"div":R,A=t.gapMode,M=Yo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=v,F=GL([r,e]),L=ss(ss({},M),s);return I.createElement(I.Fragment,null,x&&I.createElement(D,{sideCar:ET,removeScrollBar:h,shards:w,noRelative:E,noIsolation:S,inert:b,setCallbacks:o,allowPinchZoom:!!N,lockRef:r,gapMode:A}),l?I.cloneElement(I.Children.only(u),ss(ss({},L),{ref:F})):I.createElement(T,ss({},L,{className:f,ref:F}),u))});w0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};w0.classNames={fullWidth:jh,zeroRight:Dh};var QL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ZL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=QL();return e&&t.setAttribute("nonce",e),t}function JL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function e7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var t7=function(){var t=0,e=null;return{add:function(r){t==0&&(e=ZL())&&(JL(e,r),e7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},r7=function(){var t=t7();return function(e,r){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},CT=function(){var t=r7(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},n7={left:0,top:0,right:0,gap:0},K1=function(t){return parseInt(t||"",10)||0},s7=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[K1(r),K1(n),K1(s)]},i7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return n7;var e=s7(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},o7=CT(),Xl="data-scroll-locked",a7=function(t,e,r,n){var s=t.left,o=t.top,l=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(VL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Xl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Dh,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(jh,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Dh," .").concat(Dh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(jh," .").concat(jh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xl,`] {
    `).concat(HL,": ").concat(u,`px;
  }
`)},p2=function(){var t=parseInt(document.body.getAttribute(Xl)||"0",10);return isFinite(t)?t:0},l7=function(){I.useEffect(function(){return document.body.setAttribute(Xl,(p2()+1).toString()),function(){var t=p2()-1;t<=0?document.body.removeAttribute(Xl):document.body.setAttribute(Xl,t.toString())}},[])},c7=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;l7();var o=I.useMemo(function(){return i7(s)},[s]);return I.createElement(o7,{styles:a7(o,!e,s,r?"":"!important")})},Pg=!1;if(typeof window<"u")try{var fh=Object.defineProperty({},"passive",{get:function(){return Pg=!0,!0}});window.addEventListener("test",fh,fh),window.removeEventListener("test",fh,fh)}catch{Pg=!1}var gl=Pg?{passive:!1}:!1,u7=function(t){return t.tagName==="TEXTAREA"},ST=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!u7(t)&&r[e]==="visible")},d7=function(t){return ST(t,"overflowY")},h7=function(t){return ST(t,"overflowX")},g2=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=AT(t,n);if(s){var o=TT(t,n),l=o[1],u=o[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},f7=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},p7=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},AT=function(t,e){return t==="v"?d7(e):h7(e)},TT=function(t,e){return t==="v"?f7(e):p7(e)},g7=function(t,e){return t==="h"&&e==="rtl"?-1:1},m7=function(t,e,r,n,s){var o=g7(t,window.getComputedStyle(e).direction),l=o*n,u=r.target,f=e.contains(u),h=!1,x=l>0,w=0,v=0;do{if(!u)break;var E=TT(t,u),S=E[0],b=E[1],N=E[2],R=b-N-o*S;(S||R)&&AT(t,u)&&(w+=R,v+=S);var T=u.parentNode;u=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!f&&u!==document.body||f&&(e.contains(u)||e===u));return(x&&(Math.abs(w)<1||!s)||!x&&(Math.abs(v)<1||!s))&&(h=!0),h},ph=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},m2=function(t){return[t.deltaX,t.deltaY]},x2=function(t){return t&&"current"in t?t.current:t},x7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},y7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},w7=0,ml=[];function v7(t){var e=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),s=I.useState(w7++)[0],o=I.useState(CT)[0],l=I.useRef(t);I.useEffect(function(){l.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var b=px([t.lockRef.current],(t.shards||[]).map(x2),!0).filter(Boolean);return b.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),b.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=I.useCallback(function(b,N){if("touches"in b&&b.touches.length===2||b.type==="wheel"&&b.ctrlKey)return!l.current.allowPinchZoom;var R=ph(b),T=r.current,A="deltaX"in b?b.deltaX:T[0]-R[0],M="deltaY"in b?b.deltaY:T[1]-R[1],D,F=b.target,L=Math.abs(A)>Math.abs(M)?"h":"v";if("touches"in b&&L==="h"&&F.type==="range")return!1;var U=g2(L,F);if(!U)return!0;if(U?D=L:(D=L==="v"?"h":"v",U=g2(L,F)),!U)return!1;if(!n.current&&"changedTouches"in b&&(A||M)&&(n.current=D),!D)return!0;var B=n.current||D;return m7(B,N,b,B==="h"?A:M,!0)},[]),f=I.useCallback(function(b){var N=b;if(!(!ml.length||ml[ml.length-1]!==o)){var R="deltaY"in N?m2(N):ph(N),T=e.current.filter(function(D){return D.name===N.type&&(D.target===N.target||N.target===D.shadowParent)&&x7(D.delta,R)})[0];if(T&&T.should){N.cancelable&&N.preventDefault();return}if(!T){var A=(l.current.shards||[]).map(x2).filter(Boolean).filter(function(D){return D.contains(N.target)}),M=A.length>0?u(N,A[0]):!l.current.noIsolation;M&&N.cancelable&&N.preventDefault()}}},[]),h=I.useCallback(function(b,N,R,T){var A={name:b,delta:N,target:R,should:T,shadowParent:_7(R)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(M){return M!==A})},1)},[]),x=I.useCallback(function(b){r.current=ph(b),n.current=void 0},[]),w=I.useCallback(function(b){h(b.type,m2(b),b.target,u(b,t.lockRef.current))},[]),v=I.useCallback(function(b){h(b.type,ph(b),b.target,u(b,t.lockRef.current))},[]);I.useEffect(function(){return ml.push(o),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:v}),document.addEventListener("wheel",f,gl),document.addEventListener("touchmove",f,gl),document.addEventListener("touchstart",x,gl),function(){ml=ml.filter(function(b){return b!==o}),document.removeEventListener("wheel",f,gl),document.removeEventListener("touchmove",f,gl),document.removeEventListener("touchstart",x,gl)}},[]);var E=t.removeScrollBar,S=t.inert;return I.createElement(I.Fragment,null,S?I.createElement(o,{styles:y7(s)}):null,E?I.createElement(c7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function _7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const b7=KL(ET,v7);var Gx=I.forwardRef(function(t,e){return I.createElement(w0,ss({},t,{ref:e,sideCar:b7}))});Gx.classNames=w0.classNames;var E7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xl=new WeakMap,gh=new WeakMap,mh={},Q1=0,NT=function(t){return t&&(t.host||NT(t.parentNode))},C7=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=NT(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},S7=function(t,e,r,n){var s=C7(e,Array.isArray(t)?t:[t]);mh[r]||(mh[r]=new WeakMap);var o=mh[r],l=[],u=new Set,f=new Set(s),h=function(w){!w||u.has(w)||(u.add(w),h(w.parentNode))};s.forEach(h);var x=function(w){!w||f.has(w)||Array.prototype.forEach.call(w.children,function(v){if(u.has(v))x(v);else try{var E=v.getAttribute(n),S=E!==null&&E!=="false",b=(xl.get(v)||0)+1,N=(o.get(v)||0)+1;xl.set(v,b),o.set(v,N),l.push(v),b===1&&S&&gh.set(v,!0),N===1&&v.setAttribute(r,"true"),S||v.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",v,R)}})};return x(e),u.clear(),Q1++,function(){l.forEach(function(w){var v=xl.get(w)-1,E=o.get(w)-1;xl.set(w,v),o.set(w,E),v||(gh.has(w)||w.removeAttribute(n),gh.delete(w)),E||w.removeAttribute(r)}),Q1--,Q1||(xl=new WeakMap,xl=new WeakMap,gh=new WeakMap,mh={})}},IT=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=E7(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),S7(n,s,r,"aria-hidden")):function(){return null}},v0="Dialog",[RT,xF]=ps(v0),[A7,Hs]=RT(v0),OT=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,u=I.useRef(null),f=I.useRef(null),[h,x]=Po({prop:n,defaultProp:s??!1,onChange:o,caller:v0});return m.jsx(A7,{scope:e,triggerRef:u,contentRef:f,contentId:No(),titleId:No(),descriptionId:No(),open:h,onOpenChange:x,onOpenToggle:I.useCallback(()=>x(w=>!w),[x]),modal:l,children:r})};OT.displayName=v0;var MT="DialogTrigger",kT=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Hs(MT,r),o=st(e,s.triggerRef);return m.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":qx(s.open),...n,ref:o,onClick:Ie(t.onClick,s.onOpenToggle)})});kT.displayName=MT;var Yx="DialogPortal",[T7,PT]=RT(Yx,{forceMount:void 0}),DT=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Hs(Yx,e);return m.jsx(T7,{scope:e,forceMount:r,children:I.Children.map(n,l=>m.jsx(gs,{present:r||o.open,children:m.jsx(Qf,{asChild:!0,container:s,children:l})}))})};DT.displayName=Yx;var Nf="DialogOverlay",jT=I.forwardRef((t,e)=>{const r=PT(Nf,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Hs(Nf,t.__scopeDialog);return o.modal?m.jsx(gs,{present:n||o.open,children:m.jsx(I7,{...s,ref:e})}):null});jT.displayName=Nf;var N7=uc("DialogOverlay.RemoveScroll"),I7=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Hs(Nf,r);return m.jsx(Gx,{as:N7,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(Fe.div,{"data-state":qx(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),za="DialogContent",LT=I.forwardRef((t,e)=>{const r=PT(za,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Hs(za,t.__scopeDialog);return m.jsx(gs,{present:n||o.open,children:o.modal?m.jsx(R7,{...s,ref:e}):m.jsx(O7,{...s,ref:e})})});LT.displayName=za;var R7=I.forwardRef((t,e)=>{const r=Hs(za,t.__scopeDialog),n=I.useRef(null),s=st(e,r.contentRef,n);return I.useEffect(()=>{const o=n.current;if(o)return IT(o)},[]),m.jsx(BT,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ie(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Ie(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Ie(t.onFocusOutside,o=>o.preventDefault())})}),O7=I.forwardRef((t,e)=>{const r=Hs(za,t.__scopeDialog),n=I.useRef(!1),s=I.useRef(!1);return m.jsx(BT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var f,h;(f=t.onInteractOutside)==null||f.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=r.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),BT=I.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,u=Hs(za,r),f=I.useRef(null),h=st(e,f);return _T(),m.jsxs(m.Fragment,{children:[m.jsx($x,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:m.jsx(hd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":qx(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(M7,{titleId:u.titleId}),m.jsx(P7,{contentRef:f,descriptionId:u.descriptionId})]})]})}),Xx="DialogTitle",FT=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Hs(Xx,r);return m.jsx(Fe.h2,{id:s.titleId,...n,ref:e})});FT.displayName=Xx;var UT="DialogDescription",zT=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Hs(UT,r);return m.jsx(Fe.p,{id:s.descriptionId,...n,ref:e})});zT.displayName=UT;var VT="DialogClose",HT=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Hs(VT,r);return m.jsx(Fe.button,{type:"button",...n,ref:e,onClick:Ie(t.onClick,()=>s.onOpenChange(!1))})});HT.displayName=VT;function qx(t){return t?"open":"closed"}var WT="DialogTitleWarning",[yF,$T]=HR(WT,{contentName:za,titleName:Xx,docsSlug:"dialog"}),M7=({titleId:t})=>{const e=$T(WT),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},k7="DialogDescriptionWarning",P7=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${$T(k7).contentName}}.`;return I.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},D7=OT,j7=kT,L7=DT,GT=jT,YT=LT,XT=FT,qT=zT,B7=HT;const Fo=D7,KT=j7,F7=L7,QT=I.forwardRef(({className:t,...e},r)=>m.jsx(GT,{ref:r,className:He("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));QT.displayName=GT.displayName;const zi=I.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(F7,{children:[m.jsx(QT,{}),m.jsxs(YT,{ref:n,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,m.jsxs(B7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[m.jsx(VE,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zi.displayName=YT.displayName;const Uo=({className:t,...e})=>m.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Uo.displayName="DialogHeader";const Dg=({className:t,...e})=>m.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Dg.displayName="DialogFooter";const zo=I.forwardRef(({className:t,...e},r)=>m.jsx(XT,{ref:r,className:He("text-lg font-semibold leading-none tracking-tight",t),...e}));zo.displayName=XT.displayName;const U7=I.forwardRef(({className:t,...e},r)=>m.jsx(qT,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));U7.displayName=qT.displayName;const z7=()=>{const{id:t}=Kk(),e=Nn(),[r,n]=I.useState(null),[s,o]=I.useState([]),[l,u]=I.useState(""),[f,h]=I.useState(!0),[x,w]=I.useState([]),[v,E]=I.useState("dine_in"),[S,b]=I.useState(null),[N,R]=I.useState(!1);I.useEffect(()=>{t&&T()},[t]);const T=async()=>{try{const[U,B]=await Promise.all([Ce.from("restaurants").select("*").eq("id",t).single(),Ce.from("menu_items").select("*").eq("restaurant_id",t).eq("available",!0)]);if(U.error)throw U.error;if(B.error)throw B.error;n(U.data),o(B.data||[])}catch(U){console.error("Error fetching data:",U),we.error("Failed to load restaurant details")}finally{h(!1)}};if(f)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(Ac,{className:"h-8 w-8 animate-spin text-primary"})});if(!r)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Restaurant not found"}),m.jsx(je,{onClick:()=>e("/home"),children:"Back to Home"})]})});const A=U=>{w(B=>B.find(ee=>ee.id===U.id)?B.map(ee=>ee.id===U.id?{...ee,quantity:ee.quantity+1}:ee):[...B,{id:U.id,name:U.name,price:U.price,quantity:1}])},M=U=>{w(B=>{const K=B.find(ee=>ee.id===U);return K&&K.quantity>1?B.map(ee=>ee.id===U?{...ee,quantity:ee.quantity-1}:ee):B.filter(ee=>ee.id!==U)})},D=x.reduce((U,B)=>U+B.price*B.quantity,0),F=x.reduce((U,B)=>U+B.quantity,0),L=()=>{if(x.length===0){we.error("Please add items to your cart");return}e("/payment",{state:{cart:x,restaurant:r,orderType:v,totalAmount:D}})};return m.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[m.jsxs("div",{className:"relative h-64",children:[m.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover"}),m.jsx(je,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 bg-black/50 text-white hover:bg-black/70",onClick:()=>e(-1),children:m.jsx(Sc,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:r.name}),m.jsx("p",{className:"text-muted-foreground",children:r.description})]}),m.jsxs(Ui,{className:"bg-primary text-primary-foreground border-0",children:[m.jsx(zE,{className:"h-3 w-3 mr-1 fill-current"}),r.rating]})]}),m.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-muted-foreground",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(LE,{className:"h-4 w-4"}),r.address]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Ym,{className:"h-4 w-4"}),r.open_hours]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(FE,{className:"h-4 w-4"}),r.phone]})]})]}),m.jsxs($e,{className:"p-4",children:[m.jsx("h3",{className:"font-semibold mb-3",children:"Order Type"}),m.jsx(Hx,{value:v,onValueChange:U=>E(U),children:m.jsxs(y0,{className:"grid w-full grid-cols-2",children:[m.jsxs(Ii,{value:"dine_in",children:[m.jsx(qm,{className:"h-4 w-4 mr-2"}),"Dine In"]}),m.jsxs(Ii,{value:"takeaway",children:[m.jsx(cf,{className:"h-4 w-4 mr-2"}),"Takeaway"]})]})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Menu"}),m.jsx("div",{className:"mt-2",children:m.jsx("input",{type:"text",value:l,onChange:U=>u(U.target.value),placeholder:"Search menu items...",className:"w-full px-3 py-2 rounded-md border bg-background text-sm focus:outline-none focus:ring-2 focus:ring-primary"})}),s.filter(U=>{const B=l.toLowerCase().trim();return B?U.name.toLowerCase().includes(B)||(U.description||"").toLowerCase().includes(B):!0}).map(U=>{const B=x.find(K=>K.id===U.id);return m.jsx($e,{className:"overflow-hidden",children:m.jsxs("div",{className:"flex gap-4 p-4",children:[m.jsx("button",{type:"button",className:"focus:outline-none",onClick:()=>b(U),children:m.jsx("img",{src:U.image_url,alt:U.name,className:"w-24 h-24 rounded-lg object-cover transition-transform duration-200 hover:scale-105"})}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:U.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:U.description})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"font-semibold text-primary",children:[U.price.toLocaleString()," MMK"]}),B?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(je,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>M(U.id),children:m.jsx($O,{className:"h-4 w-4"})}),m.jsx("span",{className:"w-8 text-center font-medium",children:B.quantity}),m.jsx(je,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>A(U),children:m.jsx(Ia,{className:"h-4 w-4"})})]}):m.jsxs(je,{size:"sm",variant:"outline",onClick:()=>A(U),children:[m.jsx(Ia,{className:"h-4 w-4 mr-1"}),"Add"]})]})]})]})},U.id)})]})]}),m.jsx(Fo,{open:!!S,onOpenChange:U=>!U&&b(null),children:m.jsx(zi,{className:"max-w-sm p-0 border-0 bg-transparent shadow-none",children:S&&m.jsxs("div",{className:"relative rounded-2xl overflow-hidden bg-black",children:[m.jsx("img",{src:S.image_url,alt:S.name,className:"w-full h-[360px] object-cover"}),m.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/85 via-black/40 to-transparent"}),m.jsxs("div",{className:"absolute inset-x-0 bottom-0 p-4 flex flex-col gap-2 text-white",children:[m.jsxs("div",{className:"flex items-baseline justify-between gap-3",children:[m.jsx("h3",{className:"text-lg font-semibold leading-tight",children:S.name}),m.jsxs("span",{className:"text-sm font-semibold px-2 py-1 rounded-full bg-white/12 backdrop-blur",children:[S.price.toLocaleString()," MMK"]})]}),S.description&&m.jsx("p",{className:"text-xs text-white/80 line-clamp-2",children:S.description}),m.jsx("div",{className:"mt-2 flex justify-end",children:m.jsxs(je,{size:"sm",className:"luxury-gradient px-5 py-2 text-sm font-medium shadow-md hover:shadow-lg transition-all",onClick:()=>{A(S),b(null)},children:[m.jsx(Ia,{className:"h-4 w-4 mr-1"}),"Add to Cart"]})})]})]})})}),x.length>0&&m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border p-4",children:m.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-sm text-muted-foreground",children:[F," items"]}),m.jsxs("div",{className:"text-lg font-bold",children:[D.toLocaleString()," MMK"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(je,{variant:"outline",size:"lg",onClick:()=>R(!0),children:"View Orders"}),m.jsx(je,{onClick:L,className:"luxury-gradient",size:"lg",children:"Pay"})]})]})}),m.jsx(Fo,{open:N,onOpenChange:R,children:m.jsxs(zi,{className:"max-w-md",children:[m.jsx(Uo,{children:m.jsx(zo,{children:"Your Order Summary"})}),x.length===0?m.jsx("div",{className:"text-sm text-muted-foreground",children:"No items in your cart."}):m.jsxs("div",{className:"space-y-3",children:[m.jsx("div",{className:"space-y-1",children:x.map(U=>m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{className:"font-medium",children:U.name}),m.jsxs("span",{className:"text-xs text-muted-foreground",children:[U.quantity," x ",U.price.toLocaleString()," MMK"]})]}),m.jsxs("span",{className:"font-semibold",children:[(U.price*U.quantity).toLocaleString()," MMK"]})]},U.id))}),m.jsxs("div",{className:"flex items-center justify-between pt-3 border-t",children:[m.jsxs("span",{className:"text-sm text-muted-foreground",children:["Total (",F," items)"]}),m.jsxs("span",{className:"text-lg font-bold text-primary",children:[D.toLocaleString()," MMK"]})]})]})]})})]})};function Kx(t){const e=I.useRef({value:t,previous:t});return I.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Qx="Radio",[V7,ZT]=ps(Qx),[H7,W7]=V7(Qx),JT=I.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:l,value:u="on",onCheck:f,form:h,...x}=t,[w,v]=I.useState(null),E=st(e,N=>v(N)),S=I.useRef(!1),b=w?h||!!w.closest("form"):!0;return m.jsxs(H7,{scope:r,checked:s,disabled:l,children:[m.jsx(Fe.button,{type:"button",role:"radio","aria-checked":s,"data-state":n3(s),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:E,onClick:Ie(t.onClick,N=>{s||f==null||f(),b&&(S.current=N.isPropagationStopped(),S.current||N.stopPropagation())})}),b&&m.jsx(r3,{control:w,bubbles:!S.current,name:n,value:u,checked:s,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});JT.displayName=Qx;var e3="RadioIndicator",t3=I.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,o=W7(e3,r);return m.jsx(gs,{present:n||o.checked,children:m.jsx(Fe.span,{"data-state":n3(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})})});t3.displayName=e3;var $7="RadioBubbleInput",r3=I.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const l=I.useRef(null),u=st(l,o),f=Kx(r),h=sx(e);return I.useEffect(()=>{const x=l.current;if(!x)return;const w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set;if(f!==r&&E){const S=new Event("click",{bubbles:n});E.call(x,r),x.dispatchEvent(S)}},[f,r,n]),m.jsx(Fe.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});r3.displayName=$7;function n3(t){return t?"checked":"unchecked"}var G7=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_0="RadioGroup",[Y7,wF]=ps(_0,[m0,ZT]),s3=m0(),i3=ZT(),[X7,q7]=Y7(_0),o3=I.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:l=!1,disabled:u=!1,orientation:f,dir:h,loop:x=!0,onValueChange:w,...v}=t,E=s3(r),S=wd(h),[b,N]=Po({prop:o,defaultProp:s??null,onChange:w,caller:_0});return m.jsx(X7,{scope:r,name:n,required:l,disabled:u,value:b,onValueChange:N,children:m.jsx(iT,{asChild:!0,...E,orientation:f,dir:S,loop:x,children:m.jsx(Fe.div,{role:"radiogroup","aria-required":l,"aria-orientation":f,"data-disabled":u?"":void 0,dir:S,...v,ref:e})})})});o3.displayName=_0;var a3="RadioGroupItem",l3=I.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,o=q7(a3,r),l=o.disabled||n,u=s3(r),f=i3(r),h=I.useRef(null),x=st(e,h),w=o.value===s.value,v=I.useRef(!1);return I.useEffect(()=>{const E=b=>{G7.includes(b.key)&&(v.current=!0)},S=()=>v.current=!1;return document.addEventListener("keydown",E),document.addEventListener("keyup",S),()=>{document.removeEventListener("keydown",E),document.removeEventListener("keyup",S)}},[]),m.jsx(oT,{asChild:!0,...u,focusable:!l,active:w,children:m.jsx(JT,{disabled:l,required:o.required,checked:w,...f,...s,name:o.name,ref:x,onCheck:()=>o.onValueChange(s.value),onKeyDown:Ie(E=>{E.key==="Enter"&&E.preventDefault()}),onFocus:Ie(s.onFocus,()=>{var E;v.current&&((E=h.current)==null||E.click())})})})});l3.displayName=a3;var K7="RadioGroupIndicator",c3=I.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=i3(r);return m.jsx(t3,{...s,...n,ref:e})});c3.displayName=K7;var u3=o3,d3=l3,Q7=c3;const h3=I.forwardRef(({className:t,...e},r)=>m.jsx(u3,{className:He("grid gap-2",t),...e,ref:r}));h3.displayName=u3.displayName;const f3=I.forwardRef(({className:t,...e},r)=>m.jsx(d3,{ref:r,className:He("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(Q7,{className:"flex items-center justify-center",children:m.jsx(zO,{className:"h-2.5 w-2.5 fill-current text-current"})})}));f3.displayName=d3.displayName;const Z7=[{id:"mpu",name:"MPU Card",icon:VO},{id:"kbzpay",name:"KBZPay",icon:qO},{id:"wavepay",name:"WavePay",icon:KO}],J7=()=>{const t=Go(),e=Nn(),{cart:r,restaurant:n,orderType:s,totalAmount:o}=t.state||{},[l,u]=I.useState("kbzpay"),[f,h]=I.useState(!1);if(!r||!n)return e("/home"),null;const x=async()=>{h(!0),await new Promise(w=>setTimeout(w,2e3));try{const{data:{user:w}}=await Ce.auth.getUser();if(!w){we.error("Please sign in to complete your order"),e("/auth");return}const v=`ALAN-${Date.now()}-${n.id}-${w.id.substring(0,8)}`,{data:E,error:S}=await Ce.from("orders").insert([{customer_id:w.id,restaurant_id:n.id,order_type:s,payment_method:l,total_amount:o,status:"paid",qr_code:v,order_items:r}]).select().single();if(S){console.error("Order creation error:",S),we.error("Failed to create order. Please try again."),h(!1);return}we.success("Payment successful!"),e("/confirmation",{state:{order:E,restaurant:n,orderType:s}})}catch(w){console.error("Payment error:",w),we.error("Failed to process payment. Please try again."),h(!1)}};return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx("div",{className:"bg-card border-b border-border px-6 py-4",children:m.jsxs("div",{className:"max-w-md mx-auto flex items-center gap-4",children:[m.jsx(je,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:m.jsx(Sc,{className:"h-5 w-5"})}),m.jsx("h1",{className:"text-2xl font-bold",children:"Payment"})]})}),m.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[m.jsxs($e,{className:"p-4 space-y-3",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Order Summary"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Restaurant"}),m.jsx("span",{className:"font-medium",children:n.name})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),m.jsx("span",{className:"font-medium capitalize",children:s.replace("_"," ")})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Items"}),m.jsxs("span",{className:"font-medium",children:[r.length," item(s)"]})]}),m.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[m.jsx("span",{className:"font-semibold",children:"Total Amount"}),m.jsxs("span",{className:"font-bold text-primary text-lg",children:[o.toLocaleString()," MMK"]})]})]})]}),m.jsxs($e,{className:"p-4 space-y-4",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Payment Method"}),m.jsx(h3,{value:l,onValueChange:w=>u(w),children:Z7.map(w=>{const v=w.icon;return m.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>u(w.id),children:[m.jsx(f3,{value:w.id,id:w.id}),m.jsxs(Qe,{htmlFor:w.id,className:"flex items-center gap-3 cursor-pointer flex-1",children:[m.jsx(v,{className:"h-5 w-5 text-primary"}),m.jsx("span",{className:"font-medium",children:w.name})]})]},w.id)})})]}),m.jsxs($e,{className:"p-4 space-y-3",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Items"}),r.map(w=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:[w.name," x ",w.quantity]}),m.jsxs("span",{className:"font-medium",children:[(w.price*w.quantity).toLocaleString()," MMK"]})]},w.id))]}),m.jsx(je,{onClick:x,disabled:f,className:"w-full luxury-gradient h-12 text-base",size:"lg",children:f?m.jsxs(m.Fragment,{children:[m.jsx(Ac,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing Payment..."]}):`Pay ${o.toLocaleString()} MMK`}),m.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"This is a mock payment. No actual transaction will occur."})]})]})};var e9=Object.defineProperty,If=Object.getOwnPropertySymbols,p3=Object.prototype.hasOwnProperty,g3=Object.prototype.propertyIsEnumerable,y2=(t,e,r)=>e in t?e9(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jg=(t,e)=>{for(var r in e||(e={}))p3.call(e,r)&&y2(t,r,e[r]);if(If)for(var r of If(e))g3.call(e,r)&&y2(t,r,e[r]);return t},Lg=(t,e)=>{var r={};for(var n in t)p3.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&If)for(var n of If(t))e.indexOf(n)<0&&g3.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Va;(t=>{const e=class nt{constructor(f,h,x,w){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<nt.MIN_VERSION||f>nt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let v=[];for(let S=0;S<this.size;S++)v.push(!1);for(let S=0;S<this.size;S++)this.modules.push(v.slice()),this.isFunction.push(v.slice());this.drawFunctionPatterns();const E=this.addEccAndInterleave(x);if(this.drawCodewords(E),w==-1){let S=1e9;for(let b=0;b<8;b++){this.applyMask(b),this.drawFormatBits(b);const N=this.getPenaltyScore();N<S&&(w=b,S=N),this.applyMask(b)}}s(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(f,h){const x=t.QrSegment.makeSegments(f);return nt.encodeSegments(x,h)}static encodeBinary(f,h){const x=t.QrSegment.makeBytes(f);return nt.encodeSegments([x],h)}static encodeSegments(f,h,x=1,w=40,v=-1,E=!0){if(!(nt.MIN_VERSION<=x&&x<=w&&w<=nt.MAX_VERSION)||v<-1||v>7)throw new RangeError("Invalid value");let S,b;for(S=x;;S++){const A=nt.getNumDataCodewords(S,h)*8,M=l.getTotalBits(f,S);if(M<=A){b=M;break}if(S>=w)throw new RangeError("Data too long")}for(const A of[nt.Ecc.MEDIUM,nt.Ecc.QUARTILE,nt.Ecc.HIGH])E&&b<=nt.getNumDataCodewords(S,A)*8&&(h=A);let N=[];for(const A of f){r(A.mode.modeBits,4,N),r(A.numChars,A.mode.numCharCountBits(S),N);for(const M of A.getData())N.push(M)}s(N.length==b);const R=nt.getNumDataCodewords(S,h)*8;s(N.length<=R),r(0,Math.min(4,R-N.length),N),r(0,(8-N.length%8)%8,N),s(N.length%8==0);for(let A=236;N.length<R;A^=253)r(A,8,N);let T=[];for(;T.length*8<N.length;)T.push(0);return N.forEach((A,M)=>T[M>>>3]|=A<<7-(M&7)),new nt(S,h,T,v)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let x=0;x<h;x++)for(let w=0;w<h;w++)x==0&&w==0||x==0&&w==h-1||x==h-1&&w==0||this.drawAlignmentPattern(f[x],f[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let x=h;for(let v=0;v<10;v++)x=x<<1^(x>>>9)*1335;const w=(h<<10|x)^21522;s(w>>>15==0);for(let v=0;v<=5;v++)this.setFunctionModule(8,v,n(w,v));this.setFunctionModule(8,7,n(w,6)),this.setFunctionModule(8,8,n(w,7)),this.setFunctionModule(7,8,n(w,8));for(let v=9;v<15;v++)this.setFunctionModule(14-v,8,n(w,v));for(let v=0;v<8;v++)this.setFunctionModule(this.size-1-v,8,n(w,v));for(let v=8;v<15;v++)this.setFunctionModule(8,this.size-15+v,n(w,v));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let x=0;x<12;x++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;s(h>>>18==0);for(let x=0;x<18;x++){const w=n(h,x),v=this.size-11+x%3,E=Math.floor(x/3);this.setFunctionModule(v,E,w),this.setFunctionModule(E,v,w)}}drawFinderPattern(f,h){for(let x=-4;x<=4;x++)for(let w=-4;w<=4;w++){const v=Math.max(Math.abs(w),Math.abs(x)),E=f+w,S=h+x;0<=E&&E<this.size&&0<=S&&S<this.size&&this.setFunctionModule(E,S,v!=2&&v!=4)}}drawAlignmentPattern(f,h){for(let x=-2;x<=2;x++)for(let w=-2;w<=2;w++)this.setFunctionModule(f+w,h+x,Math.max(Math.abs(w),Math.abs(x))!=1)}setFunctionModule(f,h,x){this.modules[h][f]=x,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,x=this.errorCorrectionLevel;if(f.length!=nt.getNumDataCodewords(h,x))throw new RangeError("Invalid argument");const w=nt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][h],v=nt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][h],E=Math.floor(nt.getNumRawDataModules(h)/8),S=w-E%w,b=Math.floor(E/w);let N=[];const R=nt.reedSolomonComputeDivisor(v);for(let A=0,M=0;A<w;A++){let D=f.slice(M,M+b-v+(A<S?0:1));M+=D.length;const F=nt.reedSolomonComputeRemainder(D,R);A<S&&D.push(0),N.push(D.concat(F))}let T=[];for(let A=0;A<N[0].length;A++)N.forEach((M,D)=>{(A!=b-v||D>=S)&&T.push(M[A])});return s(T.length==E),T}drawCodewords(f){if(f.length!=Math.floor(nt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let w=0;w<this.size;w++)for(let v=0;v<2;v++){const E=x-v,b=(x+1&2)==0?this.size-1-w:w;!this.isFunction[b][E]&&h<f.length*8&&(this.modules[b][E]=n(f[h>>>3],7-(h&7)),h++)}}s(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let x=0;x<this.size;x++){let w;switch(f){case 0:w=(x+h)%2==0;break;case 1:w=h%2==0;break;case 2:w=x%3==0;break;case 3:w=(x+h)%3==0;break;case 4:w=(Math.floor(x/3)+Math.floor(h/2))%2==0;break;case 5:w=x*h%2+x*h%3==0;break;case 6:w=(x*h%2+x*h%3)%2==0;break;case 7:w=((x+h)%2+x*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][x]&&w&&(this.modules[h][x]=!this.modules[h][x])}}getPenaltyScore(){let f=0;for(let v=0;v<this.size;v++){let E=!1,S=0,b=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[v][N]==E?(S++,S==5?f+=nt.PENALTY_N1:S>5&&f++):(this.finderPenaltyAddHistory(S,b),E||(f+=this.finderPenaltyCountPatterns(b)*nt.PENALTY_N3),E=this.modules[v][N],S=1);f+=this.finderPenaltyTerminateAndCount(E,S,b)*nt.PENALTY_N3}for(let v=0;v<this.size;v++){let E=!1,S=0,b=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][v]==E?(S++,S==5?f+=nt.PENALTY_N1:S>5&&f++):(this.finderPenaltyAddHistory(S,b),E||(f+=this.finderPenaltyCountPatterns(b)*nt.PENALTY_N3),E=this.modules[N][v],S=1);f+=this.finderPenaltyTerminateAndCount(E,S,b)*nt.PENALTY_N3}for(let v=0;v<this.size-1;v++)for(let E=0;E<this.size-1;E++){const S=this.modules[v][E];S==this.modules[v][E+1]&&S==this.modules[v+1][E]&&S==this.modules[v+1][E+1]&&(f+=nt.PENALTY_N2)}let h=0;for(const v of this.modules)h=v.reduce((E,S)=>E+(S?1:0),h);const x=this.size*this.size,w=Math.ceil(Math.abs(h*20-x*10)/x)-1;return s(0<=w&&w<=9),f+=w*nt.PENALTY_N4,s(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let x=[6];for(let w=this.size-7;x.length<f;w-=h)x.splice(1,0,w);return x}}static getNumRawDataModules(f){if(f<nt.MIN_VERSION||f>nt.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const x=Math.floor(f/7)+2;h-=(25*x-10)*x-55,f>=7&&(h-=36)}return s(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(nt.getNumRawDataModules(f)/8)-nt.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*nt.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let w=0;w<f-1;w++)h.push(0);h.push(1);let x=1;for(let w=0;w<f;w++){for(let v=0;v<h.length;v++)h[v]=nt.reedSolomonMultiply(h[v],x),v+1<h.length&&(h[v]^=h[v+1]);x=nt.reedSolomonMultiply(x,2)}return h}static reedSolomonComputeRemainder(f,h){let x=h.map(w=>0);for(const w of f){const v=w^x.shift();x.push(0),h.forEach((E,S)=>x[S]^=nt.reedSolomonMultiply(E,v))}return x}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let x=0;for(let w=7;w>=0;w--)x=x<<1^(x>>>7)*285,x^=(h>>>w&1)*f;return s(x>>>8==0),x}finderPenaltyCountPatterns(f){const h=f[1];s(h<=this.size*3);const x=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(x&&f[0]>=h*4&&f[6]>=h?1:0)+(x&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,x){return f&&(this.finderPenaltyAddHistory(h,x),h=0),h+=this.size,this.finderPenaltyAddHistory(h,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(u,f,h){if(f<0||f>31||u>>>f)throw new RangeError("Value out of range");for(let x=f-1;x>=0;x--)h.push(u>>>x&1)}function n(u,f){return(u>>>f&1)!=0}function s(u){if(!u)throw new Error("Assertion error")}const o=class rr{constructor(f,h,x){if(this.mode=f,this.numChars=h,this.bitData=x,h<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(f){let h=[];for(const x of f)r(x,8,h);return new rr(rr.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!rr.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let x=0;x<f.length;){const w=Math.min(f.length-x,3);r(parseInt(f.substring(x,x+w),10),w*3+1,h),x+=w}return new rr(rr.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!rr.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],x;for(x=0;x+2<=f.length;x+=2){let w=rr.ALPHANUMERIC_CHARSET.indexOf(f.charAt(x))*45;w+=rr.ALPHANUMERIC_CHARSET.indexOf(f.charAt(x+1)),r(w,11,h)}return x<f.length&&r(rr.ALPHANUMERIC_CHARSET.indexOf(f.charAt(x)),6,h),new rr(rr.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:rr.isNumeric(f)?[rr.makeNumeric(f)]:rr.isAlphanumeric(f)?[rr.makeAlphanumeric(f)]:[rr.makeBytes(rr.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)r(f,8,h);else if(f<16384)r(2,2,h),r(f,14,h);else if(f<1e6)r(6,3,h),r(f,21,h);else throw new RangeError("ECI assignment value out of range");return new rr(rr.Mode.ECI,0,h)}static isNumeric(f){return rr.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return rr.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let x=0;for(const w of f){const v=w.mode.numCharCountBits(h);if(w.numChars>=1<<v)return 1/0;x+=4+v+w.bitData.length}return x}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let x=0;x<f.length;x++)f.charAt(x)!="%"?h.push(f.charCodeAt(x)):(h.push(parseInt(f.substring(x+1,x+3),16)),x+=2);return h}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=o;t.QrSegment=o})(Va||(Va={}));(t=>{(e=>{const r=class{constructor(s,o){this.ordinal=s,this.formatBits=o}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(Va||(Va={}));(t=>{(e=>{const r=class{constructor(s,o){this.modeBits=s,this.numBitsCharCount=o}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Va||(Va={}));var Pl=Va;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var t9={L:Pl.QrCode.Ecc.LOW,M:Pl.QrCode.Ecc.MEDIUM,Q:Pl.QrCode.Ecc.QUARTILE,H:Pl.QrCode.Ecc.HIGH},m3=128,x3="L",y3="#FFFFFF",w3="#000000",v3=!1,_3=1,r9=4,n9=0,s9=.1;function b3(t,e=0){const r=[];return t.forEach(function(n,s){let o=null;n.forEach(function(l,u){if(!l&&o!==null){r.push(`M${o+e} ${s+e}h${u-o}v1H${o+e}z`),o=null;return}if(u===n.length-1){if(!l)return;o===null?r.push(`M${u+e},${s+e} h1v1H${u+e}z`):r.push(`M${o+e},${s+e} h${u+1-o}v1H${o+e}z`);return}l&&o===null&&(o=u)})}),r.join("")}function E3(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((s,o)=>o<e.x||o>=e.x+e.w?s:!1))}function i9(t,e,r,n){if(n==null)return null;const s=t.length+r*2,o=Math.floor(e*s9),l=s/e,u=(n.width||o)*l,f=(n.height||o)*l,h=n.x==null?t.length/2-u/2:n.x*l,x=n.y==null?t.length/2-f/2:n.y*l,w=n.opacity==null?1:n.opacity;let v=null;if(n.excavate){let S=Math.floor(h),b=Math.floor(x),N=Math.ceil(u+h-S),R=Math.ceil(f+x-b);v={x:S,y:b,w:N,h:R}}const E=n.crossOrigin;return{x:h,y:x,h:f,w:u,excavation:v,opacity:w,crossOrigin:E}}function o9(t,e){return e!=null?Math.max(Math.floor(e),0):t?r9:n9}function C3({value:t,level:e,minVersion:r,includeMargin:n,marginSize:s,imageSettings:o,size:l,boostLevel:u}){let f=ue.useMemo(()=>{const S=(Array.isArray(t)?t:[t]).reduce((b,N)=>(b.push(...Pl.QrSegment.makeSegments(N)),b),[]);return Pl.QrCode.encodeSegments(S,t9[e],r,void 0,void 0,u)},[t,e,r,u]);const{cells:h,margin:x,numCells:w,calculatedImageSettings:v}=ue.useMemo(()=>{let E=f.getModules();const S=o9(n,s),b=E.length+S*2,N=i9(E,l,S,o);return{cells:E,margin:S,numCells:b,calculatedImageSettings:N}},[f,l,o,n,s]);return{qrcode:f,margin:x,cells:h,numCells:w,calculatedImageSettings:v}}var a9=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),l9=ue.forwardRef(function(e,r){const n=e,{value:s,size:o=m3,level:l=x3,bgColor:u=y3,fgColor:f=w3,includeMargin:h=v3,minVersion:x=_3,boostLevel:w,marginSize:v,imageSettings:E}=n,b=Lg(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=b,R=Lg(b,["style"]),T=E==null?void 0:E.src,A=ue.useRef(null),M=ue.useRef(null),D=ue.useCallback(G=>{A.current=G,typeof r=="function"?r(G):r&&(r.current=G)},[r]),[F,L]=ue.useState(!1),{margin:U,cells:B,numCells:K,calculatedImageSettings:ee}=C3({value:s,level:l,minVersion:x,boostLevel:w,includeMargin:h,marginSize:v,imageSettings:E,size:o});ue.useEffect(()=>{if(A.current!=null){const G=A.current,H=G.getContext("2d");if(!H)return;let ne=B;const X=M.current,Y=ee!=null&&X!==null&&X.complete&&X.naturalHeight!==0&&X.naturalWidth!==0;Y&&ee.excavation!=null&&(ne=E3(B,ee.excavation));const J=window.devicePixelRatio||1;G.height=G.width=o*J;const oe=o/K*J;H.scale(oe,oe),H.fillStyle=u,H.fillRect(0,0,K,K),H.fillStyle=f,a9?H.fill(new Path2D(b3(ne,U))):B.forEach(function(Ee,de){Ee.forEach(function(ae,fe){ae&&H.fillRect(fe+U,de+U,1,1)})}),ee&&(H.globalAlpha=ee.opacity),Y&&H.drawImage(X,ee.x+U,ee.y+U,ee.w,ee.h)}}),ue.useEffect(()=>{L(!1)},[T]);const Q=jg({height:o,width:o},N);let se=null;return T!=null&&(se=ue.createElement("img",{src:T,key:T,style:{display:"none"},onLoad:()=>{L(!0)},ref:M,crossOrigin:ee==null?void 0:ee.crossOrigin})),ue.createElement(ue.Fragment,null,ue.createElement("canvas",jg({style:Q,height:o,width:o,ref:D,role:"img"},R)),se)});l9.displayName="QRCodeCanvas";var Zx=ue.forwardRef(function(e,r){const n=e,{value:s,size:o=m3,level:l=x3,bgColor:u=y3,fgColor:f=w3,includeMargin:h=v3,minVersion:x=_3,boostLevel:w,title:v,marginSize:E,imageSettings:S}=n,b=Lg(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:R,numCells:T,calculatedImageSettings:A}=C3({value:s,level:l,minVersion:x,boostLevel:w,includeMargin:h,marginSize:E,imageSettings:S,size:o});let M=R,D=null;S!=null&&A!=null&&(A.excavation!=null&&(M=E3(R,A.excavation)),D=ue.createElement("image",{href:S.src,height:A.h,width:A.w,x:A.x+N,y:A.y+N,preserveAspectRatio:"none",opacity:A.opacity,crossOrigin:A.crossOrigin}));const F=b3(M,N);return ue.createElement("svg",jg({height:o,width:o,viewBox:`0 0 ${T} ${T}`,ref:r,role:"img"},b),!!v&&ue.createElement("title",null,v),ue.createElement("path",{fill:u,d:`M0,0 h${T}v${T}H0z`,shapeRendering:"crispEdges"}),ue.createElement("path",{fill:f,d:F,shapeRendering:"crispEdges"}),D)});Zx.displayName="QRCodeSVG";const c9=()=>{const t=Go(),e=Nn(),{order:r,restaurant:n,orderType:s}=t.state||{};return!r||!n?(e("/home"),null):m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20 flex flex-col items-center justify-center p-6",children:m.jsxs("div",{className:"max-w-md w-full space-y-6",children:[m.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[m.jsx("div",{className:"w-20 h-20 rounded-full luxury-gradient flex items-center justify-center",children:m.jsx(DE,{className:"w-12 h-12 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-center",children:"Payment Successful!"}),m.jsx("p",{className:"text-muted-foreground text-center",children:s==="dine_in"?"Your table is ready":"Your order is confirmed"})]}),m.jsxs($e,{className:"p-6 space-y-4 luxury-shadow",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Your QR Code"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Show this code at ",n.name," to confirm your booking"]})]}),m.jsx("div",{className:"flex justify-center p-6 bg-white rounded-lg",children:m.jsx(Zx,{value:r.qr_code,size:200,level:"H",includeMargin:!0})}),m.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Order ID"}),m.jsx("span",{className:"font-medium",children:r.id.slice(0,8)})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Restaurant"}),m.jsx("span",{className:"font-medium",children:n.name})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Type"}),m.jsx("span",{className:"font-medium capitalize",children:s.replace("_"," ")})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Amount"}),m.jsxs("span",{className:"font-bold text-primary",children:[r.total_amount.toLocaleString()," MMK"]})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(je,{onClick:()=>e("/orders"),className:"w-full luxury-gradient",size:"lg",children:"View My Orders"}),m.jsxs(je,{onClick:()=>e("/home"),variant:"outline",className:"w-full",size:"lg",children:[m.jsx(jE,{className:"mr-2 h-5 w-5"}),"Back to Home"]})]}),m.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"A confirmation has been sent to your registered email"})]})})},w2={paid:"bg-blue-500",preparing:"bg-yellow-500",ready:"bg-green-500",served:"bg-purple-500",completed:"bg-gray-500",cancelled:"bg-red-500"},u9=()=>{var u,f,h;const[t,e]=I.useState([]),[r,n]=I.useState(null),[s,o]=I.useState(!0);I.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:{user:x}}=await Ce.auth.getUser();if(!x){we.error("Please sign in to view your orders"),o(!1);return}const{data:w,error:v}=await Ce.from("orders").select(`
          *,
          restaurants (
            name,
            image_url,
            address
          )
        `).eq("customer_id",x.id).order("created_at",{ascending:!1});v&&(console.error("Error fetching orders:",v),we.error("Failed to load orders")),e(w||[])}catch(x){console.error("Error fetching orders:",x),we.error("Failed to load orders")}finally{o(!1)}};return s?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):m.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[m.jsx("div",{className:"bg-card border-b border-border px-6 py-6",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Orders"}),m.jsx("p",{className:"text-muted-foreground",children:"Track your bookings and orders"})]})}),m.jsx("div",{className:"max-w-md mx-auto px-6 py-6 space-y-4",children:t.filter(x=>x.status!=="completed").length===0?m.jsxs($e,{className:"p-8 text-center space-y-2",children:[m.jsx("p",{className:"text-muted-foreground",children:"No active orders"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Your completed orders are now available in your profile under Order History."})]}):t.filter(x=>x.status!=="completed").map(x=>{var w,v,E,S;return m.jsx($e,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n(x),children:m.jsxs("div",{className:"flex gap-4 p-4",children:[m.jsx("img",{src:(w=x.restaurants)==null?void 0:w.image_url,alt:(v=x.restaurants)==null?void 0:v.name,className:"w-20 h-20 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:(E=x.restaurants)==null?void 0:E.name}),m.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:(S=x.order_type)==null?void 0:S.replace("_"," ")})]}),m.jsx(Ui,{className:`${w2[x.status]} text-white border-0`,children:x.status})]}),m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[m.jsx(Ym,{className:"h-3 w-3"}),new Date(x.created_at).toLocaleDateString()]}),m.jsxs("span",{className:"font-semibold text-primary",children:[x.total_amount.toLocaleString()," MMK"]})]})]})]})},x.id)})}),m.jsx(Fo,{open:!!r,onOpenChange:()=>n(null),children:m.jsxs(zi,{className:"max-w-md",children:[m.jsx(Uo,{children:m.jsx(zo,{children:"Order Details"})}),r&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:m.jsx(Zx,{value:r.qr_code,size:150,level:"H",includeMargin:!0})}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Restaurant"}),m.jsx("span",{className:"font-medium",children:(u=r.restaurants)==null?void 0:u.name})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),m.jsx("span",{className:"font-medium capitalize",children:(f=r.order_type)==null?void 0:f.replace("_"," ")})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Payment Method"}),m.jsx("span",{className:"font-medium uppercase",children:r.payment_method})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Status"}),m.jsx(Ui,{className:`${w2[r.status]} text-white border-0`,children:r.status})]}),m.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[m.jsx("span",{className:"font-semibold",children:"Total Amount"}),m.jsxs("span",{className:"font-bold text-primary",children:[r.total_amount.toLocaleString()," MMK"]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-semibold text-sm",children:"Items"}),(h=r.order_items)==null?void 0:h.map((x,w)=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:[x.name," x ",x.quantity]}),m.jsxs("span",{children:[(x.price*x.quantity).toLocaleString()," MMK"]})]},w))]})]})]})}),m.jsx(Wx,{})]})};function Bg(t,[e,r]){return Math.min(r,Math.max(e,t))}function d9(t,e){return I.useReducer((r,n)=>e[r][n]??r,t)}var Jx="ScrollArea",[S3,bF]=ps(Jx),[h9,xs]=S3(Jx),A3=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:o=600,...l}=t,[u,f]=I.useState(null),[h,x]=I.useState(null),[w,v]=I.useState(null),[E,S]=I.useState(null),[b,N]=I.useState(null),[R,T]=I.useState(0),[A,M]=I.useState(0),[D,F]=I.useState(!1),[L,U]=I.useState(!1),B=st(e,ee=>f(ee)),K=wd(s);return m.jsx(h9,{scope:r,type:n,dir:K,scrollHideDelay:o,scrollArea:u,viewport:h,onViewportChange:x,content:w,onContentChange:v,scrollbarX:E,onScrollbarXChange:S,scrollbarXEnabled:D,onScrollbarXEnabledChange:F,scrollbarY:b,onScrollbarYChange:N,scrollbarYEnabled:L,onScrollbarYEnabledChange:U,onCornerWidthChange:T,onCornerHeightChange:M,children:m.jsx(Fe.div,{dir:K,...l,ref:B,style:{position:"relative","--radix-scroll-area-corner-width":R+"px","--radix-scroll-area-corner-height":A+"px",...t.style}})})});A3.displayName=Jx;var T3="ScrollAreaViewport",N3=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,children:n,nonce:s,...o}=t,l=xs(T3,r),u=I.useRef(null),f=st(e,u,l.onViewportChange);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),m.jsx(Fe.div,{"data-radix-scroll-area-viewport":"",...o,ref:f,style:{overflowX:l.scrollbarXEnabled?"scroll":"hidden",overflowY:l.scrollbarYEnabled?"scroll":"hidden",...t.style},children:m.jsx("div",{ref:l.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});N3.displayName=T3;var pi="ScrollAreaScrollbar",ey=I.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=xs(pi,t.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:l}=s,u=t.orientation==="horizontal";return I.useEffect(()=>(u?o(!0):l(!0),()=>{u?o(!1):l(!1)}),[u,o,l]),s.type==="hover"?m.jsx(f9,{...n,ref:e,forceMount:r}):s.type==="scroll"?m.jsx(p9,{...n,ref:e,forceMount:r}):s.type==="auto"?m.jsx(I3,{...n,ref:e,forceMount:r}):s.type==="always"?m.jsx(ty,{...n,ref:e}):null});ey.displayName=pi;var f9=I.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=xs(pi,t.__scopeScrollArea),[o,l]=I.useState(!1);return I.useEffect(()=>{const u=s.scrollArea;let f=0;if(u){const h=()=>{window.clearTimeout(f),l(!0)},x=()=>{f=window.setTimeout(()=>l(!1),s.scrollHideDelay)};return u.addEventListener("pointerenter",h),u.addEventListener("pointerleave",x),()=>{window.clearTimeout(f),u.removeEventListener("pointerenter",h),u.removeEventListener("pointerleave",x)}}},[s.scrollArea,s.scrollHideDelay]),m.jsx(gs,{present:r||o,children:m.jsx(I3,{"data-state":o?"visible":"hidden",...n,ref:e})})}),p9=I.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=xs(pi,t.__scopeScrollArea),o=t.orientation==="horizontal",l=E0(()=>f("SCROLL_END"),100),[u,f]=d9("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return I.useEffect(()=>{if(u==="idle"){const h=window.setTimeout(()=>f("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(h)}},[u,s.scrollHideDelay,f]),I.useEffect(()=>{const h=s.viewport,x=o?"scrollLeft":"scrollTop";if(h){let w=h[x];const v=()=>{const E=h[x];w!==E&&(f("SCROLL"),l()),w=E};return h.addEventListener("scroll",v),()=>h.removeEventListener("scroll",v)}},[s.viewport,o,f,l]),m.jsx(gs,{present:r||u!=="hidden",children:m.jsx(ty,{"data-state":u==="hidden"?"hidden":"visible",...n,ref:e,onPointerEnter:Ie(t.onPointerEnter,()=>f("POINTER_ENTER")),onPointerLeave:Ie(t.onPointerLeave,()=>f("POINTER_LEAVE"))})})}),I3=I.forwardRef((t,e)=>{const r=xs(pi,t.__scopeScrollArea),{forceMount:n,...s}=t,[o,l]=I.useState(!1),u=t.orientation==="horizontal",f=E0(()=>{if(r.viewport){const h=r.viewport.offsetWidth<r.viewport.scrollWidth,x=r.viewport.offsetHeight<r.viewport.scrollHeight;l(u?h:x)}},10);return _c(r.viewport,f),_c(r.content,f),m.jsx(gs,{present:n||o,children:m.jsx(ty,{"data-state":o?"visible":"hidden",...s,ref:e})})}),ty=I.forwardRef((t,e)=>{const{orientation:r="vertical",...n}=t,s=xs(pi,t.__scopeScrollArea),o=I.useRef(null),l=I.useRef(0),[u,f]=I.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),h=P3(u.viewport,u.content),x={...n,sizes:u,onSizesChange:f,hasThumb:h>0&&h<1,onThumbChange:v=>o.current=v,onThumbPointerUp:()=>l.current=0,onThumbPointerDown:v=>l.current=v};function w(v,E){return v9(v,l.current,u,E)}return r==="horizontal"?m.jsx(g9,{...x,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const v=s.viewport.scrollLeft,E=v2(v,u,s.dir);o.current.style.transform=`translate3d(${E}px, 0, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollLeft=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollLeft=w(v,s.dir))}}):r==="vertical"?m.jsx(m9,{...x,ref:e,onThumbPositionChange:()=>{if(s.viewport&&o.current){const v=s.viewport.scrollTop,E=v2(v,u);o.current.style.transform=`translate3d(0, ${E}px, 0)`}},onWheelScroll:v=>{s.viewport&&(s.viewport.scrollTop=v)},onDragScroll:v=>{s.viewport&&(s.viewport.scrollTop=w(v))}}):null}),g9=I.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=xs(pi,t.__scopeScrollArea),[l,u]=I.useState(),f=I.useRef(null),h=st(e,f,o.onScrollbarXChange);return I.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),m.jsx(O3,{"data-orientation":"horizontal",...s,ref:h,sizes:r,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":b0(r)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.x),onDragScroll:x=>t.onDragScroll(x.x),onWheelScroll:(x,w)=>{if(o.viewport){const v=o.viewport.scrollLeft+x.deltaX;t.onWheelScroll(v),j3(v,w)&&x.preventDefault()}},onResize:()=>{f.current&&o.viewport&&l&&n({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:f.current.clientWidth,paddingStart:Of(l.paddingLeft),paddingEnd:Of(l.paddingRight)}})}})}),m9=I.forwardRef((t,e)=>{const{sizes:r,onSizesChange:n,...s}=t,o=xs(pi,t.__scopeScrollArea),[l,u]=I.useState(),f=I.useRef(null),h=st(e,f,o.onScrollbarYChange);return I.useEffect(()=>{f.current&&u(getComputedStyle(f.current))},[f]),m.jsx(O3,{"data-orientation":"vertical",...s,ref:h,sizes:r,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":b0(r)+"px",...t.style},onThumbPointerDown:x=>t.onThumbPointerDown(x.y),onDragScroll:x=>t.onDragScroll(x.y),onWheelScroll:(x,w)=>{if(o.viewport){const v=o.viewport.scrollTop+x.deltaY;t.onWheelScroll(v),j3(v,w)&&x.preventDefault()}},onResize:()=>{f.current&&o.viewport&&l&&n({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:f.current.clientHeight,paddingStart:Of(l.paddingTop),paddingEnd:Of(l.paddingBottom)}})}})}),[x9,R3]=S3(pi),O3=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:o,onThumbPointerUp:l,onThumbPointerDown:u,onThumbPositionChange:f,onDragScroll:h,onWheelScroll:x,onResize:w,...v}=t,E=xs(pi,r),[S,b]=I.useState(null),N=st(e,B=>b(B)),R=I.useRef(null),T=I.useRef(""),A=E.viewport,M=n.content-n.viewport,D=Sr(x),F=Sr(f),L=E0(w,10);function U(B){if(R.current){const K=B.clientX-R.current.left,ee=B.clientY-R.current.top;h({x:K,y:ee})}}return I.useEffect(()=>{const B=K=>{const ee=K.target;(S==null?void 0:S.contains(ee))&&D(K,M)};return document.addEventListener("wheel",B,{passive:!1}),()=>document.removeEventListener("wheel",B,{passive:!1})},[A,S,M,D]),I.useEffect(F,[n,F]),_c(S,L),_c(E.content,L),m.jsx(x9,{scope:r,scrollbar:S,hasThumb:s,onThumbChange:Sr(o),onThumbPointerUp:Sr(l),onThumbPositionChange:F,onThumbPointerDown:Sr(u),children:m.jsx(Fe.div,{...v,ref:N,style:{position:"absolute",...v.style},onPointerDown:Ie(t.onPointerDown,B=>{B.button===0&&(B.target.setPointerCapture(B.pointerId),R.current=S.getBoundingClientRect(),T.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",E.viewport&&(E.viewport.style.scrollBehavior="auto"),U(B))}),onPointerMove:Ie(t.onPointerMove,U),onPointerUp:Ie(t.onPointerUp,B=>{const K=B.target;K.hasPointerCapture(B.pointerId)&&K.releasePointerCapture(B.pointerId),document.body.style.webkitUserSelect=T.current,E.viewport&&(E.viewport.style.scrollBehavior=""),R.current=null})})})}),Rf="ScrollAreaThumb",M3=I.forwardRef((t,e)=>{const{forceMount:r,...n}=t,s=R3(Rf,t.__scopeScrollArea);return m.jsx(gs,{present:r||s.hasThumb,children:m.jsx(y9,{ref:e,...n})})}),y9=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,style:n,...s}=t,o=xs(Rf,r),l=R3(Rf,r),{onThumbPositionChange:u}=l,f=st(e,w=>l.onThumbChange(w)),h=I.useRef(void 0),x=E0(()=>{h.current&&(h.current(),h.current=void 0)},100);return I.useEffect(()=>{const w=o.viewport;if(w){const v=()=>{if(x(),!h.current){const E=_9(w,u);h.current=E,u()}};return u(),w.addEventListener("scroll",v),()=>w.removeEventListener("scroll",v)}},[o.viewport,x,u]),m.jsx(Fe.div,{"data-state":l.hasThumb?"visible":"hidden",...s,ref:f,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:Ie(t.onPointerDownCapture,w=>{const E=w.target.getBoundingClientRect(),S=w.clientX-E.left,b=w.clientY-E.top;l.onThumbPointerDown({x:S,y:b})}),onPointerUp:Ie(t.onPointerUp,l.onThumbPointerUp)})});M3.displayName=Rf;var ry="ScrollAreaCorner",k3=I.forwardRef((t,e)=>{const r=xs(ry,t.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return r.type!=="scroll"&&n?m.jsx(w9,{...t,ref:e}):null});k3.displayName=ry;var w9=I.forwardRef((t,e)=>{const{__scopeScrollArea:r,...n}=t,s=xs(ry,r),[o,l]=I.useState(0),[u,f]=I.useState(0),h=!!(o&&u);return _c(s.scrollbarX,()=>{var w;const x=((w=s.scrollbarX)==null?void 0:w.offsetHeight)||0;s.onCornerHeightChange(x),f(x)}),_c(s.scrollbarY,()=>{var w;const x=((w=s.scrollbarY)==null?void 0:w.offsetWidth)||0;s.onCornerWidthChange(x),l(x)}),h?m.jsx(Fe.div,{...n,ref:e,style:{width:o,height:u,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function Of(t){return t?parseInt(t,10):0}function P3(t,e){const r=t/e;return isNaN(r)?0:r}function b0(t){const e=P3(t.viewport,t.content),r=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,n=(t.scrollbar.size-r)*e;return Math.max(n,18)}function v9(t,e,r,n="ltr"){const s=b0(r),o=s/2,l=e||o,u=s-l,f=r.scrollbar.paddingStart+l,h=r.scrollbar.size-r.scrollbar.paddingEnd-u,x=r.content-r.viewport,w=n==="ltr"?[0,x]:[x*-1,0];return D3([f,h],w)(t)}function v2(t,e,r="ltr"){const n=b0(e),s=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,o=e.scrollbar.size-s,l=e.content-e.viewport,u=o-n,f=r==="ltr"?[0,l]:[l*-1,0],h=Bg(t,f);return D3([0,l],[0,u])(h)}function D3(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function j3(t,e){return t>0&&t<e}var _9=(t,e=()=>{})=>{let r={left:t.scrollLeft,top:t.scrollTop},n=0;return function s(){const o={left:t.scrollLeft,top:t.scrollTop},l=r.left!==o.left,u=r.top!==o.top;(l||u)&&e(),r=o,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function E0(t,e){const r=Sr(t),n=I.useRef(0);return I.useEffect(()=>()=>window.clearTimeout(n.current),[]),I.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,e)},[r,e])}function _c(t,e){const r=Sr(e);kr(()=>{let n=0;if(t){const s=new ResizeObserver(()=>{cancelAnimationFrame(n),n=window.requestAnimationFrame(r)});return s.observe(t),()=>{window.cancelAnimationFrame(n),s.unobserve(t)}}},[t,r])}var L3=A3,b9=N3,E9=k3;const B3=I.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(L3,{ref:n,className:He("relative overflow-hidden",t),...r,children:[m.jsx(b9,{className:"h-full w-full rounded-[inherit]",children:e}),m.jsx(F3,{}),m.jsx(E9,{})]}));B3.displayName=L3.displayName;const F3=I.forwardRef(({className:t,orientation:e="vertical",...r},n)=>m.jsx(ey,{ref:n,orientation:e,className:He("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...r,children:m.jsx(M3,{className:"relative flex-1 rounded-full bg-border"})}));F3.displayName=ey.displayName;const C9=()=>{const{user:t,signOut:e}=ms(),r=Nn(),[n,s]=I.useState(null),[o,l]=I.useState([]),[u,f]=I.useState(!1),[h,x]=I.useState({full_name:"",phone:""});I.useEffect(()=>{t&&(w(),v())},[t]);const w=async()=>{try{const{data:b,error:N}=await Ce.from("profiles").select("*").eq("id",t==null?void 0:t.id).single();if(N)throw N;s(b),x({full_name:b.full_name||"",phone:b.phone||""})}catch(b){console.error("Error fetching profile:",b)}},v=async()=>{if(t)try{const{data:b,error:N}=await Ce.from("orders").select(`
          *,
          restaurants (
            name,
            image_url,
            address
          ),
          order_items
        `).eq("customer_id",t.id).eq("status","completed").order("created_at",{ascending:!1});if(N)throw N;l(b||[])}catch(b){console.error("Error fetching order history:",b)}},E=async()=>{try{const{error:b}=await Ce.from("profiles").update({full_name:h.full_name,phone:h.phone}).eq("id",t==null?void 0:t.id);if(b)throw b;we.success("Profile updated successfully"),f(!1),w()}catch(b){console.error("Error updating profile:",b),we.error("Failed to update profile")}},S=async()=>{await e(),r("/auth"),we.success("Signed out successfully")};return m.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[m.jsx("div",{className:"bg-card border-b border-border px-6 py-6",children:m.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Profile"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings"})]}),m.jsx(je,{onClick:S,variant:"outline",size:"icon",className:"shrink-0",children:m.jsx(t0,{className:"h-4 w-4"})})]})}),m.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[m.jsxs($e,{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-full luxury-gradient flex items-center justify-center",children:m.jsx(go,{className:"w-8 h-8 text-white"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-xl font-semibold",children:(n==null?void 0:n.full_name)||"User"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email})]}),m.jsx(je,{variant:"ghost",size:"icon",onClick:()=>f(!u),children:m.jsx(BE,{className:"h-4 w-4"})})]}),u?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"full_name",children:"Full Name"}),m.jsx(lt,{id:"full_name",value:h.full_name,onChange:b=>x({...h,full_name:b.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"phone",children:"Phone"}),m.jsx(lt,{id:"phone",value:h.phone,onChange:b=>x({...h,phone:b.target.value})})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(je,{onClick:E,className:"flex-1 luxury-gradient",children:"Save Changes"}),m.jsx(je,{variant:"outline",onClick:()=>f(!1),children:"Cancel"})]})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(go,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"text-muted-foreground",children:"Name:"}),m.jsx("span",{className:"font-medium",children:(n==null?void 0:n.full_name)||"Not set"})]}),m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(WO,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"text-muted-foreground",children:"Email:"}),m.jsx("span",{className:"font-medium",children:t==null?void 0:t.email})]}),m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(FE,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),m.jsx("span",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not set"})]})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-xl font-semibold",children:"Orders History"}),m.jsxs($e,{className:"p-4 luxury-gradient text-white flex items-center justify-between",children:[m.jsxs("div",{className:"space-y-1",children:[m.jsx("p",{className:"text-xs uppercase tracking-wide opacity-80",children:"Total Spent"}),m.jsxs("p",{className:"text-2xl font-semibold",children:[o.reduce((b,N)=>b+(N.total_amount||0),0).toLocaleString()," ","MMK"]})]}),m.jsxs("div",{className:"text-right text-[10px] opacity-80",children:[m.jsx("p",{children:"Completed orders only"}),m.jsxs("p",{children:[o.length," orders"]})]})]}),o.length===0?m.jsx($e,{className:"p-4 text-sm text-muted-foreground",children:"No completed orders yet. Once your orders are completed, they will appear here."}):m.jsx($e,{className:"p-0",children:m.jsx(B3,{className:"max-h-72",children:m.jsx("div",{className:"divide-y",children:o.map(b=>{var N,R,T,A,M;return m.jsxs("div",{className:"px-4 py-3 space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:(N=b.restaurants)==null?void 0:N.image_url,alt:(R=b.restaurants)==null?void 0:R.name,className:"w-10 h-10 rounded-md object-cover"}),m.jsx("div",{className:"flex-1",children:m.jsxs("div",{className:"flex items-center justify-between gap-2",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-medium",children:(T=b.restaurants)==null?void 0:T.name}),m.jsxs("p",{className:"text-[11px] text-muted-foreground capitalize",children:[(A=b.order_type)==null?void 0:A.replace("_"," ")," "," ",new Date(b.created_at).toLocaleDateString()]})]}),m.jsxs("div",{className:"text-right",children:[m.jsxs("p",{className:"text-xs font-semibold text-primary",children:[(M=b.total_amount)==null?void 0:M.toLocaleString()," MMK"]}),m.jsx(Ui,{className:"mt-1 bg-gray-500 text-white border-0 text-[9px]",children:"Completed"})]})]})})]}),Array.isArray(b.order_items)&&b.order_items.length>0&&m.jsx("div",{className:"pl-13 text-[10px] text-muted-foreground leading-snug",children:b.order_items.map(D=>`${D.name} x${D.quantity}`).join("  ")})]},b.id)})})})})]})]}),m.jsx(Wx,{})]})};var S9=[" ","Enter","ArrowUp","ArrowDown"],A9=[" ","Enter"],Ha="Select",[C0,S0,T9]=Hm(Ha),[kc,EF]=ps(Ha,[T9,i0]),A0=i0(),[N9,Ko]=kc(Ha),[I9,R9]=kc(Ha),U3=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:l,defaultValue:u,onValueChange:f,dir:h,name:x,autoComplete:w,disabled:v,required:E,form:S}=t,b=A0(e),[N,R]=I.useState(null),[T,A]=I.useState(null),[M,D]=I.useState(!1),F=wd(h),[L,U]=Po({prop:n,defaultProp:s??!1,onChange:o,caller:Ha}),[B,K]=Po({prop:l,defaultProp:u,onChange:f,caller:Ha}),ee=I.useRef(null),Q=N?S||!!N.closest("form"):!0,[se,G]=I.useState(new Set),H=Array.from(se).map(ne=>ne.props.value).join(";");return m.jsx(O6,{...b,children:m.jsxs(N9,{required:E,scope:e,trigger:N,onTriggerChange:R,valueNode:T,onValueNodeChange:A,valueNodeHasChildren:M,onValueNodeHasChildrenChange:D,contentId:No(),value:B,onValueChange:K,open:L,onOpenChange:U,dir:F,triggerPointerDownPosRef:ee,disabled:v,children:[m.jsx(C0.Provider,{scope:e,children:m.jsx(I9,{scope:t.__scopeSelect,onNativeOptionAdd:I.useCallback(ne=>{G(X=>new Set(X).add(ne))},[]),onNativeOptionRemove:I.useCallback(ne=>{G(X=>{const Y=new Set(X);return Y.delete(ne),Y})},[]),children:r})}),Q?m.jsxs(uN,{"aria-hidden":!0,required:E,tabIndex:-1,name:x,autoComplete:w,value:B,onChange:ne=>K(ne.target.value),disabled:v,form:S,children:[B===void 0?m.jsx("option",{value:""}):null,Array.from(se)]},H):null]})})};U3.displayName=Ha;var z3="SelectTrigger",V3=I.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=A0(r),l=Ko(z3,r),u=l.disabled||n,f=st(e,l.onTriggerChange),h=S0(r),x=I.useRef("touch"),[w,v,E]=hN(b=>{const N=h().filter(A=>!A.disabled),R=N.find(A=>A.value===l.value),T=fN(N,b,R);T!==void 0&&l.onValueChange(T.value)}),S=b=>{u||(l.onOpenChange(!0),E()),b&&(l.triggerPointerDownPosRef.current={x:Math.round(b.pageX),y:Math.round(b.pageY)})};return m.jsx(vC,{asChild:!0,...o,children:m.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":dN(l.value)?"":void 0,...s,ref:f,onClick:Ie(s.onClick,b=>{b.currentTarget.focus(),x.current!=="mouse"&&S(b)}),onPointerDown:Ie(s.onPointerDown,b=>{x.current=b.pointerType;const N=b.target;N.hasPointerCapture(b.pointerId)&&N.releasePointerCapture(b.pointerId),b.button===0&&b.ctrlKey===!1&&b.pointerType==="mouse"&&(S(b),b.preventDefault())}),onKeyDown:Ie(s.onKeyDown,b=>{const N=w.current!=="";!(b.ctrlKey||b.altKey||b.metaKey)&&b.key.length===1&&v(b.key),!(N&&b.key===" ")&&S9.includes(b.key)&&(S(),b.preventDefault())})})})});V3.displayName=z3;var H3="SelectValue",W3=I.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:l="",...u}=t,f=Ko(H3,r),{onValueNodeHasChildrenChange:h}=f,x=o!==void 0,w=st(e,f.onValueNodeChange);return kr(()=>{h(x)},[h,x]),m.jsx(Fe.span,{...u,ref:w,style:{pointerEvents:"none"},children:dN(f.value)?m.jsx(m.Fragment,{children:l}):o})});W3.displayName=H3;var O9="SelectIcon",$3=I.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return m.jsx(Fe.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});$3.displayName=O9;var M9="SelectPortal",G3=t=>m.jsx(Qf,{asChild:!0,...t});G3.displayName=M9;var Wa="SelectContent",Y3=I.forwardRef((t,e)=>{const r=Ko(Wa,t.__scopeSelect),[n,s]=I.useState();if(kr(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ya.createPortal(m.jsx(X3,{scope:t.__scopeSelect,children:m.jsx(C0.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),o):null}return m.jsx(q3,{...t,ref:e})});Y3.displayName=Wa;var Ss=10,[X3,Qo]=kc(Wa),k9="SelectContentImpl",P9=uc("SelectContent.RemoveScroll"),q3=I.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:f,align:h,alignOffset:x,arrowPadding:w,collisionBoundary:v,collisionPadding:E,sticky:S,hideWhenDetached:b,avoidCollisions:N,...R}=t,T=Ko(Wa,r),[A,M]=I.useState(null),[D,F]=I.useState(null),L=st(e,_e=>M(_e)),[U,B]=I.useState(null),[K,ee]=I.useState(null),Q=S0(r),[se,G]=I.useState(!1),H=I.useRef(!1);I.useEffect(()=>{if(A)return IT(A)},[A]),_T();const ne=I.useCallback(_e=>{const[ke,...dt]=Q().map(Je=>Je.ref.current),[Xe]=dt.slice(-1),Le=document.activeElement;for(const Je of _e)if(Je===Le||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===ke&&D&&(D.scrollTop=0),Je===Xe&&D&&(D.scrollTop=D.scrollHeight),Je==null||Je.focus(),document.activeElement!==Le))return},[Q,D]),X=I.useCallback(()=>ne([U,A]),[ne,U,A]);I.useEffect(()=>{se&&X()},[se,X]);const{onOpenChange:Y,triggerPointerDownPosRef:J}=T;I.useEffect(()=>{if(A){let _e={x:0,y:0};const ke=Xe=>{var Le,Je;_e={x:Math.abs(Math.round(Xe.pageX)-(((Le=J.current)==null?void 0:Le.x)??0)),y:Math.abs(Math.round(Xe.pageY)-(((Je=J.current)==null?void 0:Je.y)??0))}},dt=Xe=>{_e.x<=10&&_e.y<=10?Xe.preventDefault():A.contains(Xe.target)||Y(!1),document.removeEventListener("pointermove",ke),J.current=null};return J.current!==null&&(document.addEventListener("pointermove",ke),document.addEventListener("pointerup",dt,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ke),document.removeEventListener("pointerup",dt,{capture:!0})}}},[A,Y,J]),I.useEffect(()=>{const _e=()=>Y(!1);return window.addEventListener("blur",_e),window.addEventListener("resize",_e),()=>{window.removeEventListener("blur",_e),window.removeEventListener("resize",_e)}},[Y]);const[oe,Ee]=hN(_e=>{const ke=Q().filter(Le=>!Le.disabled),dt=ke.find(Le=>Le.ref.current===document.activeElement),Xe=fN(ke,_e,dt);Xe&&setTimeout(()=>Xe.ref.current.focus())}),de=I.useCallback((_e,ke,dt)=>{const Xe=!H.current&&!dt;(T.value!==void 0&&T.value===ke||Xe)&&(B(_e),Xe&&(H.current=!0))},[T.value]),ae=I.useCallback(()=>A==null?void 0:A.focus(),[A]),fe=I.useCallback((_e,ke,dt)=>{const Xe=!H.current&&!dt;(T.value!==void 0&&T.value===ke||Xe)&&ee(_e)},[T.value]),ze=n==="popper"?Fg:K3,ve=ze===Fg?{side:u,sideOffset:f,align:h,alignOffset:x,arrowPadding:w,collisionBoundary:v,collisionPadding:E,sticky:S,hideWhenDetached:b,avoidCollisions:N}:{};return m.jsx(X3,{scope:r,content:A,viewport:D,onViewportChange:F,itemRefCallback:de,selectedItem:U,onItemLeave:ae,itemTextRefCallback:fe,focusSelectedItem:X,selectedItemText:K,position:n,isPositioned:se,searchRef:oe,children:m.jsx(Gx,{as:P9,allowPinchZoom:!0,children:m.jsx($x,{asChild:!0,trapped:T.open,onMountAutoFocus:_e=>{_e.preventDefault()},onUnmountAutoFocus:Ie(s,_e=>{var ke;(ke=T.trigger)==null||ke.focus({preventScroll:!0}),_e.preventDefault()}),children:m.jsx(hd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:_e=>_e.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:m.jsx(ze,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:_e=>_e.preventDefault(),...R,...ve,onPlaced:()=>G(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ie(R.onKeyDown,_e=>{const ke=_e.ctrlKey||_e.altKey||_e.metaKey;if(_e.key==="Tab"&&_e.preventDefault(),!ke&&_e.key.length===1&&Ee(_e.key),["ArrowUp","ArrowDown","Home","End"].includes(_e.key)){let Xe=Q().filter(Le=>!Le.disabled).map(Le=>Le.ref.current);if(["ArrowUp","End"].includes(_e.key)&&(Xe=Xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(_e.key)){const Le=_e.target,Je=Xe.indexOf(Le);Xe=Xe.slice(Je+1)}setTimeout(()=>ne(Xe)),_e.preventDefault()}})})})})})})});q3.displayName=k9;var D9="SelectItemAlignedPosition",K3=I.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=Ko(Wa,r),l=Qo(Wa,r),[u,f]=I.useState(null),[h,x]=I.useState(null),w=st(e,L=>x(L)),v=S0(r),E=I.useRef(!1),S=I.useRef(!0),{viewport:b,selectedItem:N,selectedItemText:R,focusSelectedItem:T}=l,A=I.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&h&&b&&N&&R){const L=o.trigger.getBoundingClientRect(),U=h.getBoundingClientRect(),B=o.valueNode.getBoundingClientRect(),K=R.getBoundingClientRect();if(o.dir!=="rtl"){const Le=K.left-U.left,Je=B.left-Le,Ue=L.left-Je,cr=L.width+Ue,yr=Math.max(cr,U.width),Tr=window.innerWidth-Ss,ce=Bg(Je,[Ss,Math.max(Ss,Tr-yr)]);u.style.minWidth=cr+"px",u.style.left=ce+"px"}else{const Le=U.right-K.right,Je=window.innerWidth-B.right-Le,Ue=window.innerWidth-L.right-Je,cr=L.width+Ue,yr=Math.max(cr,U.width),Tr=window.innerWidth-Ss,ce=Bg(Je,[Ss,Math.max(Ss,Tr-yr)]);u.style.minWidth=cr+"px",u.style.right=ce+"px"}const ee=v(),Q=window.innerHeight-Ss*2,se=b.scrollHeight,G=window.getComputedStyle(h),H=parseInt(G.borderTopWidth,10),ne=parseInt(G.paddingTop,10),X=parseInt(G.borderBottomWidth,10),Y=parseInt(G.paddingBottom,10),J=H+ne+se+Y+X,oe=Math.min(N.offsetHeight*5,J),Ee=window.getComputedStyle(b),de=parseInt(Ee.paddingTop,10),ae=parseInt(Ee.paddingBottom,10),fe=L.top+L.height/2-Ss,ze=Q-fe,ve=N.offsetHeight/2,_e=N.offsetTop+ve,ke=H+ne+_e,dt=J-ke;if(ke<=fe){const Le=ee.length>0&&N===ee[ee.length-1].ref.current;u.style.bottom="0px";const Je=h.clientHeight-b.offsetTop-b.offsetHeight,Ue=Math.max(ze,ve+(Le?ae:0)+Je+X),cr=ke+Ue;u.style.height=cr+"px"}else{const Le=ee.length>0&&N===ee[0].ref.current;u.style.top="0px";const Ue=Math.max(fe,H+b.offsetTop+(Le?de:0)+ve)+dt;u.style.height=Ue+"px",b.scrollTop=ke-fe+b.offsetTop}u.style.margin=`${Ss}px 0`,u.style.minHeight=oe+"px",u.style.maxHeight=Q+"px",n==null||n(),requestAnimationFrame(()=>E.current=!0)}},[v,o.trigger,o.valueNode,u,h,b,N,R,o.dir,n]);kr(()=>A(),[A]);const[M,D]=I.useState();kr(()=>{h&&D(window.getComputedStyle(h).zIndex)},[h]);const F=I.useCallback(L=>{L&&S.current===!0&&(A(),T==null||T(),S.current=!1)},[A,T]);return m.jsx(L9,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:E,onScrollButtonChange:F,children:m.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:m.jsx(Fe.div,{...s,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});K3.displayName=D9;var j9="SelectPopperPosition",Fg=I.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=Ss,...o}=t,l=A0(r);return m.jsx(_C,{...l,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Fg.displayName=j9;var[L9,ny]=kc(Wa,{}),Ug="SelectViewport",Q3=I.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=Qo(Ug,r),l=ny(Ug,r),u=st(e,o.onViewportChange),f=I.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),m.jsx(C0.Slot,{scope:r,children:m.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Ie(s.onScroll,h=>{const x=h.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:v}=l;if(v!=null&&v.current&&w){const E=Math.abs(f.current-x.scrollTop);if(E>0){const S=window.innerHeight-Ss*2,b=parseFloat(w.style.minHeight),N=parseFloat(w.style.height),R=Math.max(b,N);if(R<S){const T=R+E,A=Math.min(S,T),M=T-A;w.style.height=A+"px",w.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,w.style.justifyContent="flex-end")}}}f.current=x.scrollTop})})})]})});Q3.displayName=Ug;var Z3="SelectGroup",[B9,F9]=kc(Z3),U9=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=No();return m.jsx(B9,{scope:r,id:s,children:m.jsx(Fe.div,{role:"group","aria-labelledby":s,...n,ref:e})})});U9.displayName=Z3;var J3="SelectLabel",eN=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=F9(J3,r);return m.jsx(Fe.div,{id:s.id,...n,ref:e})});eN.displayName=J3;var Mf="SelectItem",[z9,tN]=kc(Mf),rN=I.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...l}=t,u=Ko(Mf,r),f=Qo(Mf,r),h=u.value===n,[x,w]=I.useState(o??""),[v,E]=I.useState(!1),S=st(e,T=>{var A;return(A=f.itemRefCallback)==null?void 0:A.call(f,T,n,s)}),b=No(),N=I.useRef("touch"),R=()=>{s||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(z9,{scope:r,value:n,disabled:s,textId:b,isSelected:h,onItemTextChange:I.useCallback(T=>{w(A=>A||((T==null?void 0:T.textContent)??"").trim())},[]),children:m.jsx(C0.ItemSlot,{scope:r,value:n,disabled:s,textValue:x,children:m.jsx(Fe.div,{role:"option","aria-labelledby":b,"data-highlighted":v?"":void 0,"aria-selected":h&&v,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:S,onFocus:Ie(l.onFocus,()=>E(!0)),onBlur:Ie(l.onBlur,()=>E(!1)),onClick:Ie(l.onClick,()=>{N.current!=="mouse"&&R()}),onPointerUp:Ie(l.onPointerUp,()=>{N.current==="mouse"&&R()}),onPointerDown:Ie(l.onPointerDown,T=>{N.current=T.pointerType}),onPointerMove:Ie(l.onPointerMove,T=>{var A;N.current=T.pointerType,s?(A=f.onItemLeave)==null||A.call(f):N.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ie(l.onPointerLeave,T=>{var A;T.currentTarget===document.activeElement&&((A=f.onItemLeave)==null||A.call(f))}),onKeyDown:Ie(l.onKeyDown,T=>{var M;((M=f.searchRef)==null?void 0:M.current)!==""&&T.key===" "||(A9.includes(T.key)&&R(),T.key===" "&&T.preventDefault())})})})})});rN.displayName=Mf;var cu="SelectItemText",nN=I.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,l=Ko(cu,r),u=Qo(cu,r),f=tN(cu,r),h=R9(cu,r),[x,w]=I.useState(null),v=st(e,R=>w(R),f.onItemTextChange,R=>{var T;return(T=u.itemTextRefCallback)==null?void 0:T.call(u,R,f.value,f.disabled)}),E=x==null?void 0:x.textContent,S=I.useMemo(()=>m.jsx("option",{value:f.value,disabled:f.disabled,children:E},f.value),[f.disabled,f.value,E]),{onNativeOptionAdd:b,onNativeOptionRemove:N}=h;return kr(()=>(b(S),()=>N(S)),[b,N,S]),m.jsxs(m.Fragment,{children:[m.jsx(Fe.span,{id:f.textId,...o,ref:v}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ya.createPortal(o.children,l.valueNode):null]})});nN.displayName=cu;var sN="SelectItemIndicator",iN=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return tN(sN,r).isSelected?m.jsx(Fe.span,{"aria-hidden":!0,...n,ref:e}):null});iN.displayName=sN;var zg="SelectScrollUpButton",oN=I.forwardRef((t,e)=>{const r=Qo(zg,t.__scopeSelect),n=ny(zg,t.__scopeSelect),[s,o]=I.useState(!1),l=st(e,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollTop>0;o(h)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?m.jsx(lN,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop-f.offsetHeight)}}):null});oN.displayName=zg;var Vg="SelectScrollDownButton",aN=I.forwardRef((t,e)=>{const r=Qo(Vg,t.__scopeSelect),n=ny(Vg,t.__scopeSelect),[s,o]=I.useState(!1),l=st(e,n.onScrollButtonChange);return kr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=f.scrollHeight-f.clientHeight,x=Math.ceil(f.scrollTop)<h;o(x)};const f=r.viewport;return u(),f.addEventListener("scroll",u),()=>f.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?m.jsx(lN,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:f}=r;u&&f&&(u.scrollTop=u.scrollTop+f.offsetHeight)}}):null});aN.displayName=Vg;var lN=I.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=Qo("SelectScrollButton",r),l=I.useRef(null),u=S0(r),f=I.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return I.useEffect(()=>()=>f(),[f]),kr(()=>{var x;const h=u().find(w=>w.ref.current===document.activeElement);(x=h==null?void 0:h.ref.current)==null||x.scrollIntoView({block:"nearest"})},[u]),m.jsx(Fe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Ie(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Ie(s.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Ie(s.onPointerLeave,()=>{f()})})}),V9="SelectSeparator",cN=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return m.jsx(Fe.div,{"aria-hidden":!0,...n,ref:e})});cN.displayName=V9;var Hg="SelectArrow",H9=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=A0(r),o=Ko(Hg,r),l=Qo(Hg,r);return o.open&&l.position==="popper"?m.jsx(bC,{...s,...n,ref:e}):null});H9.displayName=Hg;var W9="SelectBubbleInput",uN=I.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=I.useRef(null),o=st(n,s),l=Kx(e);return I.useEffect(()=>{const u=s.current;if(!u)return;const f=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&x){const w=new Event("change",{bubbles:!0});x.call(u,e),u.dispatchEvent(w)}},[l,e]),m.jsx(Fe.select,{...r,style:{...dE,...r.style},ref:o,defaultValue:e})});uN.displayName=W9;function dN(t){return t===""||t===void 0}function hN(t){const e=Sr(t),r=I.useRef(""),n=I.useRef(0),s=I.useCallback(l=>{const u=r.current+l;e(u),function f(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>f(""),1e3))}(u)},[e]),o=I.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function fN(t,e,r){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let l=$9(t,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==r));const f=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==r?f:void 0}function $9(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var G9=U3,pN=V3,Y9=W3,X9=$3,q9=G3,gN=Y3,K9=Q3,mN=eN,xN=rN,Q9=nN,Z9=iN,yN=oN,wN=aN,vN=cN;const Ds=G9,js=Y9,is=I.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(pN,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,m.jsx(X9,{asChild:!0,children:m.jsx(PE,{className:"h-4 w-4 opacity-50"})})]}));is.displayName=pN.displayName;const _N=I.forwardRef(({className:t,...e},r)=>m.jsx(yN,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(FO,{className:"h-4 w-4"})}));_N.displayName=yN.displayName;const bN=I.forwardRef(({className:t,...e},r)=>m.jsx(wN,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(PE,{className:"h-4 w-4"})}));bN.displayName=wN.displayName;const os=I.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>m.jsx(q9,{children:m.jsxs(gN,{ref:s,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[m.jsx(_N,{}),m.jsx(K9,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(bN,{})]})}));os.displayName=gN.displayName;const J9=I.forwardRef(({className:t,...e},r)=>m.jsx(mN,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));J9.displayName=mN.displayName;const wt=I.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(xN,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(Z9,{children:m.jsx(LO,{className:"h-4 w-4"})})}),m.jsx(Q9,{children:e})]}));wt.displayName=xN.displayName;const eB=I.forwardRef(({className:t,...e},r)=>m.jsx(vN,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));eB.displayName=vN.displayName;const tB=()=>{const{user:t}=ms(),[e,r]=I.useState([]),[n,s]=I.useState(!0);I.useEffect(()=>{t&&o()},[t]);const o=async()=>{try{const{data:h,error:x}=await Ce.from("restaurants").select("id").eq("owner_id",t==null?void 0:t.id).single();if(x)throw x;const{data:w,error:v}=await Ce.from("orders").select("*").eq("restaurant_id",h.id).order("created_at",{ascending:!1});if(v)throw v;const E=[...new Set((w||[]).map(R=>R.customer_id))],{data:S,error:b}=await Ce.rpc("get_order_customers",{customer_ids:E});b&&console.error("Failed to load customer details:",b);const N=(w||[]).map(R=>{const T=S==null?void 0:S.find(A=>A.user_id===R.customer_id);return{...R,customer_name:(T==null?void 0:T.full_name)||"Customer",customer_phone:(T==null?void 0:T.phone)||null}});r(N)}catch(h){console.error("Error fetching orders:",h),we.error("Failed to load orders")}finally{s(!1)}},l=async(h,x)=>{try{const{error:w}=await Ce.from("orders").update({status:x}).eq("id",h);if(w)throw w;r(e.map(v=>v.id===h?{...v,status:x}:v)),we.success("Order status updated")}catch(w){console.error("Error updating order:",w),we.error("Failed to update order status")}},u=h=>{const x={paid:{label:"Paid",className:"bg-purple-500/20 text-purple-700 dark:text-purple-400"},preparing:{label:"Preparing",className:"bg-blue-500/20 text-blue-700 dark:text-blue-400"},ready:{label:"Ready",className:"bg-green-500/20 text-green-700 dark:text-green-400"},completed:{label:"Completed",className:"bg-gray-500/20 text-gray-700 dark:text-gray-400"},cancelled:{label:"Cancelled",className:"bg-red-500/20 text-red-700 dark:text-red-400"},served:{label:"Served",className:"bg-emerald-500/20 text-emerald-700 dark:text-emerald-400"}};return x[h]||x.paid},f=h=>{const x=new Date(h),v=Math.floor((new Date().getTime()-x.getTime())/6e4);return v<60?`${v} mins ago`:v<1440?`${Math.floor(v/60)} hours ago`:`${Math.floor(v/1440)} days ago`};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Orders"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage incoming orders and update their status"})]}),n?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ac,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?m.jsx($e,{children:m.jsx(bt,{className:"py-12 text-center text-muted-foreground",children:"No orders yet"})}):m.jsx("div",{className:"grid gap-4",children:e.map(h=>m.jsxs($e,{className:"border-border/50 luxury-shadow",children:[m.jsx(or,{children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs(ar,{className:"text-lg",children:["Order #",h.id.substring(0,8)]}),m.jsx(Ui,{className:u(h.status).className,children:u(h.status).label})]})}),m.jsxs(bt,{className:"space-y-4",children:[m.jsx("div",{className:"flex items-start justify-between",children:m.jsxs("div",{className:"space-y-2 flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[m.jsx(go,{className:"h-4 w-4"}),m.jsxs("div",{children:[m.jsx("div",{children:h.customer_name}),h.customer_phone&&m.jsx("div",{className:"text-sm",children:h.customer_phone})]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[h.order_type==="dine_in"?m.jsx(qm,{className:"h-4 w-4"}):m.jsx(cf,{className:"h-4 w-4"}),m.jsx("span",{children:h.order_type==="dine_in"?"Dine In":"Takeaway"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[m.jsx(Ym,{className:"h-4 w-4"}),m.jsx("span",{children:f(h.created_at)})]})]})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-semibold",children:"Items:"}),m.jsx("ul",{className:"space-y-1",children:h.order_items.map((x,w)=>m.jsxs("li",{className:"text-sm text-muted-foreground",children:[x.quantity,"x ",x.name]},w))})]}),m.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[m.jsxs("span",{className:"font-semibold text-lg",children:["Total: ",h.total_amount.toLocaleString()," MMK"]}),m.jsxs(Ds,{value:h.status,onValueChange:x=>l(h.id,x),children:[m.jsx(is,{className:"w-40",children:m.jsx(js,{})}),m.jsxs(os,{children:[m.jsx(wt,{value:"paid",children:"Paid"}),m.jsx(wt,{value:"preparing",children:"Preparing"}),m.jsx(wt,{value:"ready",children:"Ready"}),m.jsx(wt,{value:"completed",children:"Completed"})]})]})]})]})]},h.id))})]})};var Ae;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ae||(Ae={}));var _2=new Map([[Ae.QR_CODE,"QR_CODE"],[Ae.AZTEC,"AZTEC"],[Ae.CODABAR,"CODABAR"],[Ae.CODE_39,"CODE_39"],[Ae.CODE_93,"CODE_93"],[Ae.CODE_128,"CODE_128"],[Ae.DATA_MATRIX,"DATA_MATRIX"],[Ae.MAXICODE,"MAXICODE"],[Ae.ITF,"ITF"],[Ae.EAN_13,"EAN_13"],[Ae.EAN_8,"EAN_8"],[Ae.PDF_417,"PDF_417"],[Ae.RSS_14,"RSS_14"],[Ae.RSS_EXPANDED,"RSS_EXPANDED"],[Ae.UPC_A,"UPC_A"],[Ae.UPC_E,"UPC_E"],[Ae.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),b2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(b2||(b2={}));function rB(t){return Object.values(Ae).includes(t)}var Fs;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Fs||(Fs={}));var ks=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Fs.SCAN_TYPE_CAMERA,Fs.SCAN_TYPE_FILE],t}(),EN=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!_2.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,_2.get(e))},t}(),E2=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),Wg;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Wg||(Wg={}));var CN=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:Wg.UNKWOWN_ERROR}},t}(),SN=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function Zs(t){return typeof t>"u"||t===null}function nB(t,e,r){return t>r?r:t<e?e:t}var Dl=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),_t=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),C2=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),AN=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),l=Object.keys(e),u=0,f=l;u<f.length;u++){var h=f[u];if(o.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t}(),$g={exports:{}};(function(t,e){(function(r,n){n(e)})(Hc,function(r){function n(k){return k==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,i){k.__proto__=i}||function(k,i){for(var a in i)i.hasOwnProperty(a)&&(k[a]=i[a])};function o(k,i){s(k,i);function a(){this.constructor=k}k.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function l(k,i){var a=Object.setPrototypeOf;a?a(k,i):k.__proto__=i}function u(k,i){i===void 0&&(i=k.constructor);var a=Error.captureStackTrace;a&&a(k,i)}var f=function(k){o(i,k);function i(a){var c=this.constructor,d=k.call(this,a)||this;return Object.defineProperty(d,"name",{value:c.name,enumerable:!1}),l(d,c.prototype),u(d),d}return i}(Error);class h extends f{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}h.kind="Exception";class x extends h{}x.kind="ArgumentException";class w extends h{}w.kind="IllegalArgumentException";class v{constructor(i){if(this.binarizer=i,i===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,c,d){const p=this.binarizer.getLuminanceSource().crop(i,a,c,d);return new v(this.binarizer.createBinarizer(p))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new v(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new v(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class E extends h{static getChecksumInstance(){return new E}}E.kind="ChecksumException";class S{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class b{static arraycopy(i,a,c,d,p){for(;p--;)c[d++]=i[a++]}static currentTimeMillis(){return Date.now()}}class N extends h{}N.kind="IndexOutOfBoundsException";class R extends N{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}R.kind="ArrayIndexOutOfBoundsException";class T{static fill(i,a){for(let c=0,d=i.length;c<d;c++)i[c]=a}static fillWithin(i,a,c,d){T.rangeCheck(i.length,a,c);for(let p=a;p<c;p++)i[p]=d}static rangeCheck(i,a,c){if(a>c)throw new w("fromIndex("+a+") > toIndex("+c+")");if(a<0)throw new R(a);if(c>i)throw new R(c)}static asList(...i){return i}static create(i,a,c){return Array.from({length:i}).map(p=>Array.from({length:a}).fill(c))}static createInt32Array(i,a,c){return Array.from({length:i}).map(p=>Int32Array.from({length:a}).fill(c))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let c=0,d=i.length;c<d;c++)if(i[c]!==a[c])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const c of i)a=31*a+c;return a}static fillUint8Array(i,a){for(let c=0;c!==i.length;c++)i[c]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const c=new Uint8Array(a);return c.set(i),c}return i.slice(0,a)}static copyOfRange(i,a,c){const d=c-a,p=new Int32Array(d);return b.arraycopy(i,a,p,0,d),p}static binarySearch(i,a,c){c===void 0&&(c=T.numberComparator);let d=0,p=i.length-1;for(;d<=p;){const g=p+d>>1,y=c(a,i[g]);if(y>0)d=g+1;else if(y<0)p=g-1;else return g}return-d-1}static numberComparator(i,a){return i-a}}class A{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let c=31;return a=i<<16,a!==0&&(c-=16,i=a),a=i<<8,a!==0&&(c-=8,i=a),a=i<<4,a!==0&&(c-=4,i=a),a=i<<2,a!==0&&(c-=2,i=a),c-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}A.MIN_VALUE_32_BITS=-2147483648,A.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=M.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=M.makeArray(i);b.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const c=this.bits;let d=Math.floor(i/32),p=c[d];p&=~((1<<(i&31))-1);const g=c.length;for(;p===0;){if(++d===g)return a;p=c[d]}const y=d*32+A.numberOfTrailingZeros(p);return y>a?a:y}getNextUnset(i){const a=this.size;if(i>=a)return a;const c=this.bits;let d=Math.floor(i/32),p=~c[d];p&=~((1<<(i&31))-1);const g=c.length;for(;p===0;){if(++d===g)return a;p=~c[d]}const y=d*32+A.numberOfTrailingZeros(p);return y>a?a:y}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new w;if(a===i)return;a--;const c=Math.floor(i/32),d=Math.floor(a/32),p=this.bits;for(let g=c;g<=d;g++){const y=g>c?0:i&31,C=(2<<(g<d?31:a&31))-(1<<y);p[g]|=C}}clear(){const i=this.bits.length,a=this.bits;for(let c=0;c<i;c++)a[c]=0}isRange(i,a,c){if(a<i||i<0||a>this.size)throw new w;if(a===i)return!0;a--;const d=Math.floor(i/32),p=Math.floor(a/32),g=this.bits;for(let y=d;y<=p;y++){const _=y>d?0:i&31,O=(2<<(y<p?31:a&31))-(1<<_)&4294967295;if((g[y]&O)!==(c?O:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let c=a;c>0;c--)this.appendBit((i>>c-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let c=0;c<a;c++)this.appendBit(i.get(c))}xor(i){if(this.size!==i.size)throw new w("Sizes don't match");const a=this.bits;for(let c=0,d=a.length;c<d;c++)a[c]^=i.bits[c]}toBytes(i,a,c,d){for(let p=0;p<d;p++){let g=0;for(let y=0;y<8;y++)this.get(i)&&(g|=1<<7-y),i++;a[c+p]=g}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),c=a+1,d=this.bits;for(let p=0;p<c;p++){let g=d[p];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,i[a-p]=g}if(this.size!==c*32){const p=c*32-this.size;let g=i[0]>>>p;for(let y=1;y<c;y++){const _=i[y];g|=_<<32-p,i[y-1]=g,g=_>>>p}i[c-1]=g}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof M))return!1;const a=i;return this.size===a.size&&T.equals(this.bits,a.bits)}hashCode(){return 31*this.size+T.hashCode(this.bits)}toString(){let i="";for(let a=0,c=this.size;a<c;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new M(this.size,this.bits.slice())}}var D;(function(k){k[k.OTHER=0]="OTHER",k[k.PURE_BARCODE=1]="PURE_BARCODE",k[k.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",k[k.TRY_HARDER=3]="TRY_HARDER",k[k.CHARACTER_SET=4]="CHARACTER_SET",k[k.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",k[k.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",k[k.ASSUME_GS1=7]="ASSUME_GS1",k[k.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",k[k.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",k[k.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(D||(D={}));var F=D;class L extends h{static getFormatInstance(){return new L}}L.kind="FormatException";var U;(function(k){k[k.Cp437=0]="Cp437",k[k.ISO8859_1=1]="ISO8859_1",k[k.ISO8859_2=2]="ISO8859_2",k[k.ISO8859_3=3]="ISO8859_3",k[k.ISO8859_4=4]="ISO8859_4",k[k.ISO8859_5=5]="ISO8859_5",k[k.ISO8859_6=6]="ISO8859_6",k[k.ISO8859_7=7]="ISO8859_7",k[k.ISO8859_8=8]="ISO8859_8",k[k.ISO8859_9=9]="ISO8859_9",k[k.ISO8859_10=10]="ISO8859_10",k[k.ISO8859_11=11]="ISO8859_11",k[k.ISO8859_13=12]="ISO8859_13",k[k.ISO8859_14=13]="ISO8859_14",k[k.ISO8859_15=14]="ISO8859_15",k[k.ISO8859_16=15]="ISO8859_16",k[k.SJIS=16]="SJIS",k[k.Cp1250=17]="Cp1250",k[k.Cp1251=18]="Cp1251",k[k.Cp1252=19]="Cp1252",k[k.Cp1256=20]="Cp1256",k[k.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",k[k.UTF8=22]="UTF8",k[k.ASCII=23]="ASCII",k[k.Big5=24]="Big5",k[k.GB18030=25]="GB18030",k[k.EUC_KR=26]="EUC_KR"})(U||(U={}));class B{constructor(i,a,c,...d){this.valueIdentifier=i,this.name=c,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=d,B.VALUE_IDENTIFIER_TO_ECI.set(i,this),B.NAME_TO_ECI.set(c,this);const p=this.values;for(let g=0,y=p.length;g!==y;g++){const _=p[g];B.VALUES_TO_ECI.set(_,this)}for(const g of d)B.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new L("incorect value");const a=B.VALUES_TO_ECI.get(i);if(a===void 0)throw new L("incorect value");return a}static getCharacterSetECIByName(i){const a=B.NAME_TO_ECI.get(i);if(a===void 0)throw new L("incorect value");return a}equals(i){if(!(i instanceof B))return!1;const a=i;return this.getName()===a.getName()}}B.VALUE_IDENTIFIER_TO_ECI=new Map,B.VALUES_TO_ECI=new Map,B.NAME_TO_ECI=new Map,B.Cp437=new B(U.Cp437,Int32Array.from([0,2]),"Cp437"),B.ISO8859_1=new B(U.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),B.ISO8859_2=new B(U.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),B.ISO8859_3=new B(U.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),B.ISO8859_4=new B(U.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),B.ISO8859_5=new B(U.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),B.ISO8859_6=new B(U.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),B.ISO8859_7=new B(U.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),B.ISO8859_8=new B(U.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),B.ISO8859_9=new B(U.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),B.ISO8859_10=new B(U.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),B.ISO8859_11=new B(U.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),B.ISO8859_13=new B(U.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),B.ISO8859_14=new B(U.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),B.ISO8859_15=new B(U.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),B.ISO8859_16=new B(U.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),B.SJIS=new B(U.SJIS,20,"SJIS","Shift_JIS"),B.Cp1250=new B(U.Cp1250,21,"Cp1250","windows-1250"),B.Cp1251=new B(U.Cp1251,22,"Cp1251","windows-1251"),B.Cp1252=new B(U.Cp1252,23,"Cp1252","windows-1252"),B.Cp1256=new B(U.Cp1256,24,"Cp1256","windows-1256"),B.UnicodeBigUnmarked=new B(U.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),B.UTF8=new B(U.UTF8,26,"UTF8","UTF-8"),B.ASCII=new B(U.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),B.Big5=new B(U.Big5,28,"Big5"),B.GB18030=new B(U.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),B.EUC_KR=new B(U.EUC_KR,30,"EUC_KR","EUC-KR");class K extends h{}K.kind="UnsupportedOperationException";class ee{static decode(i,a){const c=this.encodingName(a);return this.customDecoder?this.customDecoder(i,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(i,c):new TextDecoder(c).decode(i)}static shouldDecodeOnFallback(i){return!ee.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const c=this.encodingName(a);return this.customEncoder?this.customEncoder(i,c):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof B?i:B.getCharacterSetECIByName(i)}static decodeFallback(i,a){const c=this.encodingCharacterSet(a);if(ee.isDecodeFallbackSupported(c)){let d="";for(let p=0,g=i.length;p<g;p++){let y=i[p].toString(16);y.length<2&&(y="0"+y),d+="%"+y}return decodeURIComponent(d)}if(c.equals(B.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new K(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(B.UTF8)||i.equals(B.ISO8859_1)||i.equals(B.ASCII)}static encodeFallback(i){const c=btoa(unescape(encodeURIComponent(i))).split(""),d=[];for(let p=0;p<c.length;p++)d.push(c[p].charCodeAt(0));return new Uint8Array(d)}}class Q{static castAsNonUtf8Char(i,a=null){const c=a?a.getName():this.ISO88591;return ee.decode(new Uint8Array([i]),c)}static guessEncoding(i,a){if(a!=null&&a.get(F.CHARACTER_SET)!==void 0)return a.get(F.CHARACTER_SET).toString();const c=i.length;let d=!0,p=!0,g=!0,y=0,_=0,C=0,O=0,P=0,j=0,V=0,W=0,$=0,q=0,re=0;const ge=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let me=0;me<c&&(d||p||g);me++){const he=i[me]&255;g&&(y>0?he&128?y--:g=!1:he&128&&(he&64?(y++,he&32?(y++,he&16?(y++,he&8?g=!1:O++):C++):_++):g=!1)),d&&(he>127&&he<160?d=!1:he>159&&(he<192||he===215||he===247)&&re++),p&&(P>0?he<64||he===127||he>252?p=!1:P--:he===128||he===160||he>239?p=!1:he>160&&he<224?(j++,W=0,V++,V>$&&($=V)):he>127?(P++,V=0,W++,W>q&&(q=W)):(V=0,W=0))}return g&&y>0&&(g=!1),p&&P>0&&(p=!1),g&&(ge||_+C+O>0)?Q.UTF8:p&&(Q.ASSUME_SHIFT_JIS||$>=3||q>=3)?Q.SHIFT_JIS:d&&p?$===2&&j===2||re*10>=c?Q.SHIFT_JIS:Q.ISO88591:d?Q.ISO88591:p?Q.SHIFT_JIS:g?Q.UTF8:Q.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let c=-1;function d(g,y,_,C,O,P){if(g==="%%")return"%";if(a[++c]===void 0)return;g=C?parseInt(C.substr(1)):void 0;let j=O?parseInt(O.substr(1)):void 0,V;switch(P){case"s":V=a[c];break;case"c":V=a[c][0];break;case"f":V=parseFloat(a[c]).toFixed(g);break;case"p":V=parseFloat(a[c]).toPrecision(g);break;case"e":V=parseFloat(a[c]).toExponential(g);break;case"x":V=parseInt(a[c]).toString(j||16);break;case"d":V=parseFloat(parseInt(a[c],j||10).toPrecision(g)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(j);let W=parseInt(_),$=_&&_[0]+""=="0"?"0":" ";for(;V.length<W;)V=y!==void 0?V+$:$+V;return V}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(p,d)}static getBytes(i,a){return ee.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}Q.SHIFT_JIS=B.SJIS.getName(),Q.GB2312="GB2312",Q.ISO88591=B.ISO8859_1.getName(),Q.EUC_JP="EUC_JP",Q.UTF8=B.UTF8.getName(),Q.PLATFORM_DEFAULT_ENCODING=Q.UTF8,Q.ASSUME_SHIFT_JIS=!1;class se{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=Q.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,c){for(let d=a;a<a+c;d++)this.append(i[d]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class G{constructor(i,a,c,d){if(this.width=i,this.height=a,this.rowSize=c,this.bits=d,a==null&&(a=i),this.height=a,i<1||a<1)throw new w("Both dimensions must be greater than 0");c==null&&(c=Math.floor((i+31)/32)),this.rowSize=c,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,c=i[0].length,d=new G(c,a);for(let p=0;p<a;p++){const g=i[p];for(let y=0;y<c;y++)g[y]&&d.set(y,p)}return d}static parseFromString(i,a,c){if(i===null)throw new w("stringRepresentation cannot be null");const d=new Array(i.length);let p=0,g=0,y=-1,_=0,C=0;for(;C<i.length;)if(i.charAt(C)===`
`||i.charAt(C)==="\r"){if(p>g){if(y===-1)y=p-g;else if(p-g!==y)throw new w("row lengths do not match");g=p,_++}C++}else if(i.substring(C,C+a.length)===a)C+=a.length,d[p]=!0,p++;else if(i.substring(C,C+c.length)===c)C+=c.length,d[p]=!1,p++;else throw new w("illegal character encountered: "+i.substring(C));if(p>g){if(y===-1)y=p-g;else if(p-g!==y)throw new w("row lengths do not match");_++}const O=new G(y,_);for(let P=0;P<p;P++)d[P]&&O.set(Math.floor(P%y),Math.floor(P/y));return O}get(i,a){const c=a*this.rowSize+Math.floor(i/32);return(this.bits[c]>>>(i&31)&1)!==0}set(i,a){const c=a*this.rowSize+Math.floor(i/32);this.bits[c]|=1<<(i&31)&4294967295}unset(i,a){const c=a*this.rowSize+Math.floor(i/32);this.bits[c]&=~(1<<(i&31)&4294967295)}flip(i,a){const c=a*this.rowSize+Math.floor(i/32);this.bits[c]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new w("input matrix dimensions do not match");const a=new M(Math.floor(this.width/32)+1),c=this.rowSize,d=this.bits;for(let p=0,g=this.height;p<g;p++){const y=p*c,_=i.getRow(p,a).getBitArray();for(let C=0;C<c;C++)d[y+C]^=_[C]}}clear(){const i=this.bits,a=i.length;for(let c=0;c<a;c++)i[c]=0}setRegion(i,a,c,d){if(a<0||i<0)throw new w("Left and top must be nonnegative");if(d<1||c<1)throw new w("Height and width must be at least 1");const p=i+c,g=a+d;if(g>this.height||p>this.width)throw new w("The region must fit inside the matrix");const y=this.rowSize,_=this.bits;for(let C=a;C<g;C++){const O=C*y;for(let P=i;P<p;P++)_[O+Math.floor(P/32)]|=1<<(P&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new M(this.width):a.clear();const c=this.rowSize,d=this.bits,p=i*c;for(let g=0;g<c;g++)a.setBulk(g*32,d[p+g]);return a}setRow(i,a){b.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let c=new M(i),d=new M(i);for(let p=0,g=Math.floor((a+1)/2);p<g;p++)c=this.getRow(p,c),d=this.getRow(a-1-p,d),c.reverse(),d.reverse(),this.setRow(p,d),this.setRow(a-1-p,c)}getEnclosingRectangle(){const i=this.width,a=this.height,c=this.rowSize,d=this.bits;let p=i,g=a,y=-1,_=-1;for(let C=0;C<a;C++)for(let O=0;O<c;O++){const P=d[C*c+O];if(P!==0){if(C<g&&(g=C),C>_&&(_=C),O*32<p){let j=0;for(;!(P<<31-j&4294967295);)j++;O*32+j<p&&(p=O*32+j)}if(O*32+31>y){let j=31;for(;!(P>>>j);)j--;O*32+j>y&&(y=O*32+j)}}}return y<p||_<g?null:Int32Array.from([p,g,y-p+1,_-g+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let c=0;for(;c<a.length&&a[c]===0;)c++;if(c===a.length)return null;const d=c/i;let p=c%i*32;const g=a[c];let y=0;for(;!(g<<31-y&4294967295);)y++;return p+=y,Int32Array.from([p,d])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let c=a.length-1;for(;c>=0&&a[c]===0;)c--;if(c<0)return null;const d=Math.floor(c/i);let p=Math.floor(c%i)*32;const g=a[c];let y=31;for(;!(g>>>y);)y--;return p+=y,Int32Array.from([p,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof G))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&T.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+T.hashCode(this.bits),i}toString(i="X ",a="  ",c=`
`){return this.buildToString(i,a,c)}buildToString(i,a,c){let d=new se;for(let p=0,g=this.height;p<g;p++){for(let y=0,_=this.width;y<_;y++)d.append(this.get(y,p)?i:a);d.append(c)}return d.toString()}clone(){return new G(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends h{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class ne extends S{constructor(i){super(i),this.luminances=ne.EMPTY,this.buckets=new Int32Array(ne.LUMINANCE_BUCKETS)}getBlackRow(i,a){const c=this.getLuminanceSource(),d=c.getWidth();a==null||a.getSize()<d?a=new M(d):a.clear(),this.initArrays(d);const p=c.getRow(i,this.luminances),g=this.buckets;for(let _=0;_<d;_++)g[(p[_]&255)>>ne.LUMINANCE_SHIFT]++;const y=ne.estimateBlackPoint(g);if(d<3)for(let _=0;_<d;_++)(p[_]&255)<y&&a.set(_);else{let _=p[0]&255,C=p[1]&255;for(let O=1;O<d-1;O++){const P=p[O+1]&255;(C*4-_-P)/2<y&&a.set(O),_=C,C=P}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),c=i.getHeight(),d=new G(a,c);this.initArrays(a);const p=this.buckets;for(let _=1;_<5;_++){const C=Math.floor(c*_/5),O=i.getRow(C,this.luminances),P=Math.floor(a*4/5);for(let j=Math.floor(a/5);j<P;j++){const V=O[j]&255;p[V>>ne.LUMINANCE_SHIFT]++}}const g=ne.estimateBlackPoint(p),y=i.getMatrix();for(let _=0;_<c;_++){const C=_*a;for(let O=0;O<a;O++)(y[C+O]&255)<g&&d.set(O,_)}return d}createBinarizer(i){return new ne(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let c=0;c<ne.LUMINANCE_BUCKETS;c++)a[c]=0}static estimateBlackPoint(i){const a=i.length;let c=0,d=0,p=0;for(let O=0;O<a;O++)i[O]>p&&(d=O,p=i[O]),i[O]>c&&(c=i[O]);let g=0,y=0;for(let O=0;O<a;O++){const P=O-d,j=i[O]*P*P;j>y&&(g=O,y=j)}if(d>g){const O=d;d=g,g=O}if(g-d<=a/16)throw new H;let _=g-1,C=-1;for(let O=g-1;O>d;O--){const P=O-d,j=P*P*(g-O)*(c-i[O]);j>C&&(_=O,C=j)}return _<<ne.LUMINANCE_SHIFT}}ne.LUMINANCE_BITS=5,ne.LUMINANCE_SHIFT=8-ne.LUMINANCE_BITS,ne.LUMINANCE_BUCKETS=1<<ne.LUMINANCE_BITS,ne.EMPTY=Uint8ClampedArray.from([0]);class X extends ne{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),c=i.getHeight();if(a>=X.MINIMUM_DIMENSION&&c>=X.MINIMUM_DIMENSION){const d=i.getMatrix();let p=a>>X.BLOCK_SIZE_POWER;a&X.BLOCK_SIZE_MASK&&p++;let g=c>>X.BLOCK_SIZE_POWER;c&X.BLOCK_SIZE_MASK&&g++;const y=X.calculateBlackPoints(d,p,g,a,c),_=new G(a,c);X.calculateThresholdForBlock(d,p,g,a,c,y,_),this.matrix=_}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new X(i)}static calculateThresholdForBlock(i,a,c,d,p,g,y){const _=p-X.BLOCK_SIZE,C=d-X.BLOCK_SIZE;for(let O=0;O<c;O++){let P=O<<X.BLOCK_SIZE_POWER;P>_&&(P=_);const j=X.cap(O,2,c-3);for(let V=0;V<a;V++){let W=V<<X.BLOCK_SIZE_POWER;W>C&&(W=C);const $=X.cap(V,2,a-3);let q=0;for(let ge=-2;ge<=2;ge++){const me=g[j+ge];q+=me[$-2]+me[$-1]+me[$]+me[$+1]+me[$+2]}const re=q/25;X.thresholdBlock(i,W,P,re,d,y)}}}static cap(i,a,c){return i<a?a:i>c?c:i}static thresholdBlock(i,a,c,d,p,g){for(let y=0,_=c*p+a;y<X.BLOCK_SIZE;y++,_+=p)for(let C=0;C<X.BLOCK_SIZE;C++)(i[_+C]&255)<=d&&g.set(a+C,c+y)}static calculateBlackPoints(i,a,c,d,p){const g=p-X.BLOCK_SIZE,y=d-X.BLOCK_SIZE,_=new Array(c);for(let C=0;C<c;C++){_[C]=new Int32Array(a);let O=C<<X.BLOCK_SIZE_POWER;O>g&&(O=g);for(let P=0;P<a;P++){let j=P<<X.BLOCK_SIZE_POWER;j>y&&(j=y);let V=0,W=255,$=0;for(let re=0,ge=O*d+j;re<X.BLOCK_SIZE;re++,ge+=d){for(let me=0;me<X.BLOCK_SIZE;me++){const he=i[ge+me]&255;V+=he,he<W&&(W=he),he>$&&($=he)}if($-W>X.MIN_DYNAMIC_RANGE)for(re++,ge+=d;re<X.BLOCK_SIZE;re++,ge+=d)for(let me=0;me<X.BLOCK_SIZE;me++)V+=i[ge+me]&255}let q=V>>X.BLOCK_SIZE_POWER*2;if($-W<=X.MIN_DYNAMIC_RANGE&&(q=W/2,C>0&&P>0)){const re=(_[C-1][P]+2*_[C][P-1]+_[C-1][P-1])/4;W<re&&(q=re)}_[C][P]=q}}return _}}X.BLOCK_SIZE_POWER=3,X.BLOCK_SIZE=1<<X.BLOCK_SIZE_POWER,X.BLOCK_SIZE_MASK=X.BLOCK_SIZE-1,X.MINIMUM_DIMENSION=X.BLOCK_SIZE*5,X.MIN_DYNAMIC_RANGE=24;class Y{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,c,d){throw new K("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new K("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new K("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new se;for(let c=0;c<this.height;c++){const d=this.getRow(c,i);for(let p=0;p<this.width;p++){const g=d[p]&255;let y;g<64?y="#":g<128?y="+":g<192?y=".":y=" ",a.append(y)}a.append(`
`)}return a.toString()}}class J extends Y{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const c=this.delegate.getRow(i,a),d=this.getWidth();for(let p=0;p<d;p++)c[p]=255-(c[p]&255);return c}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(a);for(let d=0;d<a;d++)c[d]=255-(i[d]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,c,d){return new J(this.delegate.crop(i,a,c,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new J(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new J(this.delegate.rotateCounterClockwise45())}}class oe extends Y{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=oe.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return oe.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,c){const d=new Uint8ClampedArray(a*c);for(let p=0,g=0,y=i.length;p<y;p+=4,g++){let _;if(i[p+3]===0)_=255;else{const O=i[p],P=i[p+1],j=i[p+2];_=306*O+601*P+117*j+512>>10}d[g]=_}return d}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const c=this.getWidth(),d=i*c;return a===null?a=this.buffer.slice(d,d+c):(a.length<c&&(a=new Uint8ClampedArray(c)),a.set(this.buffer.slice(d,d+c))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,c,d){return super.crop(i,a,c,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),c=a.getContext("2d"),d=i*oe.DEGREE_TO_RADIANS,p=this.canvas.width,g=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(d))*p+Math.abs(Math.sin(d))*g),_=Math.ceil(Math.abs(Math.sin(d))*p+Math.abs(Math.cos(d))*g);return a.width=y,a.height=_,c.translate(y/2,_/2),c.rotate(d),c.drawImage(this.canvas,p/-2,g/-2),this.buffer=oe.makeBufferFromCanvasImageData(a),this}invert(){return new J(this)}}oe.DEGREE_TO_RADIANS=Math.PI/180;class Ee{constructor(i,a,c){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||Hc||self||window||void 0)&&(globalThis||Hc||self||window||void 0).__awaiter||function(k,i,a,c){function d(p){return p instanceof a?p:new a(function(g){g(p)})}return new(a||(a=Promise))(function(p,g){function y(O){try{C(c.next(O))}catch(P){g(P)}}function _(O){try{C(c.throw(O))}catch(P){g(P)}}function C(O){O.done?p(O.value):d(O.value).then(y,_)}C((c=c.apply(k,i||[])).next())})};class ae{constructor(i,a=500,c){this.reader=i,this.timeBetweenScansMillis=a,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const c of i){const d=c.kind==="video"?"videoinput":c.kind;if(d!=="videoinput")continue;const p=c.deviceId||c.id,g=c.label||`Video device ${a.length+1}`,y=c.groupId,_={deviceId:p,label:g,kind:d,groupId:y};a.push(_)}return a})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new Ee(a.deviceId,a.label))})}findDeviceById(i){return de(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(c=>c.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return de(this,void 0,void 0,function*(){this.reset();let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeOnceFromConstraints(d,a)})}decodeOnceFromConstraints(i,a){return de(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(c,a)})}decodeOnceFromStream(i,a){return de(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(i,a,c){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,c)})}decodeFromVideoDevice(i,a,c){return de(this,void 0,void 0,function*(){let d;i?d={deviceId:{exact:i}}:d={facingMode:"environment"};const p={video:d};return yield this.decodeFromConstraints(p,a,c)})}decodeFromConstraints(i,a,c){return de(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(d,a,c)})}decodeFromStream(i,a,c){return de(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(d,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return de(this,void 0,void 0,function*(){const c=this.prepareVideoElement(a);return this.addVideoSource(c,i),this.videoElement=c,this.stream=i,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(i){return new Promise((a,c)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const c=document.getElementById(i);if(!c)throw new x(`element with id '${i}' not found`);if(c.nodeName.toLowerCase()!==a.toLowerCase())throw new x(`element with id '${i}' must be an ${a} element`);return c}decodeFromImage(i,a){if(!i&&!a)throw new x("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new x("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,c){if(i===void 0&&a===void 0)throw new x("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,c):this.decodeFromVideoElementContinuously(i,c)}decodeFromImageElement(i){if(!i)throw new x("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let c;return this.isImageLoaded(a)?c=this.decodeOnce(a,!1,!0):c=this._decodeOnLoadImage(a),c}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const c=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(c,a)}_decodeFromVideoElementSetup(i){if(!i)throw new x("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const c=this._decodeOnLoadImage(a);return a.src=i,c}decodeFromVideoUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElement(a);return a.src=i,c}decodeFromVideoUrlContinuously(i,a){if(!i)throw new x("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(c,a);return c.src=i,d}_decodeOnLoadImage(i){return new Promise((a,c)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,c),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,c=!0){this._stopAsyncDecode=!1;const d=(p,g)=>{if(this._stopAsyncDecode){g(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(i);p(y)}catch(y){const _=a&&y instanceof H,O=(y instanceof E||y instanceof L)&&c;if(_||O)return setTimeout(d,this._timeBetweenDecodingAttempts,p,g);g(y)}};return new Promise((p,g)=>d(p,g))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(i);a(d,null),setTimeout(c,this.timeBetweenScansMillis)}catch(d){a(null,d);const p=d instanceof E||d instanceof L,g=d instanceof H;(p||g)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,c){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,c=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),c=new oe(a),d=new X(c);return new v(d)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let c,d;return typeof i<"u"&&(i instanceof HTMLVideoElement?(c=i.videoWidth,d=i.videoHeight):i instanceof HTMLImageElement&&(c=i.naturalWidth||i.width,d=i.naturalHeight||i.height)),a.style.width=c+"px",a.style.height=d+"px",a.width=c,a.height=d,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class fe{constructor(i,a,c=a==null?0:8*a.length,d,p,g=b.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=c,this.resultPoints=d,this.format=p,this.timestamp=g,this.text=i,this.rawBytes=a,c==null?this.numBits=a==null?0:8*a.length:this.numBits=c,this.resultPoints=d,this.format=p,this.resultMetadata=null,g==null?this.timestamp=b.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const c=new Array(a.length+i.length);b.arraycopy(a,0,c,0,a.length),b.arraycopy(i,0,c,a.length,i.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var ze;(function(k){k[k.AZTEC=0]="AZTEC",k[k.CODABAR=1]="CODABAR",k[k.CODE_39=2]="CODE_39",k[k.CODE_93=3]="CODE_93",k[k.CODE_128=4]="CODE_128",k[k.DATA_MATRIX=5]="DATA_MATRIX",k[k.EAN_8=6]="EAN_8",k[k.EAN_13=7]="EAN_13",k[k.ITF=8]="ITF",k[k.MAXICODE=9]="MAXICODE",k[k.PDF_417=10]="PDF_417",k[k.QR_CODE=11]="QR_CODE",k[k.RSS_14=12]="RSS_14",k[k.RSS_EXPANDED=13]="RSS_EXPANDED",k[k.UPC_A=14]="UPC_A",k[k.UPC_E=15]="UPC_E",k[k.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(ze||(ze={}));var ve=ze,_e;(function(k){k[k.OTHER=0]="OTHER",k[k.ORIENTATION=1]="ORIENTATION",k[k.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",k[k.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",k[k.ISSUE_NUMBER=4]="ISSUE_NUMBER",k[k.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",k[k.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",k[k.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",k[k.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",k[k.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",k[k.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_e||(_e={}));var ke=_e;class dt{constructor(i,a,c,d,p=-1,g=-1){this.rawBytes=i,this.text=a,this.byteSegments=c,this.ecLevel=d,this.structuredAppendSequenceNumber=p,this.structuredAppendParity=g,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Xe{exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class Le{constructor(i,a){if(a.length===0)throw new w;this.field=i;const c=a.length;if(c>1&&a[0]===0){let d=1;for(;d<c&&a[d]===0;)d++;d===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-d),b.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let c;if(i===1){c=0;for(let g=0,y=a.length;g!==y;g++){const _=a[g];c=Xe.addOrSubtract(c,_)}return c}c=a[0];const d=a.length,p=this.field;for(let g=1;g<d;g++)c=Xe.addOrSubtract(p.multiply(i,c),a[g]);return c}addOrSubtract(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,c=i.coefficients;if(a.length>c.length){const g=a;a=c,c=g}let d=new Int32Array(c.length);const p=c.length-a.length;b.arraycopy(c,0,d,0,p);for(let g=p;g<c.length;g++)d[g]=Xe.addOrSubtract(a[g-p],c[g]);return new Le(this.field,d)}multiply(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,c=a.length,d=i.coefficients,p=d.length,g=new Int32Array(c+p-1),y=this.field;for(let _=0;_<c;_++){const C=a[_];for(let O=0;O<p;O++)g[_+O]=Xe.addOrSubtract(g[_+O],y.multiply(C,d[O]))}return new Le(y,g)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,c=this.field,d=new Int32Array(a),p=this.coefficients;for(let g=0;g<a;g++)d[g]=c.multiply(p[g],i);return new Le(c,d)}multiplyByMonomial(i,a){if(i<0)throw new w;if(a===0)return this.field.getZero();const c=this.coefficients,d=c.length,p=new Int32Array(d+i),g=this.field;for(let y=0;y<d;y++)p[y]=g.multiply(c[y],a);return new Le(g,p)}divide(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new w("Divide by 0");const a=this.field;let c=a.getZero(),d=this;const p=i.getCoefficient(i.getDegree()),g=a.inverse(p);for(;d.getDegree()>=i.getDegree()&&!d.isZero();){const y=d.getDegree()-i.getDegree(),_=a.multiply(d.getCoefficient(d.getDegree()),g),C=i.multiplyByMonomial(y,_),O=a.buildMonomial(y,_);c=c.addOrSubtract(O),d=d.addOrSubtract(C)}return[c,d]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);if(c!==0){if(c<0?(i+=" - ",c=-c):i.length>0&&(i+=" + "),a===0||c!==1){const d=this.field.log(c);d===0?i+="1":d===1?i+="a":(i+="a^",i+=d)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class Je extends h{}Je.kind="ArithmeticException";class Ue extends Xe{constructor(i,a,c){super(),this.primitive=i,this.size=a,this.generatorBase=c;const d=new Int32Array(a);let p=1;for(let y=0;y<a;y++)d[y]=p,p*=2,p>=a&&(p^=i,p&=a-1);this.expTable=d;const g=new Int32Array(a);for(let y=0;y<a-1;y++)g[d[y]]=y;this.logTable=g,this.zero=new Le(this,Int32Array.from([0])),this.one=new Le(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new w;if(a===0)return this.zero;const c=new Int32Array(i+1);return c[0]=a,new Le(this,c)}inverse(i){if(i===0)throw new Je;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+A.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Ue.AZTEC_DATA_12=new Ue(4201,4096,1),Ue.AZTEC_DATA_10=new Ue(1033,1024,1),Ue.AZTEC_DATA_6=new Ue(67,64,1),Ue.AZTEC_PARAM=new Ue(19,16,1),Ue.QR_CODE_FIELD_256=new Ue(285,256,0),Ue.DATA_MATRIX_FIELD_256=new Ue(301,256,1),Ue.AZTEC_DATA_8=Ue.DATA_MATRIX_FIELD_256,Ue.MAXICODE_FIELD_64=Ue.AZTEC_DATA_6;class cr extends h{}cr.kind="ReedSolomonException";class yr extends h{}yr.kind="IllegalStateException";class Tr{constructor(i){this.field=i}decode(i,a){const c=this.field,d=new Le(c,i),p=new Int32Array(a);let g=!0;for(let V=0;V<a;V++){const W=d.evaluateAt(c.exp(V+c.getGeneratorBase()));p[p.length-1-V]=W,W!==0&&(g=!1)}if(g)return;const y=new Le(c,p),_=this.runEuclideanAlgorithm(c.buildMonomial(a,1),y,a),C=_[0],O=_[1],P=this.findErrorLocations(C),j=this.findErrorMagnitudes(O,P);for(let V=0;V<P.length;V++){const W=i.length-1-c.log(P[V]);if(W<0)throw new cr("Bad error location");i[W]=Ue.addOrSubtract(i[W],j[V])}}runEuclideanAlgorithm(i,a,c){if(i.getDegree()<a.getDegree()){const V=i;i=a,a=V}const d=this.field;let p=i,g=a,y=d.getZero(),_=d.getOne();for(;g.getDegree()>=(c/2|0);){let V=p,W=y;if(p=g,y=_,p.isZero())throw new cr("r_{i-1} was zero");g=V;let $=d.getZero();const q=p.getCoefficient(p.getDegree()),re=d.inverse(q);for(;g.getDegree()>=p.getDegree()&&!g.isZero();){const ge=g.getDegree()-p.getDegree(),me=d.multiply(g.getCoefficient(g.getDegree()),re);$=$.addOrSubtract(d.buildMonomial(ge,me)),g=g.addOrSubtract(p.multiplyByMonomial(ge,me))}if(_=$.multiply(y).addOrSubtract(W),g.getDegree()>=p.getDegree())throw new yr("Division algorithm failed to reduce polynomial?")}const C=_.getCoefficient(0);if(C===0)throw new cr("sigmaTilde(0) was zero");const O=d.inverse(C),P=_.multiplyScalar(O),j=g.multiplyScalar(O);return[P,j]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const c=new Int32Array(a);let d=0;const p=this.field;for(let g=1;g<p.getSize()&&d<a;g++)i.evaluateAt(g)===0&&(c[d]=p.inverse(g),d++);if(d!==a)throw new cr("Error locator degree does not match number of roots");return c}findErrorMagnitudes(i,a){const c=a.length,d=new Int32Array(c),p=this.field;for(let g=0;g<c;g++){const y=p.inverse(a[g]);let _=1;for(let C=0;C<c;C++)if(g!==C){const O=p.multiply(a[C],y),P=O&1?O&-2:O|1;_=p.multiply(_,P)}d[g]=p.multiply(i.evaluateAt(y),p.inverse(_)),p.getGeneratorBase()!==0&&(d[g]=p.multiply(d[g],y))}return d}}var ce;(function(k){k[k.UPPER=0]="UPPER",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.DIGIT=3]="DIGIT",k[k.PUNCT=4]="PUNCT",k[k.BINARY=5]="BINARY"})(ce||(ce={}));class Re{decode(i){this.ddata=i;let a=i.getBits(),c=this.extractBits(a),d=this.correctBits(c),p=Re.convertBoolArrayToByteArray(d),g=Re.getEncodedData(d),y=new dt(p,g,null,null);return y.setNumBits(d.length),y}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,c=ce.UPPER,d=ce.UPPER,p="",g=0;for(;g<a;)if(d===ce.BINARY){if(a-g<5)break;let y=Re.readCode(i,g,5);if(g+=5,y===0){if(a-g<11)break;y=Re.readCode(i,g,11)+31,g+=11}for(let _=0;_<y;_++){if(a-g<8){g=a;break}const C=Re.readCode(i,g,8);p+=Q.castAsNonUtf8Char(C),g+=8}d=c}else{let y=d===ce.DIGIT?4:5;if(a-g<y)break;let _=Re.readCode(i,g,y);g+=y;let C=Re.getCharacter(d,_);C.startsWith("CTRL_")?(c=d,d=Re.getTable(C.charAt(5)),C.charAt(6)==="L"&&(c=d)):(p+=C,d=c)}return p}static getTable(i){switch(i){case"L":return ce.LOWER;case"P":return ce.PUNCT;case"M":return ce.MIXED;case"D":return ce.DIGIT;case"B":return ce.BINARY;case"U":default:return ce.UPPER}}static getCharacter(i,a){switch(i){case ce.UPPER:return Re.UPPER_TABLE[a];case ce.LOWER:return Re.LOWER_TABLE[a];case ce.MIXED:return Re.MIXED_TABLE[a];case ce.PUNCT:return Re.PUNCT_TABLE[a];case ce.DIGIT:return Re.DIGIT_TABLE[a];default:throw new yr("Bad table")}}correctBits(i){let a,c;this.ddata.getNbLayers()<=2?(c=6,a=Ue.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,a=Ue.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,a=Ue.AZTEC_DATA_10):(c=12,a=Ue.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),p=i.length/c;if(p<d)throw new L;let g=i.length%c,y=new Int32Array(p);for(let j=0;j<p;j++,g+=c)y[j]=Re.readCode(i,g,c);try{new Tr(a).decode(y,p-d)}catch(j){throw new L(j)}let _=(1<<c)-1,C=0;for(let j=0;j<d;j++){let V=y[j];if(V===0||V===_)throw new L;(V===1||V===_-1)&&C++}let O=new Array(d*c-C),P=0;for(let j=0;j<d;j++){let V=y[j];if(V===1||V===_-1)O.fill(V>1,P,P+c-1),P+=c-1;else for(let W=c-1;W>=0;--W)O[P++]=(V&1<<W)!==0}return O}extractBits(i){let a=this.ddata.isCompact(),c=this.ddata.getNbLayers(),d=(a?11:14)+c*4,p=new Int32Array(d),g=new Array(this.totalBitsInLayer(c,a));if(a)for(let y=0;y<p.length;y++)p[y]=y;else{let y=d+1+2*A.truncDivision(A.truncDivision(d,2)-1,15),_=d/2,C=A.truncDivision(y,2);for(let O=0;O<_;O++){let P=O+A.truncDivision(O,15);p[_-O-1]=C-P-1,p[_+O]=C+P+1}}for(let y=0,_=0;y<c;y++){let C=(c-y)*4+(a?9:12),O=y*2,P=d-1-O;for(let j=0;j<C;j++){let V=j*2;for(let W=0;W<2;W++)g[_+V+W]=i.get(p[O+W],p[O+j]),g[_+2*C+V+W]=i.get(p[O+j],p[P-W]),g[_+4*C+V+W]=i.get(p[P-W],p[P-j]),g[_+6*C+V+W]=i.get(p[P-j],p[O+W])}_+=C*8}return g}static readCode(i,a,c){let d=0;for(let p=a;p<a+c;p++)d<<=1,i[p]&&(d|=1);return d}static readByte(i,a){let c=i.length-a;return c>=8?Re.readCode(i,a,8):Re.readCode(i,a,c)<<8-c}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let c=0;c<a.length;c++)a[c]=Re.readByte(i,8*c);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Re.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Re.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Re.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Re.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Re.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class be{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,c,d){const p=i-c,g=a-d;return Math.sqrt(p*p+g*g)}static sum(i){let a=0;for(let c=0,d=i.length;c!==d;c++){const p=i[c];a+=p}return a}}class vt{static floatToIntBits(i){return i}}vt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class ye{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof ye){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*vt.floatToIntBits(this.x)+vt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),c=this.distance(i[1],i[2]),d=this.distance(i[0],i[2]);let p,g,y;if(c>=a&&c>=d?(g=i[0],p=i[1],y=i[2]):d>=c&&d>=a?(g=i[1],p=i[0],y=i[2]):(g=i[2],p=i[0],y=i[1]),this.crossProductZ(p,g,y)<0){const _=p;p=y,y=_}i[0]=p,i[1]=g,i[2]=y}static distance(i,a){return be.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,c){const d=a.x,p=a.y;return(c.x-d)*(i.y-p)-(c.y-p)*(i.x-d)}}class en{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class tt extends en{constructor(i,a,c,d,p){super(i,a),this.compact=c,this.nbDatablocks=d,this.nbLayers=p}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Zt{constructor(i,a,c,d){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=Zt.INIT_SIZE),c==null&&(c=i.getWidth()/2|0),d==null&&(d=i.getHeight()/2|0);const p=a/2|0;if(this.leftInit=c-p,this.rightInit=c+p,this.upInit=d-p,this.downInit=d+p,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let i=this.leftInit,a=this.rightInit,c=this.upInit,d=this.downInit,p=!1,g=!0,y=!1,_=!1,C=!1,O=!1,P=!1;const j=this.width,V=this.height;for(;g;){g=!1;let W=!0;for(;(W||!_)&&a<j;)W=this.containsBlackPoint(c,d,a,!1),W?(a++,g=!0,_=!0):_||a++;if(a>=j){p=!0;break}let $=!0;for(;($||!C)&&d<V;)$=this.containsBlackPoint(i,a,d,!0),$?(d++,g=!0,C=!0):C||d++;if(d>=V){p=!0;break}let q=!0;for(;(q||!O)&&i>=0;)q=this.containsBlackPoint(c,d,i,!1),q?(i--,g=!0,O=!0):O||i--;if(i<0){p=!0;break}let re=!0;for(;(re||!P)&&c>=0;)re=this.containsBlackPoint(i,a,c,!0),re?(c--,g=!0,P=!0):P||c--;if(c<0){p=!0;break}g&&(y=!0)}if(!p&&y){const W=a-i;let $=null;for(let me=1;$===null&&me<W;me++)$=this.getBlackPointOnSegment(i,d-me,i+me,d);if($==null)throw new H;let q=null;for(let me=1;q===null&&me<W;me++)q=this.getBlackPointOnSegment(i,c+me,i+me,c);if(q==null)throw new H;let re=null;for(let me=1;re===null&&me<W;me++)re=this.getBlackPointOnSegment(a,c+me,a-me,c);if(re==null)throw new H;let ge=null;for(let me=1;ge===null&&me<W;me++)ge=this.getBlackPointOnSegment(a,d-me,a-me,d);if(ge==null)throw new H;return this.centerEdges(ge,$,re,q)}else throw new H}getBlackPointOnSegment(i,a,c,d){const p=be.round(be.distance(i,a,c,d)),g=(c-i)/p,y=(d-a)/p,_=this.image;for(let C=0;C<p;C++){const O=be.round(i+C*g),P=be.round(a+C*y);if(_.get(O,P))return new ye(O,P)}return null}centerEdges(i,a,c,d){const p=i.getX(),g=i.getY(),y=a.getX(),_=a.getY(),C=c.getX(),O=c.getY(),P=d.getX(),j=d.getY(),V=Zt.CORR;return p<this.width/2?[new ye(P-V,j+V),new ye(y+V,_+V),new ye(C-V,O-V),new ye(p+V,g-V)]:[new ye(P+V,j+V),new ye(y+V,_-V),new ye(C-V,O+V),new ye(p-V,g-V)]}containsBlackPoint(i,a,c,d){const p=this.image;if(d){for(let g=i;g<=a;g++)if(p.get(g,c))return!0}else for(let g=i;g<=a;g++)if(p.get(c,g))return!0;return!1}}Zt.INIT_SIZE=10,Zt.CORR=1;class Zo{static checkAndNudgePoints(i,a){const c=i.getWidth(),d=i.getHeight();let p=!0;for(let g=0;g<a.length&&p;g+=2){const y=Math.floor(a[g]),_=Math.floor(a[g+1]);if(y<-1||y>c||_<-1||_>d)throw new H;p=!1,y===-1?(a[g]=0,p=!0):y===c&&(a[g]=c-1,p=!0),_===-1?(a[g+1]=0,p=!0):_===d&&(a[g+1]=d-1,p=!0)}p=!0;for(let g=a.length-2;g>=0&&p;g-=2){const y=Math.floor(a[g]),_=Math.floor(a[g+1]);if(y<-1||y>c||_<-1||_>d)throw new H;p=!1,y===-1?(a[g]=0,p=!0):y===c&&(a[g]=c-1,p=!0),_===-1?(a[g+1]=0,p=!0):_===d&&(a[g+1]=d-1,p=!0)}}}class St{constructor(i,a,c,d,p,g,y,_,C){this.a11=i,this.a21=a,this.a31=c,this.a12=d,this.a22=p,this.a32=g,this.a13=y,this.a23=_,this.a33=C}static quadrilateralToQuadrilateral(i,a,c,d,p,g,y,_,C,O,P,j,V,W,$,q){const re=St.quadrilateralToSquare(i,a,c,d,p,g,y,_);return St.squareToQuadrilateral(C,O,P,j,V,W,$,q).times(re)}transformPoints(i){const a=i.length,c=this.a11,d=this.a12,p=this.a13,g=this.a21,y=this.a22,_=this.a23,C=this.a31,O=this.a32,P=this.a33;for(let j=0;j<a;j+=2){const V=i[j],W=i[j+1],$=p*V+_*W+P;i[j]=(c*V+g*W+C)/$,i[j+1]=(d*V+y*W+O)/$}}transformPointsWithValues(i,a){const c=this.a11,d=this.a12,p=this.a13,g=this.a21,y=this.a22,_=this.a23,C=this.a31,O=this.a32,P=this.a33,j=i.length;for(let V=0;V<j;V++){const W=i[V],$=a[V],q=p*W+_*$+P;i[V]=(c*W+g*$+C)/q,a[V]=(d*W+y*$+O)/q}}static squareToQuadrilateral(i,a,c,d,p,g,y,_){const C=i-c+p-y,O=a-d+g-_;if(C===0&&O===0)return new St(c-i,p-c,i,d-a,g-d,a,0,0,1);{const P=c-p,j=y-p,V=d-g,W=_-g,$=P*W-j*V,q=(C*W-j*O)/$,re=(P*O-C*V)/$;return new St(c-i+q*c,y-i+re*y,i,d-a+q*d,_-a+re*_,a,q,re,1)}}static quadrilateralToSquare(i,a,c,d,p,g,y,_){return St.squareToQuadrilateral(i,a,c,d,p,g,y,_).buildAdjoint()}buildAdjoint(){return new St(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new St(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class gi extends Zo{sampleGrid(i,a,c,d,p,g,y,_,C,O,P,j,V,W,$,q,re,ge,me){const he=St.quadrilateralToQuadrilateral(d,p,g,y,_,C,O,P,j,V,W,$,q,re,ge,me);return this.sampleGridWithTransform(i,a,c,he)}sampleGridWithTransform(i,a,c,d){if(a<=0||c<=0)throw new H;const p=new G(a,c),g=new Float32Array(2*a);for(let y=0;y<c;y++){const _=g.length,C=y+.5;for(let O=0;O<_;O+=2)g[O]=O/2+.5,g[O+1]=C;d.transformPoints(g),Zo.checkAndNudgePoints(i,g);try{for(let O=0;O<_;O+=2)i.get(Math.floor(g[O]),Math.floor(g[O+1]))&&p.set(O/2,y)}catch{throw new H}}return p}}class Ws{static setGridSampler(i){Ws.gridSampler=i}static getInstance(){return Ws.gridSampler}}Ws.gridSampler=new gi;class Dr{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new ye(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Jo{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),c=this.getBullsEyeCorners(a);if(i){let g=c[0];c[0]=c[2],c[2]=g}this.extractParameters(c);let d=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),p=this.getMatrixCornerPoints(c);return new tt(d,p,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new H;let a=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(c,a);let d=0;for(let g=0;g<4;g++){let y=c[(this.shift+g)%4];this.compact?(d<<=7,d+=y>>1&127):(d<<=10,d+=(y>>2&992)+(y>>1&31))}let p=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(p>>6)+1,this.nbDataBlocks=(p&63)+1):(this.nbLayers=(p>>11)+1,this.nbDataBlocks=(p&2047)+1)}getRotation(i,a){let c=0;i.forEach((d,p,g)=>{let y=(d>>a-2<<1)+(d&1);c=(c<<3)+y}),c=((c&1)<<11)+(c>>1);for(let d=0;d<4;d++)if(A.bitCount(c^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new H}getCorrectedParameterData(i,a){let c,d;a?(c=7,d=2):(c=10,d=4);let p=c-d,g=new Int32Array(c);for(let _=c-1;_>=0;--_)g[_]=i&15,i>>=4;try{new Tr(Ue.AZTEC_PARAM).decode(g,p)}catch{throw new H}let y=0;for(let _=0;_<d;_++)y=(y<<4)+g[_];return y}getBullsEyeCorners(i){let a=i,c=i,d=i,p=i,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let P=this.getFirstDifferent(a,g,1,-1),j=this.getFirstDifferent(c,g,1,1),V=this.getFirstDifferent(d,g,-1,1),W=this.getFirstDifferent(p,g,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(W,P)*this.nbCenterLayers/(this.distancePoint(p,a)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(P,j,V,W))break}a=P,c=j,d=V,p=W,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let y=new ye(a.getX()+.5,a.getY()-.5),_=new ye(c.getX()+.5,c.getY()+.5),C=new ye(d.getX()-.5,d.getY()+.5),O=new ye(p.getX()-.5,p.getY()-.5);return this.expandSquare([y,_,C,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,c,d;try{let y=new Zt(this.image).detect();i=y[0],a=y[1],c=y[2],d=y[3]}catch{let _=this.image.getWidth()/2,C=this.image.getHeight()/2;i=this.getFirstDifferent(new Dr(_+7,C-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Dr(_+7,C+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Dr(_-7,C+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Dr(_-7,C-7),!1,-1,-1).toResultPoint()}let p=be.round((i.getX()+d.getX()+a.getX()+c.getX())/4),g=be.round((i.getY()+d.getY()+a.getY()+c.getY())/4);try{let y=new Zt(this.image,15,p,g).detect();i=y[0],a=y[1],c=y[2],d=y[3]}catch{i=this.getFirstDifferent(new Dr(p+7,g-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new Dr(p+7,g+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new Dr(p-7,g+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new Dr(p-7,g-7),!1,-1,-1).toResultPoint()}return p=be.round((i.getX()+d.getX()+a.getX()+c.getX())/4),g=be.round((i.getY()+d.getY()+a.getY()+c.getY())/4),new Dr(p,g)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,c,d,p){let g=Ws.getInstance(),y=this.getDimension(),_=y/2-this.nbCenterLayers,C=y/2+this.nbCenterLayers;return g.sampleGrid(i,y,y,_,_,C,_,C,C,_,C,a.getX(),a.getY(),c.getX(),c.getY(),d.getX(),d.getY(),p.getX(),p.getY())}sampleLine(i,a,c){let d=0,p=this.distanceResultPoint(i,a),g=p/c,y=i.getX(),_=i.getY(),C=g*(a.getX()-i.getX())/p,O=g*(a.getY()-i.getY())/p;for(let P=0;P<c;P++)this.image.get(be.round(y+P*C),be.round(_+P*O))&&(d|=1<<c-P-1);return d}isWhiteOrBlackRectangle(i,a,c,d){let p=3;i=new Dr(i.getX()-p,i.getY()+p),a=new Dr(a.getX()-p,a.getY()-p),c=new Dr(c.getX()+p,c.getY()-p),d=new Dr(d.getX()+p,d.getY()+p);let g=this.getColor(d,i);if(g===0)return!1;let y=this.getColor(i,a);return y!==g||(y=this.getColor(a,c),y!==g)?!1:(y=this.getColor(c,d),y===g)}getColor(i,a){let c=this.distancePoint(i,a),d=(a.getX()-i.getX())/c,p=(a.getY()-i.getY())/c,g=0,y=i.getX(),_=i.getY(),C=this.image.get(i.getX(),i.getY()),O=Math.ceil(c);for(let j=0;j<O;j++)y+=d,_+=p,this.image.get(be.round(y),be.round(_))!==C&&g++;let P=g/c;return P>.1&&P<.9?0:P<=.1===C?1:-1}getFirstDifferent(i,a,c,d){let p=i.getX()+c,g=i.getY()+d;for(;this.isValid(p,g)&&this.image.get(p,g)===a;)p+=c,g+=d;for(p-=c,g-=d;this.isValid(p,g)&&this.image.get(p,g)===a;)p+=c;for(p-=c;this.isValid(p,g)&&this.image.get(p,g)===a;)g+=d;return g-=d,new Dr(p,g)}expandSquare(i,a,c){let d=c/(2*a),p=i[0].getX()-i[2].getX(),g=i[0].getY()-i[2].getY(),y=(i[0].getX()+i[2].getX())/2,_=(i[0].getY()+i[2].getY())/2,C=new ye(y+d*p,_+d*g),O=new ye(y-d*p,_-d*g);p=i[1].getX()-i[3].getX(),g=i[1].getY()-i[3].getY(),y=(i[1].getX()+i[3].getX())/2,_=(i[1].getY()+i[3].getY())/2;let P=new ye(y+d*p,_+d*g),j=new ye(y-d*p,_-d*g);return[C,P,O,j]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=be.round(i.getX()),c=be.round(i.getY());return this.isValid(a,c)}distancePoint(i,a){return be.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return be.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(A.truncDivision(this.nbLayers-4,8)+1)+15}}class Za{decode(i,a=null){let c=null,d=new Jo(i.getBlackMatrix()),p=null,g=null;try{let O=d.detectMirror(!1);p=O.getPoints(),this.reportFoundResultPoints(a,p),g=new Re().decode(O)}catch(O){c=O}if(g==null)try{let O=d.detectMirror(!0);p=O.getPoints(),this.reportFoundResultPoints(a,p),g=new Re().decode(O)}catch(O){throw c??O}let y=new fe(g.getText(),g.getRawBytes(),g.getNumBits(),p,ve.AZTEC,b.currentTimeMillis()),_=g.getByteSegments();_!=null&&y.putMetadata(ke.BYTE_SEGMENTS,_);let C=g.getECLevel();return C!=null&&y.putMetadata(ke.ERROR_CORRECTION_LEVEL,C),y}reportFoundResultPoints(i,a){if(i!=null){let c=i.get(F.NEED_RESULT_POINT_CALLBACK);c!=null&&a.forEach((d,p,g)=>{c.foundPossibleResultPoint(d)})}}reset(){}}class Cd extends ae{constructor(i=500){super(new Za,i)}}class Bt{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(F.TRY_HARDER)===!0&&i.isRotateSupported()){const p=i.rotateCounterClockwise(),g=this.doDecode(p,a),y=g.getResultMetadata();let _=270;y!==null&&y.get(ke.ORIENTATION)===!0&&(_=_+y.get(ke.ORIENTATION)%360),g.putMetadata(ke.ORIENTATION,_);const C=g.getResultPoints();if(C!==null){const O=p.getHeight();for(let P=0;P<C.length;P++)C[P]=new ye(O-C[P].getY()-1,C[P].getX())}return g}else throw new H}}reset(){}doDecode(i,a){const c=i.getWidth(),d=i.getHeight();let p=new M(c);const g=a&&a.get(F.TRY_HARDER)===!0,y=Math.max(1,d>>(g?8:5));let _;g?_=d:_=15;const C=Math.trunc(d/2);for(let O=0;O<_;O++){const P=Math.trunc((O+1)/2),j=(O&1)===0,V=C+y*(j?P:-P);if(V<0||V>=d)break;try{p=i.getBlackRow(V,p)}catch{continue}for(let W=0;W<2;W++){if(W===1&&(p.reverse(),a&&a.get(F.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;a.forEach((q,re)=>$.set(re,q)),$.delete(F.NEED_RESULT_POINT_CALLBACK),a=$}try{const $=this.decodeRow(V,p,a);if(W===1){$.putMetadata(ke.ORIENTATION,180);const q=$.getResultPoints();q!==null&&(q[0]=new ye(c-q[0].getX()-1,q[0].getY()),q[1]=new ye(c-q[1].getX()-1,q[1].getY()))}return $}catch{}}}throw new H}static recordPattern(i,a,c){const d=c.length;for(let C=0;C<d;C++)c[C]=0;const p=i.getSize();if(a>=p)throw new H;let g=!i.get(a),y=0,_=a;for(;_<p;){if(i.get(_)!==g)c[y]++;else{if(++y===d)break;c[y]=1,g=!g}_++}if(!(y===d||y===d-1&&_===p))throw new H}static recordPatternInReverse(i,a,c){let d=c.length,p=i.get(a);for(;a>0&&d>=0;)i.get(--a)!==p&&(d--,p=!p);if(d>=0)throw new H;Bt.recordPattern(i,a+1,c)}static patternMatchVariance(i,a,c){const d=i.length;let p=0,g=0;for(let C=0;C<d;C++)p+=i[C],g+=a[C];if(p<g)return Number.POSITIVE_INFINITY;const y=p/g;c*=y;let _=0;for(let C=0;C<d;C++){const O=i[C],P=a[C]*y,j=O>P?O-P:P-O;if(j>c)return Number.POSITIVE_INFINITY;_+=j}return _/p}}class xe extends Bt{static findStartPattern(i){const a=i.getSize(),c=i.getNextSet(0);let d=0,p=Int32Array.from([0,0,0,0,0,0]),g=c,y=!1;const _=6;for(let C=c;C<a;C++)if(i.get(C)!==y)p[d]++;else{if(d===_-1){let O=xe.MAX_AVG_VARIANCE,P=-1;for(let j=xe.CODE_START_A;j<=xe.CODE_START_C;j++){const V=Bt.patternMatchVariance(p,xe.CODE_PATTERNS[j],xe.MAX_INDIVIDUAL_VARIANCE);V<O&&(O=V,P=j)}if(P>=0&&i.isRange(Math.max(0,g-(C-g)/2),g,!1))return Int32Array.from([g,C,P]);g+=p[0]+p[1],p=p.slice(2,p.length-1),p[d-1]=0,p[d]=0,d--}else d++;p[d]=1,y=!y}throw new H}static decodeCode(i,a,c){Bt.recordPattern(i,c,a);let d=xe.MAX_AVG_VARIANCE,p=-1;for(let g=0;g<xe.CODE_PATTERNS.length;g++){const y=xe.CODE_PATTERNS[g],_=this.patternMatchVariance(a,y,xe.MAX_INDIVIDUAL_VARIANCE);_<d&&(d=_,p=g)}if(p>=0)return p;throw new H}decodeRow(i,a,c){const d=c&&c.get(F.ASSUME_GS1)===!0,p=xe.findStartPattern(a),g=p[2];let y=0;const _=new Uint8Array(20);_[y++]=g;let C;switch(g){case xe.CODE_START_A:C=xe.CODE_CODE_A;break;case xe.CODE_START_B:C=xe.CODE_CODE_B;break;case xe.CODE_START_C:C=xe.CODE_CODE_C;break;default:throw new L}let O=!1,P=!1,j="",V=p[0],W=p[1];const $=Int32Array.from([0,0,0,0,0,0]);let q=0,re=0,ge=g,me=0,he=!0,ot=!1,Ye=!1;for(;!O;){const al=P;switch(P=!1,q=re,re=xe.decodeCode(a,$,W),_[y++]=re,re!==xe.CODE_STOP&&(he=!0),re!==xe.CODE_STOP&&(me++,ge+=me*re),V=W,W+=$.reduce((uI,dI)=>uI+dI,0),re){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new L}switch(C){case xe.CODE_CODE_A:if(re<64)Ye===ot?j+=String.fromCharCode(32+re):j+=String.fromCharCode(32+re+128),Ye=!1;else if(re<96)Ye===ot?j+=String.fromCharCode(re-64):j+=String.fromCharCode(re+64),Ye=!1;else switch(re!==xe.CODE_STOP&&(he=!1),re){case xe.CODE_FNC_1:d&&(j.length===0?j+="]C1":j+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!ot&&Ye?(ot=!0,Ye=!1):ot&&Ye?(ot=!1,Ye=!1):Ye=!0;break;case xe.CODE_SHIFT:P=!0,C=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:C=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:C=xe.CODE_CODE_C;break;case xe.CODE_STOP:O=!0;break}break;case xe.CODE_CODE_B:if(re<96)Ye===ot?j+=String.fromCharCode(32+re):j+=String.fromCharCode(32+re+128),Ye=!1;else switch(re!==xe.CODE_STOP&&(he=!1),re){case xe.CODE_FNC_1:d&&(j.length===0?j+="]C1":j+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!ot&&Ye?(ot=!0,Ye=!1):ot&&Ye?(ot=!1,Ye=!1):Ye=!0;break;case xe.CODE_SHIFT:P=!0,C=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:C=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:C=xe.CODE_CODE_C;break;case xe.CODE_STOP:O=!0;break}break;case xe.CODE_CODE_C:if(re<100)re<10&&(j+="0"),j+=re;else switch(re!==xe.CODE_STOP&&(he=!1),re){case xe.CODE_FNC_1:d&&(j.length===0?j+="]C1":j+="");break;case xe.CODE_CODE_A:C=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:C=xe.CODE_CODE_B;break;case xe.CODE_STOP:O=!0;break}break}al&&(C=C===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const gn=W-V;if(W=a.getNextUnset(W),!a.isRange(W,Math.min(a.getSize(),W+(W-V)/2),!1))throw new H;if(ge-=me*q,ge%103!==q)throw new E;const vs=j.length;if(vs===0)throw new H;vs>0&&he&&(C===xe.CODE_CODE_C?j=j.substring(0,vs-2):j=j.substring(0,vs-1));const mn=(p[1]+p[0])/2,Tt=V+gn/2,Br=_.length,In=new Uint8Array(Br);for(let al=0;al<Br;al++)In[al]=_[al];const ol=[new ye(mn,i),new ye(Tt,i)];return new fe(j,In,0,ol,ve.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class Jt extends Bt{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,c){let d=this.counters;d.fill(0),this.decodeRowResult="";let p=Jt.findAsteriskPattern(a,d),g=a.getNextSet(p[1]),y=a.getSize(),_,C;do{Jt.recordPattern(a,g,d);let $=Jt.toNarrowWidePattern(d);if($<0)throw new H;_=Jt.patternToChar($),this.decodeRowResult+=_,C=g;for(let q of d)g+=q;g=a.getNextSet(g)}while(_!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let $ of d)O+=$;let P=g-C-O;if(g!==y&&P*2<O)throw new H;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,q=0;for(let re=0;re<$;re++)q+=Jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(re));if(this.decodeRowResult.charAt($)!==Jt.ALPHABET_STRING.charAt(q%43))throw new E;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new H;let j;this.extendedMode?j=Jt.decodeExtended(this.decodeRowResult):j=this.decodeRowResult;let V=(p[1]+p[0])/2,W=C+O/2;return new fe(j,null,0,[new ye(V,i),new ye(W,i)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let c=i.getSize(),d=i.getNextSet(0),p=0,g=d,y=!1,_=a.length;for(let C=d;C<c;C++)if(i.get(C)!==y)a[p]++;else{if(p===_-1){if(this.toNarrowWidePattern(a)===Jt.ASTERISK_ENCODING&&i.isRange(Math.max(0,g-Math.floor((C-g)/2)),g,!1))return[g,C];g+=a[0]+a[1],a.copyWithin(0,2,2+p-1),a[p-1]=0,a[p]=0,p--}else p++;a[p]=1,y=!y}throw new H}static toNarrowWidePattern(i){let a=i.length,c=0,d;do{let p=2147483647;for(let _ of i)_<p&&_>c&&(p=_);c=p,d=0;let g=0,y=0;for(let _=0;_<a;_++){let C=i[_];C>c&&(y|=1<<a-1-_,d++,g+=C)}if(d===3){for(let _=0;_<a&&d>0;_++){let C=i[_];if(C>c&&(d--,C*2>=g))return-1}return y}}while(d>3);return-1}static patternToChar(i){for(let a=0;a<Jt.CHARACTER_ENCODINGS.length;a++)if(Jt.CHARACTER_ENCODINGS[a]===i)return Jt.ALPHABET_STRING.charAt(a);if(i===Jt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(i){let a=i.length,c="";for(let d=0;d<a;d++){let p=i.charAt(d);if(p==="+"||p==="$"||p==="%"||p==="/"){let g=i.charAt(d+1),y="\0";switch(p){case"+":if(g>="A"&&g<="Z")y=String.fromCharCode(g.charCodeAt(0)+32);else throw new L;break;case"$":if(g>="A"&&g<="Z")y=String.fromCharCode(g.charCodeAt(0)-64);else throw new L;break;case"%":if(g>="A"&&g<="E")y=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")y=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")y=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")y=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")y="\0";else if(g==="V")y="@";else if(g==="W")y="`";else if(g==="X"||g==="Y"||g==="Z")y="";else throw new L;break;case"/":if(g>="A"&&g<="O")y=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")y=":";else throw new L;break}c+=y,d++}else c+=p}return c}}Jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Jt.ASTERISK_ENCODING=148;class ut extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,c){let d=this.decodeStart(a),p=this.decodeEnd(a),g=new se;ut.decodeMiddle(a,d[1],p[0],g);let y=g.toString(),_=null;c!=null&&(_=c.get(F.ALLOWED_LENGTHS)),_==null&&(_=ut.DEFAULT_ALLOWED_LENGTHS);let C=y.length,O=!1,P=0;for(let W of _){if(C===W){O=!0;break}W>P&&(P=W)}if(!O&&C>P&&(O=!0),!O)throw new L;const j=[new ye(d[1],i),new ye(p[0],i)];return new fe(y,null,0,j,ve.ITF,new Date().getTime())}static decodeMiddle(i,a,c,d){let p=new Int32Array(10),g=new Int32Array(5),y=new Int32Array(5);for(p.fill(0),g.fill(0),y.fill(0);a<c;){Bt.recordPattern(i,a,p);for(let C=0;C<5;C++){let O=2*C;g[C]=p[O],y[C]=p[O+1]}let _=ut.decodeDigit(g);d.append(_.toString()),_=this.decodeDigit(y),d.append(_.toString()),p.forEach(function(C){a+=C})}}decodeStart(i){let a=ut.skipWhiteSpace(i),c=ut.findGuardPattern(i,a,ut.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(i,c[0]),c}validateQuietZone(i,a){let c=this.narrowLineWidth*10;c=c<a?c:a;for(let d=a-1;c>0&&d>=0&&!i.get(d);d--)c--;if(c!==0)throw new H}static skipWhiteSpace(i){const a=i.getSize(),c=i.getNextSet(0);if(c===a)throw new H;return c}decodeEnd(i){i.reverse();try{let a=ut.skipWhiteSpace(i),c;try{c=ut.findGuardPattern(i,a,ut.END_PATTERN_REVERSED[0])}catch(p){p instanceof H&&(c=ut.findGuardPattern(i,a,ut.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,c[0]);let d=c[0];return c[0]=i.getSize()-c[1],c[1]=i.getSize()-d,c}finally{i.reverse()}}static findGuardPattern(i,a,c){let d=c.length,p=new Int32Array(d),g=i.getSize(),y=!1,_=0,C=a;p.fill(0);for(let O=a;O<g;O++)if(i.get(O)!==y)p[_]++;else{if(_===d-1){if(Bt.patternMatchVariance(p,c,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return[C,O];C+=p[0]+p[1],b.arraycopy(p,2,p,0,_-1),p[_-1]=0,p[_]=0,_--}else _++;p[_]=1,y=!y}throw new H}static decodeDigit(i){let a=ut.MAX_AVG_VARIANCE,c=-1,d=ut.PATTERNS.length;for(let p=0;p<d;p++){let g=ut.PATTERNS[p],y=Bt.patternMatchVariance(i,g,ut.MAX_INDIVIDUAL_VARIANCE);y<a?(a=y,c=p):y===a&&(c=-1)}if(c>=0)return c%10;throw new H}}ut.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ut.MAX_AVG_VARIANCE=.38,ut.MAX_INDIVIDUAL_VARIANCE=.5,ut.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ut.START_PATTERN=Int32Array.from([1,1,1,1]),ut.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ft extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,c,d=0,p=Int32Array.from([0,0,0]);for(;!a;){p=Int32Array.from([0,0,0]),c=Ft.findGuardPattern(i,d,!1,this.START_END_PATTERN,p);let g=c[0];d=c[1];let y=g-(d-g);y>=0&&(a=i.isRange(y,g,!1))}return c}static checkChecksum(i){return Ft.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let c=parseInt(i.charAt(a-1),10);return Ft.getStandardUPCEANChecksum(i.substring(0,a-1))===c}static getStandardUPCEANChecksum(i){let a=i.length,c=0;for(let d=a-1;d>=0;d-=2){let p=i.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new L;c+=p}c*=3;for(let d=a-2;d>=0;d-=2){let p=i.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new L;c+=p}return(1e3-c)%10}static decodeEnd(i,a){return Ft.findGuardPattern(i,a,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,c,d){return this.findGuardPattern(i,a,c,d,new Int32Array(d.length))}static findGuardPattern(i,a,c,d,p){let g=i.getSize();a=c?i.getNextUnset(a):i.getNextSet(a);let y=0,_=a,C=d.length,O=c;for(let P=a;P<g;P++)if(i.get(P)!==O)p[y]++;else{if(y===C-1){if(Bt.patternMatchVariance(p,d,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return Int32Array.from([_,P]);_+=p[0]+p[1];let j=p.slice(2,p.length-1);for(let V=0;V<y-1;V++)p[V]=j[V];p[y-1]=0,p[y]=0,y--}else y++;p[y]=1,O=!O}throw new H}static decodeDigit(i,a,c,d){this.recordPattern(i,c,a);let p=this.MAX_AVG_VARIANCE,g=-1,y=d.length;for(let _=0;_<y;_++){let C=d[_],O=Bt.patternMatchVariance(a,C,Ft.MAX_INDIVIDUAL_VARIANCE);O<p&&(p=O,g=_)}if(g>=0)return g;throw new H}}Ft.MAX_AVG_VARIANCE=.48,Ft.MAX_INDIVIDUAL_VARIANCE=.7,Ft.START_END_PATTERN=Int32Array.from([1,1,1]),Ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class ea{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,c){let d=this.decodeRowStringBuffer,p=this.decodeMiddle(a,c,d),g=d.toString(),y=ea.parseExtensionString(g),_=[new ye((c[0]+c[1])/2,i),new ye(p,i)],C=new fe(g,null,0,_,ve.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&C.putAllMetadata(y),C}decodeMiddle(i,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=i.getSize(),g=a[1],y=0;for(let C=0;C<5&&g<p;C++){let O=Ft.decodeDigit(i,d,g,Ft.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let P of d)g+=P;O>=10&&(y|=1<<4-C),C!==4&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(c.length!==5)throw new H;let _=this.determineCheckDigit(y);if(ea.extensionChecksum(c.toString())!==_)throw new H;return g}static extensionChecksum(i){let a=i.length,c=0;for(let d=a-2;d>=0;d-=2)c+=i.charAt(d).charCodeAt(0)-48;c*=3;for(let d=a-1;d>=0;d-=2)c+=i.charAt(d).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new H}static parseExtensionString(i){if(i.length!==5)return null;let a=ea.parseExtension5String(i);return a==null?null:new Map([[ke.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let c=parseInt(i.substring(1)),d=(c/100).toString(),p=c%100,g=p<10?"0"+p:p.toString();return a+d+"."+g}}class Ja{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,c){let d=this.decodeRowStringBuffer,p=this.decodeMiddle(a,c,d),g=d.toString(),y=Ja.parseExtensionString(g),_=[new ye((c[0]+c[1])/2,i),new ye(p,i)],C=new fe(g,null,0,_,ve.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&C.putAllMetadata(y),C}decodeMiddle(i,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=i.getSize(),g=a[1],y=0;for(let _=0;_<2&&g<p;_++){let C=Ft.decodeDigit(i,d,g,Ft.L_AND_G_PATTERNS);c+=String.fromCharCode(48+C%10);for(let O of d)g+=O;C>=10&&(y|=1<<1-_),_!==1&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(c.length!==2)throw new H;if(parseInt(c.toString())%4!==y)throw new H;return g}static parseExtensionString(i){return i.length!==2?null:new Map([[ke.ISSUE_NUMBER,parseInt(i)]])}}class Pc{static decodeRow(i,a,c){let d=Ft.findGuardPattern(a,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new ea().decodeRow(i,a,d)}catch{return new Ja().decodeRow(i,a,d)}}}Pc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class ht extends Ft{constructor(){super(),this.decodeRowStringBuffer="",ht.L_AND_G_PATTERNS=ht.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=ht.L_PATTERNS[i-10],c=new Int32Array(a.length);for(let d=0;d<a.length;d++)c[d]=a[a.length-d-1];ht.L_AND_G_PATTERNS[i]=c}}decodeRow(i,a,c){let d=ht.findStartGuardPattern(a),p=c==null?null:c.get(F.NEED_RESULT_POINT_CALLBACK);if(p!=null){const he=new ye((d[0]+d[1])/2,i);p.foundPossibleResultPoint(he)}let g=this.decodeMiddle(a,d,this.decodeRowStringBuffer),y=g.rowOffset,_=g.resultString;if(p!=null){const he=new ye(y,i);p.foundPossibleResultPoint(he)}let C=this.decodeEnd(a,y);if(p!=null){const he=new ye((C[0]+C[1])/2,i);p.foundPossibleResultPoint(he)}let O=C[1],P=O+(O-C[0]);if(P>=a.getSize()||!a.isRange(O,P,!1))throw new H;let j=_.toString();if(j.length<8)throw new L;if(!ht.checkChecksum(j))throw new E;let V=(d[1]+d[0])/2,W=(C[1]+C[0])/2,$=this.getBarcodeFormat(),q=[new ye(V,i),new ye(W,i)],re=new fe(j,null,0,q,$,new Date().getTime()),ge=0;try{let he=Pc.decodeRow(i,a,C[1]);re.putMetadata(ke.UPC_EAN_EXTENSION,he.getText()),re.putAllMetadata(he.getResultMetadata()),re.addResultPoints(he.getResultPoints()),ge=he.getText().length}catch{}let me=c==null?null:c.get(F.ALLOWED_EAN_EXTENSIONS);if(me!=null){let he=!1;for(let ot in me)if(ge.toString()===ot){he=!0;break}if(!he)throw new H}return re}decodeEnd(i,a){return ht.findGuardPattern(i,a,!1,ht.START_END_PATTERN,new Int32Array(ht.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return ht.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let c=parseInt(i.charAt(a-1),10);return ht.getStandardUPCEANChecksum(i.substring(0,a-1))===c}static getStandardUPCEANChecksum(i){let a=i.length,c=0;for(let d=a-1;d>=0;d-=2){let p=i.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new L;c+=p}c*=3;for(let d=a-2;d>=0;d-=2){let p=i.charAt(d).charCodeAt(0)-48;if(p<0||p>9)throw new L;c+=p}return(1e3-c)%10}}class ys extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=i.getSize(),g=a[1],y=0;for(let C=0;C<6&&g<p;C++){let O=ht.decodeDigit(i,d,g,ht.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let P of d)g+=P;O>=10&&(y|=1<<5-C)}c=ys.determineFirstDigit(c,y),g=ht.findGuardPattern(i,g,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&g<p;C++){let O=ht.decodeDigit(i,d,g,ht.L_PATTERNS);c+=String.fromCharCode(48+O);for(let P of d)g+=P}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(i,a){for(let c=0;c<10;c++)if(a===this.FIRST_DIGIT_ENCODINGS[c])return i=String.fromCharCode(48+c)+i,i;throw new H}}ys.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ws extends ht{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,c){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=i.getSize(),g=a[1];for(let _=0;_<4&&g<p;_++){let C=ht.decodeDigit(i,d,g,ht.L_PATTERNS);c+=String.fromCharCode(48+C);for(let O of d)g+=O}g=ht.findGuardPattern(i,g,!0,ht.MIDDLE_PATTERN,new Int32Array(ht.MIDDLE_PATTERN.length).fill(0))[1];for(let _=0;_<4&&g<p;_++){let C=ht.decodeDigit(i,d,g,ht.L_PATTERNS);c+=String.fromCharCode(48+C);for(let O of d)g+=O}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return ve.EAN_8}}class Sd extends ht{constructor(){super(...arguments),this.ean13Reader=new ys}getBarcodeFormat(){return ve.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,c))}decodeMiddle(i,a,c){return this.ean13Reader.decodeMiddle(i,a,c)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let c=new fe(a.substring(1),null,null,i.getResultPoints(),ve.UPC_A);return i.getResultMetadata()!=null&&c.putAllMetadata(i.getResultMetadata()),c}else throw new H}reset(){this.ean13Reader.reset()}}class Pe extends ht{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,c){const d=this.decodeMiddleCounters.map(C=>C);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const p=i.getSize();let g=a[1],y=0;for(let C=0;C<6&&g<p;C++){const O=Pe.decodeDigit(i,d,g,Pe.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let P of d)g+=P;O>=10&&(y|=1<<5-C)}let _=Pe.determineNumSysAndCheckDigit(c,y);return{rowOffset:g,resultString:_}}decodeEnd(i,a){return Pe.findGuardPatternWithoutCounters(i,a,!0,Pe.MIDDLE_END_PATTERN)}checkChecksum(i){return ht.checkChecksum(Pe.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let c=0;c<=1;c++)for(let d=0;d<10;d++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][d]){let p=String.fromCharCode(48+c),g=String.fromCharCode(48+d);return p+i+g}throw H.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(p=>p.charCodeAt(0)),c=new se;c.append(i.charAt(0));let d=a[5];switch(d){case 0:case 1:case 2:c.appendChars(a,0,2),c.append(d),c.append("0000"),c.appendChars(a,2,3);break;case 3:c.appendChars(a,0,3),c.append("00000"),c.appendChars(a,3,2);break;case 4:c.appendChars(a,0,4),c.append("00000"),c.append(a[4]);break;default:c.appendChars(a,0,5),c.append("0000"),c.append(d);break}return i.length>=8&&c.append(i.charAt(7)),c.toString()}}Pe.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Pe.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class gt extends Bt{constructor(i){super();let a=i==null?null:i.get(F.POSSIBLE_FORMATS),c=[];n(a)?(c.push(new ys),c.push(new Sd),c.push(new ws),c.push(new Pe)):(a.indexOf(ve.EAN_13)>-1&&c.push(new ys),a.indexOf(ve.UPC_A)>-1&&c.push(new Sd),a.indexOf(ve.EAN_8)>-1&&c.push(new ws),a.indexOf(ve.UPC_E)>-1&&c.push(new Pe)),this.readers=c}decodeRow(i,a,c){for(let d of this.readers)try{const p=d.decodeRow(i,a,c),g=p.getBarcodeFormat()===ve.EAN_13&&p.getText().charAt(0)==="0",y=c==null?null:c.get(F.POSSIBLE_FORMATS),_=y==null||y.includes(ve.UPC_A);if(g&&_){const C=p.getRawBytes(),O=new fe(p.getText().substring(1),C,C?C.length:null,p.getResultPoints(),ve.UPC_A);return O.putAllMetadata(p.getResultMetadata()),O}return p}catch{}throw new H}reset(){for(let i of this.readers)i.reset()}}class qe extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let c=0;c<a.length;c++)if(Bt.patternMatchVariance(i,a[c],qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return c;throw new H}static count(i){return be.sum(new Int32Array(i))}static increment(i,a){let c=0,d=a[0];for(let p=1;p<i.length;p++)a[p]>d&&(d=a[p],c=p);i[c]++}static decrement(i,a){let c=0,d=a[0];for(let p=1;p<i.length;p++)a[p]<d&&(d=a[p],c=p);i[c]--}static isFinderPattern(i){let a=i[0]+i[1],c=a+i[2]+i[3],d=a/c;if(d>=qe.MIN_FINDER_PATTERN_RATIO&&d<=qe.MAX_FINDER_PATTERN_RATIO){let p=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let y of i)y>g&&(g=y),y<p&&(p=y);return g<10*p}return!1}}qe.MAX_AVG_VARIANCE=.2,qe.MAX_INDIVIDUAL_VARIANCE=.45,qe.MIN_FINDER_PATTERN_RATIO=9.5/12,qe.MAX_FINDER_PATTERN_RATIO=12.5/14;class Nr{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Nr))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Hr{constructor(i,a,c,d,p){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new ye(c,p)),this.resultPoints.push(new ye(d,p))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Hr))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class wr{constructor(){}static getRSSvalue(i,a,c){let d=0;for(let _ of i)d+=_;let p=0,g=0,y=i.length;for(let _=0;_<y-1;_++){let C;for(C=1,g|=1<<_;C<i[_];C++,g&=~(1<<_)){let O=wr.combins(d-C-1,y-_-2);if(c&&g===0&&d-C-(y-_-1)>=y-_-1&&(O-=wr.combins(d-C-(y-_),y-_-2)),y-_-1>1){let P=0;for(let j=d-C-(y-_-2);j>a;j--)P+=wr.combins(d-C-j-1,y-_-3);O-=P*(y-1-_)}else d-C>a&&O--;p+=O}d-=C}return p}static combins(i,a){let c,d;i-a>a?(d=a,c=i-a):(d=i-a,c=a);let p=1,g=1;for(let y=i;y>c;y--)p*=y,g<=d&&(p/=g,g++);for(;g<=d;)p/=g,g++;return p}}class mi{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let c=12*a,d=new M(c),p=0,y=i[0].getRightChar().getValue();for(let _=11;_>=0;--_)y&1<<_&&d.set(p),p++;for(let _=1;_<i.length;++_){let C=i[_],O=C.getLeftChar().getValue();for(let P=11;P>=0;--P)O&1<<P&&d.set(p),p++;if(C.getRightChar()!=null){let P=C.getRightChar().getValue();for(let j=11;j>=0;--j)P&1<<j&&d.set(p),p++}}return d}}class vr{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class qn{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class hn extends qn{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===hn.FNC1}}hn.FNC1="$";class ta extends qn{constructor(i,a,c){super(i),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class Kn extends qn{constructor(i,a,c){if(super(i),a<0||a>10||c<0||c>10)throw new L;this.firstDigit=a,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===Kn.FNC1}isSecondDigitFNC1(){return this.secondDigit===Kn.FNC1}isAnyFNC1(){return this.firstDigit===Kn.FNC1||this.secondDigit===Kn.FNC1}}Kn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new H;let a=i.substring(0,2);for(let p of Se.TWO_DIGIT_DATA_LENGTH)if(p[0]===a)return p[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,p[2],i):Se.processFixedAI(2,p[1],i);if(i.length<3)throw new H;let c=i.substring(0,3);for(let p of Se.THREE_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,p[2],i):Se.processFixedAI(3,p[1],i);for(let p of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(p[0]===c)return p[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,p[2],i):Se.processFixedAI(4,p[1],i);if(i.length<4)throw new H;let d=i.substring(0,4);for(let p of Se.FOUR_DIGIT_DATA_LENGTH)if(p[0]===d)return p[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,p[2],i):Se.processFixedAI(4,p[1],i);throw new H}static processFixedAI(i,a,c){if(c.length<i)throw new H;let d=c.substring(0,i);if(c.length<i+a)throw new H;let p=c.substring(i,i+a),g=c.substring(i+a),y="("+d+")"+p,_=Se.parseFieldsInGeneralPurpose(g);return _==null?y:y+_}static processVariableAI(i,a,c){let d=c.substring(0,i),p;c.length<i+a?p=c.length:p=i+a;let g=c.substring(i,p),y=c.substring(p),_="("+d+")"+g,C=Se.parseFieldsInGeneralPurpose(y);return C==null?_:_+C}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class el{constructor(i){this.buffer=new se,this.information=i}decodeAllCodes(i,a){let c=a,d=null;do{let p=this.decodeGeneralPurposeField(c,d),g=Se.parseFieldsInGeneralPurpose(p.getNewString());if(g!=null&&i.append(g),p.isRemaining()?d=""+p.getRemainingValue():d=null,c===p.getNewPosition())break;c=p.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let p=this.extractNumericValueFromBitArray(i,4);return p===0?new Kn(this.information.getSize(),Kn.FNC1,Kn.FNC1):new Kn(this.information.getSize(),p-1,Kn.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),c=(a-8)/11,d=(a-8)%11;return new Kn(i+7,c,d)}extractNumericValueFromBitArray(i,a){return el.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,c){let d=0;for(let p=0;p<c;++p)i.get(a+p)&&(d|=1<<c-p-1);return d}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new ta(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new ta(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let c=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(c!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new ta(this.current.getPosition(),this.buffer.toString()):a=new ta(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new vr(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new ta(this.current.getPosition(),this.buffer.toString());return new vr(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new ta(this.current.getPosition(),this.buffer.toString());return new vr(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new ta(this.current.getPosition(),this.buffer.toString());return new vr(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,7);if(c>=64&&c<116)return!0;if(i+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(i,8);return d>=232&&d<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new hn(i+5,hn.FNC1);if(a>=5&&a<15)return new hn(i+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(i,7);if(c>=64&&c<90)return new hn(i+7,""+(c+1));if(c>=90&&c<116)return new hn(i+7,""+(c+7));let d=this.extractNumericValueFromBitArray(i,8),p;switch(d){case 232:p="!";break;case 233:p='"';break;case 234:p="%";break;case 235:p="&";break;case 236:p="'";break;case 237:p="(";break;case 238:p=")";break;case 239:p="*";break;case 240:p="+";break;case 241:p=",";break;case 242:p="-";break;case 243:p=".";break;case 244:p="/";break;case 245:p=":";break;case 246:p=";";break;case 247:p="<";break;case 248:p="=";break;case 249:p=">";break;case 250:p="?";break;case 251:p="_";break;case 252:p=" ";break;default:throw new L}return new hn(i+8,p)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,6);return c>=16&&c<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new hn(i+5,hn.FNC1);if(a>=5&&a<15)return new hn(i+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(i,6);if(c>=32&&c<58)return new hn(i+6,""+(c+33));let d;switch(c){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new yr("Decoding invalid alphanumeric value: "+c)}return new hn(i+6,d)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class N0{constructor(i){this.information=i,this.generalDecoder=new el(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class fn extends N0{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let c=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,c)}encodeCompressedGtinWithoutAI(i,a,c){for(let d=0;d<4;++d){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*d,10);p/100===0&&i.append("0"),p/10===0&&i.append("0"),i.append(p)}fn.appendCheckDigit(i,c)}static appendCheckDigit(i,a){let c=0;for(let d=0;d<13;d++){let p=i.charAt(d+a).charCodeAt(0)-48;c+=d&1?p:3*p}c=10-c%10,c===10&&(c=0),i.append(c)}}fn.GTIN_SIZE=40;class tl extends fn{constructor(i){super(i)}parseInformation(){let i=new se;i.append("(01)");let a=i.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(tl.HEADER_SIZE,4);return i.append(c),this.encodeCompressedGtinWithoutAI(i,tl.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,tl.HEADER_SIZE+44)}}tl.HEADER_SIZE=4;class Ad extends N0{constructor(i){super(i)}parseInformation(){let i=new se;return this.getGeneralDecoder().decodeAllCodes(i,Ad.HEADER_SIZE)}}Ad.HEADER_SIZE=5;class Td extends fn{constructor(i){super(i)}encodeCompressedWeight(i,a,c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a,c);this.addWeightCode(i,d);let p=this.checkWeight(d),g=1e5;for(let y=0;y<5;++y)p/g===0&&i.append("0"),g/=10;i.append(p)}}class $s extends Td{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=$s.HEADER_SIZE+Td.GTIN_SIZE+$s.WEIGHT_SIZE)throw new H;let i=new se;return this.encodeCompressedGtin(i,$s.HEADER_SIZE),this.encodeCompressedWeight(i,$s.HEADER_SIZE+Td.GTIN_SIZE,$s.WEIGHT_SIZE),i.toString()}}$s.HEADER_SIZE=5,$s.WEIGHT_SIZE=15;class LN extends $s{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class BN extends $s{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Gs extends fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Gs.HEADER_SIZE+fn.GTIN_SIZE)throw new H;let i=new se;this.encodeCompressedGtin(i,Gs.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Gs.HEADER_SIZE+fn.GTIN_SIZE,Gs.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Gs.HEADER_SIZE+fn.GTIN_SIZE+Gs.LAST_DIGIT_SIZE,null);return i.append(c.getNewString()),i.toString()}}Gs.HEADER_SIZE=8,Gs.LAST_DIGIT_SIZE=2;class tn extends fn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<tn.HEADER_SIZE+fn.GTIN_SIZE)throw new H;let i=new se;this.encodeCompressedGtin(i,tn.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(tn.HEADER_SIZE+fn.GTIN_SIZE,tn.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(tn.HEADER_SIZE+fn.GTIN_SIZE+tn.LAST_DIGIT_SIZE,tn.FIRST_THREE_DIGITS_SIZE);c/100==0&&i.append("0"),c/10==0&&i.append("0"),i.append(c);let d=this.getGeneralDecoder().decodeGeneralPurposeField(tn.HEADER_SIZE+fn.GTIN_SIZE+tn.LAST_DIGIT_SIZE+tn.FIRST_THREE_DIGITS_SIZE,null);return i.append(d.getNewString()),i.toString()}}tn.HEADER_SIZE=8,tn.LAST_DIGIT_SIZE=2,tn.FIRST_THREE_DIGITS_SIZE=10;class Ut extends Td{constructor(i,a,c){super(i),this.dateCode=c,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE+Ut.DATE_SIZE)throw new H;let i=new se;return this.encodeCompressedGtin(i,Ut.HEADER_SIZE),this.encodeCompressedWeight(i,Ut.HEADER_SIZE+Ut.GTIN_SIZE,Ut.WEIGHT_SIZE),this.encodeCompressedDate(i,Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Ut.DATE_SIZE);if(c==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let d=c%32;c/=32;let p=c%12+1;c/=12;let g=c;g/10==0&&i.append("0"),i.append(g),p/10==0&&i.append("0"),i.append(p),d/10==0&&i.append("0"),i.append(d)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}Ut.HEADER_SIZE=8,Ut.WEIGHT_SIZE=20,Ut.DATE_SIZE=16;function ay(k){try{if(k.get(1))return new tl(k);if(!k.get(2))return new Ad(k);switch(el.extractNumericValueFromBitArray(k,1,4)){case 4:return new LN(k);case 5:return new BN(k)}switch(el.extractNumericValueFromBitArray(k,1,5)){case 12:return new Gs(k);case 13:return new tn(k)}switch(el.extractNumericValueFromBitArray(k,1,7)){case 56:return new Ut(k,"310","11");case 57:return new Ut(k,"320","11");case 58:return new Ut(k,"310","13");case 59:return new Ut(k,"320","13");case 60:return new Ut(k,"310","15");case 61:return new Ut(k,"320","15");case 62:return new Ut(k,"310","17");case 63:return new Ut(k,"320","17")}}catch(i){throw console.log(i),new yr("unknown decoder: "+k)}}class Hi{constructor(i,a,c,d){this.leftchar=i,this.rightchar=a,this.finderpattern=c,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof Hi?Hi.equalsOrNull(i.leftchar,a.leftchar)&&Hi.equalsOrNull(i.rightchar,a.rightchar)&&Hi.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:Hi.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class I0{constructor(i,a,c){this.pairs=i,this.rowNumber=a,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof I0?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let c;return i.forEach((d,p)=>{a.forEach(g=>{d.getLeftChar().getValue()===g.getLeftChar().getValue()&&d.getRightChar().getValue()===g.getRightChar().getValue()&&d.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(c=!0)})}),c}}class le extends qe{constructor(i){super(...arguments),this.pairs=new Array(le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,c){this.pairs.length=0,this.startFromEven=!1;try{return le.constructResult(this.decodeRow2pairs(i,a))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,le.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(p){if(p instanceof H){if(!this.pairs.length)throw new H;c=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(i,!1),d){let p=this.checkRowsBoolean(!1);if(p!=null||(p=this.checkRowsBoolean(!0),p!=null))return p}throw new H}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let c=a;c<this.rows.length;c++){let d=this.rows[c];this.pairs.length=0;for(let g of i)this.pairs.push(g.getPairs());if(this.pairs.push(d.getPairs()),!le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let p=new Array(i);p.push(d);try{return this.checkRows(p,c+1)}catch(g){this.verbose&&console.log(g)}}throw new H}static isValidSequence(i){for(let a of le.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let c=!0;for(let d=0;d<i.length;d++)if(i[d].getFinderPattern().getValue()!=a[d]){c=!1;break}if(c)return!0}return!1}storeRow(i,a){let c=0,d=!1,p=!1;for(;c<this.rows.length;){let g=this.rows[c];if(g.getRowNumber()>i){p=g.isEquivalent(this.pairs);break}d=g.isEquivalent(this.pairs),c++}p||d||le.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new I0(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let c of a)if(c.getPairs().length!==i.length){for(let d of c.getPairs())for(let p of i)if(Hi.equals(d,p))break}}static isPartialRow(i,a){for(let c of a){let d=!0;for(let p of i){let g=!1;for(let y of c.getPairs())if(p.equals(y)){g=!0;break}if(!g){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=mi.buildBitArray(i),d=ay(a).parseInformation(),p=i[0].getFinderPattern().getResultPoints(),g=i[i.length-1].getFinderPattern().getResultPoints(),y=[p[0],p[1],g[0],g[1]];return new fe(d,null,null,y,ve.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),c=i.getRightChar();if(c==null)return!1;let d=c.getChecksumPortion(),p=2;for(let y=1;y<this.pairs.size();++y){let _=this.pairs.get(y);d+=_.getLeftChar().getChecksumPortion(),p++;let C=_.getRightChar();C!=null&&(d+=C.getChecksumPortion(),p++)}return d%=211,211*(p-4)+d==a.getValue()}static getNextSecondBar(i,a){let c;return i.get(a)?(c=i.getNextUnset(a),c=i.getNextSet(c)):(c=i.getNextSet(a),c=i.getNextUnset(c)),c}retrieveNextPair(i,a,c){let d=a.length%2==0;this.startFromEven&&(d=!d);let p,g=!0,y=-1;do this.findNextPair(i,a,y),p=this.parseFoundFinderPattern(i,c,d),p==null?y=le.getNextSecondBar(i,this.startEnd[0]):g=!1;while(g);let _=this.decodeDataCharacter(i,p,d,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new H;let C;try{C=this.decodeDataCharacter(i,p,d,!1)}catch(O){C=null,this.verbose&&console.log(O)}return new Hi(_,C,p,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,c){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let p=i.getSize(),g;c>=0?g=c:this.isEmptyPair(a)?g=0:g=a[a.length-1].getFinderPattern().getStartEnd()[1];let y=a.length%2!=0;this.startFromEven&&(y=!y);let _=!1;for(;g<p&&(_=!i.get(g),!!_);)g++;let C=0,O=g;for(let P=g;P<p;P++)if(i.get(P)!=_)d[C]++;else{if(C==3){if(y&&le.reverseCounters(d),le.isFinderPattern(d)){this.startEnd[0]=O,this.startEnd[1]=P;return}y&&le.reverseCounters(d),O+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,C--}else C++;d[C]=1,_=!_}throw new H}static reverseCounters(i){let a=i.length;for(let c=0;c<a/2;++c){let d=i[c];i[c]=i[a-c-1],i[a-c-1]=d}}parseFoundFinderPattern(i,a,c){let d,p,g;if(c){let C=this.startEnd[0]-1;for(;C>=0&&!i.get(C);)C--;C++,d=this.startEnd[0]-C,p=C,g=this.startEnd[1]}else p=this.startEnd[0],g=i.getNextUnset(this.startEnd[1]+1),d=g-this.startEnd[1];let y=this.getDecodeFinderCounters();b.arraycopy(y,0,y,1,y.length-1),y[0]=d;let _;try{_=this.parseFinderValue(y,le.FINDER_PATTERNS)}catch{return null}return new Hr(_,[p,g],p,g,a)}decodeDataCharacter(i,a,c,d){let p=this.getDataCharacterCounters();for(let Tt=0;Tt<p.length;Tt++)p[Tt]=0;if(d)le.recordPatternInReverse(i,a.getStartEnd()[0],p);else{le.recordPattern(i,a.getStartEnd()[1],p);for(let Tt=0,Br=p.length-1;Tt<Br;Tt++,Br--){let In=p[Tt];p[Tt]=p[Br],p[Br]=In}}let g=17,y=be.sum(new Int32Array(p))/g,_=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(y-_)/_>.3)throw new H;let C=this.getOddCounts(),O=this.getEvenCounts(),P=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let Tt=0;Tt<p.length;Tt++){let Br=1*p[Tt]/y,In=Br+.5;if(In<1){if(Br<.3)throw new H;In=1}else if(In>8){if(Br>8.7)throw new H;In=8}let ol=Tt/2;Tt&1?(O[ol]=In,j[ol]=Br-In):(C[ol]=In,P[ol]=Br-In)}this.adjustOddEvenCounts(g);let V=4*a.getValue()+(c?0:2)+(d?0:1)-1,W=0,$=0;for(let Tt=C.length-1;Tt>=0;Tt--){if(le.isNotA1left(a,c,d)){let Br=le.WEIGHTS[V][2*Tt];$+=C[Tt]*Br}W+=C[Tt]}let q=0;for(let Tt=O.length-1;Tt>=0;Tt--)if(le.isNotA1left(a,c,d)){let Br=le.WEIGHTS[V][2*Tt+1];q+=O[Tt]*Br}let re=$+q;if(W&1||W>13||W<4)throw new H;let ge=(13-W)/2,me=le.SYMBOL_WIDEST[ge],he=9-me,ot=wr.getRSSvalue(C,me,!0),Ye=wr.getRSSvalue(O,he,!1),gn=le.EVEN_TOTAL_SUBSET[ge],vs=le.GSUM[ge],mn=ot*gn+Ye+vs;return new Nr(mn,re)}static isNotA1left(i,a,c){return!(i.getValue()==0&&a&&c)}adjustOddEvenCounts(i){let a=be.sum(new Int32Array(this.getOddCounts())),c=be.sum(new Int32Array(this.getEvenCounts())),d=!1,p=!1;a>13?p=!0:a<4&&(d=!0);let g=!1,y=!1;c>13?y=!0:c<4&&(g=!0);let _=a+c-i,C=(a&1)==1,O=(c&1)==0;if(_==1)if(C){if(O)throw new H;p=!0}else{if(!O)throw new H;y=!0}else if(_==-1)if(C){if(O)throw new H;d=!0}else{if(!O)throw new H;g=!0}else if(_==0){if(C){if(!O)throw new H;a<c?(d=!0,y=!0):(p=!0,g=!0)}else if(O)throw new H}else throw new H;if(d){if(p)throw new H;le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(p&&le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new H;le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}le.SYMBOL_WIDEST=[7,5,4,3,1],le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],le.GSUM=[0,348,1388,2948,3988],le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],le.FINDER_PAT_A=0,le.FINDER_PAT_B=1,le.FINDER_PAT_C=2,le.FINDER_PAT_D=3,le.FINDER_PAT_E=4,le.FINDER_PAT_F=5,le.FINDER_PATTERN_SEQUENCES=[[le.FINDER_PAT_A,le.FINDER_PAT_A],[le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B],[le.FINDER_PAT_A,le.FINDER_PAT_C,le.FINDER_PAT_B,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_C],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F]],le.MAX_PAIRS=11;class FN extends Nr{constructor(i,a,c){super(i,a),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class er extends qe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,c){const d=this.decodePair(a,!1,i,c);er.addOrTally(this.possibleLeftPairs,d),a.reverse();let p=this.decodePair(a,!0,i,c);er.addOrTally(this.possibleRightPairs,p),a.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&er.checkChecksum(g,y))return er.constructResult(g,y)}throw new H}static addOrTally(i,a){if(a==null)return;let c=!1;for(let d of i)if(d.getValue()===a.getValue()){d.incrementCount(),c=!0;break}c||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let c=4537077*i.getValue()+a.getValue(),d=new String(c).toString(),p=new se;for(let C=13-d.length;C>0;C--)p.append("0");p.append(d);let g=0;for(let C=0;C<13;C++){let O=p.charAt(C).charCodeAt(0)-48;g+=C&1?O:3*O}g=10-g%10,g===10&&(g=0),p.append(g.toString());let y=i.getFinderPattern().getResultPoints(),_=a.getFinderPattern().getResultPoints();return new fe(p.toString(),null,0,[y[0],y[1],_[0],_[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(i,a){let c=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,d=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,c===d}decodePair(i,a,c,d){try{let p=this.findFinderPattern(i,a),g=this.parseFoundFinderPattern(i,c,a,p),y=d==null?null:d.get(F.NEED_RESULT_POINT_CALLBACK);if(y!=null){let O=(p[0]+p[1])/2;a&&(O=i.getSize()-1-O),y.foundPossibleResultPoint(new ye(O,c))}let _=this.decodeDataCharacter(i,g,!0),C=this.decodeDataCharacter(i,g,!1);return new FN(1597*_.getValue()+C.getValue(),_.getChecksumPortion()+4*C.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(i,a,c){let d=this.getDataCharacterCounters();for(let q=0;q<d.length;q++)d[q]=0;if(c)Bt.recordPatternInReverse(i,a.getStartEnd()[0],d);else{Bt.recordPattern(i,a.getStartEnd()[1]+1,d);for(let q=0,re=d.length-1;q<re;q++,re--){let ge=d[q];d[q]=d[re],d[re]=ge}}let p=c?16:15,g=be.sum(new Int32Array(d))/p,y=this.getOddCounts(),_=this.getEvenCounts(),C=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let q=0;q<d.length;q++){let re=d[q]/g,ge=Math.floor(re+.5);ge<1?ge=1:ge>8&&(ge=8);let me=Math.floor(q/2);q&1?(_[me]=ge,O[me]=re-ge):(y[me]=ge,C[me]=re-ge)}this.adjustOddEvenCounts(c,p);let P=0,j=0;for(let q=y.length-1;q>=0;q--)j*=9,j+=y[q],P+=y[q];let V=0,W=0;for(let q=_.length-1;q>=0;q--)V*=9,V+=_[q],W+=_[q];let $=j+3*V;if(c){if(P&1||P>12||P<4)throw new H;let q=(12-P)/2,re=er.OUTSIDE_ODD_WIDEST[q],ge=9-re,me=wr.getRSSvalue(y,re,!1),he=wr.getRSSvalue(_,ge,!0),ot=er.OUTSIDE_EVEN_TOTAL_SUBSET[q],Ye=er.OUTSIDE_GSUM[q];return new Nr(me*ot+he+Ye,$)}else{if(W&1||W>10||W<4)throw new H;let q=(10-W)/2,re=er.INSIDE_ODD_WIDEST[q],ge=9-re,me=wr.getRSSvalue(y,re,!0),he=wr.getRSSvalue(_,ge,!1),ot=er.INSIDE_ODD_TOTAL_SUBSET[q],Ye=er.INSIDE_GSUM[q];return new Nr(he*ot+me+Ye,$)}}findFinderPattern(i,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),p=!1,g=0;for(;g<d&&(p=!i.get(g),a!==p);)g++;let y=0,_=g;for(let C=g;C<d;C++)if(i.get(C)!==p)c[y]++;else{if(y===3){if(qe.isFinderPattern(c))return[_,C];_+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,p=!p}throw new H}parseFoundFinderPattern(i,a,c,d){let p=i.get(d[0]),g=d[0]-1;for(;g>=0&&p!==i.get(g);)g--;g++;const y=d[0]-g,_=this.getDecodeFinderCounters(),C=new Int32Array(_.length);b.arraycopy(_,0,C,1,_.length-1),C[0]=y;const O=this.parseFinderValue(C,er.FINDER_PATTERNS);let P=g,j=d[1];return c&&(P=i.getSize()-1-P,j=i.getSize()-1-j),new Hr(O,[g,d[1]],P,j,a)}adjustOddEvenCounts(i,a){let c=be.sum(new Int32Array(this.getOddCounts())),d=be.sum(new Int32Array(this.getEvenCounts())),p=!1,g=!1,y=!1,_=!1;i?(c>12?g=!0:c<4&&(p=!0),d>12?_=!0:d<4&&(y=!0)):(c>11?g=!0:c<5&&(p=!0),d>10?_=!0:d<4&&(y=!0));let C=c+d-a,O=(c&1)===(i?1:0),P=(d&1)===1;if(C===1)if(O){if(P)throw new H;g=!0}else{if(!P)throw new H;_=!0}else if(C===-1)if(O){if(P)throw new H;p=!0}else{if(!P)throw new H;y=!0}else if(C===0){if(O){if(!P)throw new H;c<d?(p=!0,_=!0):(g=!0,y=!0)}else if(P)throw new H}else throw new H;if(p){if(g)throw new H;qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(_)throw new H;qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}_&&qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}er.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],er.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],er.OUTSIDE_GSUM=[0,161,961,2015,2715],er.INSIDE_GSUM=[0,336,1036,1516],er.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],er.INSIDE_ODD_WIDEST=[2,4,6,8],er.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class rl extends Bt{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const c=i?i.get(F.POSSIBLE_FORMATS):null,d=i&&i.get(F.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(ve.EAN_13)||c.includes(ve.UPC_A)||c.includes(ve.EAN_8)||c.includes(ve.UPC_E))&&this.readers.push(new gt(i)),c.includes(ve.CODE_39)&&this.readers.push(new Jt(d)),c.includes(ve.CODE_128)&&this.readers.push(new xe),c.includes(ve.ITF)&&this.readers.push(new ut),c.includes(ve.RSS_14)&&this.readers.push(new er),c.includes(ve.RSS_EXPANDED)&&this.readers.push(new le(this.verbose))):(this.readers.push(new gt(i)),this.readers.push(new Jt),this.readers.push(new gt(i)),this.readers.push(new xe),this.readers.push(new ut),this.readers.push(new er),this.readers.push(new le(this.verbose)))}decodeRow(i,a,c){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(i,a,c)}catch{}throw new H}reset(){this.readers.forEach(i=>i.reset())}}class UN extends ae{constructor(i=500,a){super(new rl(a),i,a)}}class yt{constructor(i,a,c){this.ecCodewords=i,this.ecBlocks=[a],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class xt{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class at{constructor(i,a,c,d,p,g){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=c,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=p,this.ecBlocks=g;let y=0;const _=g.getECCodewords(),C=g.getECBlocks();for(let O of C)y+=O.getCount()*(O.getDataCodewords()+_);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new L;for(let c of at.VERSIONS)if(c.symbolSizeRows===i&&c.symbolSizeColumns===a)return c;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new at(1,10,10,8,8,new yt(5,new xt(1,3))),new at(2,12,12,10,10,new yt(7,new xt(1,5))),new at(3,14,14,12,12,new yt(10,new xt(1,8))),new at(4,16,16,14,14,new yt(12,new xt(1,12))),new at(5,18,18,16,16,new yt(14,new xt(1,18))),new at(6,20,20,18,18,new yt(18,new xt(1,22))),new at(7,22,22,20,20,new yt(20,new xt(1,30))),new at(8,24,24,22,22,new yt(24,new xt(1,36))),new at(9,26,26,24,24,new yt(28,new xt(1,44))),new at(10,32,32,14,14,new yt(36,new xt(1,62))),new at(11,36,36,16,16,new yt(42,new xt(1,86))),new at(12,40,40,18,18,new yt(48,new xt(1,114))),new at(13,44,44,20,20,new yt(56,new xt(1,144))),new at(14,48,48,22,22,new yt(68,new xt(1,174))),new at(15,52,52,24,24,new yt(42,new xt(2,102))),new at(16,64,64,14,14,new yt(56,new xt(2,140))),new at(17,72,72,16,16,new yt(36,new xt(4,92))),new at(18,80,80,18,18,new yt(48,new xt(4,114))),new at(19,88,88,20,20,new yt(56,new xt(4,144))),new at(20,96,96,22,22,new yt(68,new xt(4,174))),new at(21,104,104,24,24,new yt(56,new xt(6,136))),new at(22,120,120,18,18,new yt(68,new xt(6,175))),new at(23,132,132,20,20,new yt(62,new xt(8,163))),new at(24,144,144,22,22,new yt(62,new xt(8,156),new xt(2,155))),new at(25,8,18,6,16,new yt(7,new xt(1,5))),new at(26,8,32,6,14,new yt(11,new xt(1,10))),new at(27,12,26,10,24,new yt(14,new xt(1,16))),new at(28,12,36,10,16,new yt(18,new xt(1,22))),new at(29,16,36,14,16,new yt(24,new xt(1,32))),new at(30,16,48,14,22,new yt(28,new xt(1,49)))]}}at.VERSIONS=at.buildVersions();class R0{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new L;this.version=R0.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new G(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),c=i.getWidth();return at.getVersionForDimensions(a,c)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,c=4,d=0;const p=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let y=!1,_=!1,C=!1,O=!1;do if(c===p&&d===0&&!y)i[a++]=this.readCorner1(p,g)&255,c-=2,d+=2,y=!0;else if(c===p-2&&d===0&&g&3&&!_)i[a++]=this.readCorner2(p,g)&255,c-=2,d+=2,_=!0;else if(c===p+4&&d===2&&!(g&7)&&!C)i[a++]=this.readCorner3(p,g)&255,c-=2,d+=2,C=!0;else if(c===p-2&&d===0&&(g&7)===4&&!O)i[a++]=this.readCorner4(p,g)&255,c-=2,d+=2,O=!0;else{do c<p&&d>=0&&!this.readMappingMatrix.get(d,c)&&(i[a++]=this.readUtah(c,d,p,g)&255),c-=2,d+=2;while(c>=0&&d<g);c+=1,d+=3;do c>=0&&d<g&&!this.readMappingMatrix.get(d,c)&&(i[a++]=this.readUtah(c,d,p,g)&255),c+=2,d-=2;while(c<p&&d>=0);c+=3,d+=1}while(c<p||d<g);if(a!==this.version.getTotalCodewords())throw new L;return i}readModule(i,a,c,d){return i<0&&(i+=c,a+=4-(c+4&7)),a<0&&(a+=d,i+=4-(d+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,c,d){let p=0;return this.readModule(i-2,a-2,c,d)&&(p|=1),p<<=1,this.readModule(i-2,a-1,c,d)&&(p|=1),p<<=1,this.readModule(i-1,a-2,c,d)&&(p|=1),p<<=1,this.readModule(i-1,a-1,c,d)&&(p|=1),p<<=1,this.readModule(i-1,a,c,d)&&(p|=1),p<<=1,this.readModule(i,a-2,c,d)&&(p|=1),p<<=1,this.readModule(i,a-1,c,d)&&(p|=1),p<<=1,this.readModule(i,a,c,d)&&(p|=1),p}readCorner1(i,a){let c=0;return this.readModule(i-1,0,i,a)&&(c|=1),c<<=1,this.readModule(i-1,1,i,a)&&(c|=1),c<<=1,this.readModule(i-1,2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-1,i,a)&&(c|=1),c<<=1,this.readModule(1,a-1,i,a)&&(c|=1),c<<=1,this.readModule(2,a-1,i,a)&&(c|=1),c<<=1,this.readModule(3,a-1,i,a)&&(c|=1),c}readCorner2(i,a){let c=0;return this.readModule(i-3,0,i,a)&&(c|=1),c<<=1,this.readModule(i-2,0,i,a)&&(c|=1),c<<=1,this.readModule(i-1,0,i,a)&&(c|=1),c<<=1,this.readModule(0,a-4,i,a)&&(c|=1),c<<=1,this.readModule(0,a-3,i,a)&&(c|=1),c<<=1,this.readModule(0,a-2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-1,i,a)&&(c|=1),c<<=1,this.readModule(1,a-1,i,a)&&(c|=1),c}readCorner3(i,a){let c=0;return this.readModule(i-1,0,i,a)&&(c|=1),c<<=1,this.readModule(i-1,a-1,i,a)&&(c|=1),c<<=1,this.readModule(0,a-3,i,a)&&(c|=1),c<<=1,this.readModule(0,a-2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-1,i,a)&&(c|=1),c<<=1,this.readModule(1,a-3,i,a)&&(c|=1),c<<=1,this.readModule(1,a-2,i,a)&&(c|=1),c<<=1,this.readModule(1,a-1,i,a)&&(c|=1),c}readCorner4(i,a){let c=0;return this.readModule(i-3,0,i,a)&&(c|=1),c<<=1,this.readModule(i-2,0,i,a)&&(c|=1),c<<=1,this.readModule(i-1,0,i,a)&&(c|=1),c<<=1,this.readModule(0,a-2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-1,i,a)&&(c|=1),c<<=1,this.readModule(1,a-1,i,a)&&(c|=1),c<<=1,this.readModule(2,a-1,i,a)&&(c|=1),c<<=1,this.readModule(3,a-1,i,a)&&(c|=1),c}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new w("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),p=this.version.getDataRegionSizeColumns(),g=a/d|0,y=c/p|0,_=g*d,C=y*p,O=new G(C,_);for(let P=0;P<g;++P){const j=P*d;for(let V=0;V<y;++V){const W=V*p;for(let $=0;$<d;++$){const q=P*(d+2)+1+$,re=j+$;for(let ge=0;ge<p;++ge){const me=V*(p+2)+1+ge;if(i.get(me,q)){const he=W+ge;O.set(he,re)}}}}}return O}}class O0{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const c=a.getECBlocks();let d=0;const p=c.getECBlocks();for(let $ of p)d+=$.getCount();const g=new Array(d);let y=0;for(let $ of p)for(let q=0;q<$.getCount();q++){const re=$.getDataCodewords(),ge=c.getECCodewords()+re;g[y++]=new O0(re,new Uint8Array(ge))}const C=g[0].codewords.length-c.getECCodewords(),O=C-1;let P=0;for(let $=0;$<O;$++)for(let q=0;q<y;q++)g[q].codewords[$]=i[P++];const j=a.getVersionNumber()===24,V=j?8:y;for(let $=0;$<V;$++)g[$].codewords[C-1]=i[P++];const W=g[0].codewords.length;for(let $=C;$<W;$++)for(let q=0;q<y;q++){const re=j?(q+8)%y:q,ge=j&&re>7?$-1:$;g[re].codewords[ge]=i[P++]}if(P!==i.length)throw new w;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class M0{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new w(""+i);let a=0,c=this.bitOffset,d=this.byteOffset;const p=this.bytes;if(c>0){const g=8-c,y=i<g?i:g,_=g-y,C=255>>8-y<<_;a=(p[d]&C)>>_,i-=y,c+=y,c===8&&(c=0,d++)}if(i>0){for(;i>=8;)a=a<<8|p[d]&255,d++,i-=8;if(i>0){const g=8-i,y=255>>g<<g;a=a<<i|(p[d]&y)>>g,c+=i}}return this.bitOffset=c,this.byteOffset=d,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var _r;(function(k){k[k.PAD_ENCODE=0]="PAD_ENCODE",k[k.ASCII_ENCODE=1]="ASCII_ENCODE",k[k.C40_ENCODE=2]="C40_ENCODE",k[k.TEXT_ENCODE=3]="TEXT_ENCODE",k[k.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",k[k.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",k[k.BASE256_ENCODE=6]="BASE256_ENCODE"})(_r||(_r={}));class Wi{static decode(i){const a=new M0(i),c=new se,d=new se,p=new Array;let g=_r.ASCII_ENCODE;do if(g===_r.ASCII_ENCODE)g=this.decodeAsciiSegment(a,c,d);else{switch(g){case _r.C40_ENCODE:this.decodeC40Segment(a,c);break;case _r.TEXT_ENCODE:this.decodeTextSegment(a,c);break;case _r.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,c);break;case _r.EDIFACT_ENCODE:this.decodeEdifactSegment(a,c);break;case _r.BASE256_ENCODE:this.decodeBase256Segment(a,c,p);break;default:throw new L}g=_r.ASCII_ENCODE}while(g!==_r.PAD_ENCODE&&a.available()>0);return d.length()>0&&c.append(d.toString()),new dt(i,c.toString(),p.length===0?null:p,null)}static decodeAsciiSegment(i,a,c){let d=!1;do{let p=i.readBits(8);if(p===0)throw new L;if(p<=128)return d&&(p+=128),a.append(String.fromCharCode(p-1)),_r.ASCII_ENCODE;if(p===129)return _r.PAD_ENCODE;if(p<=229){const g=p-130;g<10&&a.append("0"),a.append(""+g)}else switch(p){case 230:return _r.C40_ENCODE;case 231:return _r.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:a.append("[)>05"),c.insert(0,"");break;case 237:a.append("[)>06"),c.insert(0,"");break;case 238:return _r.ANSIX12_ENCODE;case 239:return _r.TEXT_ENCODE;case 240:return _r.EDIFACT_ENCODE;case 241:break;default:if(p!==254||i.available()!==0)throw new L;break}}while(i.available()>0);return _r.ASCII_ENCODE}static decodeC40Segment(i,a){let c=!1;const d=[];let p=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),d);for(let y=0;y<3;y++){const _=d[y];switch(p){case 0:if(_<3)p=_+1;else if(_<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[_];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C)}else throw new L;break;case 1:c?(a.append(String.fromCharCode(_+128)),c=!1):a.append(String.fromCharCode(_)),p=0;break;case 2:if(_<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[_];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C)}else switch(_){case 27:a.append("");break;case 30:c=!0;break;default:throw new L}p=0;break;case 3:c?(a.append(String.fromCharCode(_+224)),c=!1):a.append(String.fromCharCode(_+96)),p=0;break;default:throw new L}}}while(i.available()>0)}static decodeTextSegment(i,a){let c=!1,d=[],p=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),d);for(let y=0;y<3;y++){const _=d[y];switch(p){case 0:if(_<3)p=_+1;else if(_<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[_];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C)}else throw new L;break;case 1:c?(a.append(String.fromCharCode(_+128)),c=!1):a.append(String.fromCharCode(_)),p=0;break;case 2:if(_<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[_];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C)}else switch(_){case 27:a.append("");break;case 30:c=!0;break;default:throw new L}p=0;break;case 3:if(_<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[_];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C),p=0}else throw new L;break;default:throw new L}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const c=[];do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let p=0;p<3;p++){const g=c[p];switch(g){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(g<14)a.append(String.fromCharCode(g+44));else if(g<40)a.append(String.fromCharCode(g+51));else throw new L;break}}}while(i.available()>0)}static parseTwoBytes(i,a,c){let d=(i<<8)+a-1,p=Math.floor(d/1600);c[0]=p,d-=p*1600,p=Math.floor(d/40),c[1]=p,c[2]=d-p*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let c=0;c<4;c++){let d=i.readBits(6);if(d===31){const p=8-i.getBitOffset();p!==8&&i.readBits(p);return}d&32||(d|=64),a.append(String.fromCharCode(d))}}while(i.available()>0)}static decodeBase256Segment(i,a,c){let d=1+i.getByteOffset();const p=this.unrandomize255State(i.readBits(8),d++);let g;if(p===0?g=i.available()/8|0:p<250?g=p:g=250*(p-249)+this.unrandomize255State(i.readBits(8),d++),g<0)throw new L;const y=new Uint8Array(g);for(let _=0;_<g;_++){if(i.available()<8)throw new L;y[_]=this.unrandomize255State(i.readBits(8),d++)}c.push(y);try{a.append(ee.decode(y,Q.ISO88591))}catch(_){throw new yr("Platform does not support required encoding: "+_.message)}}static unrandomize255State(i,a){const c=149*a%255+1,d=i-c;return d>=0?d:d+256}}Wi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Wi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Wi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Wi.TEXT_SHIFT2_SET_CHARS=Wi.C40_SHIFT2_SET_CHARS,Wi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class zN{constructor(){this.rsDecoder=new Tr(Ue.DATA_MATRIX_FIELD_256)}decode(i){const a=new R0(i),c=a.getVersion(),d=a.readCodewords(),p=O0.getDataBlocks(d,c);let g=0;for(let C of p)g+=C.getNumDataCodewords();const y=new Uint8Array(g),_=p.length;for(let C=0;C<_;C++){const O=p[C],P=O.getCodewords(),j=O.getNumDataCodewords();this.correctErrors(P,j);for(let V=0;V<j;V++)y[V*_+C]=P[V]}return Wi.decode(y)}correctErrors(i,a){const c=new Int32Array(i);try{this.rsDecoder.decode(c,i.length-a)}catch{throw new E}for(let d=0;d<a;d++)i[d]=c[d]}}class ur{constructor(i){this.image=i,this.rectangleDetector=new Zt(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new H;a=this.shiftToModuleCenter(a);const c=a[0],d=a[1],p=a[2],g=a[3];let y=this.transitionsBetween(c,g)+1,_=this.transitionsBetween(p,g)+1;(y&1)===1&&(y+=1),(_&1)===1&&(_+=1),4*y<7*_&&4*_<7*y&&(y=_=Math.max(y,_));let C=ur.sampleGrid(this.image,c,d,p,g,y,_);return new en(C,[c,d,p,g])}static shiftPoint(i,a,c){let d=(a.getX()-i.getX())/(c+1),p=(a.getY()-i.getY())/(c+1);return new ye(i.getX()+d,i.getY()+p)}static moveAway(i,a,c){let d=i.getX(),p=i.getY();return d<a?d-=1:d+=1,p<c?p-=1:p+=1,new ye(d,p)}detectSolid1(i){let a=i[0],c=i[1],d=i[3],p=i[2],g=this.transitionsBetween(a,c),y=this.transitionsBetween(c,d),_=this.transitionsBetween(d,p),C=this.transitionsBetween(p,a),O=g,P=[p,a,c,d];return O>y&&(O=y,P[0]=a,P[1]=c,P[2]=d,P[3]=p),O>_&&(O=_,P[0]=c,P[1]=d,P[2]=p,P[3]=a),O>C&&(P[0]=d,P[1]=p,P[2]=a,P[3]=c),P}detectSolid2(i){let a=i[0],c=i[1],d=i[2],p=i[3],g=this.transitionsBetween(a,p),y=ur.shiftPoint(c,d,(g+1)*4),_=ur.shiftPoint(d,c,(g+1)*4),C=this.transitionsBetween(y,a),O=this.transitionsBetween(_,p);return C<O?(i[0]=a,i[1]=c,i[2]=d,i[3]=p):(i[0]=c,i[1]=d,i[2]=p,i[3]=a),i}correctTopRight(i){let a=i[0],c=i[1],d=i[2],p=i[3],g=this.transitionsBetween(a,p),y=this.transitionsBetween(c,p),_=ur.shiftPoint(a,c,(y+1)*4),C=ur.shiftPoint(d,c,(g+1)*4);g=this.transitionsBetween(_,p),y=this.transitionsBetween(C,p);let O=new ye(p.getX()+(d.getX()-c.getX())/(g+1),p.getY()+(d.getY()-c.getY())/(g+1)),P=new ye(p.getX()+(a.getX()-c.getX())/(y+1),p.getY()+(a.getY()-c.getY())/(y+1));if(!this.isValid(O))return this.isValid(P)?P:null;if(!this.isValid(P))return O;let j=this.transitionsBetween(_,O)+this.transitionsBetween(C,O),V=this.transitionsBetween(_,P)+this.transitionsBetween(C,P);return j>V?O:P}shiftToModuleCenter(i){let a=i[0],c=i[1],d=i[2],p=i[3],g=this.transitionsBetween(a,p)+1,y=this.transitionsBetween(d,p)+1,_=ur.shiftPoint(a,c,y*4),C=ur.shiftPoint(d,c,g*4);g=this.transitionsBetween(_,p)+1,y=this.transitionsBetween(C,p)+1,(g&1)===1&&(g+=1),(y&1)===1&&(y+=1);let O=(a.getX()+c.getX()+d.getX()+p.getX())/4,P=(a.getY()+c.getY()+d.getY()+p.getY())/4;a=ur.moveAway(a,O,P),c=ur.moveAway(c,O,P),d=ur.moveAway(d,O,P),p=ur.moveAway(p,O,P);let j,V;return _=ur.shiftPoint(a,c,y*4),_=ur.shiftPoint(_,p,g*4),j=ur.shiftPoint(c,a,y*4),j=ur.shiftPoint(j,d,g*4),C=ur.shiftPoint(d,p,y*4),C=ur.shiftPoint(C,c,g*4),V=ur.shiftPoint(p,d,y*4),V=ur.shiftPoint(V,a,g*4),[_,j,C,V]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,c,d,p,g,y){return Ws.getInstance().sampleGrid(i,g,y,.5,.5,g-.5,.5,g-.5,y-.5,.5,y-.5,a.getX(),a.getY(),p.getX(),p.getY(),d.getX(),d.getY(),c.getX(),c.getY())}transitionsBetween(i,a){let c=Math.trunc(i.getX()),d=Math.trunc(i.getY()),p=Math.trunc(a.getX()),g=Math.trunc(a.getY()),y=Math.abs(g-d)>Math.abs(p-c);if(y){let $=c;c=d,d=$,$=p,p=g,g=$}let _=Math.abs(p-c),C=Math.abs(g-d),O=-_/2,P=d<g?1:-1,j=c<p?1:-1,V=0,W=this.image.get(y?d:c,y?c:d);for(let $=c,q=d;$!==p;$+=j){let re=this.image.get(y?q:$,y?$:q);if(re!==W&&(V++,W=re),O+=C,O>0){if(q===g)break;q+=P,O-=_}}return V}}class $i{constructor(){this.decoder=new zN}decode(i,a=null){let c,d;if(a!=null&&a.has(F.PURE_BARCODE)){const C=$i.extractPureBits(i.getBlackMatrix());c=this.decoder.decode(C),d=$i.NO_POINTS}else{const C=new ur(i.getBlackMatrix()).detect();c=this.decoder.decode(C.getBits()),d=C.getPoints()}const p=c.getRawBytes(),g=new fe(c.getText(),p,8*p.length,d,ve.DATA_MATRIX,b.currentTimeMillis()),y=c.getByteSegments();y!=null&&g.putMetadata(ke.BYTE_SEGMENTS,y);const _=c.getECLevel();return _!=null&&g.putMetadata(ke.ERROR_CORRECTION_LEVEL,_),g}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),c=i.getBottomRightOnBit();if(a==null||c==null)throw new H;const d=this.moduleSize(a,i);let p=a[1];const g=c[1];let y=a[0];const C=(c[0]-y+1)/d,O=(g-p+1)/d;if(C<=0||O<=0)throw new H;const P=d/2;p+=P,y+=P;const j=new G(C,O);for(let V=0;V<O;V++){const W=p+V*d;for(let $=0;$<C;$++)i.get(y+$*d,W)&&j.set($,V)}return j}static moduleSize(i,a){const c=a.getWidth();let d=i[0];const p=i[1];for(;d<c&&a.get(d,p);)d++;if(d===c)throw new H;const g=d-i[0];if(g===0)throw new H;return g}}$i.NO_POINTS=[];class VN extends ae{constructor(i=500){super(new $i,i)}}var nl;(function(k){k[k.L=0]="L",k[k.M=1]="M",k[k.Q=2]="Q",k[k.H=3]="H"})(nl||(nl={}));class Rt{constructor(i,a,c){this.value=i,this.stringValue=a,this.bits=c,Rt.FOR_BITS.set(c,this),Rt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Rt.L;case"M":return Rt.M;case"Q":return Rt.Q;case"H":return Rt.H;default:throw new x(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Rt))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=Rt.FOR_BITS.size)throw new w;return Rt.FOR_BITS.get(i)}}Rt.FOR_BITS=new Map,Rt.FOR_VALUE=new Map,Rt.L=new Rt(nl.L,"L",1),Rt.M=new Rt(nl.M,"M",0),Rt.Q=new Rt(nl.Q,"Q",3),Rt.H=new Rt(nl.H,"H",2);class Wr{constructor(i){this.errorCorrectionLevel=Rt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return A.bitCount(i^a)}static decodeFormatInformation(i,a){const c=Wr.doDecodeFormatInformation(i,a);return c!==null?c:Wr.doDecodeFormatInformation(i^Wr.FORMAT_INFO_MASK_QR,a^Wr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let c=Number.MAX_SAFE_INTEGER,d=0;for(const p of Wr.FORMAT_INFO_DECODE_LOOKUP){const g=p[0];if(g===i||g===a)return new Wr(p[1]);let y=Wr.numBitsDiffering(i,g);y<c&&(d=p[1],c=y),i!==a&&(y=Wr.numBitsDiffering(a,g),y<c&&(d=p[1],c=y))}return c<=3?new Wr(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Wr))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Wr.FORMAT_INFO_MASK_QR=21522,Wr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Z{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const c of a)i+=c.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class z{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Oe{constructor(i,a,...c){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=c;let d=0;const p=c[0].getECCodewordsPerBlock(),g=c[0].getECBlocks();for(const y of g)d+=y.getCount()*(y.getDataCodewords()+p);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new L;try{return this.getVersionForNumber((i-17)/4)}catch{throw new L}}static getVersionForNumber(i){if(i<1||i>40)throw new w;return Oe.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,c=0;for(let d=0;d<Oe.VERSION_DECODE_INFO.length;d++){const p=Oe.VERSION_DECODE_INFO[d];if(p===i)return Oe.getVersionForNumber(d+7);const g=Wr.numBitsDiffering(i,p);g<a&&(c=d+7,a=g)}return a<=3?Oe.getVersionForNumber(c):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new G(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const c=this.alignmentPatternCenters.length;for(let d=0;d<c;d++){const p=this.alignmentPatternCenters[d]-2;for(let g=0;g<c;g++)d===0&&(g===0||g===c-1)||d===c-1&&g===0||a.setRegion(this.alignmentPatternCenters[g]-2,p,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}Oe.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Oe.VERSIONS=[new Oe(1,new Int32Array(0),new Z(7,new z(1,19)),new Z(10,new z(1,16)),new Z(13,new z(1,13)),new Z(17,new z(1,9))),new Oe(2,Int32Array.from([6,18]),new Z(10,new z(1,34)),new Z(16,new z(1,28)),new Z(22,new z(1,22)),new Z(28,new z(1,16))),new Oe(3,Int32Array.from([6,22]),new Z(15,new z(1,55)),new Z(26,new z(1,44)),new Z(18,new z(2,17)),new Z(22,new z(2,13))),new Oe(4,Int32Array.from([6,26]),new Z(20,new z(1,80)),new Z(18,new z(2,32)),new Z(26,new z(2,24)),new Z(16,new z(4,9))),new Oe(5,Int32Array.from([6,30]),new Z(26,new z(1,108)),new Z(24,new z(2,43)),new Z(18,new z(2,15),new z(2,16)),new Z(22,new z(2,11),new z(2,12))),new Oe(6,Int32Array.from([6,34]),new Z(18,new z(2,68)),new Z(16,new z(4,27)),new Z(24,new z(4,19)),new Z(28,new z(4,15))),new Oe(7,Int32Array.from([6,22,38]),new Z(20,new z(2,78)),new Z(18,new z(4,31)),new Z(18,new z(2,14),new z(4,15)),new Z(26,new z(4,13),new z(1,14))),new Oe(8,Int32Array.from([6,24,42]),new Z(24,new z(2,97)),new Z(22,new z(2,38),new z(2,39)),new Z(22,new z(4,18),new z(2,19)),new Z(26,new z(4,14),new z(2,15))),new Oe(9,Int32Array.from([6,26,46]),new Z(30,new z(2,116)),new Z(22,new z(3,36),new z(2,37)),new Z(20,new z(4,16),new z(4,17)),new Z(24,new z(4,12),new z(4,13))),new Oe(10,Int32Array.from([6,28,50]),new Z(18,new z(2,68),new z(2,69)),new Z(26,new z(4,43),new z(1,44)),new Z(24,new z(6,19),new z(2,20)),new Z(28,new z(6,15),new z(2,16))),new Oe(11,Int32Array.from([6,30,54]),new Z(20,new z(4,81)),new Z(30,new z(1,50),new z(4,51)),new Z(28,new z(4,22),new z(4,23)),new Z(24,new z(3,12),new z(8,13))),new Oe(12,Int32Array.from([6,32,58]),new Z(24,new z(2,92),new z(2,93)),new Z(22,new z(6,36),new z(2,37)),new Z(26,new z(4,20),new z(6,21)),new Z(28,new z(7,14),new z(4,15))),new Oe(13,Int32Array.from([6,34,62]),new Z(26,new z(4,107)),new Z(22,new z(8,37),new z(1,38)),new Z(24,new z(8,20),new z(4,21)),new Z(22,new z(12,11),new z(4,12))),new Oe(14,Int32Array.from([6,26,46,66]),new Z(30,new z(3,115),new z(1,116)),new Z(24,new z(4,40),new z(5,41)),new Z(20,new z(11,16),new z(5,17)),new Z(24,new z(11,12),new z(5,13))),new Oe(15,Int32Array.from([6,26,48,70]),new Z(22,new z(5,87),new z(1,88)),new Z(24,new z(5,41),new z(5,42)),new Z(30,new z(5,24),new z(7,25)),new Z(24,new z(11,12),new z(7,13))),new Oe(16,Int32Array.from([6,26,50,74]),new Z(24,new z(5,98),new z(1,99)),new Z(28,new z(7,45),new z(3,46)),new Z(24,new z(15,19),new z(2,20)),new Z(30,new z(3,15),new z(13,16))),new Oe(17,Int32Array.from([6,30,54,78]),new Z(28,new z(1,107),new z(5,108)),new Z(28,new z(10,46),new z(1,47)),new Z(28,new z(1,22),new z(15,23)),new Z(28,new z(2,14),new z(17,15))),new Oe(18,Int32Array.from([6,30,56,82]),new Z(30,new z(5,120),new z(1,121)),new Z(26,new z(9,43),new z(4,44)),new Z(28,new z(17,22),new z(1,23)),new Z(28,new z(2,14),new z(19,15))),new Oe(19,Int32Array.from([6,30,58,86]),new Z(28,new z(3,113),new z(4,114)),new Z(26,new z(3,44),new z(11,45)),new Z(26,new z(17,21),new z(4,22)),new Z(26,new z(9,13),new z(16,14))),new Oe(20,Int32Array.from([6,34,62,90]),new Z(28,new z(3,107),new z(5,108)),new Z(26,new z(3,41),new z(13,42)),new Z(30,new z(15,24),new z(5,25)),new Z(28,new z(15,15),new z(10,16))),new Oe(21,Int32Array.from([6,28,50,72,94]),new Z(28,new z(4,116),new z(4,117)),new Z(26,new z(17,42)),new Z(28,new z(17,22),new z(6,23)),new Z(30,new z(19,16),new z(6,17))),new Oe(22,Int32Array.from([6,26,50,74,98]),new Z(28,new z(2,111),new z(7,112)),new Z(28,new z(17,46)),new Z(30,new z(7,24),new z(16,25)),new Z(24,new z(34,13))),new Oe(23,Int32Array.from([6,30,54,78,102]),new Z(30,new z(4,121),new z(5,122)),new Z(28,new z(4,47),new z(14,48)),new Z(30,new z(11,24),new z(14,25)),new Z(30,new z(16,15),new z(14,16))),new Oe(24,Int32Array.from([6,28,54,80,106]),new Z(30,new z(6,117),new z(4,118)),new Z(28,new z(6,45),new z(14,46)),new Z(30,new z(11,24),new z(16,25)),new Z(30,new z(30,16),new z(2,17))),new Oe(25,Int32Array.from([6,32,58,84,110]),new Z(26,new z(8,106),new z(4,107)),new Z(28,new z(8,47),new z(13,48)),new Z(30,new z(7,24),new z(22,25)),new Z(30,new z(22,15),new z(13,16))),new Oe(26,Int32Array.from([6,30,58,86,114]),new Z(28,new z(10,114),new z(2,115)),new Z(28,new z(19,46),new z(4,47)),new Z(28,new z(28,22),new z(6,23)),new Z(30,new z(33,16),new z(4,17))),new Oe(27,Int32Array.from([6,34,62,90,118]),new Z(30,new z(8,122),new z(4,123)),new Z(28,new z(22,45),new z(3,46)),new Z(30,new z(8,23),new z(26,24)),new Z(30,new z(12,15),new z(28,16))),new Oe(28,Int32Array.from([6,26,50,74,98,122]),new Z(30,new z(3,117),new z(10,118)),new Z(28,new z(3,45),new z(23,46)),new Z(30,new z(4,24),new z(31,25)),new Z(30,new z(11,15),new z(31,16))),new Oe(29,Int32Array.from([6,30,54,78,102,126]),new Z(30,new z(7,116),new z(7,117)),new Z(28,new z(21,45),new z(7,46)),new Z(30,new z(1,23),new z(37,24)),new Z(30,new z(19,15),new z(26,16))),new Oe(30,Int32Array.from([6,26,52,78,104,130]),new Z(30,new z(5,115),new z(10,116)),new Z(28,new z(19,47),new z(10,48)),new Z(30,new z(15,24),new z(25,25)),new Z(30,new z(23,15),new z(25,16))),new Oe(31,Int32Array.from([6,30,56,82,108,134]),new Z(30,new z(13,115),new z(3,116)),new Z(28,new z(2,46),new z(29,47)),new Z(30,new z(42,24),new z(1,25)),new Z(30,new z(23,15),new z(28,16))),new Oe(32,Int32Array.from([6,34,60,86,112,138]),new Z(30,new z(17,115)),new Z(28,new z(10,46),new z(23,47)),new Z(30,new z(10,24),new z(35,25)),new Z(30,new z(19,15),new z(35,16))),new Oe(33,Int32Array.from([6,30,58,86,114,142]),new Z(30,new z(17,115),new z(1,116)),new Z(28,new z(14,46),new z(21,47)),new Z(30,new z(29,24),new z(19,25)),new Z(30,new z(11,15),new z(46,16))),new Oe(34,Int32Array.from([6,34,62,90,118,146]),new Z(30,new z(13,115),new z(6,116)),new Z(28,new z(14,46),new z(23,47)),new Z(30,new z(44,24),new z(7,25)),new Z(30,new z(59,16),new z(1,17))),new Oe(35,Int32Array.from([6,30,54,78,102,126,150]),new Z(30,new z(12,121),new z(7,122)),new Z(28,new z(12,47),new z(26,48)),new Z(30,new z(39,24),new z(14,25)),new Z(30,new z(22,15),new z(41,16))),new Oe(36,Int32Array.from([6,24,50,76,102,128,154]),new Z(30,new z(6,121),new z(14,122)),new Z(28,new z(6,47),new z(34,48)),new Z(30,new z(46,24),new z(10,25)),new Z(30,new z(2,15),new z(64,16))),new Oe(37,Int32Array.from([6,28,54,80,106,132,158]),new Z(30,new z(17,122),new z(4,123)),new Z(28,new z(29,46),new z(14,47)),new Z(30,new z(49,24),new z(10,25)),new Z(30,new z(24,15),new z(46,16))),new Oe(38,Int32Array.from([6,32,58,84,110,136,162]),new Z(30,new z(4,122),new z(18,123)),new Z(28,new z(13,46),new z(32,47)),new Z(30,new z(48,24),new z(14,25)),new Z(30,new z(42,15),new z(32,16))),new Oe(39,Int32Array.from([6,26,54,82,110,138,166]),new Z(30,new z(20,117),new z(4,118)),new Z(28,new z(40,47),new z(7,48)),new Z(30,new z(43,24),new z(22,25)),new Z(30,new z(10,15),new z(67,16))),new Oe(40,Int32Array.from([6,30,58,86,114,142,170]),new Z(30,new z(19,118),new z(6,119)),new Z(28,new z(18,47),new z(31,48)),new Z(30,new z(34,24),new z(34,25)),new Z(30,new z(20,15),new z(61,16)))];var Ir;(function(k){k[k.DATA_MASK_000=0]="DATA_MASK_000",k[k.DATA_MASK_001=1]="DATA_MASK_001",k[k.DATA_MASK_010=2]="DATA_MASK_010",k[k.DATA_MASK_011=3]="DATA_MASK_011",k[k.DATA_MASK_100=4]="DATA_MASK_100",k[k.DATA_MASK_101=5]="DATA_MASK_101",k[k.DATA_MASK_110=6]="DATA_MASK_110",k[k.DATA_MASK_111=7]="DATA_MASK_111"})(Ir||(Ir={}));class Qn{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let c=0;c<a;c++)for(let d=0;d<a;d++)this.isMasked(c,d)&&i.flip(d,c)}}Qn.values=new Map([[Ir.DATA_MASK_000,new Qn(Ir.DATA_MASK_000,(k,i)=>(k+i&1)===0)],[Ir.DATA_MASK_001,new Qn(Ir.DATA_MASK_001,(k,i)=>(k&1)===0)],[Ir.DATA_MASK_010,new Qn(Ir.DATA_MASK_010,(k,i)=>i%3===0)],[Ir.DATA_MASK_011,new Qn(Ir.DATA_MASK_011,(k,i)=>(k+i)%3===0)],[Ir.DATA_MASK_100,new Qn(Ir.DATA_MASK_100,(k,i)=>(Math.floor(k/2)+Math.floor(i/3)&1)===0)],[Ir.DATA_MASK_101,new Qn(Ir.DATA_MASK_101,(k,i)=>k*i%6===0)],[Ir.DATA_MASK_110,new Qn(Ir.DATA_MASK_110,(k,i)=>k*i%6<3)],[Ir.DATA_MASK_111,new Qn(Ir.DATA_MASK_111,(k,i)=>(k+i+k*i%3&1)===0)]]);class HN{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new L;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let p=0;p<6;p++)i=this.copyBit(p,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let p=5;p>=0;p--)i=this.copyBit(8,p,i);const a=this.bitMatrix.getHeight();let c=0;const d=a-7;for(let p=a-1;p>=d;p--)c=this.copyBit(8,p,c);for(let p=a-8;p<a;p++)c=this.copyBit(p,8,c);if(this.parsedFormatInfo=Wr.decodeFormatInformation(i,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return Oe.getVersionForNumber(a);let c=0;const d=i-11;for(let g=5;g>=0;g--)for(let y=i-9;y>=d;y--)c=this.copyBit(y,g,c);let p=Oe.decodeVersionInformation(c);if(p!==null&&p.getDimensionForVersion()===i)return this.parsedVersion=p,p;c=0;for(let g=5;g>=0;g--)for(let y=i-9;y>=d;y--)c=this.copyBit(g,y,c);if(p=Oe.decodeVersionInformation(c),p!==null&&p.getDimensionForVersion()===i)return this.parsedVersion=p,p;throw new L}copyBit(i,a,c){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?c<<1|1:c<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),c=Qn.values.get(i.getDataMask()),d=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,d);const p=a.buildFunctionPattern();let g=!0;const y=new Uint8Array(a.getTotalCodewords());let _=0,C=0,O=0;for(let P=d-1;P>0;P-=2){P===6&&P--;for(let j=0;j<d;j++){const V=g?d-1-j:j;for(let W=0;W<2;W++)p.get(P-W,V)||(O++,C<<=1,this.bitMatrix.get(P-W,V)&&(C|=1),O===8&&(y[_++]=C,O=0,C=0))}g=!g}if(_!==a.getTotalCodewords())throw new L;return y}remask(){if(this.parsedFormatInfo===null)return;const i=Qn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,c=i.getWidth();a<c;a++)for(let d=a+1,p=i.getHeight();d<p;d++)i.get(a,d)!==i.get(d,a)&&(i.flip(d,a),i.flip(a,d))}}class k0{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,c){if(i.length!==a.getTotalCodewords())throw new w;const d=a.getECBlocksForLevel(c);let p=0;const g=d.getECBlocks();for(const W of g)p+=W.getCount();const y=new Array(p);let _=0;for(const W of g)for(let $=0;$<W.getCount();$++){const q=W.getDataCodewords(),re=d.getECCodewordsPerBlock()+q;y[_++]=new k0(q,new Uint8Array(re))}const C=y[0].codewords.length;let O=y.length-1;for(;O>=0&&y[O].codewords.length!==C;)O--;O++;const P=C-d.getECCodewordsPerBlock();let j=0;for(let W=0;W<P;W++)for(let $=0;$<_;$++)y[$].codewords[W]=i[j++];for(let W=O;W<_;W++)y[W].codewords[P]=i[j++];const V=y[0].codewords.length;for(let W=P;W<V;W++)for(let $=0;$<_;$++){const q=$<O?W:W+1;y[$].codewords[q]=i[j++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Zn;(function(k){k[k.TERMINATOR=0]="TERMINATOR",k[k.NUMERIC=1]="NUMERIC",k[k.ALPHANUMERIC=2]="ALPHANUMERIC",k[k.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",k[k.BYTE=4]="BYTE",k[k.ECI=5]="ECI",k[k.KANJI=6]="KANJI",k[k.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",k[k.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",k[k.HANZI=9]="HANZI"})(Zn||(Zn={}));class De{constructor(i,a,c,d){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=c,this.bits=d,De.FOR_BITS.set(d,this),De.FOR_VALUE.set(i,this)}static forBits(i){const a=De.FOR_BITS.get(i);if(a===void 0)throw new w;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let c;return a<=9?c=0:a<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof De))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(Zn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(Zn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(Zn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(Zn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(Zn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(Zn.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(Zn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(Zn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(Zn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(Zn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Wt{static decode(i,a,c,d){const p=new M0(i);let g=new se;const y=new Array;let _=-1,C=-1;try{let O=null,P=!1,j;do{if(p.available()<4)j=De.TERMINATOR;else{const V=p.readBits(4);j=De.forBits(V)}switch(j){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:P=!0;break;case De.STRUCTURED_APPEND:if(p.available()<16)throw new L;_=p.readBits(8),C=p.readBits(8);break;case De.ECI:const V=Wt.parseECIValue(p);if(O=B.getCharacterSetECIByValue(V),O===null)throw new L;break;case De.HANZI:const W=p.readBits(4),$=p.readBits(j.getCharacterCountBits(a));W===Wt.GB2312_SUBSET&&Wt.decodeHanziSegment(p,g,$);break;default:const q=p.readBits(j.getCharacterCountBits(a));switch(j){case De.NUMERIC:Wt.decodeNumericSegment(p,g,q);break;case De.ALPHANUMERIC:Wt.decodeAlphanumericSegment(p,g,q,P);break;case De.BYTE:Wt.decodeByteSegment(p,g,q,O,y,d);break;case De.KANJI:Wt.decodeKanjiSegment(p,g,q);break;default:throw new L}break}}while(j!==De.TERMINATOR)}catch{throw new L}return new dt(i,g.toString(),y.length===0?null:y,c===null?null:c.toString(),_,C)}static decodeHanziSegment(i,a,c){if(c*13>i.available())throw new L;const d=new Uint8Array(2*c);let p=0;for(;c>0;){const g=i.readBits(13);let y=g/96<<8&4294967295|g%96;y<959?y+=41377:y+=42657,d[p]=y>>8&255,d[p+1]=y&255,p+=2,c--}try{a.append(ee.decode(d,Q.GB2312))}catch(g){throw new L(g)}}static decodeKanjiSegment(i,a,c){if(c*13>i.available())throw new L;const d=new Uint8Array(2*c);let p=0;for(;c>0;){const g=i.readBits(13);let y=g/192<<8&4294967295|g%192;y<7936?y+=33088:y+=49472,d[p]=y>>8,d[p+1]=y,p+=2,c--}try{a.append(ee.decode(d,Q.SHIFT_JIS))}catch(g){throw new L(g)}}static decodeByteSegment(i,a,c,d,p,g){if(8*c>i.available())throw new L;const y=new Uint8Array(c);for(let C=0;C<c;C++)y[C]=i.readBits(8);let _;d===null?_=Q.guessEncoding(y,g):_=d.getName();try{a.append(ee.decode(y,_))}catch(C){throw new L(C)}p.push(y)}static toAlphaNumericChar(i){if(i>=Wt.ALPHANUMERIC_CHARS.length)throw new L;return Wt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,c,d){const p=a.length();for(;c>1;){if(i.available()<11)throw new L;const g=i.readBits(11);a.append(Wt.toAlphaNumericChar(Math.floor(g/45))),a.append(Wt.toAlphaNumericChar(g%45)),c-=2}if(c===1){if(i.available()<6)throw new L;a.append(Wt.toAlphaNumericChar(i.readBits(6)))}if(d)for(let g=p;g<a.length();g++)a.charAt(g)==="%"&&(g<a.length()-1&&a.charAt(g+1)==="%"?a.deleteCharAt(g+1):a.setCharAt(g,""))}static decodeNumericSegment(i,a,c){for(;c>=3;){if(i.available()<10)throw new L;const d=i.readBits(10);if(d>=1e3)throw new L;a.append(Wt.toAlphaNumericChar(Math.floor(d/100))),a.append(Wt.toAlphaNumericChar(Math.floor(d/10)%10)),a.append(Wt.toAlphaNumericChar(d%10)),c-=3}if(c===2){if(i.available()<7)throw new L;const d=i.readBits(7);if(d>=100)throw new L;a.append(Wt.toAlphaNumericChar(Math.floor(d/10))),a.append(Wt.toAlphaNumericChar(d%10))}else if(c===1){if(i.available()<4)throw new L;const d=i.readBits(4);if(d>=10)throw new L;a.append(Wt.toAlphaNumericChar(d))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const c=i.readBits(8);return(a&63)<<8&4294967295|c}if((a&224)===192){const c=i.readBits(16);return(a&31)<<16&4294967295|c}throw new L}}Wt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Wt.GB2312_SUBSET=1;class ly{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class WN{constructor(){this.rsDecoder=new Tr(Ue.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(G.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const c=new HN(i);let d=null;try{return this.decodeBitMatrixParser(c,a)}catch(p){d=p}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const p=this.decodeBitMatrixParser(c,a);return p.setOther(new ly(!0)),p}catch(p){throw d!==null?d:p}}decodeBitMatrixParser(i,a){const c=i.readVersion(),d=i.readFormatInformation().getErrorCorrectionLevel(),p=i.readCodewords(),g=k0.getDataBlocks(p,c,d);let y=0;for(const O of g)y+=O.getNumDataCodewords();const _=new Uint8Array(y);let C=0;for(const O of g){const P=O.getCodewords(),j=O.getNumDataCodewords();this.correctErrors(P,j);for(let V=0;V<j;V++)_[C++]=P[V]}return Wt.decode(_,c,d,a)}correctErrors(i,a){const c=new Int32Array(i);try{this.rsDecoder.decode(c,i.length-a)}catch{throw new E}for(let d=0;d<a;d++)i[d]=c[d]}}class P0 extends ye{constructor(i,a,c){super(i,a),this.estimatedModuleSize=c}aboutEquals(i,a,c){if(Math.abs(a-this.getY())<=i&&Math.abs(c-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,a,c){const d=(this.getX()+a)/2,p=(this.getY()+i)/2,g=(this.estimatedModuleSize+c)/2;return new P0(d,p,g)}}class Nd{constructor(i,a,c,d,p,g,y){this.image=i,this.startX=a,this.startY=c,this.width=d,this.height=p,this.moduleSize=g,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,c=this.width,d=i+c,p=this.startY+a/2,g=new Int32Array(3),y=this.image;for(let _=0;_<a;_++){const C=p+(_&1?-Math.floor((_+1)/2):Math.floor((_+1)/2));g[0]=0,g[1]=0,g[2]=0;let O=i;for(;O<d&&!y.get(O,C);)O++;let P=0;for(;O<d;){if(y.get(O,C))if(P===1)g[1]++;else if(P===2){if(this.foundPatternCross(g)){const j=this.handlePossibleCenter(g,C,O);if(j!==null)return j}g[0]=g[2],g[1]=1,g[2]=0,P=1}else g[++P]++;else P===1&&P++,g[P]++;O++}if(this.foundPatternCross(g)){const j=this.handlePossibleCenter(g,C,d);if(j!==null)return j}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,c=a/2;for(let d=0;d<3;d++)if(Math.abs(a-i[d])>=c)return!1;return!0}crossCheckVertical(i,a,c,d){const p=this.image,g=p.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let _=i;for(;_>=0&&p.get(a,_)&&y[1]<=c;)y[1]++,_--;if(_<0||y[1]>c)return NaN;for(;_>=0&&!p.get(a,_)&&y[0]<=c;)y[0]++,_--;if(y[0]>c)return NaN;for(_=i+1;_<g&&p.get(a,_)&&y[1]<=c;)y[1]++,_++;if(_===g||y[1]>c)return NaN;for(;_<g&&!p.get(a,_)&&y[2]<=c;)y[2]++,_++;if(y[2]>c)return NaN;const C=y[0]+y[1]+y[2];return 5*Math.abs(C-d)>=2*d?NaN:this.foundPatternCross(y)?Nd.centerFromEnd(y,_):NaN}handlePossibleCenter(i,a,c){const d=i[0]+i[1]+i[2],p=Nd.centerFromEnd(i,c),g=this.crossCheckVertical(a,p,2*i[1],d);if(!isNaN(g)){const y=(i[0]+i[1]+i[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(y,g,p))return C.combineEstimate(g,p,y);const _=new P0(p,g,y);this.possibleCenters.push(_),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(_)}return null}}class D0 extends ye{constructor(i,a,c,d){super(i,a),this.estimatedModuleSize=c,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,c){if(Math.abs(a-this.getY())<=i&&Math.abs(c-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,a,c){const d=this.count+1,p=(this.count*this.getX()+a)/d,g=(this.count*this.getY()+i)/d,y=(this.count*this.estimatedModuleSize+c)/d;return new D0(p,g,y,d)}}class $N{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Rr{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(F.TRY_HARDER)!==void 0,c=i!=null&&i.get(F.PURE_BARCODE)!==void 0,d=this.image,p=d.getHeight(),g=d.getWidth();let y=Math.floor(3*p/(4*Rr.MAX_MODULES));(y<Rr.MIN_SKIP||a)&&(y=Rr.MIN_SKIP);let _=!1;const C=new Int32Array(5);for(let P=y-1;P<p&&!_;P+=y){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let j=0;for(let V=0;V<g;V++)if(d.get(V,P))(j&1)===1&&j++,C[j]++;else if(j&1)C[j]++;else if(j===4)if(Rr.foundPatternCross(C)){if(this.handlePossibleCenter(C,P,V,c)===!0)if(y=2,this.hasSkipped===!0)_=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>C[2]&&(P+=$-C[2]-y,V=g-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,j=3;continue}j=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,j=3;else C[++j]++;Rr.foundPatternCross(C)&&this.handlePossibleCenter(C,P,g,c)===!0&&(y=C[0],this.hasSkipped&&(_=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return ye.orderBestPatterns(O),new $N(O)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let p=0;p<5;p++){const g=i[p];if(g===0)return!1;a+=g}if(a<7)return!1;const c=a/7,d=c/2;return Math.abs(c-i[0])<d&&Math.abs(c-i[1])<d&&Math.abs(3*c-i[2])<3*d&&Math.abs(c-i[3])<d&&Math.abs(c-i[4])<d}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,c,d){const p=this.getCrossCheckStateCount();let g=0;const y=this.image;for(;i>=g&&a>=g&&y.get(a-g,i-g);)p[2]++,g++;if(i<g||a<g)return!1;for(;i>=g&&a>=g&&!y.get(a-g,i-g)&&p[1]<=c;)p[1]++,g++;if(i<g||a<g||p[1]>c)return!1;for(;i>=g&&a>=g&&y.get(a-g,i-g)&&p[0]<=c;)p[0]++,g++;if(p[0]>c)return!1;const _=y.getHeight(),C=y.getWidth();for(g=1;i+g<_&&a+g<C&&y.get(a+g,i+g);)p[2]++,g++;if(i+g>=_||a+g>=C)return!1;for(;i+g<_&&a+g<C&&!y.get(a+g,i+g)&&p[3]<c;)p[3]++,g++;if(i+g>=_||a+g>=C||p[3]>=c)return!1;for(;i+g<_&&a+g<C&&y.get(a+g,i+g)&&p[4]<c;)p[4]++,g++;if(p[4]>=c)return!1;const O=p[0]+p[1]+p[2]+p[3]+p[4];return Math.abs(O-d)<2*d&&Rr.foundPatternCross(p)}crossCheckVertical(i,a,c,d){const p=this.image,g=p.getHeight(),y=this.getCrossCheckStateCount();let _=i;for(;_>=0&&p.get(a,_);)y[2]++,_--;if(_<0)return NaN;for(;_>=0&&!p.get(a,_)&&y[1]<=c;)y[1]++,_--;if(_<0||y[1]>c)return NaN;for(;_>=0&&p.get(a,_)&&y[0]<=c;)y[0]++,_--;if(y[0]>c)return NaN;for(_=i+1;_<g&&p.get(a,_);)y[2]++,_++;if(_===g)return NaN;for(;_<g&&!p.get(a,_)&&y[3]<c;)y[3]++,_++;if(_===g||y[3]>=c)return NaN;for(;_<g&&p.get(a,_)&&y[4]<c;)y[4]++,_++;if(y[4]>=c)return NaN;const C=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(C-d)>=2*d?NaN:Rr.foundPatternCross(y)?Rr.centerFromEnd(y,_):NaN}crossCheckHorizontal(i,a,c,d){const p=this.image,g=p.getWidth(),y=this.getCrossCheckStateCount();let _=i;for(;_>=0&&p.get(_,a);)y[2]++,_--;if(_<0)return NaN;for(;_>=0&&!p.get(_,a)&&y[1]<=c;)y[1]++,_--;if(_<0||y[1]>c)return NaN;for(;_>=0&&p.get(_,a)&&y[0]<=c;)y[0]++,_--;if(y[0]>c)return NaN;for(_=i+1;_<g&&p.get(_,a);)y[2]++,_++;if(_===g)return NaN;for(;_<g&&!p.get(_,a)&&y[3]<c;)y[3]++,_++;if(_===g||y[3]>=c)return NaN;for(;_<g&&p.get(_,a)&&y[4]<c;)y[4]++,_++;if(y[4]>=c)return NaN;const C=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(C-d)>=d?NaN:Rr.foundPatternCross(y)?Rr.centerFromEnd(y,_):NaN}handlePossibleCenter(i,a,c,d){const p=i[0]+i[1]+i[2]+i[3]+i[4];let g=Rr.centerFromEnd(i,c),y=this.crossCheckVertical(a,Math.floor(g),i[2],p);if(!isNaN(y)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(y),i[2],p),!isNaN(g)&&(!d||this.crossCheckDiagonal(Math.floor(y),Math.floor(g),i[2],p)))){const _=p/7;let C=!1;const O=this.possibleCenters;for(let P=0,j=O.length;P<j;P++){const V=O[P];if(V.aboutEquals(_,y,g)){O[P]=V.combineEstimate(y,g,_),C=!0;break}}if(!C){const P=new D0(g,y,_);O.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const c of this.possibleCenters)if(c.getCount()>=Rr.CENTER_QUORUM)if(a==null)a=c;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-c.getX())-Math.abs(a.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const c=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Rr.CENTER_QUORUM&&(i++,a+=g.getEstimatedModuleSize());if(i<3)return!1;const d=a/c;let p=0;for(const g of this.possibleCenters)p+=Math.abs(g.getEstimatedModuleSize()-d);return p<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new H;const a=this.possibleCenters;let c;if(i>3){let d=0,p=0;for(const _ of this.possibleCenters){const C=_.getEstimatedModuleSize();d+=C,p+=C*C}c=d/i;let g=Math.sqrt(p/i-c*c);a.sort((_,C)=>{const O=Math.abs(C.getEstimatedModuleSize()-c),P=Math.abs(_.getEstimatedModuleSize()-c);return O<P?-1:O>P?1:0});const y=Math.max(.2*c,g);for(let _=0;_<a.length&&a.length>3;_++){const C=a[_];Math.abs(C.getEstimatedModuleSize()-c)>y&&(a.splice(_,1),_--)}}if(a.length>3){let d=0;for(const p of a)d+=p.getEstimatedModuleSize();c=d/a.length,a.sort((p,g)=>{if(g.getCount()===p.getCount()){const y=Math.abs(g.getEstimatedModuleSize()-c),_=Math.abs(p.getEstimatedModuleSize()-c);return y<_?1:y>_?-1:0}else return g.getCount()-p.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Rr.CENTER_QUORUM=2,Rr.MIN_SKIP=3,Rr.MAX_MODULES=57;class Dc{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(F.NEED_RESULT_POINT_CALLBACK);const c=new Rr(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(c)}processFinderPatternInfo(i){const a=i.getTopLeft(),c=i.getTopRight(),d=i.getBottomLeft(),p=this.calculateModuleSize(a,c,d);if(p<1)throw new H("No pattern found in proccess finder.");const g=Dc.computeDimension(a,c,d,p),y=Oe.getProvisionalVersionForDimension(g),_=y.getDimensionForVersion()-7;let C=null;if(y.getAlignmentPatternCenters().length>0){const V=c.getX()-a.getX()+d.getX(),W=c.getY()-a.getY()+d.getY(),$=1-3/_,q=Math.floor(a.getX()+$*(V-a.getX())),re=Math.floor(a.getY()+$*(W-a.getY()));for(let ge=4;ge<=16;ge<<=1)try{C=this.findAlignmentInRegion(p,q,re,ge);break}catch(me){if(!(me instanceof H))throw me}}const O=Dc.createTransform(a,c,d,C,g),P=Dc.sampleGrid(this.image,O,g);let j;return C===null?j=[d,a,c]:j=[d,a,c,C],new en(P,j)}static createTransform(i,a,c,d,p){const g=p-3.5;let y,_,C,O;return d!==null?(y=d.getX(),_=d.getY(),C=g-3,O=C):(y=a.getX()-i.getX()+c.getX(),_=a.getY()-i.getY()+c.getY(),C=g,O=g),St.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,C,O,3.5,g,i.getX(),i.getY(),a.getX(),a.getY(),y,_,c.getX(),c.getY())}static sampleGrid(i,a,c){return Ws.getInstance().sampleGridWithTransform(i,c,c,a)}static computeDimension(i,a,c,d){const p=be.round(ye.distance(i,a)/d),g=be.round(ye.distance(i,c)/d);let y=Math.floor((p+g)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new H("Dimensions could be not found.")}return y}calculateModuleSize(i,a,c){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,c))/2}calculateModuleSizeOneWay(i,a){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(c)?d/7:isNaN(d)?c/7:(c+d)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,c,d){let p=this.sizeOfBlackWhiteBlackRun(i,a,c,d),g=1,y=i-(c-i);y<0?(g=i/(i-y),y=0):y>=this.image.getWidth()&&(g=(this.image.getWidth()-1-i)/(y-i),y=this.image.getWidth()-1);let _=Math.floor(a-(d-a)*g);return g=1,_<0?(g=a/(a-_),_=0):_>=this.image.getHeight()&&(g=(this.image.getHeight()-1-a)/(_-a),_=this.image.getHeight()-1),y=Math.floor(i+(y-i)*g),p+=this.sizeOfBlackWhiteBlackRun(i,a,y,_),p-1}sizeOfBlackWhiteBlackRun(i,a,c,d){const p=Math.abs(d-a)>Math.abs(c-i);if(p){let V=i;i=a,a=V,V=c,c=d,d=V}const g=Math.abs(c-i),y=Math.abs(d-a);let _=-g/2;const C=i<c?1:-1,O=a<d?1:-1;let P=0;const j=c+C;for(let V=i,W=a;V!==j;V+=C){const $=p?W:V,q=p?V:W;if(P===1===this.image.get($,q)){if(P===2)return be.distance(V,W,i,a);P++}if(_+=y,_>0){if(W===d)break;W+=O,_-=g}}return P===2?be.distance(c+C,d,i,a):NaN}findAlignmentInRegion(i,a,c,d){const p=Math.floor(d*i),g=Math.max(0,a-p),y=Math.min(this.image.getWidth()-1,a+p);if(y-g<i*3)throw new H("Alignment top exceeds estimated module size.");const _=Math.max(0,c-p),C=Math.min(this.image.getHeight()-1,c+p);if(C-_<i*3)throw new H("Alignment bottom exceeds estimated module size.");return new Nd(this.image,g,_,y-g,C-_,i,this.resultPointCallback).find()}}class Gi{constructor(){this.decoder=new WN}getDecoder(){return this.decoder}decode(i,a){let c,d;if(a!=null&&a.get(F.PURE_BARCODE)!==void 0){const _=Gi.extractPureBits(i.getBlackMatrix());c=this.decoder.decodeBitMatrix(_,a),d=Gi.NO_POINTS}else{const _=new Dc(i.getBlackMatrix()).detect(a);c=this.decoder.decodeBitMatrix(_.getBits(),a),d=_.getPoints()}c.getOther()instanceof ly&&c.getOther().applyMirroredCorrection(d);const p=new fe(c.getText(),c.getRawBytes(),void 0,d,ve.QR_CODE,void 0),g=c.getByteSegments();g!==null&&p.putMetadata(ke.BYTE_SEGMENTS,g);const y=c.getECLevel();return y!==null&&p.putMetadata(ke.ERROR_CORRECTION_LEVEL,y),c.hasStructuredAppend()&&(p.putMetadata(ke.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),p.putMetadata(ke.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),p}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),c=i.getBottomRightOnBit();if(a===null||c===null)throw new H;const d=this.moduleSize(a,i);let p=a[1],g=c[1],y=a[0],_=c[0];if(y>=_||p>=g)throw new H;if(g-p!==_-y&&(_=y+(g-p),_>=i.getWidth()))throw new H;const C=Math.round((_-y+1)/d),O=Math.round((g-p+1)/d);if(C<=0||O<=0)throw new H;if(O!==C)throw new H;const P=Math.floor(d/2);p+=P,y+=P;const j=y+Math.floor((C-1)*d)-_;if(j>0){if(j>P)throw new H;y-=j}const V=p+Math.floor((O-1)*d)-g;if(V>0){if(V>P)throw new H;p-=V}const W=new G(C,O);for(let $=0;$<O;$++){const q=p+Math.floor($*d);for(let re=0;re<C;re++)i.get(y+Math.floor(re*d),q)&&W.set(re,$)}return W}static moduleSize(i,a){const c=a.getHeight(),d=a.getWidth();let p=i[0],g=i[1],y=!0,_=0;for(;p<d&&g<c;){if(y!==a.get(p,g)){if(++_===5)break;y=!y}p++,g++}if(p===d||g===c)throw new H;return(p-i[0])/7}}Gi.NO_POINTS=new Array;class Ve{PDF417Common(){}static getBitCountSum(i){return be.sum(i)}static toIntArray(i){if(i==null||!i.length)return Ve.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let c=0;for(const d of i)a[c++]=d;return a}static getCodeword(i){const a=T.binarySearch(Ve.SYMBOL_TABLE,i&262143);return a<0?-1:(Ve.CODEWORD_TABLE[a]-1)%Ve.NUMBER_OF_CODEWORDS}}Ve.NUMBER_OF_CODEWORDS=929,Ve.MAX_CODEWORDS_IN_BARCODE=Ve.NUMBER_OF_CODEWORDS-1,Ve.MIN_ROWS_IN_BARCODE=3,Ve.MAX_ROWS_IN_BARCODE=90,Ve.MODULES_IN_CODEWORD=17,Ve.MODULES_IN_STOP_PATTERN=18,Ve.BARS_IN_MODULE=8,Ve.EMPTY_INT_ARRAY=new Int32Array([]),Ve.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),Ve.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class GN{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(i,a,c){let d=i.getBlackMatrix(),p=Ze.detect(c,d);return p.length||(d=d.clone(),d.rotate180(),p=Ze.detect(c,d)),new GN(d,p)}static detect(i,a){const c=new Array;let d=0,p=0,g=!1;for(;d<a.getHeight();){const y=Ze.findVertices(a,d,p);if(y[0]==null&&y[3]==null){if(!g)break;g=!1,p=0;for(const _ of c)_[1]!=null&&(d=Math.trunc(Math.max(d,_[1].getY()))),_[3]!=null&&(d=Math.max(d,Math.trunc(_[3].getY())));d+=Ze.ROW_STEP;continue}if(g=!0,c.push(y),!i)break;y[2]!=null?(p=Math.trunc(y[2].getX()),d=Math.trunc(y[2].getY())):(p=Math.trunc(y[4].getX()),d=Math.trunc(y[4].getY()))}return c}static findVertices(i,a,c){const d=i.getHeight(),p=i.getWidth(),g=new Array(8);return Ze.copyToResult(g,Ze.findRowsWithPattern(i,d,p,a,c,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),g[4]!=null&&(c=Math.trunc(g[4].getX()),a=Math.trunc(g[4].getY())),Ze.copyToResult(g,Ze.findRowsWithPattern(i,d,p,a,c,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),g}static copyToResult(i,a,c){for(let d=0;d<c.length;d++)i[c[d]]=a[d]}static findRowsWithPattern(i,a,c,d,p,g){const y=new Array(4);let _=!1;const C=new Int32Array(g.length);for(;d<a;d+=Ze.ROW_STEP){let P=Ze.findGuardPattern(i,p,d,c,!1,g,C);if(P!=null){for(;d>0;){const j=Ze.findGuardPattern(i,p,--d,c,!1,g,C);if(j!=null)P=j;else{d++;break}}y[0]=new ye(P[0],d),y[1]=new ye(P[1],d),_=!0;break}}let O=d+1;if(_){let P=0,j=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;O<a;O++){const V=Ze.findGuardPattern(i,j[0],O,c,!1,g,C);if(V!=null&&Math.abs(j[0]-V[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(j[1]-V[1])<Ze.MAX_PATTERN_DRIFT)j=V,P=0;else{if(P>Ze.SKIPPED_ROW_COUNT_MAX)break;P++}}O-=P+1,y[2]=new ye(j[0],O),y[3]=new ye(j[1],O)}return O-d<Ze.BARCODE_MIN_HEIGHT&&T.fill(y,null),y}static findGuardPattern(i,a,c,d,p,g,y){T.fillWithin(y,0,y.length,0);let _=a,C=0;for(;i.get(_,c)&&_>0&&C++<Ze.MAX_PIXEL_DRIFT;)_--;let O=_,P=0,j=g.length;for(let V=p;O<d;O++)if(i.get(O,c)!==V)y[P]++;else{if(P===j-1){if(Ze.patternMatchVariance(y,g,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([_,O]);_+=y[0]+y[1],b.arraycopy(y,2,y,0,P-1),y[P-1]=0,y[P]=0,P--}else P++;y[P]=1,V=!V}return P===j-1&&Ze.patternMatchVariance(y,g,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([_,O-1]):null}static patternMatchVariance(i,a,c){let d=i.length,p=0,g=0;for(let C=0;C<d;C++)p+=i[C],g+=a[C];if(p<g)return 1/0;let y=p/g;c*=y;let _=0;for(let C=0;C<d;C++){let O=i[C],P=a[C]*y,j=O>P?O-P:P-O;if(j>c)return 1/0;_+=j}return _/p}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class jr{constructor(i,a){if(a.length===0)throw new w;this.field=i;let c=a.length;if(c>1&&a[0]===0){let d=1;for(;d<c&&a[d]===0;)d++;d===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-d),b.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let d=0;for(let p of this.coefficients)d=this.field.add(d,p);return d}let a=this.coefficients[0],c=this.coefficients.length;for(let d=1;d<c;d++)a=this.field.add(this.field.multiply(i,a),this.coefficients[d]);return a}add(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,c=i.coefficients;if(a.length>c.length){let g=a;a=c,c=g}let d=new Int32Array(c.length),p=c.length-a.length;b.arraycopy(c,0,d,0,p);for(let g=p;g<c.length;g++)d[g]=this.field.add(a[g-p],c[g]);return new jr(this.field,d)}subtract(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof jr?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new jr(this.field,new Int32Array([0]));let a=this.coefficients,c=a.length,d=i.coefficients,p=d.length,g=new Int32Array(c+p-1);for(let y=0;y<c;y++){let _=a[y];for(let C=0;C<p;C++)g[y+C]=this.field.add(g[y+C],this.field.multiply(_,d[C]))}return new jr(this.field,g)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=this.field.subtract(0,this.coefficients[c]);return new jr(this.field,a)}multiplyScalar(i){if(i===0)return new jr(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,c=new Int32Array(a);for(let d=0;d<a;d++)c[d]=this.field.multiply(this.coefficients[d],i);return new jr(this.field,c)}multiplyByMonomial(i,a){if(i<0)throw new w;if(a===0)return new jr(this.field,new Int32Array([0]));let c=this.coefficients.length,d=new Int32Array(c+i);for(let p=0;p<c;p++)d[p]=this.field.multiply(this.coefficients[p],a);return new jr(this.field,d)}toString(){let i=new se;for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);c!==0&&(c<0?(i.append(" - "),c=-c):i.length()>0&&i.append(" + "),(a===0||c!==1)&&i.append(c),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class YN{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}inverse(i){if(i===0)throw new Je;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class j0 extends YN{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let c=1;for(let d=0;d<i;d++)this.expTable[d]=c,c=c*a%i;for(let d=0;d<i-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new jr(this,new Int32Array([0])),this.one=new jr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new w;if(a===0)return this.zero;let c=new Int32Array(i+1);return c[0]=a,new jr(this,c)}}j0.PDF417_GF=new j0(Ve.NUMBER_OF_CODEWORDS,3);class cy{constructor(){this.field=j0.PDF417_GF}decode(i,a,c){let d=new jr(this.field,i),p=new Int32Array(a),g=!1;for(let W=a;W>0;W--){let $=d.evaluateAt(this.field.exp(W));p[a-W]=$,$!==0&&(g=!0)}if(!g)return 0;let y=this.field.getOne();if(c!=null)for(const W of c){let $=this.field.exp(i.length-1-W),q=new jr(this.field,new Int32Array([this.field.subtract(0,$),1]));y=y.multiply(q)}let _=new jr(this.field,p),C=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),_,a),O=C[0],P=C[1],j=this.findErrorLocations(O),V=this.findErrorMagnitudes(P,O,j);for(let W=0;W<j.length;W++){let $=i.length-1-this.field.log(j[W]);if($<0)throw E.getChecksumInstance();i[$]=this.field.subtract(i[$],V[W])}return j.length}runEuclideanAlgorithm(i,a,c){if(i.getDegree()<a.getDegree()){let j=i;i=a,a=j}let d=i,p=a,g=this.field.getZero(),y=this.field.getOne();for(;p.getDegree()>=Math.round(c/2);){let j=d,V=g;if(d=p,g=y,d.isZero())throw E.getChecksumInstance();p=j;let W=this.field.getZero(),$=d.getCoefficient(d.getDegree()),q=this.field.inverse($);for(;p.getDegree()>=d.getDegree()&&!p.isZero();){let re=p.getDegree()-d.getDegree(),ge=this.field.multiply(p.getCoefficient(p.getDegree()),q);W=W.add(this.field.buildMonomial(re,ge)),p=p.subtract(d.multiplyByMonomial(re,ge))}y=W.multiply(g).subtract(V).negative()}let _=y.getCoefficient(0);if(_===0)throw E.getChecksumInstance();let C=this.field.inverse(_),O=y.multiply(C),P=p.multiply(C);return[O,P]}findErrorLocations(i){let a=i.getDegree(),c=new Int32Array(a),d=0;for(let p=1;p<this.field.getSize()&&d<a;p++)i.evaluateAt(p)===0&&(c[d]=this.field.inverse(p),d++);if(d!==a)throw E.getChecksumInstance();return c}findErrorMagnitudes(i,a,c){let d=a.getDegree(),p=new Int32Array(d);for(let C=1;C<=d;C++)p[d-C]=this.field.multiply(C,a.getCoefficient(C));let g=new jr(this.field,p),y=c.length,_=new Int32Array(y);for(let C=0;C<y;C++){let O=this.field.inverse(c[C]),P=this.field.subtract(0,i.evaluateAt(O)),j=this.field.inverse(g.evaluateAt(O));_[C]=this.field.multiply(P,j)}return _}}class ra{constructor(i,a,c,d,p){i instanceof ra?this.constructor_2(i):this.constructor_1(i,a,c,d,p)}constructor_1(i,a,c,d,p){const g=a==null||c==null,y=d==null||p==null;if(g&&y)throw new H;g?(a=new ye(0,d.getY()),c=new ye(0,p.getY())):y&&(d=new ye(i.getWidth()-1,a.getY()),p=new ye(i.getWidth()-1,c.getY())),this.image=i,this.topLeft=a,this.bottomLeft=c,this.topRight=d,this.bottomRight=p,this.minX=Math.trunc(Math.min(a.getX(),c.getX())),this.maxX=Math.trunc(Math.max(d.getX(),p.getX())),this.minY=Math.trunc(Math.min(a.getY(),d.getY())),this.maxY=Math.trunc(Math.max(c.getY(),p.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new ra(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,c){let d=this.topLeft,p=this.bottomLeft,g=this.topRight,y=this.bottomRight;if(i>0){let _=c?this.topLeft:this.topRight,C=Math.trunc(_.getY()-i);C<0&&(C=0);let O=new ye(_.getX(),C);c?d=O:g=O}if(a>0){let _=c?this.bottomLeft:this.bottomRight,C=Math.trunc(_.getY()+a);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let O=new ye(_.getX(),C);c?p=O:y=O}return new ra(this.image,d,p,g,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class XN{constructor(i,a,c,d){this.columnCount=i,this.errorCorrectionLevel=d,this.rowCountUpperPart=a,this.rowCountLowerPart=c,this.rowCount=a+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class jc{constructor(){this.buffer=""}static form(i,a){let c=-1;function d(g,y,_,C,O,P){if(g==="%%")return"%";if(a[++c]===void 0)return;g=C?parseInt(C.substr(1)):void 0;let j=O?parseInt(O.substr(1)):void 0,V;switch(P){case"s":V=a[c];break;case"c":V=a[c][0];break;case"f":V=parseFloat(a[c]).toFixed(g);break;case"p":V=parseFloat(a[c]).toPrecision(g);break;case"e":V=parseFloat(a[c]).toExponential(g);break;case"x":V=parseInt(a[c]).toString(j||16);break;case"d":V=parseFloat(parseInt(a[c],j||10).toPrecision(g)).toFixed(0);break}V=typeof V=="object"?JSON.stringify(V):(+V).toString(j);let W=parseInt(_),$=_&&_[0]+""=="0"?"0":" ";for(;V.length<W;)V=y!==void 0?V+$:$+V;return V}let p=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(p,d)}format(i,...a){this.buffer+=jc.form(i,a)}toString(){return this.buffer}}class Lc{constructor(i){this.boundingBox=new ra(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let c=1;c<Lc.MAX_NEARBY_DISTANCE;c++){let d=this.imageRowToCodewordIndex(i)-c;if(d>=0&&(a=this.codewords[d],a!=null)||(d=this.imageRowToCodewordIndex(i)+c,d<this.codewords.length&&(a=this.codewords[d],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new jc;let a=0;for(const c of this.codewords){if(c==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,c.getRowNumber(),c.getValue())}return i.toString()}}Lc.MAX_NEARBY_DISTANCE=5;class Bc{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[c,d]of this.values.entries()){const p={getKey:()=>c,getValue:()=>d};p.getValue()>i?(i=p.getValue(),a=[],a.push(p.getKey())):p.getValue()===i&&a.push(p.getKey())}return Ve.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class uy extends Lc{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let c=this.getBoundingBox(),d=this._isLeft?c.getTopLeft():c.getTopRight(),p=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=this.imageRowToCodewordIndex(Math.trunc(p.getY())),_=-1,C=1,O=0;for(let P=g;P<y;P++){if(a[P]==null)continue;let j=a[P],V=j.getRowNumber()-_;if(V===0)O++;else if(V===1)C=Math.max(C,O),O=1,_=j.getRowNumber();else if(V<0||j.getRowNumber()>=i.getRowCount()||V>P)a[P]=null;else{let W;C>2?W=(C-2)*V:W=V;let $=W>=P;for(let q=1;q<=W&&!$;q++)$=a[P-q]!=null;$?a[P]=null:(_=j.getRowNumber(),O=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let c of this.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=a.length)continue;a[d]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),d=this._isLeft?a.getBottomLeft():a.getBottomRight(),p=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=this.getCodewords(),_=-1;for(let C=p;C<g;C++){if(y[C]==null)continue;let O=y[C];O.setRowNumberAsRowIndicatorColumn();let P=O.getRowNumber()-_;P===0||(P===1?_=O.getRowNumber():O.getRowNumber()>=i.getRowCount()?y[C]=null:_=O.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new Bc,c=new Bc,d=new Bc,p=new Bc;for(let y of i){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let _=y.getValue()%30,C=y.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:c.setValue(_*3+1);break;case 1:p.setValue(_/3),d.setValue(_%3);break;case 2:a.setValue(_+1);break}}if(a.getValue().length===0||c.getValue().length===0||d.getValue().length===0||p.getValue().length===0||a.getValue()[0]<1||c.getValue()[0]+d.getValue()[0]<Ve.MIN_ROWS_IN_BARCODE||c.getValue()[0]+d.getValue()[0]>Ve.MAX_ROWS_IN_BARCODE)return null;let g=new XN(a.getValue()[0],c.getValue()[0],d.getValue()[0],p.getValue()[0]);return this.removeIncorrectCodewords(i,g),g}removeIncorrectCodewords(i,a){for(let c=0;c<i.length;c++){let d=i[c];if(i[c]==null)continue;let p=d.getValue()%30,g=d.getRowNumber();if(g>a.getRowCount()){i[c]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:p*3+1!==a.getRowCountUpperPart()&&(i[c]=null);break;case 1:(Math.trunc(p/3)!==a.getErrorCorrectionLevel()||p%3!==a.getRowCountLowerPart())&&(i[c]=null);break;case 2:p+1!==a.getColumnCount()&&(i[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Fc{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=Ve.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let c=this.detectionResultColumns[a].getCodewords();for(let d=0;d<c.length;d++)c[d]!=null&&(c[d].hasValidRowNumber()||this.adjustRowNumbers(a,d,c))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<i.length;c++)if(i[c]!=null&&a[c]!=null&&i[c].getRowNumber()===a[c].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let p=this.detectionResultColumns[d].getCodewords()[c];p!=null&&(p.setRowNumber(i[c].getRowNumber()),p.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let d=a[c].getRowNumber(),p=0;for(let g=this.barcodeColumnCount+1;g>0&&p<this.ADJUST_ROW_NUMBER_SKIP;g--){let y=this.detectionResultColumns[g].getCodewords()[c];y!=null&&(p=Fc.adjustRowNumberIfValid(d,p,y),y.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let d=a[c].getRowNumber(),p=0;for(let g=1;g<this.barcodeColumnCount+1&&p<this.ADJUST_ROW_NUMBER_SKIP;g++){let y=this.detectionResultColumns[g].getCodewords()[c];y!=null&&(p=Fc.adjustRowNumberIfValid(d,p,y),y.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(i)?(c.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,c){if(!this.detectionResultColumns[i-1])return;let d=c[a],p=this.detectionResultColumns[i-1].getCodewords(),g=p;this.detectionResultColumns[i+1]!=null&&(g=this.detectionResultColumns[i+1].getCodewords());let y=new Array(14);y[2]=p[a],y[3]=g[a],a>0&&(y[0]=c[a-1],y[4]=p[a-1],y[5]=g[a-1]),a>1&&(y[8]=c[a-2],y[10]=p[a-2],y[11]=g[a-2]),a<c.length-1&&(y[1]=c[a+1],y[6]=p[a+1],y[7]=g[a+1]),a<c.length-2&&(y[9]=c[a+2],y[12]=p[a+2],y[13]=g[a+2]);for(let _ of y)if(Fc.adjustRowNumber(d,_))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new jc;for(let c=0;c<i.getCodewords().length;c++){a.format("CW %3d:",c);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){a.format("    |   ");continue}let p=this.detectionResultColumns[d].getCodewords()[c];if(p==null){a.format("    |   ");continue}a.format(" %3d|%3d",p.getRowNumber(),p.getValue())}a.format("%n")}return a.toString()}}class Uc{constructor(i,a,c,d){this.rowNumber=Uc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(c),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Uc.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Uc.BARCODE_ROW_UNKNOWN=-1;class pn{static initialize(){for(let i=0;i<Ve.SYMBOL_TABLE.length;i++){let a=Ve.SYMBOL_TABLE[i],c=a&1;for(let d=0;d<Ve.BARS_IN_MODULE;d++){let p=0;for(;(a&1)===c;)p+=1,a>>=1;c=a&1,pn.RATIOS_TABLE[i]||(pn.RATIOS_TABLE[i]=new Array(Ve.BARS_IN_MODULE)),pn.RATIOS_TABLE[i][Ve.BARS_IN_MODULE-d-1]=Math.fround(p/Ve.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=pn.getDecodedCodewordValue(pn.sampleBitCounts(i));return a!==-1?a:pn.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=be.sum(i),c=new Int32Array(Ve.BARS_IN_MODULE),d=0,p=0;for(let g=0;g<Ve.MODULES_IN_CODEWORD;g++){let y=a/(2*Ve.MODULES_IN_CODEWORD)+g*a/Ve.MODULES_IN_CODEWORD;p+i[d]<=y&&(p+=i[d],d++),c[d]++}return c}static getDecodedCodewordValue(i){let a=pn.getBitValue(i);return Ve.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let c=0;c<i.length;c++)for(let d=0;d<i[c];d++)a=a<<1|(c%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=be.sum(i),c=new Array(Ve.BARS_IN_MODULE);if(a>1)for(let g=0;g<c.length;g++)c[g]=Math.fround(i[g]/a);let d=vt.MAX_VALUE,p=-1;this.bSymbolTableReady||pn.initialize();for(let g=0;g<pn.RATIOS_TABLE.length;g++){let y=0,_=pn.RATIOS_TABLE[g];for(let C=0;C<Ve.BARS_IN_MODULE;C++){let O=Math.fround(_[C]-c[C]);if(y+=Math.fround(O*O),y>=d)break}y<d&&(d=y,p=Ve.SYMBOL_TABLE[g])}return p}}pn.bSymbolTableReady=!1,pn.RATIOS_TABLE=new Array(Ve.SYMBOL_TABLE.length).map(k=>new Array(Ve.BARS_IN_MODULE));class dy{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class hy{static parseLong(i,a=void 0){return parseInt(i,a)}}class fy extends h{}fy.kind="NullPointerException";class qN{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,c){if(i==null)throw new fy;if(a<0||a>i.length||c<0||a+c>i.length||a+c<0)throw new N;if(c===0)return;for(let d=0;d<c;d++)this.write(i[a+d])}flush(){}close(){}}class KN extends h{}class QN extends qN{constructor(i=32){if(super(),this.count=0,i<0)throw new w("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let c=this.buf.length<<1;if(c-i<0&&(c=i),c<0){if(i<0)throw new KN;c=A.MAX_VALUE}this.buf=T.copyOfUint8Array(this.buf,c)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,c){if(a<0||a>i.length||c<0||a+c-i.length>0)throw new N;this.ensureCapacity(this.count+c),b.arraycopy(i,a,this.buf,this.count,c),this.count+=c}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return T.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ct;(function(k){k[k.ALPHA=0]="ALPHA",k[k.LOWER=1]="LOWER",k[k.MIXED=2]="MIXED",k[k.PUNCT=3]="PUNCT",k[k.ALPHA_SHIFT=4]="ALPHA_SHIFT",k[k.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function py(){if(typeof window<"u")return window.BigInt||null;if(typeof Hc<"u")return Hc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Id;function Yi(k){if(typeof Id>"u"&&(Id=py()),Id===null)throw new Error("BigInt is not supported!");return Id(k)}function ZN(){let k=[];k[0]=Yi(1);let i=Yi(900);k[1]=i;for(let a=2;a<16;a++)k[a]=k[a-1]*i;return k}class te{static decode(i,a){let c=new se(""),d=B.ISO8859_1;c.enableDecoding(d);let p=1,g=i[p++],y=new dy;for(;p<i[0];){switch(g){case te.TEXT_COMPACTION_MODE_LATCH:p=te.textCompaction(i,p,c);break;case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:p=te.byteCompaction(g,i,d,p,c);break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[p++]);break;case te.NUMERIC_COMPACTION_MODE_LATCH:p=te.numericCompaction(i,p,c);break;case te.ECI_CHARSET:B.getCharacterSetECIByValue(i[p++]);break;case te.ECI_GENERAL_PURPOSE:p+=2;break;case te.ECI_USER_DEFINED:p++;break;case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:p=te.decodeMacroBlock(i,p,y);break;case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:throw new L;default:p--,p=te.textCompaction(i,p,c);break}if(p<i.length)g=i[p++];else throw L.getFormatInstance()}if(c.length()===0)throw L.getFormatInstance();let _=new dt(null,c.toString(),null,a);return _.setOther(y),_}static decodeMacroBlock(i,a,c){if(a+te.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw L.getFormatInstance();let d=new Int32Array(te.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<te.NUMBER_OF_SEQUENCE_CODEWORDS;y++,a++)d[y]=i[a];c.setSegmentIndex(A.parseInt(te.decodeBase900toBase10(d,te.NUMBER_OF_SEQUENCE_CODEWORDS)));let p=new se;a=te.textCompaction(i,a,p),c.setFileId(p.toString());let g=-1;for(i[a]===te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=a+1);a<i[0];)switch(i[a]){case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new se;a=te.textCompaction(i,a+1,y),c.setFileName(y.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let _=new se;a=te.textCompaction(i,a+1,_),c.setSender(_.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new se;a=te.textCompaction(i,a+1,C),c.setAddressee(C.toString());break;case te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new se;a=te.numericCompaction(i,a+1,O),c.setSegmentCount(A.parseInt(O.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let P=new se;a=te.numericCompaction(i,a+1,P),c.setTimestamp(hy.parseLong(P.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let j=new se;a=te.numericCompaction(i,a+1,j),c.setChecksum(A.parseInt(j.toString()));break;case te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let V=new se;a=te.numericCompaction(i,a+1,V),c.setFileSize(hy.parseLong(V.toString()));break;default:throw L.getFormatInstance()}break;case te.MACRO_PDF417_TERMINATOR:a++,c.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(g!==-1){let y=a-g;c.isLastSegment()&&y--,c.setOptionalData(T.copyOfRange(i,g,g+y))}return a}static textCompaction(i,a,c){let d=new Int32Array((i[0]-a)*2),p=new Int32Array((i[0]-a)*2),g=0,y=!1;for(;a<i[0]&&!y;){let _=i[a++];if(_<te.TEXT_COMPACTION_MODE_LATCH)d[g]=_/30,d[g+1]=_%30,g+=2;else switch(_){case te.TEXT_COMPACTION_MODE_LATCH:d[g++]=te.TEXT_COMPACTION_MODE_LATCH;break;case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:a--,y=!0;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[g]=te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,_=i[a++],p[g]=_,g++;break}}return te.decodeTextCompaction(d,p,g,c),a}static decodeTextCompaction(i,a,c,d){let p=Ct.ALPHA,g=Ct.ALPHA,y=0;for(;y<c;){let _=i[y],C="";switch(p){case Ct.ALPHA:if(_<26)C=String.fromCharCode(65+_);else switch(_){case 26:C=" ";break;case te.LL:p=Ct.LOWER;break;case te.ML:p=Ct.MIXED;break;case te.PS:g=p,p=Ct.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:p=Ct.ALPHA;break}break;case Ct.LOWER:if(_<26)C=String.fromCharCode(97+_);else switch(_){case 26:C=" ";break;case te.AS:g=p,p=Ct.ALPHA_SHIFT;break;case te.ML:p=Ct.MIXED;break;case te.PS:g=p,p=Ct.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:p=Ct.ALPHA;break}break;case Ct.MIXED:if(_<te.PL)C=te.MIXED_CHARS[_];else switch(_){case te.PL:p=Ct.PUNCT;break;case 26:C=" ";break;case te.LL:p=Ct.LOWER;break;case te.AL:p=Ct.ALPHA;break;case te.PS:g=p,p=Ct.PUNCT_SHIFT;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:p=Ct.ALPHA;break}break;case Ct.PUNCT:if(_<te.PAL)C=te.PUNCT_CHARS[_];else switch(_){case te.PAL:p=Ct.ALPHA;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:p=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(p=g,_<26)C=String.fromCharCode(65+_);else switch(_){case 26:C=" ";break;case te.TEXT_COMPACTION_MODE_LATCH:p=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(p=g,_<te.PAL)C=te.PUNCT_CHARS[_];else switch(_){case te.PAL:p=Ct.ALPHA;break;case te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case te.TEXT_COMPACTION_MODE_LATCH:p=Ct.ALPHA;break}break}C!==""&&d.append(C),y++}}static byteCompaction(i,a,c,d,p){let g=new QN,y=0,_=0,C=!1;switch(i){case te.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),P=a[d++];for(;d<a[0]&&!C;)switch(O[y++]=P,_=900*_+P,P=a[d++],P){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:d--,C=!0;break;default:if(y%5===0&&y>0){for(let j=0;j<6;++j)g.write(Number(Yi(_)>>Yi(8*(5-j))));_=0,y=0}break}d===a[0]&&P<te.TEXT_COMPACTION_MODE_LATCH&&(O[y++]=P);for(let j=0;j<y;j++)g.write(O[j]);break;case te.BYTE_COMPACTION_MODE_LATCH_6:for(;d<a[0]&&!C;){let j=a[d++];if(j<te.TEXT_COMPACTION_MODE_LATCH)y++,_=900*_+j;else switch(j){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.NUMERIC_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:d--,C=!0;break}if(y%5===0&&y>0){for(let V=0;V<6;++V)g.write(Number(Yi(_)>>Yi(8*(5-V))));_=0,y=0}}break}return p.append(ee.decode(g.toByteArray(),c)),d}static numericCompaction(i,a,c){let d=0,p=!1,g=new Int32Array(te.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!p;){let y=i[a++];if(a===i[0]&&(p=!0),y<te.TEXT_COMPACTION_MODE_LATCH)g[d]=y,d++;else switch(y){case te.TEXT_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH:case te.BYTE_COMPACTION_MODE_LATCH_6:case te.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case te.MACRO_PDF417_TERMINATOR:a--,p=!0;break}(d%te.MAX_NUMERIC_CODEWORDS===0||y===te.NUMERIC_COMPACTION_MODE_LATCH||p)&&d>0&&(c.append(te.decodeBase900toBase10(g,d)),d=0)}return a}static decodeBase900toBase10(i,a){let c=Yi(0);for(let p=0;p<a;p++)c+=te.EXP900[a-p-1]*Yi(i[p]);let d=c.toString();if(d.charAt(0)!=="1")throw new L;return d.substring(1)}}te.TEXT_COMPACTION_MODE_LATCH=900,te.BYTE_COMPACTION_MODE_LATCH=901,te.NUMERIC_COMPACTION_MODE_LATCH=902,te.BYTE_COMPACTION_MODE_LATCH_6=924,te.ECI_USER_DEFINED=925,te.ECI_GENERAL_PURPOSE=926,te.ECI_CHARSET=927,te.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,te.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,te.MACRO_PDF417_TERMINATOR=922,te.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,te.MAX_NUMERIC_CODEWORDS=15,te.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,te.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,te.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,te.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,te.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,te.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,te.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,te.PL=25,te.LL=27,te.AS=27,te.ML=28,te.AL=28,te.PS=29,te.PAL=29,te.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,te.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",te.EXP900=py()?ZN():[],te.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(i,a,c,d,p,g,y){let _=new ra(i,a,c,d,p),C=null,O=null,P;for(let W=!0;;W=!1){if(a!=null&&(C=et.getRowIndicatorColumn(i,_,a,!0,g,y)),d!=null&&(O=et.getRowIndicatorColumn(i,_,d,!1,g,y)),P=et.merge(C,O),P==null)throw H.getNotFoundInstance();let $=P.getBoundingBox();if(W&&$!=null&&($.getMinY()<_.getMinY()||$.getMaxY()>_.getMaxY()))_=$;else break}P.setBoundingBox(_);let j=P.getBarcodeColumnCount()+1;P.setDetectionResultColumn(0,C),P.setDetectionResultColumn(j,O);let V=C!=null;for(let W=1;W<=j;W++){let $=V?W:j-W;if(P.getDetectionResultColumn($)!==void 0)continue;let q;$===0||$===j?q=new uy(_,$===0):q=new Lc(_),P.setDetectionResultColumn($,q);let re=-1,ge=re;for(let me=_.getMinY();me<=_.getMaxY();me++){if(re=et.getStartColumn(P,$,me,V),re<0||re>_.getMaxX()){if(ge===-1)continue;re=ge}let he=et.detectCodeword(i,_.getMinX(),_.getMaxX(),V,re,me,g,y);he!=null&&(q.setCodeword(me,he),ge=re,g=Math.min(g,he.getWidth()),y=Math.max(y,he.getWidth()))}}return et.createDecoderResult(P)}static merge(i,a){if(i==null&&a==null)return null;let c=et.getBarcodeMetadata(i,a);if(c==null)return null;let d=ra.merge(et.adjustBoundingBox(i),et.adjustBoundingBox(a));return new Fc(c,d)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let c=et.getMax(a),d=0;for(let y of a)if(d+=c-y,y>0)break;let p=i.getCodewords();for(let y=0;d>0&&p[y]==null;y++)d--;let g=0;for(let y=a.length-1;y>=0&&(g+=c-a[y],!(a[y]>0));y--);for(let y=p.length-1;g>0&&p[y]==null;y--)g--;return i.getBoundingBox().addMissingRows(d,g,i.isLeft())}static getMax(i){let a=-1;for(let c of i)a=Math.max(a,c);return a}static getBarcodeMetadata(i,a){let c;if(i==null||(c=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let d;return a==null||(d=a.getBarcodeMetadata())==null?c:c.getColumnCount()!==d.getColumnCount()&&c.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&c.getRowCount()!==d.getRowCount()?null:c}static getRowIndicatorColumn(i,a,c,d,p,g){let y=new uy(a,d);for(let _=0;_<2;_++){let C=_===0?1:-1,O=Math.trunc(Math.trunc(c.getX()));for(let P=Math.trunc(Math.trunc(c.getY()));P<=a.getMaxY()&&P>=a.getMinY();P+=C){let j=et.detectCodeword(i,0,i.getWidth(),d,O,P,p,g);j!=null&&(y.setCodeword(P,j),d?O=j.getStartX():O=j.getEndX())}}return y}static adjustCodewordCount(i,a){let c=a[0][1],d=c.getValue(),p=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-et.getNumberOfECCodeWords(i.getBarcodeECLevel());if(d.length===0){if(p<1||p>Ve.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();c.setValue(p)}else d[0]!==p&&c.setValue(p)}static createDecoderResult(i){let a=et.createBarcodeMatrix(i);et.adjustCodewordCount(i,a);let c=new Array,d=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),p=[],g=new Array;for(let _=0;_<i.getBarcodeRowCount();_++)for(let C=0;C<i.getBarcodeColumnCount();C++){let O=a[_][C+1].getValue(),P=_*i.getBarcodeColumnCount()+C;O.length===0?c.push(P):O.length===1?d[P]=O[0]:(g.push(P),p.push(O))}let y=new Array(p.length);for(let _=0;_<y.length;_++)y[_]=p[_];return et.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),d,Ve.toIntArray(c),Ve.toIntArray(g),y)}static createDecoderResultFromAmbiguousValues(i,a,c,d,p){let g=new Int32Array(d.length),y=100;for(;y-- >0;){for(let _=0;_<g.length;_++)a[d[_]]=p[_][g[_]];try{return et.decodeCodewords(a,i,c)}catch(_){if(!(_ instanceof E))throw _}if(g.length===0)throw E.getChecksumInstance();for(let _=0;_<g.length;_++)if(g[_]<p[_].length-1){g[_]++;break}else if(g[_]=0,_===g.length-1)throw E.getChecksumInstance()}throw E.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let d=0;d<a.length;d++)for(let p=0;p<a[d].length;p++)a[d][p]=new Bc;let c=0;for(let d of i.getDetectionResultColumns()){if(d!=null){for(let p of d.getCodewords())if(p!=null){let g=p.getRowNumber();if(g>=0){if(g>=a.length)continue;a[g][c].setValue(p.getValue())}}}c++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,c,d){let p=d?1:-1,g=null;if(et.isValidBarcodeColumn(i,a-p)&&(g=i.getDetectionResultColumn(a-p).getCodeword(c)),g!=null)return d?g.getEndX():g.getStartX();if(g=i.getDetectionResultColumn(a).getCodewordNearby(c),g!=null)return d?g.getStartX():g.getEndX();if(et.isValidBarcodeColumn(i,a-p)&&(g=i.getDetectionResultColumn(a-p).getCodewordNearby(c)),g!=null)return d?g.getEndX():g.getStartX();let y=0;for(;et.isValidBarcodeColumn(i,a-p);){a-=p;for(let _ of i.getDetectionResultColumn(a).getCodewords())if(_!=null)return(d?_.getEndX():_.getStartX())+p*y*(_.getEndX()-_.getStartX());y++}return d?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,c,d,p,g,y,_){p=et.adjustCodewordStartColumn(i,a,c,d,p,g);let C=et.getModuleBitCount(i,a,c,d,p,g);if(C==null)return null;let O,P=be.sum(C);if(d)O=p+P;else{for(let W=0;W<C.length/2;W++){let $=C[W];C[W]=C[C.length-1-W],C[C.length-1-W]=$}O=p,p=O-P}if(!et.checkCodewordSkew(P,y,_))return null;let j=pn.getDecodedValue(C),V=Ve.getCodeword(j);return V===-1?null:new Uc(p,O,et.getCodewordBucketNumber(j),V)}static getModuleBitCount(i,a,c,d,p,g){let y=p,_=new Int32Array(8),C=0,O=d?1:-1,P=d;for(;(d?y<c:y>=a)&&C<_.length;)i.get(y,g)===P?(_[C]++,y+=O):(C++,P=!P);return C===_.length||y===(d?c:a)&&C===_.length-1?_:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,c,d,p,g){let y=p,_=d?-1:1;for(let C=0;C<2;C++){for(;(d?y>=a:y<c)&&d===i.get(y,g);){if(Math.abs(p-y)>et.CODEWORD_SKEW_SIZE)return p;y+=_}_=-_,d=!d}return y}static checkCodewordSkew(i,a,c){return a-et.CODEWORD_SKEW_SIZE<=i&&i<=c+et.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,c){if(i.length===0)throw L.getFormatInstance();let d=1<<a+1,p=et.correctErrors(i,c,d);et.verifyCodewordCount(i,d);let g=te.decode(i,""+a);return g.setErrorsCorrected(p),g.setErasures(c.length),g}static correctErrors(i,a,c){if(a!=null&&a.length>c/2+et.MAX_ERRORS||c<0||c>et.MAX_EC_CODEWORDS)throw E.getChecksumInstance();return et.errorCorrection.decode(i,c,a)}static verifyCodewordCount(i,a){if(i.length<4)throw L.getFormatInstance();let c=i[0];if(c>i.length)throw L.getFormatInstance();if(c===0)if(a<i.length)i[0]=i.length-a;else throw L.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),c=0,d=a.length-1;for(;!((i&1)!==c&&(c=i&1,d--,d<0));)a[d]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return et.getCodewordBucketNumber(et.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new jc;for(let c=0;c<i.length;c++){a.format("Row %2d: ",c);for(let d=0;d<i[c].length;d++){let p=i[c][d];p.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",p.getValue()[0],p.getConfidence(p.getValue()[0]))}a.format("%n")}return a.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new cy;class Lr{decode(i,a=null){let c=Lr.decode(i,a,!1);if(c==null||c.length===0||c[0]==null)throw H.getNotFoundInstance();return c[0]}decodeMultiple(i,a=null){try{return Lr.decode(i,a,!0)}catch(c){throw c instanceof L||c instanceof E?H.getNotFoundInstance():c}}static decode(i,a,c){const d=new Array,p=Ze.detectMultiple(i,a,c);for(const g of p.getPoints()){const y=et.decode(p.getBits(),g[4],g[5],g[6],g[7],Lr.getMinCodewordWidth(g),Lr.getMaxCodewordWidth(g)),_=new fe(y.getText(),y.getRawBytes(),void 0,g,ve.PDF_417);_.putMetadata(ke.ERROR_CORRECTION_LEVEL,y.getECLevel());const C=y.getOther();C!=null&&_.putMetadata(ke.PDF417_EXTRA_METADATA,C),d.push(_)}return d.map(g=>g)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?A.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Lr.getMaxWidth(i[0],i[4]),Lr.getMaxWidth(i[6],i[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.max(Lr.getMaxWidth(i[1],i[5]),Lr.getMaxWidth(i[7],i[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Lr.getMinWidth(i[0],i[4]),Lr.getMinWidth(i[6],i[2])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN),Math.min(Lr.getMinWidth(i[1],i[5]),Lr.getMinWidth(i[7],i[3])*Ve.MODULES_IN_CODEWORD/Ve.MODULES_IN_STOP_PATTERN)))}reset(){}}class Rd extends h{}Rd.kind="ReaderException";class gy{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!n(i)&&i.get(F.TRY_HARDER)===!0,c=n(i)?null:i.get(F.POSSIBLE_FORMATS),d=new Array;if(!n(c)){const p=c.some(g=>g===ve.UPC_A||g===ve.UPC_E||g===ve.EAN_13||g===ve.EAN_8||g===ve.CODABAR||g===ve.CODE_39||g===ve.CODE_93||g===ve.CODE_128||g===ve.ITF||g===ve.RSS_14||g===ve.RSS_EXPANDED);p&&!a&&d.push(new rl(i,this.verbose)),c.includes(ve.QR_CODE)&&d.push(new Gi),c.includes(ve.DATA_MATRIX)&&d.push(new $i),c.includes(ve.AZTEC)&&d.push(new Za),c.includes(ve.PDF_417)&&d.push(new Lr),p&&a&&d.push(new rl(i,this.verbose))}d.length===0&&(a||d.push(new rl(i,this.verbose)),d.push(new Gi),d.push(new $i),d.push(new Za),d.push(new Lr),a&&d.push(new rl(i,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Rd("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(c){if(c instanceof Rd)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class JN extends ae{constructor(i=null,a=500){const c=new gy;c.setHints(i),super(c,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class eI extends ae{constructor(i=500){super(new Lr,i)}}class tI extends ae{constructor(i=500){super(new Gi,i)}}var L0;(function(k){k[k.ERROR_CORRECTION=0]="ERROR_CORRECTION",k[k.CHARACTER_SET=1]="CHARACTER_SET",k[k.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",k[k.MIN_SIZE=3]="MIN_SIZE",k[k.MAX_SIZE=4]="MAX_SIZE",k[k.MARGIN=5]="MARGIN",k[k.PDF417_COMPACT=6]="PDF417_COMPACT",k[k.PDF417_COMPACTION=7]="PDF417_COMPACTION",k[k.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",k[k.AZTEC_LAYERS=9]="AZTEC_LAYERS",k[k.QR_VERSION=10]="QR_VERSION"})(L0||(L0={}));var br=L0;class B0{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new Le(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let c=a[a.length-1];const d=this.field;for(let p=a.length;p<=i;p++){const g=c.multiply(new Le(d,Int32Array.from([1,d.exp(p-1+d.getGeneratorBase())])));a.push(g),c=g}}return a[i]}encode(i,a){if(a===0)throw new w("No error correction bytes");const c=i.length-a;if(c<=0)throw new w("No data bytes provided");const d=this.buildGenerator(a),p=new Int32Array(c);b.arraycopy(i,0,p,0,c);let g=new Le(this.field,p);g=g.multiplyByMonomial(a,1);const _=g.divide(d)[1].getCoefficients(),C=a-_.length;for(let O=0;O<C;O++)i[c+O]=0;b.arraycopy(_,0,i,c+C,_.length)}}class tr{constructor(){}static applyMaskPenaltyRule1(i){return tr.applyMaskPenaltyRule1Internal(i,!0)+tr.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const c=i.getArray(),d=i.getWidth(),p=i.getHeight();for(let g=0;g<p-1;g++){const y=c[g];for(let _=0;_<d-1;_++){const C=y[_];C===y[_+1]&&C===c[g+1][_]&&C===c[g+1][_+1]&&a++}}return tr.N2*a}static applyMaskPenaltyRule3(i){let a=0;const c=i.getArray(),d=i.getWidth(),p=i.getHeight();for(let g=0;g<p;g++)for(let y=0;y<d;y++){const _=c[g];y+6<d&&_[y]===1&&_[y+1]===0&&_[y+2]===1&&_[y+3]===1&&_[y+4]===1&&_[y+5]===0&&_[y+6]===1&&(tr.isWhiteHorizontal(_,y-4,y)||tr.isWhiteHorizontal(_,y+7,y+11))&&a++,g+6<p&&c[g][y]===1&&c[g+1][y]===0&&c[g+2][y]===1&&c[g+3][y]===1&&c[g+4][y]===1&&c[g+5][y]===0&&c[g+6][y]===1&&(tr.isWhiteVertical(c,y,g-4,g)||tr.isWhiteVertical(c,y,g+7,g+11))&&a++}return a*tr.N3}static isWhiteHorizontal(i,a,c){a=Math.max(a,0),c=Math.min(c,i.length);for(let d=a;d<c;d++)if(i[d]===1)return!1;return!0}static isWhiteVertical(i,a,c,d){c=Math.max(c,0),d=Math.min(d,i.length);for(let p=c;p<d;p++)if(i[p][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const c=i.getArray(),d=i.getWidth(),p=i.getHeight();for(let _=0;_<p;_++){const C=c[_];for(let O=0;O<d;O++)C[O]===1&&a++}const g=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-g)*10/g)*tr.N4}static getDataMaskBit(i,a,c){let d,p;switch(i){case 0:d=c+a&1;break;case 1:d=c&1;break;case 2:d=a%3;break;case 3:d=(c+a)%3;break;case 4:d=Math.floor(c/2)+Math.floor(a/3)&1;break;case 5:p=c*a,d=(p&1)+p%3;break;case 6:p=c*a,d=(p&1)+p%3&1;break;case 7:p=c*a,d=p%3+(c+a&1)&1;break;default:throw new w("Invalid mask pattern: "+i)}return d===0}static applyMaskPenaltyRule1Internal(i,a){let c=0;const d=a?i.getHeight():i.getWidth(),p=a?i.getWidth():i.getHeight(),g=i.getArray();for(let y=0;y<d;y++){let _=0,C=-1;for(let O=0;O<p;O++){const P=a?g[y][O]:g[O][y];P===C?_++:(_>=5&&(c+=tr.N1+(_-5)),_=1,C=P)}_>=5&&(c+=tr.N1+(_-5))}return c}}tr.N1=3,tr.N2=3,tr.N3=40,tr.N4=10;class Od{constructor(i,a){this.width=i,this.height=a;const c=new Array(a);for(let d=0;d!==a;d++)c[d]=new Uint8Array(i);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,c){this.bytes[a][i]=c}setBoolean(i,a,c){this.bytes[a][i]=c?1:0}clear(i){for(const a of this.bytes)T.fill(a,i)}equals(i){if(!(i instanceof Od))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let c=0,d=this.height;c<d;++c){const p=this.bytes[c],g=a.bytes[c];for(let y=0,_=this.width;y<_;++y)if(p[y]!==g[y])return!1}return!0}toString(){const i=new se;for(let a=0,c=this.height;a<c;++a){const d=this.bytes[a];for(let p=0,g=this.width;p<g;++p)switch(d[p]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class na{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new se;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<na.NUM_MASK_PATTERNS}}na.NUM_MASK_PATTERNS=8;class At extends h{}At.kind="WriterException";class Be{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,c,d,p){Be.clearMatrix(p),Be.embedBasicPatterns(c,p),Be.embedTypeInfo(a,d,p),Be.maybeEmbedVersionInfo(c,p),Be.embedDataBits(i,d,p)}static embedBasicPatterns(i,a){Be.embedPositionDetectionPatternsAndSeparators(a),Be.embedDarkDotAtLeftBottomCorner(a),Be.maybeEmbedPositionAdjustmentPatterns(i,a),Be.embedTimingPatterns(a)}static embedTypeInfo(i,a,c){const d=new M;Be.makeTypeInfoBits(i,a,d);for(let p=0,g=d.getSize();p<g;++p){const y=d.get(d.getSize()-1-p),_=Be.TYPE_INFO_COORDINATES[p],C=_[0],O=_[1];if(c.setBoolean(C,O,y),p<8){const P=c.getWidth()-p-1;c.setBoolean(P,8,y)}else{const j=c.getHeight()-7+(p-8);c.setBoolean(8,j,y)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const c=new M;Be.makeVersionInfoBits(i,c);let d=6*3-1;for(let p=0;p<6;++p)for(let g=0;g<3;++g){const y=c.get(d);d--,a.setBoolean(p,a.getHeight()-11+g,y),a.setBoolean(a.getHeight()-11+g,p,y)}}static embedDataBits(i,a,c){let d=0,p=-1,g=c.getWidth()-1,y=c.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);y>=0&&y<c.getHeight();){for(let _=0;_<2;++_){const C=g-_;if(!Be.isEmpty(c.get(C,y)))continue;let O;d<i.getSize()?(O=i.get(d),++d):O=!1,a!==255&&tr.getDataMaskBit(a,C,y)&&(O=!O),c.setBoolean(C,y,O)}y+=p}p=-p,y+=p,g-=2}if(d!==i.getSize())throw new At("Not all bits consumed: "+d+"/"+i.getSize())}static findMSBSet(i){return 32-A.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new w("0 polynomial");const c=Be.findMSBSet(a);for(i<<=c-1;Be.findMSBSet(i)>=c;)i^=a<<Be.findMSBSet(i)-c;return i}static makeTypeInfoBits(i,a,c){if(!na.isValidMaskPattern(a))throw new At("Invalid mask pattern");const d=i.getBits()<<3|a;c.appendBits(d,5);const p=Be.calculateBCHCode(d,Be.TYPE_INFO_POLY);c.appendBits(p,10);const g=new M;if(g.appendBits(Be.TYPE_INFO_MASK_PATTERN,15),c.xor(g),c.getSize()!==15)throw new At("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const c=Be.calculateBCHCode(i.getVersionNumber(),Be.VERSION_INFO_POLY);if(a.appendBits(c,12),a.getSize()!==18)throw new At("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const c=(a+1)%2;Be.isEmpty(i.get(a,6))&&i.setNumber(a,6,c),Be.isEmpty(i.get(6,a))&&i.setNumber(6,a,c)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new At;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,c){for(let d=0;d<8;++d){if(!Be.isEmpty(c.get(i+d,a)))throw new At;c.setNumber(i+d,a,0)}}static embedVerticalSeparationPattern(i,a,c){for(let d=0;d<7;++d){if(!Be.isEmpty(c.get(i,a+d)))throw new At;c.setNumber(i,a+d,0)}}static embedPositionAdjustmentPattern(i,a,c){for(let d=0;d<5;++d){const p=Be.POSITION_ADJUSTMENT_PATTERN[d];for(let g=0;g<5;++g)c.setNumber(i+g,a+d,p[g])}}static embedPositionDetectionPattern(i,a,c){for(let d=0;d<7;++d){const p=Be.POSITION_DETECTION_PATTERN[d];for(let g=0;g<7;++g)c.setNumber(i+g,a+d,p[g])}}static embedPositionDetectionPatternsAndSeparators(i){const a=Be.POSITION_DETECTION_PATTERN[0].length;Be.embedPositionDetectionPattern(0,0,i),Be.embedPositionDetectionPattern(i.getWidth()-a,0,i),Be.embedPositionDetectionPattern(0,i.getWidth()-a,i);const c=8;Be.embedHorizontalSeparationPattern(0,c-1,i),Be.embedHorizontalSeparationPattern(i.getWidth()-c,c-1,i),Be.embedHorizontalSeparationPattern(0,i.getWidth()-c,i);const d=7;Be.embedVerticalSeparationPattern(d,0,i),Be.embedVerticalSeparationPattern(i.getHeight()-d-1,0,i),Be.embedVerticalSeparationPattern(d,i.getHeight()-d,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const c=i.getVersionNumber()-1,d=Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let p=0,g=d.length;p!==g;p++){const y=d[p];if(y>=0)for(let _=0;_!==g;_++){const C=d[_];C>=0&&Be.isEmpty(a.get(C,y))&&Be.embedPositionAdjustmentPattern(C-2,y-2,a)}}}}Be.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Be.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Be.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Be.VERSION_INFO_POLY=7973,Be.TYPE_INFO_POLY=1335,Be.TYPE_INFO_MASK_PATTERN=21522;class rI{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(i){return tr.applyMaskPenaltyRule1(i)+tr.applyMaskPenaltyRule2(i)+tr.applyMaskPenaltyRule3(i)+tr.applyMaskPenaltyRule4(i)}static encode(i,a,c=null){let d=kt.DEFAULT_BYTE_MODE_ENCODING;const p=c!==null&&c.get(br.CHARACTER_SET)!==void 0;p&&(d=c.get(br.CHARACTER_SET).toString());const g=this.chooseMode(i,d),y=new M;if(g===De.BYTE&&(p||kt.DEFAULT_BYTE_MODE_ENCODING!==d)){const me=B.getCharacterSetECIByName(d);me!==void 0&&this.appendECI(me,y)}this.appendModeInfo(g,y);const _=new M;this.appendBytes(i,g,_,d);let C;if(c!==null&&c.get(br.QR_VERSION)!==void 0){const me=Number.parseInt(c.get(br.QR_VERSION).toString(),10);C=Oe.getVersionForNumber(me);const he=this.calculateBitsNeeded(g,y,_,C);if(!this.willFit(he,C,a))throw new At("Data too big for requested version")}else C=this.recommendVersion(a,g,y,_);const O=new M;O.appendBitArray(y);const P=g===De.BYTE?_.getSizeInBytes():i.length;this.appendLengthInfo(P,C,g,O),O.appendBitArray(_);const j=C.getECBlocksForLevel(a),V=C.getTotalCodewords()-j.getTotalECCodewords();this.terminateBits(V,O);const W=this.interleaveWithECBytes(O,C.getTotalCodewords(),V,j.getNumBlocks()),$=new na;$.setECLevel(a),$.setMode(g),$.setVersion(C);const q=C.getDimensionForVersion(),re=new Od(q,q),ge=this.chooseMaskPattern(W,a,C,re);return $.setMaskPattern(ge),Be.buildMatrix(W,a,C,ge,re),$.setMatrix(re),$}static recommendVersion(i,a,c,d){const p=this.calculateBitsNeeded(a,c,d,Oe.getVersionForNumber(1)),g=this.chooseVersion(p,i),y=this.calculateBitsNeeded(a,c,d,g);return this.chooseVersion(y,i)}static calculateBitsNeeded(i,a,c,d){return a.getSize()+i.getCharacterCountBits(d)+c.getSize()}static getAlphanumericCode(i){return i<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(B.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return De.KANJI;let c=!1,d=!1;for(let p=0,g=i.length;p<g;++p){const y=i.charAt(p);if(kt.isDigit(y))c=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)d=!0;else return De.BYTE}return d?De.ALPHANUMERIC:c?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=ee.encode(i,B.SJIS)}catch{return!1}const c=a.length;if(c%2!==0)return!1;for(let d=0;d<c;d+=2){const p=a[d]&255;if((p<129||p>159)&&(p<224||p>235))return!1}return!0}static chooseMaskPattern(i,a,c,d){let p=Number.MAX_SAFE_INTEGER,g=-1;for(let y=0;y<na.NUM_MASK_PATTERNS;y++){Be.buildMatrix(i,a,c,y,d);let _=this.calculateMaskPenalty(d);_<p&&(p=_,g=y)}return g}static chooseVersion(i,a){for(let c=1;c<=40;c++){const d=Oe.getVersionForNumber(c);if(kt.willFit(i,d,a))return d}throw new At("Data too big")}static willFit(i,a,c){const d=a.getTotalCodewords(),g=a.getECBlocksForLevel(c).getTotalECCodewords(),y=d-g,_=(i+7)/8;return y>=_}static terminateBits(i,a){const c=i*8;if(a.getSize()>c)throw new At("data bits cannot fit in the QR Code"+a.getSize()+" > "+c);for(let g=0;g<4&&a.getSize()<c;++g)a.appendBit(!1);const d=a.getSize()&7;if(d>0)for(let g=d;g<8;g++)a.appendBit(!1);const p=i-a.getSizeInBytes();for(let g=0;g<p;++g)a.appendBits(g&1?17:236,8);if(a.getSize()!==c)throw new At("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,c,d,p,g){if(d>=c)throw new At("Block ID too large");const y=i%c,_=c-y,C=Math.floor(i/c),O=C+1,P=Math.floor(a/c),j=P+1,V=C-P,W=O-j;if(V!==W)throw new At("EC bytes mismatch");if(c!==_+y)throw new At("RS blocks mismatch");if(i!==(P+V)*_+(j+W)*y)throw new At("Total bytes mismatch");d<_?(p[0]=P,g[0]=V):(p[0]=j,g[0]=W)}static interleaveWithECBytes(i,a,c,d){if(i.getSizeInBytes()!==c)throw new At("Number of bits and data bytes does not match");let p=0,g=0,y=0;const _=new Array;for(let O=0;O<d;++O){const P=new Int32Array(1),j=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(a,c,d,O,P,j);const V=P[0],W=new Uint8Array(V);i.toBytes(8*p,W,0,V);const $=kt.generateECBytes(W,j[0]);_.push(new rI(W,$)),g=Math.max(g,V),y=Math.max(y,$.length),p+=P[0]}if(c!==p)throw new At("Data bytes does not match offset");const C=new M;for(let O=0;O<g;++O)for(const P of _){const j=P.getDataBytes();O<j.length&&C.appendBits(j[O],8)}for(let O=0;O<y;++O)for(const P of _){const j=P.getErrorCorrectionBytes();O<j.length&&C.appendBits(j[O],8)}if(a!==C.getSizeInBytes())throw new At("Interleaving error: "+a+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(i,a){const c=i.length,d=new Int32Array(c+a);for(let g=0;g<c;g++)d[g]=i[g]&255;new B0(Ue.QR_CODE_FIELD_256).encode(d,a);const p=new Uint8Array(a);for(let g=0;g<a;g++)p[g]=d[c+g];return p}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,c,d){const p=c.getCharacterCountBits(a);if(i>=1<<p)throw new At(i+" is bigger than "+((1<<p)-1));d.appendBits(i,p)}static appendBytes(i,a,c,d){switch(a){case De.NUMERIC:kt.appendNumericBytes(i,c);break;case De.ALPHANUMERIC:kt.appendAlphanumericBytes(i,c);break;case De.BYTE:kt.append8BitBytes(i,c,d);break;case De.KANJI:kt.appendKanjiBytes(i,c);break;default:throw new At("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=kt.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const c=i.length;let d=0;for(;d<c;){const p=kt.getDigit(i.charAt(d));if(d+2<c){const g=kt.getDigit(i.charAt(d+1)),y=kt.getDigit(i.charAt(d+2));a.appendBits(p*100+g*10+y,10),d+=3}else if(d+1<c){const g=kt.getDigit(i.charAt(d+1));a.appendBits(p*10+g,7),d+=2}else a.appendBits(p,4),d++}}static appendAlphanumericBytes(i,a){const c=i.length;let d=0;for(;d<c;){const p=kt.getAlphanumericCode(i.charCodeAt(d));if(p===-1)throw new At;if(d+1<c){const g=kt.getAlphanumericCode(i.charCodeAt(d+1));if(g===-1)throw new At;a.appendBits(p*45+g,11),d+=2}else a.appendBits(p,6),d++}}static append8BitBytes(i,a,c){let d;try{d=ee.encode(i,c)}catch(p){throw new At(p)}for(let p=0,g=d.length;p!==g;p++){const y=d[p];a.appendBits(y,8)}}static appendKanjiBytes(i,a){let c;try{c=ee.encode(i,B.SJIS)}catch(p){throw new At(p)}const d=c.length;for(let p=0;p<d;p+=2){const g=c[p]&255,y=c[p+1]&255,_=g<<8&4294967295|y;let C=-1;if(_>=33088&&_<=40956?C=_-33088:_>=57408&&_<=60351&&(C=_-49472),C===-1)throw new At("Invalid byte sequence");const O=(C>>8)*192+(C&255);a.appendBits(O,13)}}static appendECI(i,a){a.appendBits(De.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=B.UTF8.getName();class sa{write(i,a,c,d=null){if(i.length===0)throw new w("Found empty contents");if(a<0||c<0)throw new w("Requested dimensions are too small: "+a+"x"+c);let p=Rt.L,g=sa.QUIET_ZONE_SIZE;d!==null&&(d.get(br.ERROR_CORRECTION)!==void 0&&(p=Rt.fromString(d.get(br.ERROR_CORRECTION).toString())),d.get(br.MARGIN)!==void 0&&(g=Number.parseInt(d.get(br.MARGIN).toString(),10)));const y=kt.encode(i,p,d);return this.renderResult(y,a,c,g)}writeToDom(i,a,c,d,p=null){typeof i=="string"&&(i=document.querySelector(i));const g=this.write(a,c,d,p);i&&i.appendChild(g)}renderResult(i,a,c,d){const p=i.getMatrix();if(p===null)throw new yr;const g=p.getWidth(),y=p.getHeight(),_=g+d*2,C=y+d*2,O=Math.max(a,_),P=Math.max(c,C),j=Math.min(Math.floor(O/_),Math.floor(P/C)),V=Math.floor((O-g*j)/2),W=Math.floor((P-y*j)/2),$=this.createSVGElement(O,P);for(let q=0,re=W;q<y;q++,re+=j)for(let ge=0,me=V;ge<g;ge++,me+=j)if(p.get(ge,q)===1){const he=this.createSvgRectElement(me,re,j,j);$.appendChild(he)}return $}createSVGElement(i,a){const c=document.createElementNS(sa.SVG_NS,"svg");return c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",a.toString()),c}createSvgRectElement(i,a,c,d){const p=document.createElementNS(sa.SVG_NS,"rect");return p.setAttributeNS(null,"x",i.toString()),p.setAttributeNS(null,"y",a.toString()),p.setAttributeNS(null,"height",c.toString()),p.setAttributeNS(null,"width",d.toString()),p.setAttributeNS(null,"fill","#000000"),p}}sa.QUIET_ZONE_SIZE=4,sa.SVG_NS="http://www.w3.org/2000/svg";class sl{encode(i,a,c,d,p){if(i.length===0)throw new w("Found empty contents");if(a!==ve.QR_CODE)throw new w("Can only encode QR_CODE, but got "+a);if(c<0||d<0)throw new w(`Requested dimensions are too small: ${c}x${d}`);let g=Rt.L,y=sl.QUIET_ZONE_SIZE;p!==null&&(p.get(br.ERROR_CORRECTION)!==void 0&&(g=Rt.fromString(p.get(br.ERROR_CORRECTION).toString())),p.get(br.MARGIN)!==void 0&&(y=Number.parseInt(p.get(br.MARGIN).toString(),10)));const _=kt.encode(i,g,p);return sl.renderResult(_,c,d,y)}static renderResult(i,a,c,d){const p=i.getMatrix();if(p===null)throw new yr;const g=p.getWidth(),y=p.getHeight(),_=g+d*2,C=y+d*2,O=Math.max(a,_),P=Math.max(c,C),j=Math.min(Math.floor(O/_),Math.floor(P/C)),V=Math.floor((O-g*j)/2),W=Math.floor((P-y*j)/2),$=new G(O,P);for(let q=0,re=W;q<y;q++,re+=j)for(let ge=0,me=V;ge<g;ge++,me+=j)p.get(ge,q)===1&&$.setRegion(me,re,j,j);return $}}sl.QUIET_ZONE_SIZE=4;class nI{encode(i,a,c,d,p){let g;switch(a){case ve.QR_CODE:g=new sl;break;default:throw new w("No encoder available for format "+a)}return g.encode(i,a,c,d,p)}}class Ys extends Y{constructor(i,a,c,d,p,g,y,_){if(super(g,y),this.yuvData=i,this.dataWidth=a,this.dataHeight=c,this.left=d,this.top=p,d+g>a||p+y>c)throw new w("Crop rectangle does not fit within image data.");_&&this.reverseHorizontal(g,y)}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const d=(i+this.top)*this.dataWidth+this.left;return b.arraycopy(this.yuvData,d,a,0,c),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const c=i*a,d=new Uint8ClampedArray(c);let p=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return b.arraycopy(this.yuvData,p,d,0,c),d;for(let g=0;g<a;g++){const y=g*i;b.arraycopy(this.yuvData,p,d,y,i),p+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,a,c,d){return new Ys(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,c,d,!1)}renderThumbnail(){const i=this.getWidth()/Ys.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Ys.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(i*a),d=this.yuvData;let p=this.top*this.dataWidth+this.left;for(let g=0;g<a;g++){const y=g*i;for(let _=0;_<i;_++){const C=d[p+_*Ys.THUMBNAIL_SCALE_FACTOR]&255;c[y+_]=4278190080|C*65793}p+=this.dataWidth*Ys.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/Ys.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ys.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const c=this.yuvData;for(let d=0,p=this.top*this.dataWidth+this.left;d<a;d++,p+=this.dataWidth){const g=p+i/2;for(let y=p,_=p+i-1;y<g;y++,_--){const C=c[y];c[y]=c[_],c[_]=C}}}invert(){return new J(this)}}Ys.THUMBNAIL_SCALE_FACTOR=2;class F0 extends Y{constructor(i,a,c,d,p,g,y){if(super(a,c),this.dataWidth=d,this.dataHeight=p,this.left=g,this.top=y,i.BYTES_PER_ELEMENT===4){const _=a*c,C=new Uint8ClampedArray(_);for(let O=0;O<_;O++){const P=i[O],j=P>>16&255,V=P>>7&510,W=P&255;C[O]=(j+V+W)/4&255}this.luminances=C}else this.luminances=i;if(d===void 0&&(this.dataWidth=a),p===void 0&&(this.dataHeight=c),g===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+c>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const d=(i+this.top)*this.dataWidth+this.left;return b.arraycopy(this.luminances,d,a,0,c),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const c=i*a,d=new Uint8ClampedArray(c);let p=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return b.arraycopy(this.luminances,p,d,0,c),d;for(let g=0;g<a;g++){const y=g*i;b.arraycopy(this.luminances,p,d,y,i),p+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,a,c,d){return new F0(this.luminances,c,d,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new J(this)}}class my extends B{static forName(i){return this.getCharacterSetECIByName(i)}}class U0{}U0.ISO_8859_1=B.ISO8859_1;class xy{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class yy{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class sI{constructor(i){this.previous=i}getPrevious(){return this.previous}}class il extends sI{constructor(i,a,c){super(i),this.value=a,this.bitCount=c}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new il(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new il(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+A.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class z0 extends il{constructor(i,a,c){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=c}appendTo(i,a){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):c===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+c],8)}addBinaryShift(i,a){return new z0(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function iI(k,i,a){return new z0(k,i,a)}function zc(k,i,a){return new il(k,i,a)}const oI=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Xi=0,Md=1,Jn=2,wy=3,Xs=4,aI=new il(null,0,0),V0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function lI(k){for(let i of k)T.fill(i,-1);return k[Xi][Xs]=0,k[Md][Xs]=0,k[Md][Xi]=28,k[wy][Xs]=0,k[Jn][Xs]=0,k[Jn][Xi]=15,k}const vy=lI(T.createInt32Array(6,6));class qs{constructor(i,a,c,d){this.token=i,this.mode=a,this.binaryShiftByteCount=c,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let c=this.bitCount,d=this.token;if(i!==this.mode){let g=V0[this.mode][i];d=zc(d,g&65535,g>>16),c+=g>>16}let p=i===Jn?4:5;return d=zc(d,a,p),new qs(d,i,0,c+p)}shiftAndAppend(i,a){let c=this.token,d=this.mode===Jn?4:5;return c=zc(c,vy[this.mode][i],d),c=zc(c,a,5),new qs(c,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(i){let a=this.token,c=this.mode,d=this.bitCount;if(this.mode===Xs||this.mode===Jn){let y=V0[c][Xi];a=zc(a,y&65535,y>>16),d+=y>>16,c=Xi}let p=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new qs(a,c,this.binaryShiftByteCount+1,d+p);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(i+1)),g}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=iI(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new qs(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(V0[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=qs.calculateBinaryShiftCost(i)-qs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let d=this.endBinaryShift(i.length).token;d!==null;d=d.getPrevious())a.unshift(d);let c=new M;for(const d of a)d.appendTo(c,i);return c}toString(){return Q.format("%s bits=%d bytes=%d",oI[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}qs.INITIAL_STATE=new qs(aI,Xi,0,0);function cI(k){const i=Q.getCharCode(" "),a=Q.getCharCode("."),c=Q.getCharCode(",");k[Xi][i]=1;const d=Q.getCharCode("Z"),p=Q.getCharCode("A");for(let j=p;j<=d;j++)k[Xi][j]=j-p+2;k[Md][i]=1;const g=Q.getCharCode("z"),y=Q.getCharCode("a");for(let j=y;j<=g;j++)k[Md][j]=j-y+2;k[Jn][i]=1;const _=Q.getCharCode("9"),C=Q.getCharCode("0");for(let j=C;j<=_;j++)k[Jn][j]=j-C+2;k[Jn][c]=12,k[Jn][a]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let j=0;j<O.length;j++)k[wy][Q.getCharCode(O[j])]=j;const P=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let j=0;j<P.length;j++)Q.getCharCode(P[j])>0&&(k[Xs][Q.getCharCode(P[j])]=j);return k}const H0=cI(T.createInt32Array(5,256));class Vc{constructor(i){this.text=i}encode(){const i=Q.getCharCode(" "),a=Q.getCharCode(`
`);let c=yy.singletonList(qs.INITIAL_STATE);for(let p=0;p<this.text.length;p++){let g,y=p+1<this.text.length?this.text[p+1]:0;switch(this.text[p]){case Q.getCharCode("\r"):g=y===a?2:0;break;case Q.getCharCode("."):g=y===i?3:0;break;case Q.getCharCode(","):g=y===i?4:0;break;case Q.getCharCode(":"):g=y===i?5:0;break;default:g=0}g>0?(c=Vc.updateStateListForPair(c,p,g),p++):c=this.updateStateListForChar(c,p)}return yy.min(c,(p,g)=>p.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const c=[];for(let d of i)this.updateStateForChar(d,a,c);return Vc.simplifyStates(c)}updateStateForChar(i,a,c){let d=this.text[a]&255,p=H0[i.getMode()][d]>0,g=null;for(let y=0;y<=Xs;y++){let _=H0[y][d];if(_>0){if(g==null&&(g=i.endBinaryShift(a)),!p||y===i.getMode()||y===Jn){const C=g.latchAndAppend(y,_);c.push(C)}if(!p&&vy[i.getMode()][y]>=0){const C=g.shiftAndAppend(y,_);c.push(C)}}}if(i.getBinaryShiftByteCount()>0||H0[i.getMode()][d]===0){let y=i.addBinaryShiftChar(a);c.push(y)}}static updateStateListForPair(i,a,c){const d=[];for(let p of i)this.updateStateForPair(p,a,c,d);return this.simplifyStates(d)}static updateStateForPair(i,a,c,d){let p=i.endBinaryShift(a);if(d.push(p.latchAndAppend(Xs,c)),i.getMode()!==Xs&&d.push(p.shiftAndAppend(Xs,c)),c===3||c===4){let g=p.latchAndAppend(Jn,16-c).latchAndAppend(Jn,1);d.push(g)}if(i.getBinaryShiftByteCount()>0){let g=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);d.push(g)}}static simplifyStates(i){let a=[];for(const c of i){let d=!0;for(const p of a){if(p.isBetterThanOrEqualTo(c)){d=!1;break}c.isBetterThanOrEqualTo(p)&&(a=a.filter(g=>g!==p))}d&&a.push(c)}return a}}class ft{constructor(){}static encodeBytes(i){return ft.encode(i,ft.DEFAULT_EC_PERCENT,ft.DEFAULT_AZTEC_LAYERS)}static encode(i,a,c){let d=new Vc(i).encode(),p=A.truncDivision(d.getSize()*a,100)+11,g=d.getSize()+p,y,_,C,O,P;if(c!==ft.DEFAULT_AZTEC_LAYERS){if(y=c<0,_=Math.abs(c),_>(y?ft.MAX_NB_BITS_COMPACT:ft.MAX_NB_BITS))throw new w(Q.format("Illegal value %s for layers",c));C=ft.totalBitsInLayer(_,y),O=ft.WORD_SIZE[_];let he=C-C%O;if(P=ft.stuffBits(d,O),P.getSize()+p>he)throw new w("Data to large for user specified layer");if(y&&P.getSize()>O*64)throw new w("Data to large for user specified layer")}else{O=0,P=null;for(let he=0;;he++){if(he>ft.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(y=he<=3,_=y?he+1:he,C=ft.totalBitsInLayer(_,y),g>C)continue;(P==null||O!==ft.WORD_SIZE[_])&&(O=ft.WORD_SIZE[_],P=ft.stuffBits(d,O));let ot=C-C%O;if(!(y&&P.getSize()>O*64)&&P.getSize()+p<=ot)break}}let j=ft.generateCheckWords(P,C,O),V=P.getSize()/O,W=ft.generateModeMessage(y,_,V),$=(y?11:14)+_*4,q=new Int32Array($),re;if(y){re=$;for(let he=0;he<q.length;he++)q[he]=he}else{re=$+1+2*A.truncDivision(A.truncDivision($,2)-1,15);let he=A.truncDivision($,2),ot=A.truncDivision(re,2);for(let Ye=0;Ye<he;Ye++){let gn=Ye+A.truncDivision(Ye,15);q[he-Ye-1]=ot-gn-1,q[he+Ye]=ot+gn+1}}let ge=new G(re);for(let he=0,ot=0;he<_;he++){let Ye=(_-he)*4+(y?9:12);for(let gn=0;gn<Ye;gn++){let vs=gn*2;for(let mn=0;mn<2;mn++)j.get(ot+vs+mn)&&ge.set(q[he*2+mn],q[he*2+gn]),j.get(ot+Ye*2+vs+mn)&&ge.set(q[he*2+gn],q[$-1-he*2-mn]),j.get(ot+Ye*4+vs+mn)&&ge.set(q[$-1-he*2-mn],q[$-1-he*2-gn]),j.get(ot+Ye*6+vs+mn)&&ge.set(q[$-1-he*2-gn],q[he*2+mn])}ot+=Ye*8}if(ft.drawModeMessage(ge,y,re,W),y)ft.drawBullsEye(ge,A.truncDivision(re,2),5);else{ft.drawBullsEye(ge,A.truncDivision(re,2),7);for(let he=0,ot=0;he<A.truncDivision($,2)-1;he+=15,ot+=16)for(let Ye=A.truncDivision(re,2)&1;Ye<re;Ye+=2)ge.set(A.truncDivision(re,2)-ot,Ye),ge.set(A.truncDivision(re,2)+ot,Ye),ge.set(Ye,A.truncDivision(re,2)-ot),ge.set(Ye,A.truncDivision(re,2)+ot)}let me=new xy;return me.setCompact(y),me.setSize(re),me.setLayers(_),me.setCodeWords(V),me.setMatrix(ge),me}static drawBullsEye(i,a,c){for(let d=0;d<c;d+=2)for(let p=a-d;p<=a+d;p++)i.set(p,a-d),i.set(p,a+d),i.set(a-d,p),i.set(a+d,p);i.set(a-c,a-c),i.set(a-c+1,a-c),i.set(a-c,a-c+1),i.set(a+c,a-c),i.set(a+c,a-c+1),i.set(a+c,a+c-1)}static generateModeMessage(i,a,c){let d=new M;return i?(d.appendBits(a-1,2),d.appendBits(c-1,6),d=ft.generateCheckWords(d,28,4)):(d.appendBits(a-1,5),d.appendBits(c-1,11),d=ft.generateCheckWords(d,40,4)),d}static drawModeMessage(i,a,c,d){let p=A.truncDivision(c,2);if(a)for(let g=0;g<7;g++){let y=p-3+g;d.get(g)&&i.set(y,p-5),d.get(g+7)&&i.set(p+5,y),d.get(20-g)&&i.set(y,p+5),d.get(27-g)&&i.set(p-5,y)}else for(let g=0;g<10;g++){let y=p-5+g+A.truncDivision(g,5);d.get(g)&&i.set(y,p-7),d.get(g+10)&&i.set(p+7,y),d.get(29-g)&&i.set(y,p+7),d.get(39-g)&&i.set(p-7,y)}}static generateCheckWords(i,a,c){let d=i.getSize()/c,p=new B0(ft.getGF(c)),g=A.truncDivision(a,c),y=ft.bitsToWords(i,c,g);p.encode(y,g-d);let _=a%c,C=new M;C.appendBits(0,_);for(const O of Array.from(y))C.appendBits(O,c);return C}static bitsToWords(i,a,c){let d=new Int32Array(c),p,g;for(p=0,g=i.getSize()/a;p<g;p++){let y=0;for(let _=0;_<a;_++)y|=i.get(p*a+_)?1<<a-_-1:0;d[p]=y}return d}static getGF(i){switch(i){case 4:return Ue.AZTEC_PARAM;case 6:return Ue.AZTEC_DATA_6;case 8:return Ue.AZTEC_DATA_8;case 10:return Ue.AZTEC_DATA_10;case 12:return Ue.AZTEC_DATA_12;default:throw new w("Unsupported word size "+i)}}static stuffBits(i,a){let c=new M,d=i.getSize(),p=(1<<a)-2;for(let g=0;g<d;g+=a){let y=0;for(let _=0;_<a;_++)(g+_>=d||i.get(g+_))&&(y|=1<<a-1-_);(y&p)===p?(c.appendBits(y&p,a),g--):y&p?c.appendBits(y,a):(c.appendBits(y|1,a),g--)}return c}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}ft.DEFAULT_EC_PERCENT=33,ft.DEFAULT_AZTEC_LAYERS=0,ft.MAX_NB_BITS=32,ft.MAX_NB_BITS_COMPACT=4,ft.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class kd{encode(i,a,c,d){return this.encodeWithHints(i,a,c,d,null)}encodeWithHints(i,a,c,d,p){let g=U0.ISO_8859_1,y=ft.DEFAULT_EC_PERCENT,_=ft.DEFAULT_AZTEC_LAYERS;return p!=null&&(p.has(br.CHARACTER_SET)&&(g=my.forName(p.get(br.CHARACTER_SET).toString())),p.has(br.ERROR_CORRECTION)&&(y=A.parseInt(p.get(br.ERROR_CORRECTION).toString())),p.has(br.AZTEC_LAYERS)&&(_=A.parseInt(p.get(br.AZTEC_LAYERS).toString()))),kd.encodeLayers(i,a,c,d,g,y,_)}static encodeLayers(i,a,c,d,p,g,y){if(a!==ve.AZTEC)throw new w("Can only encode AZTEC, but got "+a);let _=ft.encode(Q.getBytes(i,p),g,y);return kd.renderResult(_,c,d)}static renderResult(i,a,c){let d=i.getMatrix();if(d==null)throw new yr;let p=d.getWidth(),g=d.getHeight(),y=Math.max(a,p),_=Math.max(c,g),C=Math.min(y/p,_/g),O=(y-p*C)/2,P=(_-g*C)/2,j=new G(y,_);for(let V=0,W=P;V<g;V++,W+=C)for(let $=0,q=O;$<p;$++,q+=C)d.get($,V)&&j.setRegion(q,W,C,C);return j}}r.AbstractExpandedDecoder=N0,r.ArgumentException=x,r.ArithmeticException=Je,r.AztecCode=xy,r.AztecCodeReader=Za,r.AztecCodeWriter=kd,r.AztecDecoder=Re,r.AztecDetector=Jo,r.AztecDetectorResult=tt,r.AztecEncoder=ft,r.AztecHighLevelEncoder=Vc,r.AztecPoint=Dr,r.BarcodeFormat=ve,r.Binarizer=S,r.BinaryBitmap=v,r.BitArray=M,r.BitMatrix=G,r.BitSource=M0,r.BrowserAztecCodeReader=Cd,r.BrowserBarcodeReader=UN,r.BrowserCodeReader=ae,r.BrowserDatamatrixCodeReader=VN,r.BrowserMultiFormatReader=JN,r.BrowserPDF417Reader=eI,r.BrowserQRCodeReader=tI,r.BrowserQRCodeSvgWriter=sa,r.CharacterSetECI=B,r.ChecksumException=E,r.Code128Reader=xe,r.Code39Reader=Jt,r.DataMatrixDecodedBitStreamParser=Wi,r.DataMatrixReader=$i,r.DecodeHintType=F,r.DecoderResult=dt,r.DefaultGridSampler=gi,r.DetectorResult=en,r.EAN13Reader=ys,r.EncodeHintType=br,r.Exception=h,r.FormatException=L,r.GenericGF=Ue,r.GenericGFPoly=Le,r.GlobalHistogramBinarizer=ne,r.GridSampler=Zo,r.GridSamplerInstance=Ws,r.HTMLCanvasElementLuminanceSource=oe,r.HybridBinarizer=X,r.ITFReader=ut,r.IllegalArgumentException=w,r.IllegalStateException=yr,r.InvertedLuminanceSource=J,r.LuminanceSource=Y,r.MathUtils=be,r.MultiFormatOneDReader=rl,r.MultiFormatReader=gy,r.MultiFormatWriter=nI,r.NotFoundException=H,r.OneDReader=Bt,r.PDF417DecodedBitStreamParser=te,r.PDF417DecoderErrorCorrection=cy,r.PDF417Reader=Lr,r.PDF417ResultMetadata=dy,r.PerspectiveTransform=St,r.PlanarYUVLuminanceSource=Ys,r.QRCodeByteMatrix=Od,r.QRCodeDataMask=Qn,r.QRCodeDecodedBitStreamParser=Wt,r.QRCodeDecoderErrorCorrectionLevel=Rt,r.QRCodeDecoderFormatInformation=Wr,r.QRCodeEncoder=kt,r.QRCodeEncoderQRCode=na,r.QRCodeMaskUtil=tr,r.QRCodeMatrixUtil=Be,r.QRCodeMode=De,r.QRCodeReader=Gi,r.QRCodeVersion=Oe,r.QRCodeWriter=sl,r.RGBLuminanceSource=F0,r.RSS14Reader=er,r.RSSExpandedReader=le,r.ReaderException=Rd,r.ReedSolomonDecoder=Tr,r.ReedSolomonEncoder=B0,r.ReedSolomonException=cr,r.Result=fe,r.ResultMetadataType=ke,r.ResultPoint=ye,r.StringUtils=Q,r.UnsupportedOperationException=K,r.VideoInputDevice=Ee,r.WhiteRectangleDetector=Zt,r.WriterException=At,r.ZXingArrays=T,r.ZXingCharset=my,r.ZXingInteger=A,r.ZXingStandardCharsets=U0,r.ZXingStringBuilder=se,r.ZXingStringEncoding=ee,r.ZXingSystem=b,r.createAbstractExpandedDecoder=ay,Object.defineProperty(r,"__esModule",{value:!0})})})($g,$g.exports);var jt=$g.exports;const sB=Yg(jt),iB=Gg({__proto__:null,default:sB},[jt]);var S2=function(){function t(e,r,n){if(this.formatMap=new Map([[Ae.QR_CODE,jt.BarcodeFormat.QR_CODE],[Ae.AZTEC,jt.BarcodeFormat.AZTEC],[Ae.CODABAR,jt.BarcodeFormat.CODABAR],[Ae.CODE_39,jt.BarcodeFormat.CODE_39],[Ae.CODE_93,jt.BarcodeFormat.CODE_93],[Ae.CODE_128,jt.BarcodeFormat.CODE_128],[Ae.DATA_MATRIX,jt.BarcodeFormat.DATA_MATRIX],[Ae.MAXICODE,jt.BarcodeFormat.MAXICODE],[Ae.ITF,jt.BarcodeFormat.ITF],[Ae.EAN_13,jt.BarcodeFormat.EAN_13],[Ae.EAN_8,jt.BarcodeFormat.EAN_8],[Ae.PDF_417,jt.BarcodeFormat.PDF_417],[Ae.RSS_14,jt.BarcodeFormat.RSS_14],[Ae.RSS_EXPANDED,jt.BarcodeFormat.RSS_EXPANDED],[Ae.UPC_A,jt.BarcodeFormat.UPC_A],[Ae.UPC_E,jt.BarcodeFormat.UPC_E],[Ae.UPC_EAN_EXTENSION,jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!iB)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var s=this.createZXingFormats(e),o=new Map;o.set(jt.DecodeHintType.POSSIBLE_FORMATS,s),o.set(jt.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,s){try{n(r.decode(e))}catch(o){s(o)}})},t.prototype.decode=function(e){var r=new jt.MultiFormatReader(this.verbose,this.hints),n=new jt.HTMLCanvasElementLuminanceSource(e),s=new jt.BinaryBitmap(new jt.HybridBinarizer(n)),o=r.decode(s);return{text:o.text,format:EN.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,s){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,s=e;n<s.length;n++){var o=s[n];this.formatMap.has(o)?r.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),oB=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function f(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},aB=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return f([h,x])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},A2=function(){function t(e,r,n){if(this.formatMap=new Map([[Ae.QR_CODE,"qr_code"],[Ae.AZTEC,"aztec"],[Ae.CODABAR,"codabar"],[Ae.CODE_39,"code_39"],[Ae.CODE_93,"code_93"],[Ae.CODE_128,"code_128"],[Ae.DATA_MATRIX,"data_matrix"],[Ae.ITF,"itf"],[Ae.EAN_13,"ean_13"],[Ae.EAN_8,"ean_8"],[Ae.PDF_417,"pdf417"],[Ae.UPC_A,"upc_a"],[Ae.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var s=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return oB(this,void 0,void 0,function(){var r,n;return aB(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:EN.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,s=0,o=e;s<o.length;s++){var l=o[s],u=l.boundingBox.width*l.boundingBox.height;u>n&&(n=u,r=l)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,s=e;n<s.length;n++){var o=s[n];this.formatMap.has(o)?r.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,s){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),T2=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function f(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},N2=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return f([h,x])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},lB=function(){function t(e,r,n,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&A2.isSupported()?(this.primaryDecoder=new A2(e,n,s),this.secondaryDecoder=new S2(e,n,s)):this.primaryDecoder=new S2(e,n,s)}return t.prototype.decodeAsync=function(e){return T2(this,void 0,void 0,function(){var r;return N2(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return T2(this,void 0,void 0,function(){var r,n;return N2(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,s.sent()];case 3:if(n=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var s=n[r];e+=s}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),sy=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),kf=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function f(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},Pf=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return f([h,x])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},TN=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),cB=function(t){sy(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(TN),uB=function(t){sy(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(cB),dB=function(t){sy(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(TN),hB=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new uB(this.track)},t.prototype.torchFeature=function(){return new dB(this.track)},t}(),fB=function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,s=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,s),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,s){return kf(this,void 0,void 0,function(){var o,l;return Pf(this,function(u){switch(u.label){case 0:return o=new t(e,r,s),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:u.sent(),u.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return kf(this,void 0,void 0,function(){return Pf(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var s=e.mediaStream.getVideoTracks(),o=s.length,l=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++l,l>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new hB(this.getFirstTrackOrFail())},t}(),pB=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return kf(this,void 0,void 0,function(){return Pf(this,function(s){return[2,fB.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return kf(this,void 0,void 0,function(){var r,n;return Pf(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=s.sent(),[2,new t(n)]}})})},t}(),I2=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function f(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},R2=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return f([h,x])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},gB=function(){function t(){}return t.failIfNotSupported=function(){return I2(this,void 0,void 0,function(){return R2(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return I2(this,void 0,void 0,function(){return R2(this,function(r){return[2,pB.create(e)]})})},t}(),mB=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function f(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},xB=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return f([h,x])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},yB=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Dl.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Dl.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return mB(this,void 0,void 0,function(){var e,r,n,s,o,l,u;return xB(this,function(f){switch(f.label){case 0:return e=function(h){for(var x=h.getVideoTracks(),w=0,v=x;w<v.length;w++){var E=v[w];E.enabled=!1,E.stop(),h.removeTrack(E)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=f.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=f.sent(),s=[],o=0,l=n;o<l.length;o++)u=l[o],u.kind==="videoinput"&&s.push({id:u.deviceId,label:u.label});return e(r),[2,s]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(o){for(var l=[],u=0,f=o;u<f.length;u++){var h=f[u];h.kind==="video"&&l.push({id:h.id,label:h.label})}e(l)},s=MediaStreamTrack;s.getSources(n)})},t}(),sr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(sr||(sr={}));var wB=function(){function t(){this.state=sr.NOT_STARTED,this.onGoingTransactionNewState=sr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===sr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=sr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===sr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=sr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==sr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case sr.UNKNOWN:throw"Transition from unknown is not allowed";case sr.NOT_STARTED:this.failIfNewStateIs(e,[sr.PAUSED]);break;case sr.SCANNING:break;case sr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,s=r;n<s.length;n++){var o=s[n];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),vB=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===sr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==sr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===sr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===sr.PAUSED},t}(),_B=function(){function t(){}return t.create=function(){return new vB(new wB)},t}(),bB=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Rn=function(t){bB(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(ks),EB=function(){function t(e,r){this.logger=r,this.fps=Rn.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=Rn.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?AN.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!Zs(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),O2=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new SN(this.verbose),this.qrcode=new lB(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=_B.create()}return t.prototype.start=function(e,r,n,s){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;s?l=s:l=this.verbose?this.logger.log:function(){};var u=EB.create(r,this.logger);this.clearElement();var f=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?f=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=f,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:Rn.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,v=this.stateManagerProxy.startTransition(sr.SCANNING);return new Promise(function(E,S){var b=h?u.videoConstraints:w.createVideoConstraints(e);if(!b){v.cancel(),S("videoConstraints should be defined");return}var N={};(!h||u.aspectRatio)&&(N.aspectRatio=u.aspectRatio);var R={onRenderSurfaceReady:function(T,A){w.setupUi(T,A,u),w.isScanning=!0,w.foreverScan(u,n,l)}};gB.failIfNotSupported().then(function(T){T.create(b).then(function(A){return A.render(o.element,N,R).then(function(M){w.renderedCamera=M,v.execute(),E(null)}).catch(function(M){v.cancel(),S(M)})}).catch(function(A){v.cancel(),S(Dl.errorGettingUserMedia(A))})}).catch(function(T){v.cancel(),S(Dl.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(sr.PAUSED),this.showPausedState(),(Zs(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(sr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(sr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var o=document.getElementById(Rn.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),n(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(Zs(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var u=l.width,f=l.height,h=document.getElementById(n.elementId),x=h.clientWidth?h.clientWidth:Rn.DEFAULT_WIDTH,w=Math.max(h.clientHeight?h.clientHeight:f,Rn.FILE_SCAN_MIN_HEIGHT),v=n.computeCanvasDrawConfig(u,f,x,w);if(r){var E=n.createCanvasElement(x,w,"qr-canvas-visible");E.style.display="inline-block",h.appendChild(E);var S=E.getContext("2d");if(!S)throw"Unable to get 2d context from canvas";S.canvas.width=x,S.canvas.height=w,S.drawImage(l,0,0,u,f,v.x,v.y,v.width,v.height)}var b=Rn.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(l.width,v.width),R=Math.max(l.height,v.height),T=N+2*b,A=R+2*b,M=n.createCanvasElement(T,A);h.appendChild(M);var D=M.getContext("2d");if(!D)throw"Unable to get 2d context from canvas";D.canvas.width=T,D.canvas.height=A,D.drawImage(l,0,0,u,f,b,b,N,R);try{n.qrcode.decodeRobustlyAsync(M).then(function(F){s(E2.createFromQrcodeResult(F))}).catch(o)}catch(F){o("QR code parse error, error = ".concat(F))}},l.onerror=o,l.onabort=o,l.onstalled=o,l.onsuspend=o,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return yB.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!AN.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[Ae.QR_CODE,Ae.AZTEC,Ae.CODABAR,Ae.CODE_39,Ae.CODE_93,Ae.CODE_128,Ae.DATA_MATRIX,Ae.MAXICODE,Ae.ITF,Ae.EAN_13,Ae.EAN_8,Ae.PDF_417,Ae.RSS_14,Ae.RSS_EXPANDED,Ae.UPC_A,Ae.UPC_E,Ae.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],s=0,o=e.formatsToSupport;s<o.length;s++){var l=o[s];rB(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Zs(e))return!0;if(!Zs(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Zs(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return Zs(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var s=this,o=n.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(e,r,o),u=function(h){if(h<Rn.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(Rn.MIN_QR_BOX_SIZE,"px.")},f=function(h){return h>e&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};u(l.width),u(l.height),l.width=f(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var s=Zs(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,r,s);o.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&o.height<=r,u={x:0,y:0,width:e,height:r},f=l?this.getShadedRegionBounds(e,r,o):u,h=this.createCanvasElement(f.width,f.height),x={willReadFrequently:!0},w=h.getContext("2d",x);w.canvas.width=f.width,w.canvas.height=f.height,this.element.append(h),l&&this.possiblyInsertShadingElement(this.element,e,r,o),this.createScannerPausedUiElement(this.element),this.qrRegion=f,this.context=w,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Dl.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return e(s.text,E2.createFromQrcodeResult(s)),n.possiblyUpdateShaders(!0),!0}).catch(function(s){n.possiblyUpdateShaders(!1);var o=Dl.codeParseError(s);return r(o,CN.createFrom(o)),!1})},t.prototype.foreverScan=function(e,r,n){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),l=o.videoWidth/o.clientWidth,u=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var f=this.qrRegion.width*l,h=this.qrRegion.height*u,x=this.qrRegion.x*l,w=this.qrRegion.y*u;this.context.drawImage(o,x,w,f,h,0,0,this.qrRegion.width,this.qrRegion.height);var v=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(e,r,n)},s.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(E){!E&&e.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,n).finally(function(){v()})):v()}).catch(function(E){s.logger.logError("Error happend while scanning context",E),v()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",s={user:!0,environment:!0},o="exact",l=function(S){if(S in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(S,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var f=Object.keys(e)[0];if(f!==r&&f!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(f===r){var h=e.facingMode;if(typeof h=="string"){if(l(h))return{facingMode:h}}else if(typeof h=="object")if(o in h){if(l(h["".concat(o)]))return{facingMode:{exact:h["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var x=typeof h;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(o in w)return{deviceId:{exact:w["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var v=typeof w;throw"Invalid type of 'deviceId' = ".concat(v)}}}var E=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(E)},t.prototype.computeCanvasDrawConfig=function(e,r,n,s){if(e<=n&&r<=s){var o=(n-e)/2,l=(s-r)/2;return{x:o,y:l,width:e,height:r}}else{var u=e,f=r;return e>n&&(r=n/e*r,e=n),r>s&&(e=s/r*e,r=s),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(f)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,s)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?Rn.BORDER_SHADER_MATCH_COLOR:Rn.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var s=e,o=r,l=document.createElement("canvas");return l.style.width="".concat(s,"px"),l.style.height="".concat(o,"px"),l.style.display="none",l.id=Zs(n)?"qr-canvas":n,l},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,s){if(!(r-s.width<1||n-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var l=(r-s.width)/2,u=(n-s.height)/2;if(o.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(Rn.SHADED_REGION_ELEMENT_ID),r-s.width<11||n-s.height<11)this.hasBorderShaders=!1;else{var f=5,h=40;this.insertShaderBorders(o,h,f,-f,null,0,!0),this.insertShaderBorders(o,h,f,-f,null,0,!1),this.insertShaderBorders(o,h,f,null,-f,0,!0),this.insertShaderBorders(o,h,f,null,-f,0,!1),this.insertShaderBorders(o,f,h+f,-f,null,-f,!0),this.insertShaderBorders(o,f,h+f,null,-f,-f,!0),this.insertShaderBorders(o,f,h+f,-f,null,-f,!1),this.insertShaderBorders(o,f,h+f,null,-f,-f,!1),this.hasBorderShaders=!0}e.append(o)}},t.prototype.insertShaderBorders=function(e,r,n,s,o,l,u){var f=document.createElement("div");f.style.position="absolute",f.style.backgroundColor=Rn.BORDER_SHADER_DEFAULT_COLOR,f.style.width="".concat(r,"px"),f.style.height="".concat(n,"px"),s!==null&&(f.style.top="".concat(s,"px")),o!==null&&(f.style.bottom="".concat(o,"px")),u?f.style.left="".concat(l,"px"):f.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(f),e.appendChild(f)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),iy="data:image/svg+xml;base64,",CB=iy+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",SB=iy+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",M2=iy+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",AB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",k2=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),TB=function(){function t(){this.data=k2.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=k2.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),NB=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=C2.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=C2.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),IB=function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=M2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=AB,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=M2,this.infoIcon.style.opacity="0.6")},t}(),RB=function(){function t(){var e=this;this.infoDiv=new NB,this.infoIcon=new IB(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),OB=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function f(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},MB=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return f([h,x])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},P2=function(){function t(){}return t.hasPermissions=function(){return OB(this,void 0,void 0,function(){var e,r,n,s;return MB(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=o.sent(),r=0,n=e;r<n.length;r++)if(s=n[r],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},t}(),Ji=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var n=r[e];if(t.isCameraScanType(n))return!0}return!1},t.isCameraScanType=function(e){return e===Fs.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Fs.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return ks.DEFAULT_SUPPORTED_SCAN_TYPE;var r=ks.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,s=e;n<s.length;n++){var o=s[n];if(!ks.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return e},t}(),Bn=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Ri=function(){function t(){}return t.createElement=function(e,r){var n=document.createElement(e);return n.id=r,n.classList.add(Bn.ALL_ELEMENT_CLASS),e==="button"&&n.setAttribute("type","button"),n},t}(),NN=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function f(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,f)}h((n=n.apply(t,e||[])).next())})},IN=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return f([h,x])}}function f(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},D2=function(){function t(e,r,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=n}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return NN(this,void 0,void 0,function(){var e,r;return IN(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=n.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?_t.torchOffButton():_t.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var n=e?_t.torchOnFailedMessage():_t.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),kB=function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=Ri.createElement("button",Bn.TORCH_BUTTON_ID),this.torchController=new D2(e,this,r)}return t.prototype.render=function(e,r){var n=this;this.torchButton.innerText=_t.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return NN(n,void 0,void 0,function(){return IN(this,function(l){switch(l.label){case 0:return[4,s.torchController.flipState()];case 1:return l.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Bn.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Bn.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Bn.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Bn.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new D2(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=_t.torchOnButton(),this.torchController.reset()},t.create=function(e,r,n,s){var o=new t(r,s);return o.render(e,n),o},t}(),PB=function(){function t(e,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Ri.createElement("button",Bn.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Ri.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var f=u.target;if(!(f.files&&f.files.length===0)){var h=f.files,x=h[0],w=x.name;o.setImageNameToButton(w),n(x)}}});var l=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(l),this.fileBasedScanRegion.addEventListener("dragenter",function(u){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var f=u.dataTransfer;if(f){var h=f.files;if(!h||h.length===0)return;for(var x=!1,w=0;w<h.length;++w){var v=h.item(w);if(v){var E=/image.*/;if(v.type.match(E)){x=!0;var S=v.name;o.setImageNameToButton(S),n(v),l.innerText=_t.dragAndDropMessage();break}}}x||(l.innerText=_t.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=_t.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var n=e.substring(0,8),s=e.length,o=e.substring(s-8,s);e="".concat(n,"....").concat(o)}var l=_t.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=l},t.prototype.setInitialValueToButton=function(){var e=_t.fileSelectionChooseImage()+" - "+_t.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,n){var s=new t(e,r,n);return s},t}(),DB=function(){function t(e){this.selectElement=Ri.createElement("select",Bn.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var s=_t.selectCamera();r.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,l=0,u=this.cameras;l<u.length;l++){var f=u[l],h=f.id,x=f.label==null?h:f.label;(!x||x==="")&&(x=[_t.anonymousCameraPrefix(),o++].join(" "));var w=document.createElement("option");w.value=h,w.innerText=x,this.options.push(w),this.selectElement.appendChild(w)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,n=this.options;r<n.length;r++){var s=n[r];if(s.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var n=new t(r);return n.render(e),n},t}(),jB=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ri.createElement("input",Bn.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=_t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=_t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,n,s){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var n=new t;return n.render(e,r),n},t}(),On;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(On||(On={}));function LB(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function BB(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var FB=function(){function t(e,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Ji(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new SN(this.verbose),this.persistedDataManager=new TB,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,l){if(e)e(o,l);else{if(n.lastMatchFound===o)return;n.lastMatchFound=o,n.setHeaderMessage(_t.lastMatch(o),On.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,l){r&&r(o,l)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new O2(this.getScanRegionId(),BB(this.config,this.verbose))},t.prototype.pause=function(e){(Zs(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var n=document.getElementById(e.elementId);n&&(n.innerHTML="",e.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,s){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(o){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),r(),n()}).catch(function(o){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(e.html5Qrcode.clear(),r(),n())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=ks.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!ks.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=ks.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=ks.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:ks.SCAN_DEFAULT_FPS,rememberLastUsedCamera:ks.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:ks.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),Ji.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",e.appendChild(s),this.setupInitialDashboard(s)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var n=new RB;n.renderInto(r);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",r.appendChild(s)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,n){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(_t.cameraPermissionRequesting());var o=function(){n||s.createPermissionButton(e,r)};O2.getCameras().then(function(l){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),l&&l.length>0?(e.removeChild(r),s.renderCameraSelection(l)):(s.setHeaderMessage(_t.noCameraFound(),On.STATUS_WARNING),o())}).catch(function(l){s.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:o(),s.setHeaderMessage(l,On.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var n=this,s=Ri.createElement("button",this.getCameraPermissionButtonId());s.innerText=_t.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,n.createCameraListUi(e,r,s)}),r.appendChild(s)},t.prototype.createPermissionsUi=function(e,r){var n=this;if(Ji.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){P2.hasPermissions().then(function(s){s?n.createCameraListUi(e,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r))}).catch(function(s){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Ji.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var s=document.createElement("div");s.style.textAlign="center",n.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,s),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=Ji.isFileScanType(this.currentScanType),n=this,s=function(o){if(!n.html5Qrcode)throw"html5Qrcode not defined";Ji.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(_t.loadingImage()),n.html5Qrcode.scanFileV2(o,!0).then(function(l){n.resetHeaderMessage(),n.qrCodeSuccessCallback(l.decodedText,l)}).catch(function(l){n.setHeaderMessage(l,On.STATUS_WARNING),n.qrCodeErrorCallback(l,CN.createFrom(l))}))};this.fileSelectionUi=PB.create(e,r,s)},t.prototype.renderCameraSelection=function(e){var r=this,n=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=jB.create(s,!1),l=function(b){var N=b.zoomFeature();if(N.isSupported()){o.setOnCameraZoomValueChangeCallback(function(T){N.apply(T)});var R=1;r.config.defaultZoomValueIfSupported&&(R=r.config.defaultZoomValueIfSupported),R=nB(R,N.min(),N.max()),o.setValues(N.min(),N.max(),R,N.step()),o.show()}},u=DB.create(s,e),f=document.createElement("span"),h=Ri.createElement("button",Bn.CAMERA_START_BUTTON_ID);h.innerText=_t.scanButtonStartScanningText(),f.appendChild(h);var x=Ri.createElement("button",Bn.CAMERA_STOP_BUTTON_ID);x.innerText=_t.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,f.appendChild(x);var w,v=function(b){if(!b.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(b.torchFeature()):w=kB.create(f,b.torchFeature(),{display:"none",marginLeft:"5px"},function(N){n.setHeaderMessage(N,On.STATUS_WARNING)}),w.show()};s.appendChild(f);var E=function(b){b||(h.style.display="none"),h.innerText=_t.scanButtonStartScanningText(),h.style.opacity="1",h.disabled=!1,b&&(h.style.display="inline-block")};if(h.addEventListener("click",function(b){h.innerText=_t.scanButtonScanningStarting(),u.disable(),h.disabled=!0,h.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var N=u.getValue();n.persistedDataManager.setLastUsedCameraId(N),n.html5Qrcode.start(N,LB(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(R){x.disabled=!1,x.style.display="inline-block",E(!1);var T=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&v(T),r.config.showZoomSliderIfSupported===!0&&l(T)}).catch(function(R){n.showHideScanTypeSwapLink(!0),u.enable(),E(!0),n.setHeaderMessage(R,On.STATUS_WARNING)})}),u.hasSingleItem()&&h.click(),x.addEventListener("click",function(b){if(!n.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,n.html5Qrcode.stop().then(function(N){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),u.enable(),h.disabled=!1,x.style.display="none",h.style.display="inline-block",w&&(w.reset(),w.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(N){x.disabled=!1,n.setHeaderMessage(N,On.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var S=n.persistedDataManager.getLastUsedCameraId();u.hasValue(S)?(u.setValue(S),h.click()):n.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=_t.textIfCameraScanSelected(),n=_t.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var l=Ri.createElement("span",this.getDashboardSectionSwapLinkId());l.style.textDecoration="underline",l.style.cursor="pointer",l.innerText=Ji.isCameraScanType(this.currentScanType)?r:n,l.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Ji.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),l.innerText=n,e.currentScanType=Fs.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),l.innerText=r,e.currentScanType=Fs.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(l),s.appendChild(o)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){P2.hasPermissions().then(function(n){if(n){var s=document.getElementById(r.getCameraPermissionButtonId());if(!s)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=On.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",r){case On.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case On.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case On.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=CB,this.cameraScanImage.alt=_t.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=SB,this.fileScanImage.alt=_t.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Bn.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Bn.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const UB=()=>{var w,v;const[t,e]=I.useState(!1),[r,n]=I.useState(null),s=I.useRef(null),[o,l]=I.useState(!1),u=typeof window<"u"&&(window.isSecureContext||window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"),f=()=>{if(s.current){try{s.current.clear()}catch{}s.current=null}e(!0),setTimeout(()=>{if(!document.getElementById("qr-reader")){console.error("qr-reader container not found at init time"),we.error("Unable to start scanner. Please try again."),e(!1);return}const S={fps:10,qrbox:{width:250,height:250},rememberLastUsedCamera:!0,aspectRatio:1,showTorchButtonIfSupported:!0,supportedScanTypes:u?[Fs.SCAN_TYPE_CAMERA,Fs.SCAN_TYPE_FILE]:[Fs.SCAN_TYPE_FILE]},b=new FB("qr-reader",S,!1);b.render(async N=>{l(!0);try{let R=N;try{const M=JSON.parse(N);R=M.qr_code||M.qrCode||M.orderId||M.id||N}catch{}const{data:T,error:A}=await Ce.from("orders").select(`
                *,
                profiles (full_name),
                restaurants (name)
              `).eq("qr_code",R).single();if(A||!T){console.error("Order fetch error:",A),we.error("Order not found for this QR code");return}n(T),we.success("Order verified successfully!"),h()}catch(R){console.error("Error verifying order:",R),we.error("Failed to verify order")}finally{l(!1)}},N=>{typeof N=="string"&&!N.toLowerCase().includes("not found")&&!N.toLowerCase().includes("no qr code")&&!N.toLowerCase().includes("inactive")&&console.debug("QR scan error:",N)}),s.current=b},0)},h=()=>{s.current&&(s.current.clear(),s.current=null),e(!1)};I.useEffect(()=>()=>{s.current&&(s.current.clear(),s.current=null)},[]);const x=async()=>{if(r)try{const{error:E}=await Ce.from("orders").update({status:"completed"}).eq("id",r.id);if(E)throw E;we.success("Order marked as served!"),n(null)}catch(E){console.error("Error updating order:",E),we.error("Failed to update order status")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"QR Scanner"}),m.jsx("p",{className:"text-muted-foreground",children:"Scan customer booking QR codes"})]}),!t&&!r&&m.jsx($e,{className:"border-border/50 luxury-shadow",children:m.jsxs(bt,{className:"py-12 text-center space-y-4",children:[m.jsx(Bw,{className:"h-16 w-16 mx-auto text-primary"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Scan"}),m.jsx("p",{className:"text-muted-foreground mb-2",children:"Start the scanner to use your camera or upload a QR code image."}),!u&&m.jsx("p",{className:"text-sm text-yellow-600 mb-2",children:"Live camera requires HTTPS or localhost. On this origin, only image upload will be available."}),m.jsxs(je,{onClick:f,className:"luxury-gradient",size:"lg",children:[m.jsx(Bw,{className:"w-5 h-5 mr-2"}),"Start Scanner"]})]})]})}),t&&m.jsxs($e,{className:"border-border/50 luxury-shadow",children:[m.jsxs(or,{children:[m.jsx(ar,{children:"Scan QR Code"}),m.jsx(Ni,{children:u?"Use your device camera or upload an image of the QR code.":"Upload a screenshot/photo of the QR code. (Live camera requires HTTPS or localhost.)"})]}),m.jsxs(bt,{className:"space-y-4",children:[m.jsx("div",{id:"qr-reader",className:`w-full rounded-2xl border border-border/40 bg-muted/40\r
                         flex flex-col items-center justify-center\r
                         px-4 py-6 md:py-8 gap-3 text-center`}),m.jsxs(je,{onClick:h,variant:"outline",className:"w-full mt-2 md:mt-3",children:[m.jsx(UO,{className:"w-4 h-4 mr-2"}),"Stop Scanning"]})]})]}),r&&m.jsxs($e,{className:"border-border/50 luxury-shadow",children:[m.jsxs(or,{children:[m.jsx(ar,{className:"text-xl",children:"Order Details"}),m.jsxs(Ni,{children:["Order ID: ",r.id]})]}),m.jsxs(bt,{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Customer:"}),m.jsx("span",{className:"font-medium",children:((w=r.profiles)==null?void 0:w.full_name)||"Customer"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Restaurant:"}),m.jsx("span",{className:"font-medium",children:(v=r.restaurants)==null?void 0:v.name})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Order Type:"}),m.jsx("span",{className:"font-medium capitalize",children:r.order_type.replace("_"," ")})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Status:"}),m.jsx("span",{className:"font-medium capitalize",children:r.status})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-semibold",children:"Items:"}),m.jsx("ul",{className:"space-y-1",children:r.order_items.map((E,S)=>m.jsxs("li",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:[E.quantity,"x ",E.name]}),m.jsxs("span",{children:[(E.price*E.quantity).toLocaleString()," MMK"]})]},S))})]}),m.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[m.jsx("span",{className:"font-semibold",children:"Total:"}),m.jsxs("span",{className:"font-bold text-lg",children:[r.total_amount.toLocaleString()," MMK"]})]}),m.jsxs("div",{className:"flex gap-2 pt-4",children:[m.jsxs(je,{onClick:x,className:"flex-1 luxury-gradient",size:"lg",children:[m.jsx(DE,{className:"w-5 h-5 mr-2"}),"Mark as Served"]}),m.jsx(je,{onClick:()=>n(null),variant:"outline",className:"flex-1",size:"lg",children:"Scan Another"})]})]})]})]})};var T0="Switch",[zB,CF]=ps(T0),[VB,HB]=zB(T0),RN=I.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:l,disabled:u,value:f="on",onCheckedChange:h,form:x,...w}=t,[v,E]=I.useState(null),S=st(e,A=>E(A)),b=I.useRef(!1),N=v?x||!!v.closest("form"):!0,[R,T]=Po({prop:s,defaultProp:o??!1,onChange:h,caller:T0});return m.jsxs(VB,{scope:r,checked:R,disabled:u,children:[m.jsx(Fe.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":PN(R),"data-disabled":u?"":void 0,disabled:u,value:f,...w,ref:S,onClick:Ie(t.onClick,A=>{T(M=>!M),N&&(b.current=A.isPropagationStopped(),b.current||A.stopPropagation())})}),N&&m.jsx(kN,{control:v,bubbles:!b.current,name:n,value:f,checked:R,required:l,disabled:u,form:x,style:{transform:"translateX(-100%)"}})]})});RN.displayName=T0;var ON="SwitchThumb",MN=I.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=HB(ON,r);return m.jsx(Fe.span,{"data-state":PN(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});MN.displayName=ON;var WB="SwitchBubbleInput",kN=I.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const l=I.useRef(null),u=st(l,o),f=Kx(r),h=sx(e);return I.useEffect(()=>{const x=l.current;if(!x)return;const w=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(w,"checked").set;if(f!==r&&E){const S=new Event("click",{bubbles:n});E.call(x,r),x.dispatchEvent(S)}},[f,r,n]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});kN.displayName=WB;function PN(t){return t?"checked":"unchecked"}var DN=RN,$B=MN;const jN=I.forwardRef(({className:t,...e},r)=>m.jsx(DN,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:m.jsx($B,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));jN.displayName=DN.displayName;const GB=()=>{const{user:t}=ms(),[e,r]=I.useState([]),[n,s]=I.useState(!0),[o,l]=I.useState(null),[u,f]=I.useState(!1),[h,x]=I.useState(null),[w,v]=I.useState({name:"",description:"",price:"",image_url:""});I.useEffect(()=>{t&&E()},[t]);const E=async()=>{try{const{data:A,error:M}=await Ce.from("restaurants").select("id").eq("owner_id",t==null?void 0:t.id).single();if(M)throw M;l(A.id);const{data:D,error:F}=await Ce.from("menu_items").select("*").eq("restaurant_id",A.id).order("created_at",{ascending:!1});if(F)throw F;r(D||[])}catch(A){console.error("Error fetching menu:",A),we.error("Failed to load menu items")}finally{s(!1)}},S=()=>{x(null),v({name:"",description:"",price:"",image_url:""}),f(!0)},b=A=>{x(A.id),v({name:A.name,description:A.description||"",price:A.price.toString(),image_url:A.image_url||""}),f(!0)},N=async A=>{try{const{error:M}=await Ce.from("menu_items").delete().eq("id",A);if(M)throw M;r(e.filter(D=>D.id!==A)),we.success("Menu item deleted")}catch(M){console.error("Error deleting item:",M),we.error("Failed to delete menu item")}},R=async()=>{if(!w.name||!w.price||!o){we.error("Please fill in all required fields");return}try{const A={name:w.name,description:w.description||null,price:parseFloat(w.price),image_url:w.image_url||null,restaurant_id:o};if(h){const{error:M}=await Ce.from("menu_items").update(A).eq("id",h);if(M)throw M;r(e.map(D=>D.id===h?{...D,...A}:D)),we.success("Menu item updated")}else{const{data:M,error:D}=await Ce.from("menu_items").insert([{...A,available:!0}]).select().single();if(D)throw D;r([M,...e]),we.success("Menu item added")}f(!1),v({name:"",description:"",price:"",image_url:""})}catch(A){console.error("Error saving menu item:",A),we.error("Failed to save menu item")}},T=async A=>{const M=e.find(D=>D.id===A);if(M)try{const{error:D}=await Ce.from("menu_items").update({available:!M.available}).eq("id",A);if(D)throw D;r(e.map(F=>F.id===A?{...F,available:!F.available}:F)),we.success("Availability updated")}catch(D){console.error("Error updating availability:",D),we.error("Failed to update availability")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Menu"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage your menu items"})]}),m.jsxs(je,{onClick:S,className:"luxury-gradient",children:[m.jsx(Ia,{className:"w-4 h-4 mr-2"}),"Add Item"]})]}),n?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ac,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?m.jsx($e,{children:m.jsx(bt,{className:"py-12 text-center text-muted-foreground",children:"No menu items yet. Add your first item to get started!"})}):m.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(A=>m.jsxs($e,{children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:A.image_url||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",alt:A.name,className:"w-full h-48 object-cover"}),m.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[m.jsx(je,{size:"icon",variant:"secondary",onClick:()=>b(A),children:m.jsx(BE,{className:"h-4 w-4"})}),m.jsx(je,{size:"icon",variant:"destructive",onClick:()=>N(A.id),children:m.jsx(Xm,{className:"h-4 w-4"})})]})]}),m.jsxs(bt,{className:"p-4 space-y-2",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold",children:A.name}),A.description&&m.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:A.description})]}),m.jsxs("p",{className:"font-semibold text-primary ml-2",children:[A.price.toLocaleString()," MMK"]})]}),m.jsxs("div",{className:"flex items-center justify-between pt-2",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"Available"}),m.jsx(jN,{checked:A.available,onCheckedChange:()=>T(A.id)})]})]})]},A.id))}),m.jsx(Fo,{open:u,onOpenChange:f,children:m.jsxs(zi,{children:[m.jsx(Uo,{children:m.jsxs(zo,{children:[h?"Edit":"Add"," Menu Item"]})}),m.jsxs("div",{className:"space-y-4 py-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"name",children:"Name *"}),m.jsx(lt,{id:"name",value:w.name,onChange:A=>v({...w,name:A.target.value}),placeholder:"e.g., Traditional Mohinga"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"price",children:"Price (MMK) *"}),m.jsx(lt,{id:"price",type:"number",value:w.price,onChange:A=>v({...w,price:A.target.value}),placeholder:"5000"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"description",children:"Description"}),m.jsx(lt,{id:"description",value:w.description,onChange:A=>v({...w,description:A.target.value}),placeholder:"Describe the dish..."})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"image_url",children:"Image URL"}),m.jsx(lt,{id:"image_url",value:w.image_url,onChange:A=>v({...w,image_url:A.target.value}),placeholder:"https://..."})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[m.jsx(je,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),m.jsxs(je,{onClick:R,className:"luxury-gradient",children:[h?"Update":"Add"," Item"]})]})]})]})})]})},oy=I.forwardRef(({className:t,...e},r)=>m.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));oy.displayName="Textarea";const YB=()=>{const{user:t}=ms(),[e,r]=I.useState(!0),[n,s]=I.useState(!1),[o,l]=I.useState(null),[u,f]=I.useState({name:"",address:"",phone:"",description:"",image_url:"",open_hours:""});I.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{const{data:w,error:v}=await Ce.from("restaurants").select("*").eq("owner_id",t==null?void 0:t.id).single();if(v)throw v;l(w.id),f({name:w.name,address:w.address,phone:w.phone||"",description:w.description||"",image_url:w.image_url||"",open_hours:w.open_hours||""})}catch(w){console.error("Error fetching restaurant:",w),we.error("Failed to load restaurant data")}finally{r(!1)}},x=async()=>{if(o){s(!0);try{const{error:w}=await Ce.from("restaurants").update({name:u.name,address:u.address,phone:u.phone,description:u.description,image_url:u.image_url,open_hours:u.open_hours}).eq("id",o);if(w)throw w;we.success("Restaurant information updated successfully!")}catch(w){console.error("Error updating restaurant:",w),we.error("Failed to update restaurant information")}finally{s(!1)}}};return e?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ac,{className:"h-8 w-8 animate-spin text-primary"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Restaurant Settings"}),m.jsx("p",{className:"text-muted-foreground",children:"Update your restaurant information"})]}),m.jsxs($e,{className:"border-border/50 luxury-shadow",children:[m.jsxs(or,{children:[m.jsx(ar,{children:"Restaurant Information"}),m.jsx(Ni,{children:"Update your restaurant details and settings"})]}),m.jsxs(bt,{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"image_url",children:"Cover Photo URL"}),m.jsxs("div",{className:"space-y-2",children:[u.image_url&&m.jsx("div",{className:"relative h-48 bg-muted rounded-lg overflow-hidden",children:m.jsx("img",{src:u.image_url,alt:"Restaurant cover",className:"w-full h-full object-cover"})}),m.jsx(lt,{id:"image_url",value:u.image_url,onChange:w=>f({...u,image_url:w.target.value}),placeholder:"https://..."})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"name",children:"Restaurant Name *"}),m.jsx(lt,{id:"name",value:u.name,onChange:w=>f({...u,name:w.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"address",children:"Address *"}),m.jsx(lt,{id:"address",value:u.address,onChange:w=>f({...u,address:w.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"phone",children:"Phone Number *"}),m.jsx(lt,{id:"phone",type:"tel",value:u.phone,onChange:w=>f({...u,phone:w.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"open_hours",children:"Open Hours"}),m.jsx(lt,{id:"open_hours",value:u.open_hours,onChange:w=>f({...u,open_hours:w.target.value}),placeholder:"9:00 AM - 10:00 PM"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"description",children:"Description"}),m.jsx(oy,{id:"description",value:u.description,onChange:w=>f({...u,description:w.target.value}),rows:4,placeholder:"Tell customers about your restaurant..."})]}),m.jsx("div",{className:"flex justify-end pt-4",children:m.jsxs(je,{onClick:x,className:"luxury-gradient",children:[m.jsx(XO,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})},XB=()=>{const{signOut:t}=ms(),e=Nn(),[r,n]=I.useState("orders"),s=async()=>{await t(),e("/auth")};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/10 to-background",children:[m.jsx("header",{className:"border-b border-border/50 bg-card/80 backdrop-blur-xl sticky top-0 z-50",children:m.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full luxury-gradient flex items-center justify-center",children:m.jsx(qm,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Restaurant Dashboard"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your restaurant"})]})]}),m.jsxs(je,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[m.jsx(t0,{className:"w-4 h-4"}),"Logout"]})]})}),m.jsx("main",{className:"container mx-auto px-4 py-6",children:m.jsxs(Hx,{value:r,onValueChange:n,className:"w-full",children:[m.jsxs(y0,{className:"grid w-full grid-cols-4 mb-6 bg-muted/50",children:[m.jsx(Ii,{value:"orders",children:"Orders"}),m.jsx(Ii,{value:"scanner",children:"QR Scanner"}),m.jsx(Ii,{value:"menu",children:"Menu"}),m.jsx(Ii,{value:"settings",children:"Settings"})]}),m.jsx(va,{value:"orders",className:"mt-0",children:m.jsx(tB,{})}),m.jsx(va,{value:"scanner",className:"mt-0",children:m.jsx(UB,{})}),m.jsx(va,{value:"menu",className:"mt-0",children:m.jsx(GB,{})}),m.jsx(va,{value:"settings",className:"mt-0",children:m.jsx(YB,{})})]})})]})},qB=()=>{const{user:t,userRole:e,loading:r,signOut:n}=ms(),s=Nn(),[o,l]=I.useState({totalRestaurants:0,totalOrders:0,totalCustomers:0,totalRevenue:0}),[u,f]=I.useState(!0);I.useEffect(()=>{!r&&(!t||e!=="admin")&&(we.error("Admin access required"),s("/auth"))},[t,e,r,s]);const h=async()=>{try{await n(),we.success("Logged out successfully"),s("/auth")}catch{we.error("Failed to logout")}};I.useEffect(()=>{t&&e==="admin"&&x()},[t,e]);const x=async()=>{try{f(!0);const{count:v}=await Ce.from("restaurants").select("*",{count:"exact",head:!0}),{data:E,count:S}=await Ce.from("orders").select("total_amount",{count:"exact"}),b=(E==null?void 0:E.reduce((R,T)=>R+Number(T.total_amount),0))||0,{count:N}=await Ce.from("user_roles").select("*",{count:"exact",head:!0}).eq("role","customer");l({totalRestaurants:v||0,totalOrders:S||0,totalCustomers:N||0,totalRevenue:b})}catch(v){console.error("Error fetching stats:",v),we.error("Failed to load statistics")}finally{f(!1)}};if(r||u)return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),m.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading admin dashboard..."})]})});if(!t||e!=="admin")return null;const w=[{title:"Total Restaurants",value:o.totalRestaurants,icon:lf,description:"Active restaurants",color:"text-blue-600"},{title:"Total Orders",value:o.totalOrders,icon:cf,description:"All time orders",color:"text-green-600"},{title:"Total Customers",value:o.totalCustomers,icon:v1,description:"Registered customers",color:"text-purple-600"},{title:"Total Revenue",value:`${o.totalRevenue.toLocaleString()} MMK`,icon:HO,description:"All time revenue",color:"text-yellow-600"}];return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[m.jsx("div",{className:"mb-8",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage your ALAN platform"})]}),m.jsxs(je,{variant:"outline",onClick:h,className:"flex items-center gap-2 hover:bg-destructive hover:text-destructive-foreground",children:[m.jsx(t0,{className:"h-4 w-4"}),"Logout"]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:w.map(v=>{const E=v.icon;return m.jsxs($e,{className:"hover:shadow-lg transition-shadow",children:[m.jsxs(or,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(ar,{className:"text-sm font-medium",children:v.title}),m.jsx(E,{className:`h-5 w-5 ${v.color}`})]}),m.jsxs(bt,{children:[m.jsx("div",{className:"text-2xl font-bold",children:v.value}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:v.description})]})]},v.title)})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx($e,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105",onClick:()=>s("/admin/restaurants"),children:m.jsxs(or,{children:[m.jsxs(ar,{className:"text-lg flex items-center gap-2",children:[m.jsx(lf,{className:"h-5 w-5"}),"Restaurants"]}),m.jsx(Ni,{children:"Manage all restaurants"})]})}),m.jsx($e,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105",onClick:()=>s("/admin/owners"),children:m.jsxs(or,{children:[m.jsxs(ar,{className:"text-lg flex items-center gap-2",children:[m.jsx(v1,{className:"h-5 w-5"}),"Restaurant Owners"]}),m.jsx(Ni,{children:"Manage owner accounts"})]})}),m.jsx($e,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105",onClick:()=>s("/admin/orders"),children:m.jsxs(or,{children:[m.jsxs(ar,{className:"text-lg flex items-center gap-2",children:[m.jsx(cf,{className:"h-5 w-5"}),"Orders Report"]}),m.jsx(Ni,{children:"View all orders"})]})}),m.jsx($e,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105",onClick:()=>s("/admin/users"),children:m.jsxs(or,{children:[m.jsxs(ar,{className:"text-lg flex items-center gap-2",children:[m.jsx(v1,{className:"h-5 w-5"}),"Users"]}),m.jsx(Ni,{children:"Manage all users"})]})})]})]})})},_d=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:r,className:He("w-full caption-bottom text-sm",t),...e})}));_d.displayName="Table";const bd=I.forwardRef(({className:t,...e},r)=>m.jsx("thead",{ref:r,className:He("[&_tr]:border-b",t),...e}));bd.displayName="TableHeader";const Ed=I.forwardRef(({className:t,...e},r)=>m.jsx("tbody",{ref:r,className:He("[&_tr:last-child]:border-0",t),...e}));Ed.displayName="TableBody";const KB=I.forwardRef(({className:t,...e},r)=>m.jsx("tfoot",{ref:r,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));KB.displayName="TableFooter";const ui=I.forwardRef(({className:t,...e},r)=>m.jsx("tr",{ref:r,className:He("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));ui.displayName="TableRow";const Xt=I.forwardRef(({className:t,...e},r)=>m.jsx("th",{ref:r,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Xt.displayName="TableHead";const zt=I.forwardRef(({className:t,...e},r)=>m.jsx("td",{ref:r,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));zt.displayName="TableCell";const QB=I.forwardRef(({className:t,...e},r)=>m.jsx("caption",{ref:r,className:He("mt-4 text-sm text-muted-foreground",t),...e}));QB.displayName="TableCaption";const ZB=()=>{const{user:t,userRole:e,loading:r}=ms(),n=Nn(),[s,o]=I.useState([]),[l,u]=I.useState([]),[f,h]=I.useState(""),[x,w]=I.useState(!1),[v,E]=I.useState(null),[S,b]=I.useState({name:"",address:"",description:"",phone:"",cuisine_type:"",image_url:""});I.useEffect(()=>{!r&&(!t||e!=="admin")&&(we.error("Admin access required"),n("/auth"))},[t,e,r,n]),I.useEffect(()=>{t&&e==="admin"&&N()},[t,e]),I.useEffect(()=>{const D=s.filter(F=>F.name.toLowerCase().includes(f.toLowerCase())||F.address.toLowerCase().includes(f.toLowerCase()));u(D)},[f,s]);const N=async()=>{const{data:D,error:F}=await Ce.from("restaurants").select("*").order("created_at",{ascending:!1});if(F){we.error("Failed to load restaurants");return}o(D||[]),u(D||[])},R=async()=>{if(!S.name||!S.address){we.error("Name and address are required");return}if(v){const{error:D}=await Ce.from("restaurants").update(S).eq("id",v.id);if(D){we.error("Failed to update restaurant");return}we.success("Restaurant updated successfully")}else{const{error:D}=await Ce.from("restaurants").insert([S]);if(D){we.error("Failed to create restaurant");return}we.success("Restaurant created successfully")}w(!1),M(),N()},T=async D=>{if(!confirm("Are you sure you want to delete this restaurant?"))return;const{error:F}=await Ce.from("restaurants").delete().eq("id",D);if(F){we.error("Failed to delete restaurant");return}we.success("Restaurant deleted successfully"),N()},A=D=>{E(D),b({name:D.name,address:D.address,description:D.description||"",phone:D.phone||"",cuisine_type:D.cuisine_type||"",image_url:D.image_url||""}),w(!0)},M=()=>{E(null),b({name:"",address:"",description:"",phone:"",cuisine_type:"",image_url:""})};return r||!t||e!=="admin"?null:m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx(je,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:m.jsx(Sc,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Restaurant Management"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage all restaurants on the platform"})]}),m.jsxs(Fo,{open:x,onOpenChange:D=>{w(D),D||M()},children:[m.jsx(KT,{asChild:!0,children:m.jsxs(je,{children:[m.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Add Restaurant"]})}),m.jsxs(zi,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[m.jsx(Uo,{children:m.jsx(zo,{children:v?"Edit Restaurant":"Add New Restaurant"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"name",children:"Restaurant Name *"}),m.jsx(lt,{id:"name",value:S.name,onChange:D=>b({...S,name:D.target.value}),placeholder:"Enter restaurant name"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"address",children:"Address *"}),m.jsx(lt,{id:"address",value:S.address,onChange:D=>b({...S,address:D.target.value}),placeholder:"Enter address"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"phone",children:"Phone"}),m.jsx(lt,{id:"phone",value:S.phone,onChange:D=>b({...S,phone:D.target.value}),placeholder:"Enter phone number"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"cuisine_type",children:"Cuisine Type"}),m.jsx(lt,{id:"cuisine_type",value:S.cuisine_type,onChange:D=>b({...S,cuisine_type:D.target.value}),placeholder:"e.g., Italian, Chinese"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"description",children:"Description"}),m.jsx(oy,{id:"description",value:S.description,onChange:D=>b({...S,description:D.target.value}),placeholder:"Enter restaurant description",rows:3})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"image_url",children:"Image URL"}),m.jsx(lt,{id:"image_url",value:S.image_url,onChange:D=>b({...S,image_url:D.target.value}),placeholder:"Enter image URL"})]}),m.jsx(je,{onClick:R,className:"w-full",children:v?"Update Restaurant":"Create Restaurant"})]})]})]})]}),m.jsx($e,{className:"mb-6",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(lt,{placeholder:"Search restaurants...",value:f,onChange:D=>h(D.target.value),className:"pl-10"})]})})}),m.jsxs($e,{children:[m.jsx(or,{children:m.jsxs(ar,{children:["All Restaurants (",l.length,")"]})}),m.jsx(bt,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(_d,{children:[m.jsx(bd,{children:m.jsxs(ui,{children:[m.jsx(Xt,{children:"Name"}),m.jsx(Xt,{children:"Address"}),m.jsx(Xt,{children:"Phone"}),m.jsx(Xt,{children:"Cuisine"}),m.jsx(Xt,{className:"text-right",children:"Actions"})]})}),m.jsx(Ed,{children:l.map(D=>m.jsxs(ui,{children:[m.jsx(zt,{className:"font-medium",children:D.name}),m.jsx(zt,{children:D.address}),m.jsx(zt,{children:D.phone||"N/A"}),m.jsx(zt,{children:D.cuisine_type||"N/A"}),m.jsxs(zt,{className:"text-right",children:[m.jsx(je,{variant:"ghost",size:"icon",onClick:()=>A(D),children:m.jsx(UE,{className:"h-4 w-4"})}),m.jsx(je,{variant:"ghost",size:"icon",onClick:()=>T(D.id),children:m.jsx(Xm,{className:"h-4 w-4 text-destructive"})})]})]},D.id))})]})})})]})]})})},JB=()=>{const{user:t,userRole:e,loading:r}=ms(),n=Nn(),[s,o]=I.useState([]),[l,u]=I.useState([]),[f,h]=I.useState([]),[x,w]=I.useState(""),[v,E]=I.useState(!1),[S,b]=I.useState({ownerId:"",restaurantId:""});I.useEffect(()=>{!r&&(!t||e!=="admin")&&(we.error("Admin access required"),n("/auth"))},[t,e,r,n]),I.useEffect(()=>{t&&e==="admin"&&(N(),R())},[t,e]),I.useEffect(()=>{const M=s.filter(D=>D.email.toLowerCase().includes(x.toLowerCase())||D.restaurant_name&&D.restaurant_name.toLowerCase().includes(x.toLowerCase()));h(M)},[x,s]);const N=async()=>{try{const{data:M,error:D}=await Ce.rpc("get_restaurant_owners");if(!D&&M&&M.length>0){const X=M||[],Y=Array.from(new Set(X.map(ae=>ae.restaurant_id).filter(Boolean))),{data:J,error:oe}=await Ce.from("restaurants").select("id, address").in("id",Y);oe&&console.error("Failed to fetch restaurant addresses:",oe);const Ee=new Map((J||[]).map(ae=>[ae.id,ae.address??null])),de=X.map(ae=>({user_id:ae.user_id,full_name:ae.full_name??"Unnamed Owner",email:ae.email??"Email not available",phone:ae.phone??null,restaurant_id:ae.restaurant_id??null,restaurant_name:ae.restaurant_name??null,restaurant_address:ae.restaurant_id?Ee.get(ae.restaurant_id)??null:null}));o(de),h(de);return}console.warn("RPC get_restaurant_owners unavailable or empty; falling back. Error:",D);const{data:F,error:L}=await Ce.from("user_roles").select("user_id").eq("role","restaurant_owner");if(L){console.error("Failed to load owner roles:",L),we.error("Failed to load owners");return}const U=Array.from(new Set((F??[]).map(X=>X.user_id).filter(X=>!!X)));if(U.length===0){o([]),h([]);return}const{data:B,error:K}=await Ce.from("profiles").select("id, full_name, phone").in("id",U);K&&console.error("Failed to load owner profiles:",K);let ee=new Map;try{const{data:X,error:Y}=await Ce.rpc("get_user_emails",{user_ids:U});if(!Y&&X)ee=new Map((X??[]).filter(J=>J.email).map(J=>[J.user_id,J.email]));else{console.warn("RPC get_user_emails failed, attempting direct fallback:",Y);const{data:J,error:oe}=await Ce.from("user_emails").select("user_id, email").in("user_id",U);!oe&&J&&(ee=new Map((J??[]).map(Ee=>[Ee.user_id,Ee.email])))}}catch(X){console.warn("Error getting emails via RPC/fallback:",X)}const{data:Q,error:se}=await Ce.from("restaurants").select("id, name, address, owner_id").in("owner_id",U);if(se){console.error("Failed to load restaurants for owners:",se),we.error("Failed to load owners");return}const G=new Map((B??[]).map(X=>[X.id,{fullName:X.full_name??"Unnamed Owner",phone:X.phone??null}])),H=new Map;(Q??[]).forEach(X=>{X.owner_id&&H.set(X.owner_id,{id:X.id,name:X.name??"Unnamed Restaurant",address:X.address??null})});const ne=U.map(X=>{const Y=G.get(X),J=ee.get(X)??"Email not available",oe=H.get(X);return{user_id:X,full_name:(Y==null?void 0:Y.fullName)??"Unnamed Owner",email:J,phone:(Y==null?void 0:Y.phone)??null,restaurant_id:(oe==null?void 0:oe.id)??null,restaurant_name:(oe==null?void 0:oe.name)??null,restaurant_address:(oe==null?void 0:oe.address)??null}});o(ne),h(ne)}catch(M){console.error("Unexpected error fetching owners:",M),we.error("Failed to load owners")}},R=async()=>{const{data:M,error:D}=await Ce.from("restaurants").select("id, name").is("owner_id",null).order("name");if(D){console.error("Failed to load restaurants:",D);return}u(M||[])},T=async()=>{if(!S.ownerId||!S.restaurantId){we.error("Please select both an owner and a restaurant");return}try{const{data:M,error:D}=await Ce.from("user_roles").select("user_id").eq("user_id",S.ownerId).eq("role","restaurant_owner").maybeSingle();if(D){console.error("Error checking owner role:",D),we.error("Failed to verify owner role");return}if(!M){const{error:L}=await Ce.from("user_roles").insert([{user_id:S.ownerId,role:"restaurant_owner"}]);if(L){we.error("Failed to assign owner role");return}}const{error:F}=await Ce.from("restaurants").update({owner_id:S.ownerId}).eq("id",S.restaurantId);if(F){we.error("Failed to link restaurant to owner");return}we.success("Owner linked to restaurant successfully"),E(!1),A(),N(),R()}catch(M){console.error("Error linking owner:",M),we.error("Failed to link owner")}},A=()=>{b({ownerId:"",restaurantId:""})};return r||!t||e!=="admin"?null:m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx(je,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:m.jsx(Sc,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Restaurant Owner Management"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage all restaurant owner accounts"})]}),m.jsxs(Fo,{open:v,onOpenChange:M=>{E(M),M||A()},children:[m.jsx(KT,{asChild:!0,children:m.jsxs(je,{disabled:l.length===0||s.filter(M=>!M.restaurant_id).length===0,children:[m.jsx(Ia,{className:"h-4 w-4 mr-2"}),"Add Owner"]})}),m.jsxs(zi,{className:"max-w-md",children:[m.jsx(Uo,{children:m.jsx(zo,{children:"Link Existing Owner to Restaurant"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"owner",children:"Owner *"}),m.jsxs(Ds,{value:S.ownerId,onValueChange:M=>b({...S,ownerId:M}),children:[m.jsx(is,{children:m.jsx(js,{placeholder:"Select owner without restaurant"})}),m.jsx(os,{children:s.filter(M=>!M.restaurant_id).map(M=>m.jsxs(wt,{value:M.user_id,children:[M.full_name||"Unnamed Owner","  ",M.email]},M.user_id))})]})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"restaurant",children:"Restaurant *"}),m.jsxs(Ds,{value:S.restaurantId,onValueChange:M=>b({...S,restaurantId:M}),children:[m.jsx(is,{children:m.jsx(js,{placeholder:"Select restaurant without owner"})}),m.jsx(os,{children:l.map(M=>m.jsx(wt,{value:M.id,children:M.name},M.id))})]})]}),m.jsx(je,{onClick:T,className:"w-full",disabled:!S.ownerId||!S.restaurantId,children:"Link Owner"})]})]})]})]}),l.length===0&&m.jsx($e,{className:"mb-6 border-amber-200 bg-amber-50",children:m.jsx(bt,{className:"pt-6",children:m.jsx("p",{className:"text-amber-800",children:"No restaurants available without owners. Please create restaurants first before adding owners."})})}),m.jsx($e,{className:"mb-6",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(lt,{placeholder:"Search owners...",value:x,onChange:M=>w(M.target.value),className:"pl-10"})]})})}),m.jsxs($e,{children:[m.jsx(or,{children:m.jsxs(ar,{children:["All Restaurant Owners (",f.length,")"]})}),m.jsx(bt,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(_d,{children:[m.jsx(bd,{children:m.jsxs(ui,{children:[m.jsx(Xt,{children:"Restaurant"}),m.jsx(Xt,{children:"Address"}),m.jsx(Xt,{children:"Owner"}),m.jsx(Xt,{children:"Email"}),m.jsx(Xt,{children:"Phone"})]})}),m.jsx(Ed,{children:f.map(M=>m.jsxs(ui,{children:[m.jsx(zt,{children:M.restaurant_name?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(lf,{className:"h-4 w-4 text-muted-foreground"}),M.restaurant_name]}):m.jsx("span",{className:"text-muted-foreground",children:"No restaurant"})}),m.jsx(zt,{children:M.restaurant_address||m.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),m.jsx(zt,{children:M.full_name||m.jsx("span",{className:"text-muted-foreground",children:"Unnamed Owner"})}),m.jsx(zt,{className:"text-muted-foreground",children:M.email}),m.jsx(zt,{children:M.phone||"N/A"})]},M.user_id))})]})})})]})]})})};function eF(t){const e=typeof t=="string"?new Date(t):t,r=e.getMonth()+1,n=e.getDate(),s=e.getFullYear();let o=e.getHours();const l=e.getMinutes(),u=o>=12?"PM":"AM";o=o%12,o=o||12;const f=l<10?`0${l}`:`${l}`;return`${r}/${n}/${s} - ${o}:${f} ${u}`}const tF=()=>{var K,ee,Q,se;const{user:t,userRole:e,loading:r}=ms(),n=Nn(),[s,o]=I.useState([]),[l,u]=I.useState([]),[f,h]=I.useState([]),[x,w]=I.useState([]),[v,E]=I.useState(""),[S,b]=I.useState("all"),[N,R]=I.useState("all"),[T,A]=I.useState("all");I.useEffect(()=>{!r&&(!t||e!=="admin")&&(we.error("Admin access required"),n("/auth"))},[t,e,r,n]),I.useEffect(()=>{t&&e==="admin"&&M()},[t,e]),I.useEffect(()=>{F()},[v,S,N,T,s]);const M=async()=>{console.log(" Fetching orders data...");const{data:G,error:H}=await Ce.from("orders").select("*").order("created_at",{ascending:!1});if(H){console.error(" Error fetching orders:",H),we.error("Failed to load orders");return}if(console.log(" Orders fetched:",(G==null?void 0:G.length)||0,"orders"),!G||G.length===0){console.log(" No orders found in database"),o([]),u([]);const{data:ae}=await Ce.from("restaurants").select("id, name").order("name");h(ae||[]),we.info("No orders found in the database");return}console.log(" Found existing orders in database:",G.length);const ne=[...new Set(G.map(ae=>ae.customer_id).filter(ae=>!!ae))];console.log(" Looking up customer details for IDs:",ne.map(ae=>ae.substring(0,8)));let X=[];if(ne.length>0){try{let ae=await Ce.rpc("get_order_customers_fallback",{customer_ids:ne});ae.error&&(console.warn(" get_order_customers_fallback not available or failed, trying get_order_customers:",ae.error.message),ae=await Ce.rpc("get_order_customers",{customer_ids:ne})),ae.error?(console.error(" Error fetching customer details via RPC:",ae.error),we.error("Failed to load customer details")):(X=ae.data||[],console.log(" Customer details fetched via RPC:",X.length))}catch(ae){console.error(" Unexpected error fetching customer details:",ae),we.error("Failed to load customer details")}if(X.length===0)try{const{data:ae,error:fe}=await Ce.from("profiles").select("id, full_name, phone").in("id",ne);!fe&&ae&&(X=ae.map(ze=>({user_id:ze.id,full_name:ze.full_name,email:null,phone:ze.phone})),console.log(" Fallback to profiles fetched:",X.length))}catch(ae){console.error(" Unexpected error fetching profiles as fallback:",ae)}}const Y=new Map(X.map(ae=>{var fe,ze,ve;return[ae.user_id,{name:((fe=ae.full_name)==null?void 0:fe.trim())||"",email:((ze=ae.email)==null?void 0:ze.trim())||"Email not available",phone:((ve=ae.phone)==null?void 0:ve.trim())||""}]}));console.log(" Customer mapping (via RPC):",{totalCustomers:X.length,customerIds:ne.map(ae=>ae.substring(0,8)),foundCustomers:X.map(ae=>({id:ae.user_id.substring(0,8),name:ae.full_name,email:ae.email,phone:ae.phone}))});const{data:J}=await Ce.from("restaurants").select("id, name").order("name"),oe=[...new Set(G.map(ae=>ae.restaurant_id))],{data:Ee}=await Ce.from("restaurants").select("id, name").in("id",oe),de=G.map(ae=>{var dt;const fe=Y.get(ae.customer_id),ze=ae.customer_id?ae.customer_id.substring(0,8):"UNKNOWN",ve=fe!=null&&fe.name&&fe.name.length>0?fe.name:`Customer ${ze}`,_e=fe!=null&&fe.email&&fe.email.length>0?fe.email:"Email not available",ke=fe!=null&&fe.phone&&fe.phone.length>0?fe.phone:"Phone not available";return{...ae,customer_name:ve,customer_email:_e,customer_phone:ke,restaurant_name:((dt=Ee==null?void 0:Ee.find(Xe=>Xe.id===ae.restaurant_id))==null?void 0:dt.name)||"Unknown Restaurant"}});console.log(" Orders enriched with customer data:",{totalOrders:de.length,ordersWithCustomerNames:de.filter(ae=>!ae.customer_name.startsWith("Customer ")).length,sampleOrder:de[0]?{id:de[0].id.substring(0,8),customerName:de[0].customer_name,customerEmail:de[0].customer_email,customerPhone:de[0].customer_phone}:null}),o(de),u(de),h(J||[]),D(de)},D=G=>{const H=new Map;G.forEach(X=>{const Y=X.restaurant_id,J=X.restaurant_name,oe=Number(X.total_amount);if(H.has(Y)){const Ee=H.get(Y);Ee.total_orders+=1,Ee.total_revenue+=oe,Ee.avg_order_value=Ee.total_revenue/Ee.total_orders}else H.set(Y,{restaurant_id:Y,restaurant_name:J,total_orders:1,total_revenue:oe,avg_order_value:oe})});const ne=Array.from(H.values()).sort((X,Y)=>Y.total_revenue-X.total_revenue);w(ne)},F=()=>{let G=[...s];if(v&&(G=G.filter(H=>H.customer_name.toLowerCase().includes(v.toLowerCase())||H.customer_phone.toLowerCase().includes(v.toLowerCase())||H.restaurant_name.toLowerCase().includes(v.toLowerCase())||H.id.toLowerCase().includes(v.toLowerCase()))),T!=="all"&&(G=G.filter(H=>H.restaurant_id===T)),S!=="all"&&(G=G.filter(H=>H.status===S)),N!=="all"){const H=new Date,ne=new Date;N==="today"?ne.setHours(0,0,0,0):N==="week"?ne.setDate(H.getDate()-7):N==="month"&&ne.setMonth(H.getMonth()-1),G=G.filter(X=>new Date(X.created_at)>=ne)}u(G),D(G)},L=()=>{window.print()},U=l.reduce((G,H)=>G+Number(H.total_amount),0),B=G=>{const H={paid:"default",preparing:"secondary",ready:"outline",completed:"default"};return m.jsx(Ui,{variant:H[G]||"default",children:G.toUpperCase()})};return r||!t||e!=="admin"?null:m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl print:p-0",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8 print:hidden",children:[m.jsx(je,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:m.jsx(Sc,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Orders Report"}),m.jsx("p",{className:"text-muted-foreground",children:"View and manage all orders"})]}),m.jsxs(je,{onClick:L,children:[m.jsx(GO,{className:"h-4 w-4 mr-2"}),"Print Report"]})]}),m.jsx("div",{className:"hidden print:block mb-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ALAN - Orders Report"}),m.jsxs("p",{className:"text-muted-foreground",children:["Generated on ",new Date().toLocaleDateString()]}),T!=="all"&&m.jsxs("p",{className:"text-sm text-blue-600 mt-2 font-medium",children:["Restaurant: ",((K=f.find(G=>G.id===T))==null?void 0:K.name)||"Selected Restaurant"]}),S!=="all"&&m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status Filter: ",S.toUpperCase()]}),N!=="all"&&m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Date Filter: ",N==="today"?"Today":N==="week"?"Last 7 Days":N==="month"?"Last 30 Days":N]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs($e,{children:[m.jsx(or,{children:m.jsx(ar,{className:"text-sm",children:"Total Orders"})}),m.jsx(bt,{children:m.jsx("p",{className:"text-3xl font-bold",children:l.length})})]}),m.jsxs($e,{children:[m.jsx(or,{children:m.jsx(ar,{className:"text-sm",children:"Total Revenue"})}),m.jsx(bt,{children:m.jsxs("p",{className:"text-3xl font-bold",children:[U.toLocaleString()," MMK"]})})]}),m.jsxs($e,{children:[m.jsx(or,{children:m.jsx(ar,{className:"text-sm",children:"Average Order"})}),m.jsx(bt,{children:m.jsxs("p",{className:"text-3xl font-bold",children:[l.length>0?Math.round(U/l.length).toLocaleString():0," MMK"]})})]})]}),m.jsx($e,{className:"mb-6 print:hidden",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(lt,{placeholder:"Search orders...",value:v,onChange:G=>E(G.target.value),className:"pl-10"})]}),m.jsxs(Ds,{value:T,onValueChange:A,children:[m.jsx(is,{children:m.jsx(js,{placeholder:"Filter by restaurant"})}),m.jsxs(os,{children:[m.jsx(wt,{value:"all",children:"All Restaurants"}),f.map(G=>m.jsx(wt,{value:G.id,children:G.name},G.id))]})]}),m.jsxs(Ds,{value:S,onValueChange:b,children:[m.jsx(is,{children:m.jsx(js,{placeholder:"Filter by status"})}),m.jsxs(os,{children:[m.jsx(wt,{value:"all",children:"All Statuses"}),m.jsx(wt,{value:"paid",children:"Paid"}),m.jsx(wt,{value:"preparing",children:"Preparing"}),m.jsx(wt,{value:"ready",children:"Ready"}),m.jsx(wt,{value:"completed",children:"Completed"})]})]}),m.jsxs(Ds,{value:N,onValueChange:R,children:[m.jsx(is,{children:m.jsx(js,{placeholder:"Filter by date"})}),m.jsxs(os,{children:[m.jsx(wt,{value:"all",children:"All Time"}),m.jsx(wt,{value:"today",children:"Today"}),m.jsx(wt,{value:"week",children:"Last 7 Days"}),m.jsx(wt,{value:"month",children:"Last 30 Days"})]})]}),m.jsxs(je,{variant:"outline",onClick:()=>{E(""),A("all"),b("all"),R("all")},children:[m.jsx(Fw,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})})}),T==="all"&&x.length>0&&m.jsxs($e,{className:"mb-6",children:[m.jsx(or,{children:m.jsxs(ar,{className:"flex items-center gap-2",children:[m.jsx(Fw,{className:"h-5 w-5"}),"Restaurant Performance Summary"]})}),m.jsx(bt,{children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(G=>m.jsx($e,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:m.jsxs(bt,{className:"p-4",children:[m.jsx("h3",{className:"font-semibold text-lg mb-2 text-blue-900",children:G.restaurant_name}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Total Orders:"}),m.jsx("span",{className:"font-medium",children:G.total_orders})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Total Revenue:"}),m.jsxs("span",{className:"font-bold text-green-600",children:[G.total_revenue.toLocaleString()," MMK"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Avg Order Value:"}),m.jsxs("span",{className:"font-medium",children:[Math.round(G.avg_order_value).toLocaleString()," MMK"]})]})]}),m.jsx(je,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>A(G.restaurant_id),children:"View Orders"})]})},G.restaurant_id))})})]}),T!=="all"&&m.jsx($e,{className:"mb-6 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold text-green-900",children:[((ee=f.find(G=>G.id===T))==null?void 0:ee.name)||"Selected Restaurant"," Performance"]}),m.jsx("p",{className:"text-sm text-green-700",children:"Filtered results for selected restaurant"})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-green-800",children:l.length}),m.jsx("p",{className:"text-xs text-green-600",children:"Orders"})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-2xl font-bold text-green-800",children:[U.toLocaleString()," MMK"]}),m.jsx("p",{className:"text-xs text-green-600",children:"Revenue"})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-2xl font-bold text-green-800",children:[l.length>0?Math.round(U/l.length).toLocaleString():0," MMK"]}),m.jsx("p",{className:"text-xs text-green-600",children:"Avg Order"})]})]})]})})}),m.jsxs($e,{children:[m.jsx(or,{children:m.jsxs(ar,{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Order Details"}),m.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:T!=="all"?`Showing ${l.length} orders for ${(Q=f.find(G=>G.id===T))==null?void 0:Q.name}`:`Showing ${l.length} of ${s.length} orders`})]})}),m.jsx(bt,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(_d,{children:[m.jsx(bd,{children:m.jsxs(ui,{children:[m.jsx(Xt,{children:"Order ID"}),m.jsx(Xt,{children:"Customer"}),m.jsx(Xt,{children:"Restaurant"}),m.jsx(Xt,{children:"Type"}),m.jsx(Xt,{children:"Amount"}),m.jsx(Xt,{children:"Status"}),m.jsx(Xt,{children:"Date"})]})}),m.jsx(Ed,{children:l.length>0?l.map(G=>m.jsxs(ui,{children:[m.jsx(zt,{className:"font-mono text-xs",children:G.id.substring(0,8)}),m.jsx(zt,{children:m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"font-medium",children:G.customer_name}),G.customer_email!=="Email not available"&&m.jsx("div",{className:"text-xs text-muted-foreground",children:G.customer_email}),G.customer_phone!=="Phone not available"&&m.jsx("div",{className:"text-xs text-muted-foreground",children:G.customer_phone})]})}),m.jsx(zt,{children:G.restaurant_name}),m.jsx(zt,{className:"capitalize",children:G.order_type}),m.jsxs(zt,{className:"font-semibold",children:[Number(G.total_amount).toLocaleString()," MMK"]}),m.jsx(zt,{children:B(G.status)}),m.jsx(zt,{children:eF(G.created_at)})]},G.id)):m.jsx(ui,{children:m.jsx(zt,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:T!=="all"?`No orders found for ${((se=f.find(G=>G.id===T))==null?void 0:se.name)||"selected restaurant"}`:"No orders found matching the current filters"})})})]})})})]})]})})},rF=()=>{const{user:t,userRole:e,loading:r}=ms(),n=Nn(),[s,o]=I.useState([]),[l,u]=I.useState([]),[f,h]=I.useState(""),[x,w]=I.useState("all"),[v,E]=I.useState(!1),[S,b]=I.useState(null),[N,R]=I.useState(""),[T,A]=I.useState(null),[M,D]=I.useState(null),[F,L]=I.useState(""),[U,B]=I.useState(""),[K,ee]=I.useState("customer"),[Q,se]=I.useState([]),[G,H]=I.useState(!1),[ne,X]=I.useState("customer"),[Y,J]=I.useState(""),[oe,Ee]=I.useState(""),[de,ae]=I.useState(""),[fe,ze]=I.useState(""),[ve,_e]=I.useState(null);I.useEffect(()=>{!r&&(!t||e!=="admin")&&(we.error("Admin access required"),n("/auth"))},[t,e,r,n]),I.useEffect(()=>{t&&e==="admin"&&(ke(),dt())},[t,e]),I.useEffect(()=>{const ce=f.toLowerCase(),Re=s.filter(be=>{const vt=be.full_name.toLowerCase().includes(ce)||be.role.toLowerCase().includes(ce)||be.phone&&be.phone.toLowerCase().includes(ce)||be.user_id.toLowerCase().includes(ce),ye=x==="all"?!0:be.role===x;return vt&&ye});u(Re)},[f,x,s]);const ke=async()=>{console.log(" Fetching users and details via RPC...");try{const{data:ce,error:Re}=await Ce.from("user_roles").select("user_id, role, created_at").order("created_at",{ascending:!1});if(Re){console.error(" Error fetching user roles:",Re),we.error("Failed to load users");return}if(!ce||ce.length===0){console.log(" No users found in user_roles table"),o([]),u([]);return}const be=ce.map(tt=>tt.user_id);let vt=[];try{let tt=await Ce.rpc("get_order_customers_fallback",{customer_ids:be});tt.error&&(console.warn(" get_order_customers_fallback not available, trying get_order_customers:",tt.error.message),tt=await Ce.rpc("get_order_customers",{customer_ids:be})),tt.error?(console.error(" Error fetching user details via RPC:",tt.error),we.error("Failed to load some user details")):vt=tt.data||[]}catch(tt){console.error(" Unexpected RPC error:",tt)}const ye=new Map(vt.map(tt=>[tt.user_id,tt])),en=ce.map(tt=>{var St;const Zt=ye.get(tt.user_id),Zo=(St=Zt==null?void 0:Zt.full_name)!=null&&St.trim()?Zt.full_name.trim():`User ${tt.user_id.substring(0,8)}`;return{user_id:tt.user_id,full_name:Zo,phone:(Zt==null?void 0:Zt.phone)||null,role:tt.role,created_at:tt.created_at}});console.log(" Final users data (via RPC):",{total:en.length,withRealNames:en.filter(tt=>!tt.full_name.startsWith("User ")).length,withPhones:en.filter(tt=>tt.phone).length}),o(en),u(en)}catch(ce){console.error(" Unexpected error in fetchUsers:",ce),we.error("An unexpected error occurred while loading users")}},dt=async()=>{try{const{data:ce,error:Re}=await Ce.from("restaurants").select("id, name").order("name");if(Re){console.error(" Error fetching restaurants:",Re);return}se(ce||[])}catch(ce){console.error(" Unexpected error fetching restaurants:",ce)}},Xe=async ce=>{var Re;console.log(" Opening user details for:",ce.user_id.substring(0,8)),b(ce),L(ce.full_name),B(ce.phone||""),ee(ce.role);try{let be=await Ce.rpc("get_order_customers_fallback",{customer_ids:[ce.user_id]});be.error&&(be=await Ce.rpc("get_order_customers",{customer_ids:[ce.user_id]})),!be.error&&be.data&&be.data.length>0?R(be.data[0].email||"Email not available"):R("Email not available")}catch{R("Email not available")}if(A(null),D(null),ce.role==="restaurant_owner")try{const{data:be,error:vt}=await Ce.from("restaurant_owners").select("restaurant_id, restaurants(name)").eq("user_id",ce.user_id).single();!vt&&be&&(A(be.restaurant_id),D(((Re=be.restaurants)==null?void 0:Re.name)||"Unknown Restaurant"))}catch(be){console.error(" Error fetching restaurant for owner:",be)}E(!0)},Le=async()=>{if(S)try{const{error:ce}=await Ce.from("profiles").update({full_name:F.trim(),phone:U.trim()||null,updated_at:new Date().toISOString()}).eq("id",S.user_id);if(ce){console.error(" Error updating profile:",ce),we.error("Failed to update user profile");return}if(K!==S.role){const{error:Re}=await Ce.from("user_roles").update({role:K}).eq("user_id",S.user_id);if(Re){console.error(" Error updating role:",Re),we.error("Failed to update user role");return}if(K==="restaurant_owner"&&T){const{error:be}=await Ce.from("restaurant_owners").upsert({user_id:S.user_id,restaurant_id:T,created_at:new Date().toISOString()});if(be){console.error(" Error linking restaurant:",be),we.error("Failed to link restaurant");return}}else S.role==="restaurant_owner"&&K!=="restaurant_owner"&&await Ce.from("restaurant_owners").delete().eq("user_id",S.user_id)}we.success("User updated successfully"),E(!1),ke()}catch(ce){console.error(" Unexpected error updating user:",ce),we.error("An unexpected error occurred")}},Je=async()=>{if(S&&confirm("Are you sure you want to delete this user? This action cannot be undone."))try{console.log(" Deleting user:",S.user_id.substring(0,8),"with role:",S.role),console.log(" Checking for restaurant ownership...");const{data:ce,error:Re}=await Ce.from("restaurant_owners").select("restaurant_id").eq("user_id",S.user_id);if(!Re&&ce&&ce.length>0){console.log(" Removing restaurant ownership links...");const{error:ye}=await Ce.from("restaurant_owners").delete().eq("user_id",S.user_id);if(ye){console.error(" Error deleting restaurant ownership:",ye),we.error(`Failed to remove restaurant links: ${ye.message}`);return}console.log(" Restaurant ownership removed")}console.log(" Deleting user role...");const{error:be}=await Ce.from("user_roles").delete().eq("user_id",S.user_id);if(be){console.error(" Error deleting user role:",be),we.error(`Failed to delete user role: ${be.message}`);return}console.log(" User role deleted"),console.log(" Deleting user profile...");const{error:vt}=await Ce.from("profiles").delete().eq("id",S.user_id);if(vt){console.error(" Error deleting profile:",vt),we.error(`Failed to delete user profile: ${vt.message}`);return}console.log(" User profile deleted");try{console.log(" Attempting to delete auth user...");const{error:ye}=await Ce.auth.admin.deleteUser(S.user_id);ye?console.warn(" Could not delete auth user (service role required):",ye.message):console.log(" Auth user deleted")}catch(ye){console.warn(" Auth user deletion not available:",ye)}console.log(" User deletion complete"),we.success("User deleted successfully"),E(!1),setTimeout(()=>{ke()},500)}catch(ce){console.error(" Unexpected error deleting user:",ce),we.error("An unexpected error occurred")}},Ue=async()=>{var ce,Re,be;if(!Y.trim()||!oe.trim()||!de.trim()){we.error("Please fill in all required fields");return}try{console.log(" Creating user without auth signup to prevent session interference..."),console.log(" Selected role for new user:",ne);const ye=(ce=(await Ce.auth.getSession()).data.session)==null?void 0:ce.user;if(!ye){we.error("Admin session not found");return}console.log(" Current admin:",ye.email,"ID:",ye.id.substring(0,8)),console.log(" Creating user via edge function...");const{data:en,error:tt}=await Ce.functions.invoke("admin-create-user",{body:{email:oe.trim(),password:de.trim(),full_name:Y.trim(),phone:fe.trim()||null,role:ne,restaurant_id:ve}});if(tt){console.error(" Edge function error:",tt),we.error(tt.message||"Failed to create user");return}console.log(" Edge function result:",en);const Zt=await Ce.auth.getSession();((be=(Re=Zt.data.session)==null?void 0:Re.user)==null?void 0:be.id)===ye.id?console.log(" Admin session remained intact:",Zt.data.session.user.email):console.error(" Admin session was somehow changed!"),console.log(" User creation complete without session interference"),we.success(`${ne.charAt(0).toUpperCase()+ne.slice(1)} user created successfully`),H(!1),X("customer"),J(""),Ee(""),ae(""),ze(""),_e(null),ke()}catch(vt){console.error(" Unexpected error creating user:",vt),we.error("An unexpected error occurred")}},cr=ce=>{const Re={admin:{variant:"destructive",icon:Uw},restaurant_owner:{variant:"default",icon:go},customer:{variant:"secondary",icon:go}},be=Re[ce]||Re.customer,vt=be.icon;return m.jsxs(Ui,{variant:be.variant,className:"flex items-center gap-1 w-fit",children:[m.jsx(vt,{className:"h-3 w-3"}),ce.replace("_"," ").toUpperCase()]})},Tr=(()=>{const ce=s.filter(vt=>vt.role==="admin").length,Re=s.filter(vt=>vt.role==="restaurant_owner").length,be=s.filter(vt=>vt.role==="customer").length;return{admins:ce,owners:Re,customers:be}})();return r||!t||e!=="admin"?null:m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx(je,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:m.jsx(Sc,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"User Management"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage all registered users"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs($e,{children:[m.jsx(or,{children:m.jsxs(ar,{className:"text-sm flex items-center gap-2",children:[m.jsx(Uw,{className:"h-4 w-4 text-destructive"}),"Admins"]})}),m.jsx(bt,{children:m.jsx("p",{className:"text-3xl font-bold",children:Tr.admins})})]}),m.jsxs($e,{children:[m.jsx(or,{children:m.jsxs(ar,{className:"text-sm flex items-center gap-2",children:[m.jsx(go,{className:"h-4 w-4 text-primary"}),"Restaurant Owners"]})}),m.jsx(bt,{children:m.jsx("p",{className:"text-3xl font-bold",children:Tr.owners})})]}),m.jsxs($e,{children:[m.jsx(or,{children:m.jsxs(ar,{className:"text-sm flex items-center gap-2",children:[m.jsx(go,{className:"h-4 w-4 text-secondary"}),"Customers"]})}),m.jsx(bt,{children:m.jsx("p",{className:"text-3xl font-bold",children:Tr.customers})})]})]}),m.jsx($e,{className:"mb-6",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[m.jsxs("div",{className:"relative md:flex-1",children:[m.jsx(pd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(lt,{placeholder:"Search users...",value:f,onChange:ce=>h(ce.target.value),className:"pl-10"})]}),m.jsx("div",{className:"md:w-64",children:m.jsxs(Ds,{value:x,onValueChange:ce=>w(ce),children:[m.jsx(is,{children:m.jsx(js,{placeholder:"Filter by role"})}),m.jsxs(os,{children:[m.jsx(wt,{value:"all",children:"All"}),m.jsx(wt,{value:"admin",children:"Admin"}),m.jsx(wt,{value:"restaurant_owner",children:"Restaurant Owner"}),m.jsx(wt,{value:"customer",children:"Customer"})]})]})})]})})}),m.jsxs($e,{children:[m.jsx(or,{children:m.jsxs(ar,{children:["All Users (",l.length,")"]})}),m.jsx(bt,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(_d,{children:[m.jsx(bd,{children:m.jsxs(ui,{children:[m.jsx(Xt,{children:"Name"}),m.jsx(Xt,{children:"Phone"}),m.jsx(Xt,{children:"Role"}),m.jsx(Xt,{children:"Registered"}),m.jsx(Xt,{className:"text-right",children:"Actions"})]})}),m.jsx(Ed,{children:l.map(ce=>m.jsxs(ui,{children:[m.jsx(zt,{className:"font-medium",children:m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{children:ce.full_name}),m.jsx("span",{className:"text-xs text-muted-foreground",children:ce.phone?ce.phone:`ID: ${ce.user_id.substring(0,8)}...`})]})}),m.jsx(zt,{children:m.jsx("span",{className:"text-sm",children:ce.phone||"N/A"})}),m.jsx(zt,{children:cr(ce.role)}),m.jsx(zt,{children:new Date(ce.created_at).toLocaleDateString()}),m.jsx(zt,{className:"text-right",children:m.jsx(je,{variant:"ghost",size:"sm",onClick:()=>Xe(ce),children:"View Details"})})]},ce.user_id))})]})})})]}),m.jsx(Fo,{open:v,onOpenChange:E,children:m.jsxs(zi,{className:"max-w-2xl",children:[m.jsx(Uo,{children:m.jsx(zo,{children:"User Details"})}),S&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-name",children:"Full Name"}),m.jsx(lt,{id:"detail-name",value:F,onChange:ce=>L(ce.target.value)})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-phone",children:"Phone"}),m.jsx(lt,{id:"detail-phone",value:U,onChange:ce=>B(ce.target.value)})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-email",children:"Email"}),m.jsx(lt,{id:"detail-email",value:N,disabled:!0,className:"bg-muted"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-role",children:"Role"}),m.jsxs(Ds,{value:K,onValueChange:ee,children:[m.jsx(is,{children:m.jsx(js,{})}),m.jsxs(os,{children:[m.jsx(wt,{value:"customer",children:"Customer"}),m.jsx(wt,{value:"restaurant_owner",children:"Restaurant Owner"}),m.jsx(wt,{value:"admin",children:"Admin"})]})]})]})]}),K==="restaurant_owner"&&m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-restaurant",children:"Linked Restaurant"}),m.jsxs(Ds,{value:T||"",onValueChange:A,children:[m.jsx(is,{children:m.jsx(js,{placeholder:"Select a restaurant"})}),m.jsx(os,{children:Q.map(ce=>m.jsx(wt,{value:ce.id,children:ce.name},ce.id))})]}),M&&m.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Currently linked: ",M]})]}),m.jsx("div",{className:"border-t pt-4",children:m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx(Qe,{className:"text-muted-foreground",children:"User ID"}),m.jsx("p",{className:"font-mono",children:S.user_id})]}),m.jsxs("div",{children:[m.jsx(Qe,{className:"text-muted-foreground",children:"Registration Date"}),m.jsx("p",{children:new Date(S.created_at).toLocaleDateString()})]})]})})]}),m.jsxs(Dg,{className:"flex justify-between",children:[m.jsxs(je,{variant:"destructive",onClick:Je,className:"flex items-center gap-2",children:[m.jsx(Xm,{className:"h-4 w-4"}),"Delete User"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(je,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),m.jsxs(je,{onClick:Le,className:"flex items-center gap-2",children:[m.jsx(UE,{className:"h-4 w-4"}),"Save Changes"]})]})]})]})}),m.jsx(Fo,{open:G,onOpenChange:H,children:m.jsxs(zi,{className:"max-w-2xl",children:[m.jsx(Uo,{children:m.jsx(zo,{children:"Create New User"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-name",children:"Full Name *"}),m.jsx(lt,{id:"create-name",value:Y,onChange:ce=>J(ce.target.value),placeholder:"Enter full name"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-phone",children:"Phone"}),m.jsx(lt,{id:"create-phone",value:fe,onChange:ce=>ze(ce.target.value),placeholder:"Enter phone number"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-email",children:"Email *"}),m.jsx(lt,{id:"create-email",type:"email",value:oe,onChange:ce=>Ee(ce.target.value),placeholder:"Enter email address"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-password",children:"Password *"}),m.jsx(lt,{id:"create-password",type:"password",value:de,onChange:ce=>ae(ce.target.value),placeholder:"Enter password"})]})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-role",children:"Role *"}),m.jsxs(Ds,{value:ne,onValueChange:ce=>X(ce),children:[m.jsx(is,{children:m.jsx(js,{})}),m.jsxs(os,{children:[m.jsx(wt,{value:"customer",children:"Customer"}),m.jsx(wt,{value:"restaurant_owner",children:"Restaurant Owner"}),m.jsx(wt,{value:"admin",children:"Admin"})]})]})]}),ne==="restaurant_owner"&&m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-restaurant",children:"Link to Restaurant"}),m.jsxs(Ds,{value:ve||"",onValueChange:_e,children:[m.jsx(is,{children:m.jsx(js,{placeholder:"Select a restaurant (optional)"})}),m.jsx(os,{children:Q.map(ce=>m.jsx(wt,{value:ce.id,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(lf,{className:"h-4 w-4"}),ce.name]})},ce.id))})]}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"You can link the user to a restaurant later if needed"})]}),m.jsx("div",{className:"bg-muted p-3 rounded-md",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"* Required fields. The user will receive an email confirmation to activate their account."})})]}),m.jsxs(Dg,{children:[m.jsx(je,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),m.jsxs(je,{onClick:Ue,className:"flex items-center gap-2",children:[m.jsx(Ia,{className:"h-4 w-4"}),"Create User"]})]})]})})]})})},nF=()=>{const t=Go();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),m.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},sF=new wk,iF=()=>m.jsx(_k,{client:sF,children:m.jsx(q5,{children:m.jsxs(q6,{children:[m.jsx(M8,{}),m.jsx(uM,{}),m.jsx(yP,{children:m.jsxs(dP,{children:[m.jsx(Xr,{path:"/",element:m.jsx(pL,{})}),m.jsx(Xr,{path:"/auth",element:m.jsx(ML,{})}),m.jsx(Xr,{path:"/home",element:m.jsx(PL,{})}),m.jsx(Xr,{path:"/restaurant/:id",element:m.jsx(z7,{})}),m.jsx(Xr,{path:"/payment",element:m.jsx(J7,{})}),m.jsx(Xr,{path:"/confirmation",element:m.jsx(c9,{})}),m.jsx(Xr,{path:"/orders",element:m.jsx(u9,{})}),m.jsx(Xr,{path:"/profile",element:m.jsx(C9,{})}),m.jsx(Xr,{path:"/dashboard",element:m.jsx(XB,{})}),m.jsx(Xr,{path:"/admin",element:m.jsx(qB,{})}),m.jsx(Xr,{path:"/admin/restaurants",element:m.jsx(ZB,{})}),m.jsx(Xr,{path:"/admin/owners",element:m.jsx(JB,{})}),m.jsx(Xr,{path:"/admin/orders",element:m.jsx(tF,{})}),m.jsx(Xr,{path:"/admin/users",element:m.jsx(rF,{})}),m.jsx(Xr,{path:"*",element:m.jsx(nF,{})})]})})]})})});sE(document.getElementById("root")).render(m.jsx(iF,{}));
