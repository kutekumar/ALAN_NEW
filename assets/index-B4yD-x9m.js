var cy=t=>{throw TypeError(t)};var L0=(t,e,r)=>e.has(t)||cy("Cannot "+r);var ie=(t,e,r)=>(L0(t,e,"read from private field"),r?r.call(t):e.get(t)),gt=(t,e,r)=>e.has(t)?cy("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),$e=(t,e,r,n)=>(L0(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Wr=(t,e,r)=>(L0(t,e,"access private method"),r);var Rd=(t,e,r,n)=>({set _(s){$e(t,e,s,r)},get _(){return ie(t,e,n)}});function Bg(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(t,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Fg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function M2(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var k2={exports:{}},If={},P2={exports:{}},st={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sd=Symbol.for("react.element"),FN=Symbol.for("react.portal"),UN=Symbol.for("react.fragment"),zN=Symbol.for("react.strict_mode"),VN=Symbol.for("react.profiler"),HN=Symbol.for("react.provider"),WN=Symbol.for("react.context"),$N=Symbol.for("react.forward_ref"),GN=Symbol.for("react.suspense"),YN=Symbol.for("react.memo"),XN=Symbol.for("react.lazy"),uy=Symbol.iterator;function qN(t){return t===null||typeof t!="object"?null:(t=uy&&t[uy]||t["@@iterator"],typeof t=="function"?t:null)}var D2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j2=Object.assign,L2={};function wc(t,e,r){this.props=t,this.context=e,this.refs=L2,this.updater=r||D2}wc.prototype.isReactComponent={};wc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};wc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function B2(){}B2.prototype=wc.prototype;function Ug(t,e,r){this.props=t,this.context=e,this.refs=L2,this.updater=r||D2}var zg=Ug.prototype=new B2;zg.constructor=Ug;j2(zg,wc.prototype);zg.isPureReactComponent=!0;var dy=Array.isArray,F2=Object.prototype.hasOwnProperty,Vg={current:null},U2={key:!0,ref:!0,__self:!0,__source:!0};function z2(t,e,r){var n,s={},o=null,l=null;if(e!=null)for(n in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)F2.call(e,n)&&!U2.hasOwnProperty(n)&&(s[n]=e[n]);var u=arguments.length-2;if(u===1)s.children=r;else if(1<u){for(var p=Array(u),h=0;h<u;h++)p[h]=arguments[h+2];s.children=p}if(t&&t.defaultProps)for(n in u=t.defaultProps,u)s[n]===void 0&&(s[n]=u[n]);return{$$typeof:sd,type:t,key:o,ref:l,props:s,_owner:Vg.current}}function KN(t,e){return{$$typeof:sd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hg(t){return typeof t=="object"&&t!==null&&t.$$typeof===sd}function QN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var hy=/\/+/g;function B0(t,e){return typeof t=="object"&&t!==null&&t.key!=null?QN(""+t.key):e.toString(36)}function fh(t,e,r,n,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case sd:case FN:l=!0}}if(l)return l=t,s=s(l),t=n===""?"."+B0(l,0):n,dy(s)?(r="",t!=null&&(r=t.replace(hy,"$&/")+"/"),fh(s,e,r,"",function(h){return h})):s!=null&&(Hg(s)&&(s=KN(s,r+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(hy,"$&/")+"/")+t)),e.push(s)),1;if(l=0,n=n===""?".":n+":",dy(t))for(var u=0;u<t.length;u++){o=t[u];var p=n+B0(o,u);l+=fh(o,e,r,p,s)}else if(p=qN(t),typeof p=="function")for(t=p.call(t),u=0;!(o=t.next()).done;)o=o.value,p=n+B0(o,u++),l+=fh(o,e,r,p,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Od(t,e,r){if(t==null)return t;var n=[],s=0;return fh(t,n,"","",function(o){return e.call(r,o,s++)}),n}function ZN(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var cn={current:null},ph={transition:null},JN={ReactCurrentDispatcher:cn,ReactCurrentBatchConfig:ph,ReactCurrentOwner:Vg};function V2(){throw Error("act(...) is not supported in production builds of React.")}st.Children={map:Od,forEach:function(t,e,r){Od(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Od(t,function(){e++}),e},toArray:function(t){return Od(t,function(e){return e})||[]},only:function(t){if(!Hg(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};st.Component=wc;st.Fragment=UN;st.Profiler=VN;st.PureComponent=Ug;st.StrictMode=zN;st.Suspense=GN;st.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JN;st.act=V2;st.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=j2({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=Vg.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(p in e)F2.call(e,p)&&!U2.hasOwnProperty(p)&&(n[p]=e[p]===void 0&&u!==void 0?u[p]:e[p])}var p=arguments.length-2;if(p===1)n.children=r;else if(1<p){u=Array(p);for(var h=0;h<p;h++)u[h]=arguments[h+2];n.children=u}return{$$typeof:sd,type:t.type,key:s,ref:o,props:n,_owner:l}};st.createContext=function(t){return t={$$typeof:WN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HN,_context:t},t.Consumer=t};st.createElement=z2;st.createFactory=function(t){var e=z2.bind(null,t);return e.type=t,e};st.createRef=function(){return{current:null}};st.forwardRef=function(t){return{$$typeof:$N,render:t}};st.isValidElement=Hg;st.lazy=function(t){return{$$typeof:XN,_payload:{_status:-1,_result:t},_init:ZN}};st.memo=function(t,e){return{$$typeof:YN,type:t,compare:e===void 0?null:e}};st.startTransition=function(t){var e=ph.transition;ph.transition={};try{t()}finally{ph.transition=e}};st.unstable_act=V2;st.useCallback=function(t,e){return cn.current.useCallback(t,e)};st.useContext=function(t){return cn.current.useContext(t)};st.useDebugValue=function(){};st.useDeferredValue=function(t){return cn.current.useDeferredValue(t)};st.useEffect=function(t,e){return cn.current.useEffect(t,e)};st.useId=function(){return cn.current.useId()};st.useImperativeHandle=function(t,e,r){return cn.current.useImperativeHandle(t,e,r)};st.useInsertionEffect=function(t,e){return cn.current.useInsertionEffect(t,e)};st.useLayoutEffect=function(t,e){return cn.current.useLayoutEffect(t,e)};st.useMemo=function(t,e){return cn.current.useMemo(t,e)};st.useReducer=function(t,e,r){return cn.current.useReducer(t,e,r)};st.useRef=function(t){return cn.current.useRef(t)};st.useState=function(t){return cn.current.useState(t)};st.useSyncExternalStore=function(t,e,r){return cn.current.useSyncExternalStore(t,e,r)};st.useTransition=function(){return cn.current.useTransition()};st.version="18.3.1";P2.exports=st;var I=P2.exports;const ue=Fg(I),Wg=Bg({__proto__:null,default:ue},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eI=I,tI=Symbol.for("react.element"),rI=Symbol.for("react.fragment"),nI=Object.prototype.hasOwnProperty,sI=eI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iI={key:!0,ref:!0,__self:!0,__source:!0};function H2(t,e,r){var n,s={},o=null,l=null;r!==void 0&&(o=""+r),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(n in e)nI.call(e,n)&&!iI.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:tI,type:t,key:o,ref:l,props:s,_owner:sI.current}}If.Fragment=rI;If.jsx=H2;If.jsxs=H2;k2.exports=If;var m=k2.exports,W2={exports:{}},Gn={},$2={exports:{}},G2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(Y,Z){var oe=Y.length;Y.push(Z);e:for(;0<oe;){var Ee=oe-1>>>1,de=Y[Ee];if(0<s(de,Z))Y[Ee]=Z,Y[oe]=de,oe=Ee;else break e}}function r(Y){return Y.length===0?null:Y[0]}function n(Y){if(Y.length===0)return null;var Z=Y[0],oe=Y.pop();if(oe!==Z){Y[0]=oe;e:for(var Ee=0,de=Y.length,ae=de>>>1;Ee<ae;){var fe=2*(Ee+1)-1,Ue=Y[fe],ve=fe+1,_e=Y[ve];if(0>s(Ue,oe))ve<de&&0>s(_e,Ue)?(Y[Ee]=_e,Y[ve]=oe,Ee=ve):(Y[Ee]=Ue,Y[fe]=oe,Ee=fe);else if(ve<de&&0>s(_e,oe))Y[Ee]=_e,Y[ve]=oe,Ee=ve;else break e}}return Z}function s(Y,Z){var oe=Y.sortIndex-Z.sortIndex;return oe!==0?oe:Y.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var p=[],h=[],x=1,w=null,_=3,b=!1,T=!1,E=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function A(Y){for(var Z=r(h);Z!==null;){if(Z.callback===null)n(h);else if(Z.startTime<=Y)n(h),Z.sortIndex=Z.expirationTime,e(p,Z);else break;Z=r(h)}}function M(Y){if(E=!1,A(Y),!T)if(r(p)!==null)T=!0,re(k);else{var Z=r(h);Z!==null&&X(M,Z.startTime-Y)}}function k(Y,Z){T=!1,E&&(E=!1,R(V),V=-1),b=!0;var oe=_;try{for(A(Z),w=r(p);w!==null&&(!(w.expirationTime>Z)||Y&&!ne());){var Ee=w.callback;if(typeof Ee=="function"){w.callback=null,_=w.priorityLevel;var de=Ee(w.expirationTime<=Z);Z=t.unstable_now(),typeof de=="function"?w.callback=de:w===r(p)&&n(p),A(Z)}else n(p);w=r(p)}if(w!==null)var ae=!0;else{var fe=r(h);fe!==null&&X(M,fe.startTime-Z),ae=!1}return ae}finally{w=null,_=oe,b=!1}}var B=!1,L=null,V=-1,U=5,J=-1;function ne(){return!(t.unstable_now()-J<U)}function K(){if(L!==null){var Y=t.unstable_now();J=Y;var Z=!0;try{Z=L(!0,Y)}finally{Z?se():(B=!1,L=null)}}else B=!1}var se;if(typeof S=="function")se=function(){S(K)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,H=G.port2;G.port1.onmessage=K,se=function(){H.postMessage(null)}}else se=function(){N(K,0)};function re(Y){L=Y,B||(B=!0,se())}function X(Y,Z){V=N(function(){Y(t.unstable_now())},Z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){T||b||(T=!0,re(k))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return _},t.unstable_getFirstCallbackNode=function(){return r(p)},t.unstable_next=function(Y){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var oe=_;_=Z;try{return Y()}finally{_=oe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,Z){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var oe=_;_=Y;try{return Z()}finally{_=oe}},t.unstable_scheduleCallback=function(Y,Z,oe){var Ee=t.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ee+oe:Ee):oe=Ee,Y){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=oe+de,Y={id:x++,callback:Z,priorityLevel:Y,startTime:oe,expirationTime:de,sortIndex:-1},oe>Ee?(Y.sortIndex=oe,e(h,Y),r(p)===null&&Y===r(h)&&(E?(R(V),V=-1):E=!0,X(M,oe-Ee))):(Y.sortIndex=de,e(p,Y),T||b||(T=!0,re(k))),Y},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(Y){var Z=_;return function(){var oe=_;_=Z;try{return Y.apply(this,arguments)}finally{_=oe}}}})(G2);$2.exports=G2;var oI=$2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aI=I,Hn=oI;function pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Y2=new Set,Eu={};function za(t,e){Jl(t,e),Jl(t+"Capture",e)}function Jl(t,e){for(Eu[t]=e,t=0;t<e.length;t++)Y2.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$1=Object.prototype.hasOwnProperty,lI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,fy={},py={};function cI(t){return $1.call(py,t)?!0:$1.call(fy,t)?!1:lI.test(t)?py[t]=!0:(fy[t]=!0,!1)}function uI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function dI(t,e,r,n){if(e===null||typeof e>"u"||uI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function un(t,e,r,n,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var Ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ur[t]=new un(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ur[e]=new un(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ur[t]=new un(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ur[t]=new un(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ur[t]=new un(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ur[t]=new un(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ur[t]=new un(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ur[t]=new un(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ur[t]=new un(t,5,!1,t.toLowerCase(),null,!1,!1)});var $g=/[\-:]([a-z])/g;function Gg(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace($g,Gg);Ur[e]=new un(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace($g,Gg);Ur[e]=new un(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace($g,Gg);Ur[e]=new un(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ur[t]=new un(t,1,!1,t.toLowerCase(),null,!1,!1)});Ur.xlinkHref=new un("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ur[t]=new un(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yg(t,e,r,n){var s=Ur.hasOwnProperty(e)?Ur[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(dI(e,r,s,n)&&(r=null),n||s===null?cI(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ji=aI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Md=Symbol.for("react.element"),ml=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),Xg=Symbol.for("react.strict_mode"),G1=Symbol.for("react.profiler"),X2=Symbol.for("react.provider"),q2=Symbol.for("react.context"),qg=Symbol.for("react.forward_ref"),Y1=Symbol.for("react.suspense"),X1=Symbol.for("react.suspense_list"),Kg=Symbol.for("react.memo"),Ki=Symbol.for("react.lazy"),K2=Symbol.for("react.offscreen"),gy=Symbol.iterator;function zc(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var Qt=Object.assign,F0;function Jc(t){if(F0===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);F0=e&&e[1]||""}return`
`+F0+t}var U0=!1;function z0(t,e){if(!t||U0)return"";U0=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var s=h.stack.split(`
`),o=n.stack.split(`
`),l=s.length-1,u=o.length-1;1<=l&&0<=u&&s[l]!==o[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==o[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==o[u]){var p=`
`+s[l].replace(" at new "," at ");return t.displayName&&p.includes("<anonymous>")&&(p=p.replace("<anonymous>",t.displayName)),p}while(1<=l&&0<=u);break}}}finally{U0=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Jc(t):""}function hI(t){switch(t.tag){case 5:return Jc(t.type);case 16:return Jc("Lazy");case 13:return Jc("Suspense");case 19:return Jc("SuspenseList");case 0:case 2:case 15:return t=z0(t.type,!1),t;case 11:return t=z0(t.type.render,!1),t;case 1:return t=z0(t.type,!0),t;default:return""}}function q1(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xl:return"Fragment";case ml:return"Portal";case G1:return"Profiler";case Xg:return"StrictMode";case Y1:return"Suspense";case X1:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case q2:return(t.displayName||"Context")+".Consumer";case X2:return(t._context.displayName||"Context")+".Provider";case qg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kg:return e=t.displayName||null,e!==null?e:q1(t.type)||"Memo";case Ki:e=t._payload,t=t._init;try{return q1(t(e))}catch{}}return null}function fI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q1(e);case 8:return e===Xg?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ao(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function pI(t){var e=Q2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,o=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function kd(t){t._valueTracker||(t._valueTracker=pI(t))}function Z2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Q2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function kh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function K1(t,e){var r=e.checked;return Qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function my(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ao(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function J2(t,e){e=e.checked,e!=null&&Yg(t,"checked",e,!1)}function Q1(t,e){J2(t,e);var r=Ao(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Z1(t,e.type,r):e.hasOwnProperty("defaultValue")&&Z1(t,e.type,Ao(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function xy(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Z1(t,e,r){(e!=="number"||kh(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var eu=Array.isArray;function Ml(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ao(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function J1(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(pe(91));return Qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yy(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(pe(92));if(eu(r)){if(1<r.length)throw Error(pe(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ao(r)}}function e_(t,e){var r=Ao(e.value),n=Ao(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function wy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function t_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?t_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Pd,r_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Pd=Pd||document.createElement("div"),Pd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Pd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gI=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(t){gI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),au[e]=au[t]})});function n_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||au.hasOwnProperty(t)&&au[t]?(""+e).trim():e+"px"}function s_(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=n_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var mI=Qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tp(t,e){if(e){if(mI[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(pe(62))}}function rp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var np=null;function Qg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var sp=null,kl=null,Pl=null;function vy(t){if(t=ad(t)){if(typeof sp!="function")throw Error(pe(280));var e=t.stateNode;e&&(e=Pf(e),sp(t.stateNode,t.type,e))}}function i_(t){kl?Pl?Pl.push(t):Pl=[t]:kl=t}function o_(){if(kl){var t=kl,e=Pl;if(Pl=kl=null,vy(t),e)for(t=0;t<e.length;t++)vy(e[t])}}function a_(t,e){return t(e)}function l_(){}var V0=!1;function c_(t,e,r){if(V0)return t(e,r);V0=!0;try{return a_(t,e,r)}finally{V0=!1,(kl!==null||Pl!==null)&&(l_(),o_())}}function Su(t,e){var r=t.stateNode;if(r===null)return null;var n=Pf(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(pe(231,e,typeof r));return r}var ip=!1;if(Ni)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){ip=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{ip=!1}function xI(t,e,r,n,s,o,l,u,p){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(x){this.onError(x)}}var lu=!1,Ph=null,Dh=!1,op=null,yI={onError:function(t){lu=!0,Ph=t}};function wI(t,e,r,n,s,o,l,u,p){lu=!1,Ph=null,xI.apply(yI,arguments)}function vI(t,e,r,n,s,o,l,u,p){if(wI.apply(this,arguments),lu){if(lu){var h=Ph;lu=!1,Ph=null}else throw Error(pe(198));Dh||(Dh=!0,op=h)}}function Va(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function u_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function _y(t){if(Va(t)!==t)throw Error(pe(188))}function _I(t){var e=t.alternate;if(!e){if(e=Va(t),e===null)throw Error(pe(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var o=s.alternate;if(o===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===r)return _y(s),t;if(o===n)return _y(s),e;o=o.sibling}throw Error(pe(188))}if(r.return!==n.return)r=s,n=o;else{for(var l=!1,u=s.child;u;){if(u===r){l=!0,r=s,n=o;break}if(u===n){l=!0,n=s,r=o;break}u=u.sibling}if(!l){for(u=o.child;u;){if(u===r){l=!0,r=o,n=s;break}if(u===n){l=!0,n=o,r=s;break}u=u.sibling}if(!l)throw Error(pe(189))}}if(r.alternate!==n)throw Error(pe(190))}if(r.tag!==3)throw Error(pe(188));return r.stateNode.current===r?t:e}function d_(t){return t=_I(t),t!==null?h_(t):null}function h_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=h_(t);if(e!==null)return e;t=t.sibling}return null}var f_=Hn.unstable_scheduleCallback,by=Hn.unstable_cancelCallback,bI=Hn.unstable_shouldYield,EI=Hn.unstable_requestPaint,hr=Hn.unstable_now,CI=Hn.unstable_getCurrentPriorityLevel,Zg=Hn.unstable_ImmediatePriority,p_=Hn.unstable_UserBlockingPriority,jh=Hn.unstable_NormalPriority,SI=Hn.unstable_LowPriority,g_=Hn.unstable_IdlePriority,Rf=null,si=null;function AI(t){if(si&&typeof si.onCommitFiberRoot=="function")try{si.onCommitFiberRoot(Rf,t,void 0,(t.current.flags&128)===128)}catch{}}var Ps=Math.clz32?Math.clz32:II,TI=Math.log,NI=Math.LN2;function II(t){return t>>>=0,t===0?32:31-(TI(t)/NI|0)|0}var Dd=64,jd=4194304;function tu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lh(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,o=t.pingedLanes,l=r&268435455;if(l!==0){var u=l&~s;u!==0?n=tu(u):(o&=l,o!==0&&(n=tu(o)))}else l=r&~s,l!==0?n=tu(l):o!==0&&(n=tu(o));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Ps(e),s=1<<r,n|=t[r],e&=~s;return n}function RI(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function OI(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Ps(o),u=1<<l,p=s[l];p===-1?(!(u&r)||u&n)&&(s[l]=RI(u,e)):p<=e&&(t.expiredLanes|=u),o&=~u}}function ap(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function m_(){var t=Dd;return Dd<<=1,!(Dd&4194240)&&(Dd=64),t}function H0(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function id(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ps(e),t[e]=r}function MI(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-Ps(r),o=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~o}}function Jg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Ps(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var Et=0;function x_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var y_,em,w_,v_,__,lp=!1,Ld=[],po=null,go=null,mo=null,Au=new Map,Tu=new Map,Zi=[],kI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ey(t,e){switch(t){case"focusin":case"focusout":po=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":mo=null;break;case"pointerover":case"pointerout":Au.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tu.delete(e.pointerId)}}function Hc(t,e,r,n,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[s]},e!==null&&(e=ad(e),e!==null&&em(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function PI(t,e,r,n,s){switch(e){case"focusin":return po=Hc(po,t,e,r,n,s),!0;case"dragenter":return go=Hc(go,t,e,r,n,s),!0;case"mouseover":return mo=Hc(mo,t,e,r,n,s),!0;case"pointerover":var o=s.pointerId;return Au.set(o,Hc(Au.get(o)||null,t,e,r,n,s)),!0;case"gotpointercapture":return o=s.pointerId,Tu.set(o,Hc(Tu.get(o)||null,t,e,r,n,s)),!0}return!1}function b_(t){var e=ca(t.target);if(e!==null){var r=Va(e);if(r!==null){if(e=r.tag,e===13){if(e=u_(r),e!==null){t.blockedOn=e,__(t.priority,function(){w_(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=cp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);np=n,r.target.dispatchEvent(n),np=null}else return e=ad(r),e!==null&&em(e),t.blockedOn=r,!1;e.shift()}return!0}function Cy(t,e,r){gh(t)&&r.delete(e)}function DI(){lp=!1,po!==null&&gh(po)&&(po=null),go!==null&&gh(go)&&(go=null),mo!==null&&gh(mo)&&(mo=null),Au.forEach(Cy),Tu.forEach(Cy)}function Wc(t,e){t.blockedOn===e&&(t.blockedOn=null,lp||(lp=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,DI)))}function Nu(t){function e(s){return Wc(s,t)}if(0<Ld.length){Wc(Ld[0],t);for(var r=1;r<Ld.length;r++){var n=Ld[r];n.blockedOn===t&&(n.blockedOn=null)}}for(po!==null&&Wc(po,t),go!==null&&Wc(go,t),mo!==null&&Wc(mo,t),Au.forEach(e),Tu.forEach(e),r=0;r<Zi.length;r++)n=Zi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Zi.length&&(r=Zi[0],r.blockedOn===null);)b_(r),r.blockedOn===null&&Zi.shift()}var Dl=ji.ReactCurrentBatchConfig,Bh=!0;function jI(t,e,r,n){var s=Et,o=Dl.transition;Dl.transition=null;try{Et=1,tm(t,e,r,n)}finally{Et=s,Dl.transition=o}}function LI(t,e,r,n){var s=Et,o=Dl.transition;Dl.transition=null;try{Et=4,tm(t,e,r,n)}finally{Et=s,Dl.transition=o}}function tm(t,e,r,n){if(Bh){var s=cp(t,e,r,n);if(s===null)J0(t,e,n,Fh,r),Ey(t,n);else if(PI(s,t,e,r,n))n.stopPropagation();else if(Ey(t,n),e&4&&-1<kI.indexOf(t)){for(;s!==null;){var o=ad(s);if(o!==null&&y_(o),o=cp(t,e,r,n),o===null&&J0(t,e,n,Fh,r),o===s)break;s=o}s!==null&&n.stopPropagation()}else J0(t,e,n,null,r)}}var Fh=null;function cp(t,e,r,n){if(Fh=null,t=Qg(n),t=ca(t),t!==null)if(e=Va(t),e===null)t=null;else if(r=e.tag,r===13){if(t=u_(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fh=t,null}function E_(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CI()){case Zg:return 1;case p_:return 4;case jh:case SI:return 16;case g_:return 536870912;default:return 16}default:return 16}}var oo=null,rm=null,mh=null;function C_(){if(mh)return mh;var t,e=rm,r=e.length,n,s="value"in oo?oo.value:oo.textContent,o=s.length;for(t=0;t<r&&e[t]===s[t];t++);var l=r-t;for(n=1;n<=l&&e[r-n]===s[o-n];n++);return mh=s.slice(t,1<n?1-n:void 0)}function xh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Bd(){return!0}function Sy(){return!1}function Yn(t){function e(r,n,s,o,l){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(r=t[u],this[u]=r?r(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Bd:Sy,this.isPropagationStopped=Sy,this}return Qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bd)},persist:function(){},isPersistent:Bd}),e}var vc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},nm=Yn(vc),od=Qt({},vc,{view:0,detail:0}),BI=Yn(od),W0,$0,$c,Of=Qt({},od,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$c&&($c&&t.type==="mousemove"?(W0=t.screenX-$c.screenX,$0=t.screenY-$c.screenY):$0=W0=0,$c=t),W0)},movementY:function(t){return"movementY"in t?t.movementY:$0}}),Ay=Yn(Of),FI=Qt({},Of,{dataTransfer:0}),UI=Yn(FI),zI=Qt({},od,{relatedTarget:0}),G0=Yn(zI),VI=Qt({},vc,{animationName:0,elapsedTime:0,pseudoElement:0}),HI=Yn(VI),WI=Qt({},vc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$I=Yn(WI),GI=Qt({},vc,{data:0}),Ty=Yn(GI),YI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function KI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=qI[t])?!!e[t]:!1}function sm(){return KI}var QI=Qt({},od,{key:function(t){if(t.key){var e=YI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sm,charCode:function(t){return t.type==="keypress"?xh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ZI=Yn(QI),JI=Qt({},Of,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ny=Yn(JI),e4=Qt({},od,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sm}),t4=Yn(e4),r4=Qt({},vc,{propertyName:0,elapsedTime:0,pseudoElement:0}),n4=Yn(r4),s4=Qt({},Of,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),i4=Yn(s4),o4=[9,13,27,32],im=Ni&&"CompositionEvent"in window,cu=null;Ni&&"documentMode"in document&&(cu=document.documentMode);var a4=Ni&&"TextEvent"in window&&!cu,S_=Ni&&(!im||cu&&8<cu&&11>=cu),Iy=" ",Ry=!1;function A_(t,e){switch(t){case"keyup":return o4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var yl=!1;function l4(t,e){switch(t){case"compositionend":return T_(e);case"keypress":return e.which!==32?null:(Ry=!0,Iy);case"textInput":return t=e.data,t===Iy&&Ry?null:t;default:return null}}function c4(t,e){if(yl)return t==="compositionend"||!im&&A_(t,e)?(t=C_(),mh=rm=oo=null,yl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return S_&&e.locale!=="ko"?null:e.data;default:return null}}var u4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u4[t.type]:e==="textarea"}function N_(t,e,r,n){i_(n),e=Uh(e,"onChange"),0<e.length&&(r=new nm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var uu=null,Iu=null;function d4(t){F_(t,0)}function Mf(t){var e=_l(t);if(Z2(e))return t}function h4(t,e){if(t==="change")return e}var I_=!1;if(Ni){var Y0;if(Ni){var X0="oninput"in document;if(!X0){var My=document.createElement("div");My.setAttribute("oninput","return;"),X0=typeof My.oninput=="function"}Y0=X0}else Y0=!1;I_=Y0&&(!document.documentMode||9<document.documentMode)}function ky(){uu&&(uu.detachEvent("onpropertychange",R_),Iu=uu=null)}function R_(t){if(t.propertyName==="value"&&Mf(Iu)){var e=[];N_(e,Iu,t,Qg(t)),c_(d4,e)}}function f4(t,e,r){t==="focusin"?(ky(),uu=e,Iu=r,uu.attachEvent("onpropertychange",R_)):t==="focusout"&&ky()}function p4(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mf(Iu)}function g4(t,e){if(t==="click")return Mf(e)}function m4(t,e){if(t==="input"||t==="change")return Mf(e)}function x4(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var js=typeof Object.is=="function"?Object.is:x4;function Ru(t,e){if(js(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!$1.call(e,s)||!js(t[s],e[s]))return!1}return!0}function Py(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dy(t,e){var r=Py(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Py(r)}}function O_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?O_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M_(){for(var t=window,e=kh();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=kh(t.document)}return e}function om(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y4(t){var e=M_(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&O_(r.ownerDocument.documentElement,r)){if(n!==null&&om(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,o=Math.min(n.start,s);n=n.end===void 0?o:Math.min(n.end,s),!t.extend&&o>n&&(s=n,n=o,o=s),s=Dy(r,o);var l=Dy(r,n);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>n?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var w4=Ni&&"documentMode"in document&&11>=document.documentMode,wl=null,up=null,du=null,dp=!1;function jy(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;dp||wl==null||wl!==kh(n)||(n=wl,"selectionStart"in n&&om(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),du&&Ru(du,n)||(du=n,n=Uh(up,"onSelect"),0<n.length&&(e=new nm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=wl)))}function Fd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var vl={animationend:Fd("Animation","AnimationEnd"),animationiteration:Fd("Animation","AnimationIteration"),animationstart:Fd("Animation","AnimationStart"),transitionend:Fd("Transition","TransitionEnd")},q0={},k_={};Ni&&(k_=document.createElement("div").style,"AnimationEvent"in window||(delete vl.animationend.animation,delete vl.animationiteration.animation,delete vl.animationstart.animation),"TransitionEvent"in window||delete vl.transitionend.transition);function kf(t){if(q0[t])return q0[t];if(!vl[t])return t;var e=vl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in k_)return q0[t]=e[r];return t}var P_=kf("animationend"),D_=kf("animationiteration"),j_=kf("animationstart"),L_=kf("transitionend"),B_=new Map,Ly="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Do(t,e){B_.set(t,e),za(e,[t])}for(var K0=0;K0<Ly.length;K0++){var Q0=Ly[K0],v4=Q0.toLowerCase(),_4=Q0[0].toUpperCase()+Q0.slice(1);Do(v4,"on"+_4)}Do(P_,"onAnimationEnd");Do(D_,"onAnimationIteration");Do(j_,"onAnimationStart");Do("dblclick","onDoubleClick");Do("focusin","onFocus");Do("focusout","onBlur");Do(L_,"onTransitionEnd");Jl("onMouseEnter",["mouseout","mouseover"]);Jl("onMouseLeave",["mouseout","mouseover"]);Jl("onPointerEnter",["pointerout","pointerover"]);Jl("onPointerLeave",["pointerout","pointerover"]);za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));za("onBeforeInput",["compositionend","keypress","textInput","paste"]);za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),b4=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function By(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,vI(n,e,void 0,t),t.currentTarget=null}function F_(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var o=void 0;if(e)for(var l=n.length-1;0<=l;l--){var u=n[l],p=u.instance,h=u.currentTarget;if(u=u.listener,p!==o&&s.isPropagationStopped())break e;By(s,u,h),o=p}else for(l=0;l<n.length;l++){if(u=n[l],p=u.instance,h=u.currentTarget,u=u.listener,p!==o&&s.isPropagationStopped())break e;By(s,u,h),o=p}}}if(Dh)throw t=op,Dh=!1,op=null,t}function Dt(t,e){var r=e[mp];r===void 0&&(r=e[mp]=new Set);var n=t+"__bubble";r.has(n)||(U_(e,t,2,!1),r.add(n))}function Z0(t,e,r){var n=0;e&&(n|=4),U_(r,t,n,e)}var Ud="_reactListening"+Math.random().toString(36).slice(2);function Ou(t){if(!t[Ud]){t[Ud]=!0,Y2.forEach(function(r){r!=="selectionchange"&&(b4.has(r)||Z0(r,!1,t),Z0(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ud]||(e[Ud]=!0,Z0("selectionchange",!1,e))}}function U_(t,e,r,n){switch(E_(e)){case 1:var s=jI;break;case 4:s=LI;break;default:s=tm}r=s.bind(null,e,r,t),s=void 0,!ip||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function J0(t,e,r,n,s){var o=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var u=n.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=n.return;l!==null;){var p=l.tag;if((p===3||p===4)&&(p=l.stateNode.containerInfo,p===s||p.nodeType===8&&p.parentNode===s))return;l=l.return}for(;u!==null;){if(l=ca(u),l===null)return;if(p=l.tag,p===5||p===6){n=o=l;continue e}u=u.parentNode}}n=n.return}c_(function(){var h=o,x=Qg(r),w=[];e:{var _=B_.get(t);if(_!==void 0){var b=nm,T=t;switch(t){case"keypress":if(xh(r)===0)break e;case"keydown":case"keyup":b=ZI;break;case"focusin":T="focus",b=G0;break;case"focusout":T="blur",b=G0;break;case"beforeblur":case"afterblur":b=G0;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Ay;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=UI;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=t4;break;case P_:case D_:case j_:b=HI;break;case L_:b=n4;break;case"scroll":b=BI;break;case"wheel":b=i4;break;case"copy":case"cut":case"paste":b=$I;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Ny}var E=(e&4)!==0,N=!E&&t==="scroll",R=E?_!==null?_+"Capture":null:_;E=[];for(var S=h,A;S!==null;){A=S;var M=A.stateNode;if(A.tag===5&&M!==null&&(A=M,R!==null&&(M=Su(S,R),M!=null&&E.push(Mu(S,M,A)))),N)break;S=S.return}0<E.length&&(_=new b(_,T,null,r,x),w.push({event:_,listeners:E}))}}if(!(e&7)){e:{if(_=t==="mouseover"||t==="pointerover",b=t==="mouseout"||t==="pointerout",_&&r!==np&&(T=r.relatedTarget||r.fromElement)&&(ca(T)||T[Ii]))break e;if((b||_)&&(_=x.window===x?x:(_=x.ownerDocument)?_.defaultView||_.parentWindow:window,b?(T=r.relatedTarget||r.toElement,b=h,T=T?ca(T):null,T!==null&&(N=Va(T),T!==N||T.tag!==5&&T.tag!==6)&&(T=null)):(b=null,T=h),b!==T)){if(E=Ay,M="onMouseLeave",R="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(E=Ny,M="onPointerLeave",R="onPointerEnter",S="pointer"),N=b==null?_:_l(b),A=T==null?_:_l(T),_=new E(M,S+"leave",b,r,x),_.target=N,_.relatedTarget=A,M=null,ca(x)===h&&(E=new E(R,S+"enter",T,r,x),E.target=A,E.relatedTarget=N,M=E),N=M,b&&T)t:{for(E=b,R=T,S=0,A=E;A;A=sl(A))S++;for(A=0,M=R;M;M=sl(M))A++;for(;0<S-A;)E=sl(E),S--;for(;0<A-S;)R=sl(R),A--;for(;S--;){if(E===R||R!==null&&E===R.alternate)break t;E=sl(E),R=sl(R)}E=null}else E=null;b!==null&&Fy(w,_,b,E,!1),T!==null&&N!==null&&Fy(w,N,T,E,!0)}}e:{if(_=h?_l(h):window,b=_.nodeName&&_.nodeName.toLowerCase(),b==="select"||b==="input"&&_.type==="file")var k=h4;else if(Oy(_))if(I_)k=m4;else{k=p4;var B=f4}else(b=_.nodeName)&&b.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(k=g4);if(k&&(k=k(t,h))){N_(w,k,r,x);break e}B&&B(t,_,h),t==="focusout"&&(B=_._wrapperState)&&B.controlled&&_.type==="number"&&Z1(_,"number",_.value)}switch(B=h?_l(h):window,t){case"focusin":(Oy(B)||B.contentEditable==="true")&&(wl=B,up=h,du=null);break;case"focusout":du=up=wl=null;break;case"mousedown":dp=!0;break;case"contextmenu":case"mouseup":case"dragend":dp=!1,jy(w,r,x);break;case"selectionchange":if(w4)break;case"keydown":case"keyup":jy(w,r,x)}var L;if(im)e:{switch(t){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else yl?A_(t,r)&&(V="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(V="onCompositionStart");V&&(S_&&r.locale!=="ko"&&(yl||V!=="onCompositionStart"?V==="onCompositionEnd"&&yl&&(L=C_()):(oo=x,rm="value"in oo?oo.value:oo.textContent,yl=!0)),B=Uh(h,V),0<B.length&&(V=new Ty(V,t,null,r,x),w.push({event:V,listeners:B}),L?V.data=L:(L=T_(r),L!==null&&(V.data=L)))),(L=a4?l4(t,r):c4(t,r))&&(h=Uh(h,"onBeforeInput"),0<h.length&&(x=new Ty("onBeforeInput","beforeinput",null,r,x),w.push({event:x,listeners:h}),x.data=L))}F_(w,e)})}function Mu(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Uh(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Su(t,r),o!=null&&n.unshift(Mu(t,o,s)),o=Su(t,e),o!=null&&n.push(Mu(t,o,s))),t=t.return}return n}function sl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Fy(t,e,r,n,s){for(var o=e._reactName,l=[];r!==null&&r!==n;){var u=r,p=u.alternate,h=u.stateNode;if(p!==null&&p===n)break;u.tag===5&&h!==null&&(u=h,s?(p=Su(r,o),p!=null&&l.unshift(Mu(r,p,u))):s||(p=Su(r,o),p!=null&&l.push(Mu(r,p,u)))),r=r.return}l.length!==0&&t.push({event:e,listeners:l})}var E4=/\r\n?/g,C4=/\u0000|\uFFFD/g;function Uy(t){return(typeof t=="string"?t:""+t).replace(E4,`
`).replace(C4,"")}function zd(t,e,r){if(e=Uy(e),Uy(t)!==e&&r)throw Error(pe(425))}function zh(){}var hp=null,fp=null;function pp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var gp=typeof setTimeout=="function"?setTimeout:void 0,S4=typeof clearTimeout=="function"?clearTimeout:void 0,zy=typeof Promise=="function"?Promise:void 0,A4=typeof queueMicrotask=="function"?queueMicrotask:typeof zy<"u"?function(t){return zy.resolve(null).then(t).catch(T4)}:gp;function T4(t){setTimeout(function(){throw t})}function e1(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Nu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Nu(e)}function xo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var _c=Math.random().toString(36).slice(2),ei="__reactFiber$"+_c,ku="__reactProps$"+_c,Ii="__reactContainer$"+_c,mp="__reactEvents$"+_c,N4="__reactListeners$"+_c,I4="__reactHandles$"+_c;function ca(t){var e=t[ei];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ii]||r[ei]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Vy(t);t!==null;){if(r=t[ei])return r;t=Vy(t)}return e}t=r,r=t.parentNode}return null}function ad(t){return t=t[ei]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function _l(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(pe(33))}function Pf(t){return t[ku]||null}var xp=[],bl=-1;function jo(t){return{current:t}}function Lt(t){0>bl||(t.current=xp[bl],xp[bl]=null,bl--)}function Mt(t,e){bl++,xp[bl]=t.current,t.current=e}var To={},Zr=jo(To),wn=jo(!1),Ta=To;function ec(t,e){var r=t.type.contextTypes;if(!r)return To;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in r)s[o]=e[o];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function vn(t){return t=t.childContextTypes,t!=null}function Vh(){Lt(wn),Lt(Zr)}function Hy(t,e,r){if(Zr.current!==To)throw Error(pe(168));Mt(Zr,e),Mt(wn,r)}function z_(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(pe(108,fI(t)||"Unknown",s));return Qt({},r,n)}function Hh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||To,Ta=Zr.current,Mt(Zr,t),Mt(wn,wn.current),!0}function Wy(t,e,r){var n=t.stateNode;if(!n)throw Error(pe(169));r?(t=z_(t,e,Ta),n.__reactInternalMemoizedMergedChildContext=t,Lt(wn),Lt(Zr),Mt(Zr,t)):Lt(wn),Mt(wn,r)}var wi=null,Df=!1,t1=!1;function V_(t){wi===null?wi=[t]:wi.push(t)}function R4(t){Df=!0,V_(t)}function Lo(){if(!t1&&wi!==null){t1=!0;var t=0,e=Et;try{var r=wi;for(Et=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}wi=null,Df=!1}catch(s){throw wi!==null&&(wi=wi.slice(t+1)),f_(Zg,Lo),s}finally{Et=e,t1=!1}}return null}var El=[],Cl=0,Wh=null,$h=0,ts=[],rs=0,Na=null,bi=1,Ei="";function na(t,e){El[Cl++]=$h,El[Cl++]=Wh,Wh=t,$h=e}function H_(t,e,r){ts[rs++]=bi,ts[rs++]=Ei,ts[rs++]=Na,Na=t;var n=bi;t=Ei;var s=32-Ps(n)-1;n&=~(1<<s),r+=1;var o=32-Ps(e)+s;if(30<o){var l=s-s%5;o=(n&(1<<l)-1).toString(32),n>>=l,s-=l,bi=1<<32-Ps(e)+s|r<<s|n,Ei=o+t}else bi=1<<o|r<<s|n,Ei=t}function am(t){t.return!==null&&(na(t,1),H_(t,1,0))}function lm(t){for(;t===Wh;)Wh=El[--Cl],El[Cl]=null,$h=El[--Cl],El[Cl]=null;for(;t===Na;)Na=ts[--rs],ts[rs]=null,Ei=ts[--rs],ts[rs]=null,bi=ts[--rs],ts[rs]=null}var Un=null,Bn=null,Vt=!1,Os=null;function W_(t,e){var r=os(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function $y(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Un=t,Bn=xo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Un=t,Bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Na!==null?{id:bi,overflow:Ei}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=os(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Un=t,Bn=null,!0):!1;default:return!1}}function yp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function wp(t){if(Vt){var e=Bn;if(e){var r=e;if(!$y(t,e)){if(yp(t))throw Error(pe(418));e=xo(r.nextSibling);var n=Un;e&&$y(t,e)?W_(n,r):(t.flags=t.flags&-4097|2,Vt=!1,Un=t)}}else{if(yp(t))throw Error(pe(418));t.flags=t.flags&-4097|2,Vt=!1,Un=t}}}function Gy(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Un=t}function Vd(t){if(t!==Un)return!1;if(!Vt)return Gy(t),Vt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!pp(t.type,t.memoizedProps)),e&&(e=Bn)){if(yp(t))throw $_(),Error(pe(418));for(;e;)W_(t,e),e=xo(e.nextSibling)}if(Gy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Bn=xo(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Bn=null}}else Bn=Un?xo(t.stateNode.nextSibling):null;return!0}function $_(){for(var t=Bn;t;)t=xo(t.nextSibling)}function tc(){Bn=Un=null,Vt=!1}function cm(t){Os===null?Os=[t]:Os.push(t)}var O4=ji.ReactCurrentBatchConfig;function Gc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(pe(309));var n=r.stateNode}if(!n)throw Error(pe(147,t));var s=n,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var u=s.refs;l===null?delete u[o]:u[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(pe(284));if(!r._owner)throw Error(pe(290,t))}return t}function Hd(t,e){throw t=Object.prototype.toString.call(e),Error(pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yy(t){var e=t._init;return e(t._payload)}function G_(t){function e(R,S){if(t){var A=R.deletions;A===null?(R.deletions=[S],R.flags|=16):A.push(S)}}function r(R,S){if(!t)return null;for(;S!==null;)e(R,S),S=S.sibling;return null}function n(R,S){for(R=new Map;S!==null;)S.key!==null?R.set(S.key,S):R.set(S.index,S),S=S.sibling;return R}function s(R,S){return R=_o(R,S),R.index=0,R.sibling=null,R}function o(R,S,A){return R.index=A,t?(A=R.alternate,A!==null?(A=A.index,A<S?(R.flags|=2,S):A):(R.flags|=2,S)):(R.flags|=1048576,S)}function l(R){return t&&R.alternate===null&&(R.flags|=2),R}function u(R,S,A,M){return S===null||S.tag!==6?(S=l1(A,R.mode,M),S.return=R,S):(S=s(S,A),S.return=R,S)}function p(R,S,A,M){var k=A.type;return k===xl?x(R,S,A.props.children,M,A.key):S!==null&&(S.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ki&&Yy(k)===S.type)?(M=s(S,A.props),M.ref=Gc(R,S,A),M.return=R,M):(M=Ch(A.type,A.key,A.props,null,R.mode,M),M.ref=Gc(R,S,A),M.return=R,M)}function h(R,S,A,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==A.containerInfo||S.stateNode.implementation!==A.implementation?(S=c1(A,R.mode,M),S.return=R,S):(S=s(S,A.children||[]),S.return=R,S)}function x(R,S,A,M,k){return S===null||S.tag!==7?(S=ba(A,R.mode,M,k),S.return=R,S):(S=s(S,A),S.return=R,S)}function w(R,S,A){if(typeof S=="string"&&S!==""||typeof S=="number")return S=l1(""+S,R.mode,A),S.return=R,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Md:return A=Ch(S.type,S.key,S.props,null,R.mode,A),A.ref=Gc(R,null,S),A.return=R,A;case ml:return S=c1(S,R.mode,A),S.return=R,S;case Ki:var M=S._init;return w(R,M(S._payload),A)}if(eu(S)||zc(S))return S=ba(S,R.mode,A,null),S.return=R,S;Hd(R,S)}return null}function _(R,S,A,M){var k=S!==null?S.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return k!==null?null:u(R,S,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Md:return A.key===k?p(R,S,A,M):null;case ml:return A.key===k?h(R,S,A,M):null;case Ki:return k=A._init,_(R,S,k(A._payload),M)}if(eu(A)||zc(A))return k!==null?null:x(R,S,A,M,null);Hd(R,A)}return null}function b(R,S,A,M,k){if(typeof M=="string"&&M!==""||typeof M=="number")return R=R.get(A)||null,u(S,R,""+M,k);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case Md:return R=R.get(M.key===null?A:M.key)||null,p(S,R,M,k);case ml:return R=R.get(M.key===null?A:M.key)||null,h(S,R,M,k);case Ki:var B=M._init;return b(R,S,A,B(M._payload),k)}if(eu(M)||zc(M))return R=R.get(A)||null,x(S,R,M,k,null);Hd(S,M)}return null}function T(R,S,A,M){for(var k=null,B=null,L=S,V=S=0,U=null;L!==null&&V<A.length;V++){L.index>V?(U=L,L=null):U=L.sibling;var J=_(R,L,A[V],M);if(J===null){L===null&&(L=U);break}t&&L&&J.alternate===null&&e(R,L),S=o(J,S,V),B===null?k=J:B.sibling=J,B=J,L=U}if(V===A.length)return r(R,L),Vt&&na(R,V),k;if(L===null){for(;V<A.length;V++)L=w(R,A[V],M),L!==null&&(S=o(L,S,V),B===null?k=L:B.sibling=L,B=L);return Vt&&na(R,V),k}for(L=n(R,L);V<A.length;V++)U=b(L,R,V,A[V],M),U!==null&&(t&&U.alternate!==null&&L.delete(U.key===null?V:U.key),S=o(U,S,V),B===null?k=U:B.sibling=U,B=U);return t&&L.forEach(function(ne){return e(R,ne)}),Vt&&na(R,V),k}function E(R,S,A,M){var k=zc(A);if(typeof k!="function")throw Error(pe(150));if(A=k.call(A),A==null)throw Error(pe(151));for(var B=k=null,L=S,V=S=0,U=null,J=A.next();L!==null&&!J.done;V++,J=A.next()){L.index>V?(U=L,L=null):U=L.sibling;var ne=_(R,L,J.value,M);if(ne===null){L===null&&(L=U);break}t&&L&&ne.alternate===null&&e(R,L),S=o(ne,S,V),B===null?k=ne:B.sibling=ne,B=ne,L=U}if(J.done)return r(R,L),Vt&&na(R,V),k;if(L===null){for(;!J.done;V++,J=A.next())J=w(R,J.value,M),J!==null&&(S=o(J,S,V),B===null?k=J:B.sibling=J,B=J);return Vt&&na(R,V),k}for(L=n(R,L);!J.done;V++,J=A.next())J=b(L,R,V,J.value,M),J!==null&&(t&&J.alternate!==null&&L.delete(J.key===null?V:J.key),S=o(J,S,V),B===null?k=J:B.sibling=J,B=J);return t&&L.forEach(function(K){return e(R,K)}),Vt&&na(R,V),k}function N(R,S,A,M){if(typeof A=="object"&&A!==null&&A.type===xl&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case Md:e:{for(var k=A.key,B=S;B!==null;){if(B.key===k){if(k=A.type,k===xl){if(B.tag===7){r(R,B.sibling),S=s(B,A.props.children),S.return=R,R=S;break e}}else if(B.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Ki&&Yy(k)===B.type){r(R,B.sibling),S=s(B,A.props),S.ref=Gc(R,B,A),S.return=R,R=S;break e}r(R,B);break}else e(R,B);B=B.sibling}A.type===xl?(S=ba(A.props.children,R.mode,M,A.key),S.return=R,R=S):(M=Ch(A.type,A.key,A.props,null,R.mode,M),M.ref=Gc(R,S,A),M.return=R,R=M)}return l(R);case ml:e:{for(B=A.key;S!==null;){if(S.key===B)if(S.tag===4&&S.stateNode.containerInfo===A.containerInfo&&S.stateNode.implementation===A.implementation){r(R,S.sibling),S=s(S,A.children||[]),S.return=R,R=S;break e}else{r(R,S);break}else e(R,S);S=S.sibling}S=c1(A,R.mode,M),S.return=R,R=S}return l(R);case Ki:return B=A._init,N(R,S,B(A._payload),M)}if(eu(A))return T(R,S,A,M);if(zc(A))return E(R,S,A,M);Hd(R,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,S!==null&&S.tag===6?(r(R,S.sibling),S=s(S,A),S.return=R,R=S):(r(R,S),S=l1(A,R.mode,M),S.return=R,R=S),l(R)):r(R,S)}return N}var rc=G_(!0),Y_=G_(!1),Gh=jo(null),Yh=null,Sl=null,um=null;function dm(){um=Sl=Yh=null}function hm(t){var e=Gh.current;Lt(Gh),t._currentValue=e}function vp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function jl(t,e){Yh=t,um=Sl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(yn=!0),t.firstContext=null)}function ds(t){var e=t._currentValue;if(um!==t)if(t={context:t,memoizedValue:e,next:null},Sl===null){if(Yh===null)throw Error(pe(308));Sl=t,Yh.dependencies={lanes:0,firstContext:t}}else Sl=Sl.next=t;return e}var ua=null;function fm(t){ua===null?ua=[t]:ua.push(t)}function X_(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,fm(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ri(t,n)}function Ri(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Qi=!1;function pm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function q_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ti(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function yo(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ft&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ri(t,r)}return s=n.interleaved,s===null?(e.next=e,fm(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ri(t,r)}function yh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jg(t,r)}}function Xy(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?s=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?s=o=e:o=o.next=e}else s=o=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xh(t,e,r,n){var s=t.updateQueue;Qi=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var p=u,h=p.next;p.next=null,l===null?o=h:l.next=h,l=p;var x=t.alternate;x!==null&&(x=x.updateQueue,u=x.lastBaseUpdate,u!==l&&(u===null?x.firstBaseUpdate=h:u.next=h,x.lastBaseUpdate=p))}if(o!==null){var w=s.baseState;l=0,x=h=p=null,u=o;do{var _=u.lane,b=u.eventTime;if((n&_)===_){x!==null&&(x=x.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var T=t,E=u;switch(_=e,b=r,E.tag){case 1:if(T=E.payload,typeof T=="function"){w=T.call(b,w,_);break e}w=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=E.payload,_=typeof T=="function"?T.call(b,w,_):T,_==null)break e;w=Qt({},w,_);break e;case 2:Qi=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,_=s.effects,_===null?s.effects=[u]:_.push(u))}else b={eventTime:b,lane:_,tag:u.tag,payload:u.payload,callback:u.callback,next:null},x===null?(h=x=b,p=w):x=x.next=b,l|=_;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;_=u,u=_.next,_.next=null,s.lastBaseUpdate=_,s.shared.pending=null}}while(!0);if(x===null&&(p=w),s.baseState=p,s.firstBaseUpdate=h,s.lastBaseUpdate=x,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Ra|=l,t.lanes=l,t.memoizedState=w}}function qy(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(pe(191,s));s.call(n)}}}var ld={},ii=jo(ld),Pu=jo(ld),Du=jo(ld);function da(t){if(t===ld)throw Error(pe(174));return t}function gm(t,e){switch(Mt(Du,e),Mt(Pu,t),Mt(ii,ld),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ep(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ep(e,t)}Lt(ii),Mt(ii,e)}function nc(){Lt(ii),Lt(Pu),Lt(Du)}function K_(t){da(Du.current);var e=da(ii.current),r=ep(e,t.type);e!==r&&(Mt(Pu,t),Mt(ii,r))}function mm(t){Pu.current===t&&(Lt(ii),Lt(Pu))}var Gt=jo(0);function qh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var r1=[];function xm(){for(var t=0;t<r1.length;t++)r1[t]._workInProgressVersionPrimary=null;r1.length=0}var wh=ji.ReactCurrentDispatcher,n1=ji.ReactCurrentBatchConfig,Ia=0,Kt=null,Cr=null,Rr=null,Kh=!1,hu=!1,ju=0,M4=0;function $r(){throw Error(pe(321))}function ym(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!js(t[r],e[r]))return!1;return!0}function wm(t,e,r,n,s,o){if(Ia=o,Kt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wh.current=t===null||t.memoizedState===null?j4:L4,t=r(n,s),hu){o=0;do{if(hu=!1,ju=0,25<=o)throw Error(pe(301));o+=1,Rr=Cr=null,e.updateQueue=null,wh.current=B4,t=r(n,s)}while(hu)}if(wh.current=Qh,e=Cr!==null&&Cr.next!==null,Ia=0,Rr=Cr=Kt=null,Kh=!1,e)throw Error(pe(300));return t}function vm(){var t=ju!==0;return ju=0,t}function Xs(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Rr===null?Kt.memoizedState=Rr=t:Rr=Rr.next=t,Rr}function hs(){if(Cr===null){var t=Kt.alternate;t=t!==null?t.memoizedState:null}else t=Cr.next;var e=Rr===null?Kt.memoizedState:Rr.next;if(e!==null)Rr=e,Cr=t;else{if(t===null)throw Error(pe(310));Cr=t,t={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},Rr===null?Kt.memoizedState=Rr=t:Rr=Rr.next=t}return Rr}function Lu(t,e){return typeof e=="function"?e(t):e}function s1(t){var e=hs(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=Cr,s=n.baseQueue,o=r.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}n.baseQueue=s=o,r.pending=null}if(s!==null){o=s.next,n=n.baseState;var u=l=null,p=null,h=o;do{var x=h.lane;if((Ia&x)===x)p!==null&&(p=p.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var w={lane:x,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};p===null?(u=p=w,l=n):p=p.next=w,Kt.lanes|=x,Ra|=x}h=h.next}while(h!==null&&h!==o);p===null?l=n:p.next=u,js(n,e.memoizedState)||(yn=!0),e.memoizedState=n,e.baseState=l,e.baseQueue=p,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do o=s.lane,Kt.lanes|=o,Ra|=o,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function i1(t){var e=hs(),r=e.queue;if(r===null)throw Error(pe(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,o=e.memoizedState;if(s!==null){r.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);js(o,e.memoizedState)||(yn=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),r.lastRenderedState=o}return[o,n]}function Q_(){}function Z_(t,e){var r=Kt,n=hs(),s=e(),o=!js(n.memoizedState,s);if(o&&(n.memoizedState=s,yn=!0),n=n.queue,_m(tb.bind(null,r,n,t),[t]),n.getSnapshot!==e||o||Rr!==null&&Rr.memoizedState.tag&1){if(r.flags|=2048,Bu(9,eb.bind(null,r,n,s,e),void 0,null),Or===null)throw Error(pe(349));Ia&30||J_(r,e,s)}return s}function J_(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function eb(t,e,r,n){e.value=r,e.getSnapshot=n,rb(e)&&nb(t)}function tb(t,e,r){return r(function(){rb(e)&&nb(t)})}function rb(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!js(t,r)}catch{return!0}}function nb(t){var e=Ri(t,1);e!==null&&Ds(e,t,1,-1)}function Ky(t){var e=Xs();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lu,lastRenderedState:t},e.queue=t,t=t.dispatch=D4.bind(null,Kt,t),[e.memoizedState,t]}function Bu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Kt.updateQueue,e===null?(e={lastEffect:null,stores:null},Kt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function sb(){return hs().memoizedState}function vh(t,e,r,n){var s=Xs();Kt.flags|=t,s.memoizedState=Bu(1|e,r,void 0,n===void 0?null:n)}function jf(t,e,r,n){var s=hs();n=n===void 0?null:n;var o=void 0;if(Cr!==null){var l=Cr.memoizedState;if(o=l.destroy,n!==null&&ym(n,l.deps)){s.memoizedState=Bu(e,r,o,n);return}}Kt.flags|=t,s.memoizedState=Bu(1|e,r,o,n)}function Qy(t,e){return vh(8390656,8,t,e)}function _m(t,e){return jf(2048,8,t,e)}function ib(t,e){return jf(4,2,t,e)}function ob(t,e){return jf(4,4,t,e)}function ab(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function lb(t,e,r){return r=r!=null?r.concat([t]):null,jf(4,4,ab.bind(null,e,t),r)}function bm(){}function cb(t,e){var r=hs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ym(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function ub(t,e){var r=hs();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&ym(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function db(t,e,r){return Ia&21?(js(r,e)||(r=m_(),Kt.lanes|=r,Ra|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,yn=!0),t.memoizedState=r)}function k4(t,e){var r=Et;Et=r!==0&&4>r?r:4,t(!0);var n=n1.transition;n1.transition={};try{t(!1),e()}finally{Et=r,n1.transition=n}}function hb(){return hs().memoizedState}function P4(t,e,r){var n=vo(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},fb(t))pb(e,r);else if(r=X_(t,e,r,n),r!==null){var s=ln();Ds(r,t,n,s),gb(r,e,n)}}function D4(t,e,r){var n=vo(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(fb(t))pb(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,u=o(l,r);if(s.hasEagerState=!0,s.eagerState=u,js(u,l)){var p=e.interleaved;p===null?(s.next=s,fm(e)):(s.next=p.next,p.next=s),e.interleaved=s;return}}catch{}finally{}r=X_(t,e,s,n),r!==null&&(s=ln(),Ds(r,t,n,s),gb(r,e,n))}}function fb(t){var e=t.alternate;return t===Kt||e!==null&&e===Kt}function pb(t,e){hu=Kh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gb(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Jg(t,r)}}var Qh={readContext:ds,useCallback:$r,useContext:$r,useEffect:$r,useImperativeHandle:$r,useInsertionEffect:$r,useLayoutEffect:$r,useMemo:$r,useReducer:$r,useRef:$r,useState:$r,useDebugValue:$r,useDeferredValue:$r,useTransition:$r,useMutableSource:$r,useSyncExternalStore:$r,useId:$r,unstable_isNewReconciler:!1},j4={readContext:ds,useCallback:function(t,e){return Xs().memoizedState=[t,e===void 0?null:e],t},useContext:ds,useEffect:Qy,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,vh(4194308,4,ab.bind(null,e,t),r)},useLayoutEffect:function(t,e){return vh(4194308,4,t,e)},useInsertionEffect:function(t,e){return vh(4,2,t,e)},useMemo:function(t,e){var r=Xs();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Xs();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=P4.bind(null,Kt,t),[n.memoizedState,t]},useRef:function(t){var e=Xs();return t={current:t},e.memoizedState=t},useState:Ky,useDebugValue:bm,useDeferredValue:function(t){return Xs().memoizedState=t},useTransition:function(){var t=Ky(!1),e=t[0];return t=k4.bind(null,t[1]),Xs().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Kt,s=Xs();if(Vt){if(r===void 0)throw Error(pe(407));r=r()}else{if(r=e(),Or===null)throw Error(pe(349));Ia&30||J_(n,e,r)}s.memoizedState=r;var o={value:r,getSnapshot:e};return s.queue=o,Qy(tb.bind(null,n,o,t),[t]),n.flags|=2048,Bu(9,eb.bind(null,n,o,r,e),void 0,null),r},useId:function(){var t=Xs(),e=Or.identifierPrefix;if(Vt){var r=Ei,n=bi;r=(n&~(1<<32-Ps(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ju++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=M4++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},L4={readContext:ds,useCallback:cb,useContext:ds,useEffect:_m,useImperativeHandle:lb,useInsertionEffect:ib,useLayoutEffect:ob,useMemo:ub,useReducer:s1,useRef:sb,useState:function(){return s1(Lu)},useDebugValue:bm,useDeferredValue:function(t){var e=hs();return db(e,Cr.memoizedState,t)},useTransition:function(){var t=s1(Lu)[0],e=hs().memoizedState;return[t,e]},useMutableSource:Q_,useSyncExternalStore:Z_,useId:hb,unstable_isNewReconciler:!1},B4={readContext:ds,useCallback:cb,useContext:ds,useEffect:_m,useImperativeHandle:lb,useInsertionEffect:ib,useLayoutEffect:ob,useMemo:ub,useReducer:i1,useRef:sb,useState:function(){return i1(Lu)},useDebugValue:bm,useDeferredValue:function(t){var e=hs();return Cr===null?e.memoizedState=t:db(e,Cr.memoizedState,t)},useTransition:function(){var t=i1(Lu)[0],e=hs().memoizedState;return[t,e]},useMutableSource:Q_,useSyncExternalStore:Z_,useId:hb,unstable_isNewReconciler:!1};function Es(t,e){if(t&&t.defaultProps){e=Qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function _p(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Lf={isMounted:function(t){return(t=t._reactInternals)?Va(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ln(),s=vo(t),o=Ti(n,s);o.payload=e,r!=null&&(o.callback=r),e=yo(t,o,s),e!==null&&(Ds(e,t,s,n),yh(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ln(),s=vo(t),o=Ti(n,s);o.tag=1,o.payload=e,r!=null&&(o.callback=r),e=yo(t,o,s),e!==null&&(Ds(e,t,s,n),yh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ln(),n=vo(t),s=Ti(r,n);s.tag=2,e!=null&&(s.callback=e),e=yo(t,s,n),e!==null&&(Ds(e,t,n,r),yh(e,t,n))}};function Zy(t,e,r,n,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,o,l):e.prototype&&e.prototype.isPureReactComponent?!Ru(r,n)||!Ru(s,o):!0}function mb(t,e,r){var n=!1,s=To,o=e.contextType;return typeof o=="object"&&o!==null?o=ds(o):(s=vn(e)?Ta:Zr.current,n=e.contextTypes,o=(n=n!=null)?ec(t,s):To),e=new e(r,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Lf,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function Jy(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Lf.enqueueReplaceState(e,e.state,null)}function bp(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},pm(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=ds(o):(o=vn(e)?Ta:Zr.current,s.context=ec(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(_p(t,e,o,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Lf.enqueueReplaceState(s,s.state,null),Xh(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sc(t,e){try{var r="",n=e;do r+=hI(n),n=n.return;while(n);var s=r}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function o1(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ep(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var F4=typeof WeakMap=="function"?WeakMap:Map;function xb(t,e,r){r=Ti(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Jh||(Jh=!0,kp=n),Ep(t,e)},r}function yb(t,e,r){r=Ti(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Ep(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){Ep(t,e),typeof n!="function"&&(wo===null?wo=new Set([this]):wo.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),r}function ew(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new F4;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=J4.bind(null,t,e,r),e.then(t,t))}function tw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function rw(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ti(-1,1),e.tag=2,yo(r,e,1))),r.lanes|=1),t)}var U4=ji.ReactCurrentOwner,yn=!1;function nn(t,e,r,n){e.child=t===null?Y_(e,null,r,n):rc(e,t.child,r,n)}function nw(t,e,r,n,s){r=r.render;var o=e.ref;return jl(e,s),n=wm(t,e,r,n,o,s),r=vm(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Oi(t,e,s)):(Vt&&r&&am(e),e.flags|=1,nn(t,e,n,s),e.child)}function sw(t,e,r,n,s){if(t===null){var o=r.type;return typeof o=="function"&&!Rm(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=o,wb(t,e,o,n,s)):(t=Ch(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ru,r(l,n)&&t.ref===e.ref)return Oi(t,e,s)}return e.flags|=1,t=_o(o,n),t.ref=e.ref,t.return=e,e.child=t}function wb(t,e,r,n,s){if(t!==null){var o=t.memoizedProps;if(Ru(o,n)&&t.ref===e.ref)if(yn=!1,e.pendingProps=n=o,(t.lanes&s)!==0)t.flags&131072&&(yn=!0);else return e.lanes=t.lanes,Oi(t,e,s)}return Cp(t,e,r,n,s)}function vb(t,e,r){var n=e.pendingProps,s=n.children,o=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(Tl,On),On|=r;else{if(!(r&1073741824))return t=o!==null?o.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Mt(Tl,On),On|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Mt(Tl,On),On|=n}else o!==null?(n=o.baseLanes|r,e.memoizedState=null):n=r,Mt(Tl,On),On|=n;return nn(t,e,s,r),e.child}function _b(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Cp(t,e,r,n,s){var o=vn(r)?Ta:Zr.current;return o=ec(e,o),jl(e,s),r=wm(t,e,r,n,o,s),n=vm(),t!==null&&!yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Oi(t,e,s)):(Vt&&n&&am(e),e.flags|=1,nn(t,e,r,s),e.child)}function iw(t,e,r,n,s){if(vn(r)){var o=!0;Hh(e)}else o=!1;if(jl(e,s),e.stateNode===null)_h(t,e),mb(e,r,n),bp(e,r,n,s),n=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var p=l.context,h=r.contextType;typeof h=="object"&&h!==null?h=ds(h):(h=vn(r)?Ta:Zr.current,h=ec(e,h));var x=r.getDerivedStateFromProps,w=typeof x=="function"||typeof l.getSnapshotBeforeUpdate=="function";w||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==n||p!==h)&&Jy(e,l,n,h),Qi=!1;var _=e.memoizedState;l.state=_,Xh(e,n,l,s),p=e.memoizedState,u!==n||_!==p||wn.current||Qi?(typeof x=="function"&&(_p(e,r,x,n),p=e.memoizedState),(u=Qi||Zy(e,r,u,n,_,p,h))?(w||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=p),l.props=n,l.state=p,l.context=h,n=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{l=e.stateNode,q_(t,e),u=e.memoizedProps,h=e.type===e.elementType?u:Es(e.type,u),l.props=h,w=e.pendingProps,_=l.context,p=r.contextType,typeof p=="object"&&p!==null?p=ds(p):(p=vn(r)?Ta:Zr.current,p=ec(e,p));var b=r.getDerivedStateFromProps;(x=typeof b=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==w||_!==p)&&Jy(e,l,n,p),Qi=!1,_=e.memoizedState,l.state=_,Xh(e,n,l,s);var T=e.memoizedState;u!==w||_!==T||wn.current||Qi?(typeof b=="function"&&(_p(e,r,b,n),T=e.memoizedState),(h=Qi||Zy(e,r,h,n,_,T,p)||!1)?(x||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,T,p),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,T,p)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=T),l.props=n,l.state=T,l.context=p,n=h):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&_===t.memoizedState||(e.flags|=1024),n=!1)}return Sp(t,e,r,n,o,s)}function Sp(t,e,r,n,s,o){_b(t,e);var l=(e.flags&128)!==0;if(!n&&!l)return s&&Wy(e,r,!1),Oi(t,e,o);n=e.stateNode,U4.current=e;var u=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&l?(e.child=rc(e,t.child,null,o),e.child=rc(e,null,u,o)):nn(t,e,u,o),e.memoizedState=n.state,s&&Wy(e,r,!0),e.child}function bb(t){var e=t.stateNode;e.pendingContext?Hy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Hy(t,e.context,!1),gm(t,e.containerInfo)}function ow(t,e,r,n,s){return tc(),cm(s),e.flags|=256,nn(t,e,r,n),e.child}var Ap={dehydrated:null,treeContext:null,retryLane:0};function Tp(t){return{baseLanes:t,cachePool:null,transitions:null}}function Eb(t,e,r){var n=e.pendingProps,s=Gt.current,o=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Mt(Gt,s&1),t===null)return wp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=n.children,t=n.fallback,o?(n=e.mode,o=e.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Uf(l,n,0,null),t=ba(t,n,r,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Tp(r),e.memoizedState=Ap,t):Em(e,l));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return z4(t,e,l,n,u,s,r);if(o){o=n.fallback,l=e.mode,s=t.child,u=s.sibling;var p={mode:"hidden",children:n.children};return!(l&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=p,e.deletions=null):(n=_o(s,p),n.subtreeFlags=s.subtreeFlags&14680064),u!==null?o=_o(u,o):(o=ba(o,l,r,null),o.flags|=2),o.return=e,n.return=e,n.sibling=o,e.child=n,n=o,o=e.child,l=t.child.memoizedState,l=l===null?Tp(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~r,e.memoizedState=Ap,n}return o=t.child,t=o.sibling,n=_o(o,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Em(t,e){return e=Uf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wd(t,e,r,n){return n!==null&&cm(n),rc(e,t.child,null,r),t=Em(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function z4(t,e,r,n,s,o,l){if(r)return e.flags&256?(e.flags&=-257,n=o1(Error(pe(422))),Wd(t,e,l,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=n.fallback,s=e.mode,n=Uf({mode:"visible",children:n.children},s,0,null),o=ba(o,s,l,null),o.flags|=2,n.return=e,o.return=e,n.sibling=o,e.child=n,e.mode&1&&rc(e,t.child,null,l),e.child.memoizedState=Tp(l),e.memoizedState=Ap,o);if(!(e.mode&1))return Wd(t,e,l,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var u=n.dgst;return n=u,o=Error(pe(419)),n=o1(o,n,void 0),Wd(t,e,l,n)}if(u=(l&t.childLanes)!==0,yn||u){if(n=Or,n!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,Ri(t,s),Ds(n,t,s,-1))}return Im(),n=o1(Error(pe(421))),Wd(t,e,l,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=eR.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,Bn=xo(s.nextSibling),Un=e,Vt=!0,Os=null,t!==null&&(ts[rs++]=bi,ts[rs++]=Ei,ts[rs++]=Na,bi=t.id,Ei=t.overflow,Na=e),e=Em(e,n.children),e.flags|=4096,e)}function aw(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),vp(t.return,e,r)}function a1(t,e,r,n,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=s)}function Cb(t,e,r){var n=e.pendingProps,s=n.revealOrder,o=n.tail;if(nn(t,e,n.children,r),n=Gt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&aw(t,r,e);else if(t.tag===19)aw(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Mt(Gt,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&qh(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),a1(e,!1,s,r,o);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&qh(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}a1(e,!0,r,null,o);break;case"together":a1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _h(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Oi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ra|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(pe(153));if(e.child!==null){for(t=e.child,r=_o(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=_o(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function V4(t,e,r){switch(e.tag){case 3:bb(e),tc();break;case 5:K_(e);break;case 1:vn(e.type)&&Hh(e);break;case 4:gm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Mt(Gh,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Mt(Gt,Gt.current&1),e.flags|=128,null):r&e.child.childLanes?Eb(t,e,r):(Mt(Gt,Gt.current&1),t=Oi(t,e,r),t!==null?t.sibling:null);Mt(Gt,Gt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Cb(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Mt(Gt,Gt.current),n)break;return null;case 22:case 23:return e.lanes=0,vb(t,e,r)}return Oi(t,e,r)}var Sb,Np,Ab,Tb;Sb=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Np=function(){};Ab=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,da(ii.current);var o=null;switch(r){case"input":s=K1(t,s),n=K1(t,n),o=[];break;case"select":s=Qt({},s,{value:void 0}),n=Qt({},n,{value:void 0}),o=[];break;case"textarea":s=J1(t,s),n=J1(t,n),o=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zh)}tp(r,n);var l;r=null;for(h in s)if(!n.hasOwnProperty(h)&&s.hasOwnProperty(h)&&s[h]!=null)if(h==="style"){var u=s[h];for(l in u)u.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Eu.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in n){var p=n[h];if(u=s!=null?s[h]:void 0,n.hasOwnProperty(h)&&p!==u&&(p!=null||u!=null))if(h==="style")if(u){for(l in u)!u.hasOwnProperty(l)||p&&p.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in p)p.hasOwnProperty(l)&&u[l]!==p[l]&&(r||(r={}),r[l]=p[l])}else r||(o||(o=[]),o.push(h,r)),r=p;else h==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,u=u?u.__html:void 0,p!=null&&u!==p&&(o=o||[]).push(h,p)):h==="children"?typeof p!="string"&&typeof p!="number"||(o=o||[]).push(h,""+p):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Eu.hasOwnProperty(h)?(p!=null&&h==="onScroll"&&Dt("scroll",t),o||u===p||(o=[])):(o=o||[]).push(h,p))}r&&(o=o||[]).push("style",r);var h=o;(e.updateQueue=h)&&(e.flags|=4)}};Tb=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yc(t,e){if(!Vt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function H4(t,e,r){var n=e.pendingProps;switch(lm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gr(e),null;case 1:return vn(e.type)&&Vh(),Gr(e),null;case 3:return n=e.stateNode,nc(),Lt(wn),Lt(Zr),xm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Os!==null&&(jp(Os),Os=null))),Np(t,e),Gr(e),null;case 5:mm(e);var s=da(Du.current);if(r=e.type,t!==null&&e.stateNode!=null)Ab(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(pe(166));return Gr(e),null}if(t=da(ii.current),Vd(e)){n=e.stateNode,r=e.type;var o=e.memoizedProps;switch(n[ei]=e,n[ku]=o,t=(e.mode&1)!==0,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(s=0;s<ru.length;s++)Dt(ru[s],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":my(n,o),Dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Dt("invalid",n);break;case"textarea":yy(n,o),Dt("invalid",n)}tp(r,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var u=o[l];l==="children"?typeof u=="string"?n.textContent!==u&&(o.suppressHydrationWarning!==!0&&zd(n.textContent,u,t),s=["children",u]):typeof u=="number"&&n.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&zd(n.textContent,u,t),s=["children",""+u]):Eu.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Dt("scroll",n)}switch(r){case"input":kd(n),xy(n,o,!0);break;case"textarea":kd(n),wy(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=zh)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=t_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=l.createElement(r,{is:n.is}):(t=l.createElement(r),r==="select"&&(l=t,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):t=l.createElementNS(t,r),t[ei]=e,t[ku]=n,Sb(t,e,!1,!1),e.stateNode=t;e:{switch(l=rp(r,n),r){case"dialog":Dt("cancel",t),Dt("close",t),s=n;break;case"iframe":case"object":case"embed":Dt("load",t),s=n;break;case"video":case"audio":for(s=0;s<ru.length;s++)Dt(ru[s],t);s=n;break;case"source":Dt("error",t),s=n;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),s=n;break;case"details":Dt("toggle",t),s=n;break;case"input":my(t,n),s=K1(t,n),Dt("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=Qt({},n,{value:void 0}),Dt("invalid",t);break;case"textarea":yy(t,n),s=J1(t,n),Dt("invalid",t);break;default:s=n}tp(r,s),u=s;for(o in u)if(u.hasOwnProperty(o)){var p=u[o];o==="style"?s_(t,p):o==="dangerouslySetInnerHTML"?(p=p?p.__html:void 0,p!=null&&r_(t,p)):o==="children"?typeof p=="string"?(r!=="textarea"||p!=="")&&Cu(t,p):typeof p=="number"&&Cu(t,""+p):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Eu.hasOwnProperty(o)?p!=null&&o==="onScroll"&&Dt("scroll",t):p!=null&&Yg(t,o,p,l))}switch(r){case"input":kd(t),xy(t,n,!1);break;case"textarea":kd(t),wy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ao(n.value));break;case"select":t.multiple=!!n.multiple,o=n.value,o!=null?Ml(t,!!n.multiple,o,!1):n.defaultValue!=null&&Ml(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=zh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Gr(e),null;case 6:if(t&&e.stateNode!=null)Tb(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(pe(166));if(r=da(Du.current),da(ii.current),Vd(e)){if(n=e.stateNode,r=e.memoizedProps,n[ei]=e,(o=n.nodeValue!==r)&&(t=Un,t!==null))switch(t.tag){case 3:zd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&zd(n.nodeValue,r,(t.mode&1)!==0)}o&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ei]=e,e.stateNode=n}return Gr(e),null;case 13:if(Lt(Gt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vt&&Bn!==null&&e.mode&1&&!(e.flags&128))$_(),tc(),e.flags|=98560,o=!1;else if(o=Vd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!o)throw Error(pe(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(pe(317));o[ei]=e}else tc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Gr(e),o=!1}else Os!==null&&(jp(Os),Os=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Gt.current&1?Sr===0&&(Sr=3):Im())),e.updateQueue!==null&&(e.flags|=4),Gr(e),null);case 4:return nc(),Np(t,e),t===null&&Ou(e.stateNode.containerInfo),Gr(e),null;case 10:return hm(e.type._context),Gr(e),null;case 17:return vn(e.type)&&Vh(),Gr(e),null;case 19:if(Lt(Gt),o=e.memoizedState,o===null)return Gr(e),null;if(n=(e.flags&128)!==0,l=o.rendering,l===null)if(n)Yc(o,!1);else{if(Sr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=qh(t),l!==null){for(e.flags|=128,Yc(o,!1),n=l.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)o=r,t=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Mt(Gt,Gt.current&1|2),e.child}t=t.sibling}o.tail!==null&&hr()>ic&&(e.flags|=128,n=!0,Yc(o,!1),e.lanes=4194304)}else{if(!n)if(t=qh(l),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Vt)return Gr(e),null}else 2*hr()-o.renderingStartTime>ic&&r!==1073741824&&(e.flags|=128,n=!0,Yc(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(r=o.last,r!==null?r.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=hr(),e.sibling=null,r=Gt.current,Mt(Gt,n?r&1|2:r&1),e):(Gr(e),null);case 22:case 23:return Nm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?On&1073741824&&(Gr(e),e.subtreeFlags&6&&(e.flags|=8192)):Gr(e),null;case 24:return null;case 25:return null}throw Error(pe(156,e.tag))}function W4(t,e){switch(lm(e),e.tag){case 1:return vn(e.type)&&Vh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return nc(),Lt(wn),Lt(Zr),xm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return mm(e),null;case 13:if(Lt(Gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(pe(340));tc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Lt(Gt),null;case 4:return nc(),null;case 10:return hm(e.type._context),null;case 22:case 23:return Nm(),null;case 24:return null;default:return null}}var $d=!1,qr=!1,$4=typeof WeakSet=="function"?WeakSet:Set,Te=null;function Al(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ir(t,e,n)}else r.current=null}function Ip(t,e,r){try{r()}catch(n){ir(t,e,n)}}var lw=!1;function G4(t,e){if(hp=Bh,t=M_(),om(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,u=-1,p=-1,h=0,x=0,w=t,_=null;t:for(;;){for(var b;w!==r||s!==0&&w.nodeType!==3||(u=l+s),w!==o||n!==0&&w.nodeType!==3||(p=l+n),w.nodeType===3&&(l+=w.nodeValue.length),(b=w.firstChild)!==null;)_=w,w=b;for(;;){if(w===t)break t;if(_===r&&++h===s&&(u=l),_===o&&++x===n&&(p=l),(b=w.nextSibling)!==null)break;w=_,_=w.parentNode}w=b}r=u===-1||p===-1?null:{start:u,end:p}}else r=null}r=r||{start:0,end:0}}else r=null;for(fp={focusedElem:t,selectionRange:r},Bh=!1,Te=e;Te!==null;)if(e=Te,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Te=t;else for(;Te!==null;){e=Te;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var E=T.memoizedProps,N=T.memoizedState,R=e.stateNode,S=R.getSnapshotBeforeUpdate(e.elementType===e.type?E:Es(e.type,E),N);R.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var A=e.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(pe(163))}}catch(M){ir(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Te=t;break}Te=e.return}return T=lw,lw=!1,T}function fu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ip(e,r,o)}s=s.next}while(s!==n)}}function Bf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Rp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Nb(t){var e=t.alternate;e!==null&&(t.alternate=null,Nb(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ei],delete e[ku],delete e[mp],delete e[N4],delete e[I4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ib(t){return t.tag===5||t.tag===3||t.tag===4}function cw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ib(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Op(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zh));else if(n!==4&&(t=t.child,t!==null))for(Op(t,e,r),t=t.sibling;t!==null;)Op(t,e,r),t=t.sibling}function Mp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Mp(t,e,r),t=t.sibling;t!==null;)Mp(t,e,r),t=t.sibling}var Lr=null,Ns=!1;function Hi(t,e,r){for(r=r.child;r!==null;)Rb(t,e,r),r=r.sibling}function Rb(t,e,r){if(si&&typeof si.onCommitFiberUnmount=="function")try{si.onCommitFiberUnmount(Rf,r)}catch{}switch(r.tag){case 5:qr||Al(r,e);case 6:var n=Lr,s=Ns;Lr=null,Hi(t,e,r),Lr=n,Ns=s,Lr!==null&&(Ns?(t=Lr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Lr.removeChild(r.stateNode));break;case 18:Lr!==null&&(Ns?(t=Lr,r=r.stateNode,t.nodeType===8?e1(t.parentNode,r):t.nodeType===1&&e1(t,r),Nu(t)):e1(Lr,r.stateNode));break;case 4:n=Lr,s=Ns,Lr=r.stateNode.containerInfo,Ns=!0,Hi(t,e,r),Lr=n,Ns=s;break;case 0:case 11:case 14:case 15:if(!qr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ip(r,e,l),s=s.next}while(s!==n)}Hi(t,e,r);break;case 1:if(!qr&&(Al(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(u){ir(r,e,u)}Hi(t,e,r);break;case 21:Hi(t,e,r);break;case 22:r.mode&1?(qr=(n=qr)||r.memoizedState!==null,Hi(t,e,r),qr=n):Hi(t,e,r);break;default:Hi(t,e,r)}}function uw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new $4),e.forEach(function(n){var s=tR.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function ys(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var o=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:Lr=u.stateNode,Ns=!1;break e;case 3:Lr=u.stateNode.containerInfo,Ns=!0;break e;case 4:Lr=u.stateNode.containerInfo,Ns=!0;break e}u=u.return}if(Lr===null)throw Error(pe(160));Rb(o,l,s),Lr=null,Ns=!1;var p=s.alternate;p!==null&&(p.return=null),s.return=null}catch(h){ir(s,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Ob(e,t),e=e.sibling}function Ob(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ys(e,t),Ys(t),n&4){try{fu(3,t,t.return),Bf(3,t)}catch(E){ir(t,t.return,E)}try{fu(5,t,t.return)}catch(E){ir(t,t.return,E)}}break;case 1:ys(e,t),Ys(t),n&512&&r!==null&&Al(r,r.return);break;case 5:if(ys(e,t),Ys(t),n&512&&r!==null&&Al(r,r.return),t.flags&32){var s=t.stateNode;try{Cu(s,"")}catch(E){ir(t,t.return,E)}}if(n&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=r!==null?r.memoizedProps:o,u=t.type,p=t.updateQueue;if(t.updateQueue=null,p!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&J2(s,o),rp(u,l);var h=rp(u,o);for(l=0;l<p.length;l+=2){var x=p[l],w=p[l+1];x==="style"?s_(s,w):x==="dangerouslySetInnerHTML"?r_(s,w):x==="children"?Cu(s,w):Yg(s,x,w,h)}switch(u){case"input":Q1(s,o);break;case"textarea":e_(s,o);break;case"select":var _=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Ml(s,!!o.multiple,b,!1):_!==!!o.multiple&&(o.defaultValue!=null?Ml(s,!!o.multiple,o.defaultValue,!0):Ml(s,!!o.multiple,o.multiple?[]:"",!1))}s[ku]=o}catch(E){ir(t,t.return,E)}}break;case 6:if(ys(e,t),Ys(t),n&4){if(t.stateNode===null)throw Error(pe(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(E){ir(t,t.return,E)}}break;case 3:if(ys(e,t),Ys(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nu(e.containerInfo)}catch(E){ir(t,t.return,E)}break;case 4:ys(e,t),Ys(t);break;case 13:ys(e,t),Ys(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Am=hr())),n&4&&uw(t);break;case 22:if(x=r!==null&&r.memoizedState!==null,t.mode&1?(qr=(h=qr)||x,ys(e,t),qr=h):ys(e,t),Ys(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!x&&t.mode&1)for(Te=t,x=t.child;x!==null;){for(w=Te=x;Te!==null;){switch(_=Te,b=_.child,_.tag){case 0:case 11:case 14:case 15:fu(4,_,_.return);break;case 1:Al(_,_.return);var T=_.stateNode;if(typeof T.componentWillUnmount=="function"){n=_,r=_.return;try{e=n,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(E){ir(n,r,E)}}break;case 5:Al(_,_.return);break;case 22:if(_.memoizedState!==null){hw(w);continue}}b!==null?(b.return=_,Te=b):hw(w)}x=x.sibling}e:for(x=null,w=t;;){if(w.tag===5){if(x===null){x=w;try{s=w.stateNode,h?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=w.stateNode,p=w.memoizedProps.style,l=p!=null&&p.hasOwnProperty("display")?p.display:null,u.style.display=n_("display",l))}catch(E){ir(t,t.return,E)}}}else if(w.tag===6){if(x===null)try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(E){ir(t,t.return,E)}}else if((w.tag!==22&&w.tag!==23||w.memoizedState===null||w===t)&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===t)break e;for(;w.sibling===null;){if(w.return===null||w.return===t)break e;x===w&&(x=null),w=w.return}x===w&&(x=null),w.sibling.return=w.return,w=w.sibling}}break;case 19:ys(e,t),Ys(t),n&4&&uw(t);break;case 21:break;default:ys(e,t),Ys(t)}}function Ys(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Ib(r)){var n=r;break e}r=r.return}throw Error(pe(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Cu(s,""),n.flags&=-33);var o=cw(t);Mp(t,o,s);break;case 3:case 4:var l=n.stateNode.containerInfo,u=cw(t);Op(t,u,l);break;default:throw Error(pe(161))}}catch(p){ir(t,t.return,p)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y4(t,e,r){Te=t,Mb(t)}function Mb(t,e,r){for(var n=(t.mode&1)!==0;Te!==null;){var s=Te,o=s.child;if(s.tag===22&&n){var l=s.memoizedState!==null||$d;if(!l){var u=s.alternate,p=u!==null&&u.memoizedState!==null||qr;u=$d;var h=qr;if($d=l,(qr=p)&&!h)for(Te=s;Te!==null;)l=Te,p=l.child,l.tag===22&&l.memoizedState!==null?fw(s):p!==null?(p.return=l,Te=p):fw(s);for(;o!==null;)Te=o,Mb(o),o=o.sibling;Te=s,$d=u,qr=h}dw(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,Te=o):dw(t)}}function dw(t){for(;Te!==null;){var e=Te;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qr||Bf(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!qr)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Es(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&qy(e,o,n);break;case 3:var l=e.updateQueue;if(l!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}qy(e,l,r)}break;case 5:var u=e.stateNode;if(r===null&&e.flags&4){r=u;var p=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":p.autoFocus&&r.focus();break;case"img":p.src&&(r.src=p.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var x=h.memoizedState;if(x!==null){var w=x.dehydrated;w!==null&&Nu(w)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(pe(163))}qr||e.flags&512&&Rp(e)}catch(_){ir(e,e.return,_)}}if(e===t){Te=null;break}if(r=e.sibling,r!==null){r.return=e.return,Te=r;break}Te=e.return}}function hw(t){for(;Te!==null;){var e=Te;if(e===t){Te=null;break}var r=e.sibling;if(r!==null){r.return=e.return,Te=r;break}Te=e.return}}function fw(t){for(;Te!==null;){var e=Te;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Bf(4,e)}catch(p){ir(e,r,p)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(p){ir(e,s,p)}}var o=e.return;try{Rp(e)}catch(p){ir(e,o,p)}break;case 5:var l=e.return;try{Rp(e)}catch(p){ir(e,l,p)}}}catch(p){ir(e,e.return,p)}if(e===t){Te=null;break}var u=e.sibling;if(u!==null){u.return=e.return,Te=u;break}Te=e.return}}var X4=Math.ceil,Zh=ji.ReactCurrentDispatcher,Cm=ji.ReactCurrentOwner,us=ji.ReactCurrentBatchConfig,ft=0,Or=null,mr=null,Br=0,On=0,Tl=jo(0),Sr=0,Fu=null,Ra=0,Ff=0,Sm=0,pu=null,xn=null,Am=0,ic=1/0,gi=null,Jh=!1,kp=null,wo=null,Gd=!1,ao=null,ef=0,gu=0,Pp=null,bh=-1,Eh=0;function ln(){return ft&6?hr():bh!==-1?bh:bh=hr()}function vo(t){return t.mode&1?ft&2&&Br!==0?Br&-Br:O4.transition!==null?(Eh===0&&(Eh=m_()),Eh):(t=Et,t!==0||(t=window.event,t=t===void 0?16:E_(t.type)),t):1}function Ds(t,e,r,n){if(50<gu)throw gu=0,Pp=null,Error(pe(185));id(t,r,n),(!(ft&2)||t!==Or)&&(t===Or&&(!(ft&2)&&(Ff|=r),Sr===4&&Ji(t,Br)),_n(t,n),r===1&&ft===0&&!(e.mode&1)&&(ic=hr()+500,Df&&Lo()))}function _n(t,e){var r=t.callbackNode;OI(t,e);var n=Lh(t,t===Or?Br:0);if(n===0)r!==null&&by(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&by(r),e===1)t.tag===0?R4(pw.bind(null,t)):V_(pw.bind(null,t)),A4(function(){!(ft&6)&&Lo()}),r=null;else{switch(x_(n)){case 1:r=Zg;break;case 4:r=p_;break;case 16:r=jh;break;case 536870912:r=g_;break;default:r=jh}r=Ub(r,kb.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function kb(t,e){if(bh=-1,Eh=0,ft&6)throw Error(pe(327));var r=t.callbackNode;if(Ll()&&t.callbackNode!==r)return null;var n=Lh(t,t===Or?Br:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=tf(t,n);else{e=n;var s=ft;ft|=2;var o=Db();(Or!==t||Br!==e)&&(gi=null,ic=hr()+500,_a(t,e));do try{Q4();break}catch(u){Pb(t,u)}while(!0);dm(),Zh.current=o,ft=s,mr!==null?e=0:(Or=null,Br=0,e=Sr)}if(e!==0){if(e===2&&(s=ap(t),s!==0&&(n=s,e=Dp(t,s))),e===1)throw r=Fu,_a(t,0),Ji(t,n),_n(t,hr()),r;if(e===6)Ji(t,n);else{if(s=t.current.alternate,!(n&30)&&!q4(s)&&(e=tf(t,n),e===2&&(o=ap(t),o!==0&&(n=o,e=Dp(t,o))),e===1))throw r=Fu,_a(t,0),Ji(t,n),_n(t,hr()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(pe(345));case 2:sa(t,xn,gi);break;case 3:if(Ji(t,n),(n&130023424)===n&&(e=Am+500-hr(),10<e)){if(Lh(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){ln(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=gp(sa.bind(null,t,xn,gi),e);break}sa(t,xn,gi);break;case 4:if(Ji(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var l=31-Ps(n);o=1<<l,l=e[l],l>s&&(s=l),n&=~o}if(n=s,n=hr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*X4(n/1960))-n,10<n){t.timeoutHandle=gp(sa.bind(null,t,xn,gi),n);break}sa(t,xn,gi);break;case 5:sa(t,xn,gi);break;default:throw Error(pe(329))}}}return _n(t,hr()),t.callbackNode===r?kb.bind(null,t):null}function Dp(t,e){var r=pu;return t.current.memoizedState.isDehydrated&&(_a(t,e).flags|=256),t=tf(t,e),t!==2&&(e=xn,xn=r,e!==null&&jp(e)),t}function jp(t){xn===null?xn=t:xn.push.apply(xn,t)}function q4(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],o=s.getSnapshot;s=s.value;try{if(!js(o(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ji(t,e){for(e&=~Sm,e&=~Ff,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Ps(e),n=1<<r;t[r]=-1,e&=~n}}function pw(t){if(ft&6)throw Error(pe(327));Ll();var e=Lh(t,0);if(!(e&1))return _n(t,hr()),null;var r=tf(t,e);if(t.tag!==0&&r===2){var n=ap(t);n!==0&&(e=n,r=Dp(t,n))}if(r===1)throw r=Fu,_a(t,0),Ji(t,e),_n(t,hr()),r;if(r===6)throw Error(pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sa(t,xn,gi),_n(t,hr()),null}function Tm(t,e){var r=ft;ft|=1;try{return t(e)}finally{ft=r,ft===0&&(ic=hr()+500,Df&&Lo())}}function Oa(t){ao!==null&&ao.tag===0&&!(ft&6)&&Ll();var e=ft;ft|=1;var r=us.transition,n=Et;try{if(us.transition=null,Et=1,t)return t()}finally{Et=n,us.transition=r,ft=e,!(ft&6)&&Lo()}}function Nm(){On=Tl.current,Lt(Tl)}function _a(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,S4(r)),mr!==null)for(r=mr.return;r!==null;){var n=r;switch(lm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Vh();break;case 3:nc(),Lt(wn),Lt(Zr),xm();break;case 5:mm(n);break;case 4:nc();break;case 13:Lt(Gt);break;case 19:Lt(Gt);break;case 10:hm(n.type._context);break;case 22:case 23:Nm()}r=r.return}if(Or=t,mr=t=_o(t.current,null),Br=On=e,Sr=0,Fu=null,Sm=Ff=Ra=0,xn=pu=null,ua!==null){for(e=0;e<ua.length;e++)if(r=ua[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=s,n.next=l}r.pending=n}ua=null}return t}function Pb(t,e){do{var r=mr;try{if(dm(),wh.current=Qh,Kh){for(var n=Kt.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Kh=!1}if(Ia=0,Rr=Cr=Kt=null,hu=!1,ju=0,Cm.current=null,r===null||r.return===null){Sr=1,Fu=e,mr=null;break}e:{var o=t,l=r.return,u=r,p=e;if(e=Br,u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){var h=p,x=u,w=x.tag;if(!(x.mode&1)&&(w===0||w===11||w===15)){var _=x.alternate;_?(x.updateQueue=_.updateQueue,x.memoizedState=_.memoizedState,x.lanes=_.lanes):(x.updateQueue=null,x.memoizedState=null)}var b=tw(l);if(b!==null){b.flags&=-257,rw(b,l,u,o,e),b.mode&1&&ew(o,h,e),e=b,p=h;var T=e.updateQueue;if(T===null){var E=new Set;E.add(p),e.updateQueue=E}else T.add(p);break e}else{if(!(e&1)){ew(o,h,e),Im();break e}p=Error(pe(426))}}else if(Vt&&u.mode&1){var N=tw(l);if(N!==null){!(N.flags&65536)&&(N.flags|=256),rw(N,l,u,o,e),cm(sc(p,u));break e}}o=p=sc(p,u),Sr!==4&&(Sr=2),pu===null?pu=[o]:pu.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var R=xb(o,p,e);Xy(o,R);break e;case 1:u=p;var S=o.type,A=o.stateNode;if(!(o.flags&128)&&(typeof S.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(wo===null||!wo.has(A)))){o.flags|=65536,e&=-e,o.lanes|=e;var M=yb(o,u,e);Xy(o,M);break e}}o=o.return}while(o!==null)}Lb(r)}catch(k){e=k,mr===r&&r!==null&&(mr=r=r.return);continue}break}while(!0)}function Db(){var t=Zh.current;return Zh.current=Qh,t===null?Qh:t}function Im(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),Or===null||!(Ra&268435455)&&!(Ff&268435455)||Ji(Or,Br)}function tf(t,e){var r=ft;ft|=2;var n=Db();(Or!==t||Br!==e)&&(gi=null,_a(t,e));do try{K4();break}catch(s){Pb(t,s)}while(!0);if(dm(),ft=r,Zh.current=n,mr!==null)throw Error(pe(261));return Or=null,Br=0,Sr}function K4(){for(;mr!==null;)jb(mr)}function Q4(){for(;mr!==null&&!bI();)jb(mr)}function jb(t){var e=Fb(t.alternate,t,On);t.memoizedProps=t.pendingProps,e===null?Lb(t):mr=e,Cm.current=null}function Lb(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=W4(r,e),r!==null){r.flags&=32767,mr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Sr=6,mr=null;return}}else if(r=H4(r,e,On),r!==null){mr=r;return}if(e=e.sibling,e!==null){mr=e;return}mr=e=t}while(e!==null);Sr===0&&(Sr=5)}function sa(t,e,r){var n=Et,s=us.transition;try{us.transition=null,Et=1,Z4(t,e,r,n)}finally{us.transition=s,Et=n}return null}function Z4(t,e,r,n){do Ll();while(ao!==null);if(ft&6)throw Error(pe(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(pe(177));t.callbackNode=null,t.callbackPriority=0;var o=r.lanes|r.childLanes;if(MI(t,o),t===Or&&(mr=Or=null,Br=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gd||(Gd=!0,Ub(jh,function(){return Ll(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=us.transition,us.transition=null;var l=Et;Et=1;var u=ft;ft|=4,Cm.current=null,G4(t,r),Ob(r,t),y4(fp),Bh=!!hp,fp=hp=null,t.current=r,Y4(r),EI(),ft=u,Et=l,us.transition=o}else t.current=r;if(Gd&&(Gd=!1,ao=t,ef=s),o=t.pendingLanes,o===0&&(wo=null),AI(r.stateNode),_n(t,hr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Jh)throw Jh=!1,t=kp,kp=null,t;return ef&1&&t.tag!==0&&Ll(),o=t.pendingLanes,o&1?t===Pp?gu++:(gu=0,Pp=t):gu=0,Lo(),null}function Ll(){if(ao!==null){var t=x_(ef),e=us.transition,r=Et;try{if(us.transition=null,Et=16>t?16:t,ao===null)var n=!1;else{if(t=ao,ao=null,ef=0,ft&6)throw Error(pe(331));var s=ft;for(ft|=4,Te=t.current;Te!==null;){var o=Te,l=o.child;if(Te.flags&16){var u=o.deletions;if(u!==null){for(var p=0;p<u.length;p++){var h=u[p];for(Te=h;Te!==null;){var x=Te;switch(x.tag){case 0:case 11:case 15:fu(8,x,o)}var w=x.child;if(w!==null)w.return=x,Te=w;else for(;Te!==null;){x=Te;var _=x.sibling,b=x.return;if(Nb(x),x===h){Te=null;break}if(_!==null){_.return=b,Te=_;break}Te=b}}}var T=o.alternate;if(T!==null){var E=T.child;if(E!==null){T.child=null;do{var N=E.sibling;E.sibling=null,E=N}while(E!==null)}}Te=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Te=l;else e:for(;Te!==null;){if(o=Te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:fu(9,o,o.return)}var R=o.sibling;if(R!==null){R.return=o.return,Te=R;break e}Te=o.return}}var S=t.current;for(Te=S;Te!==null;){l=Te;var A=l.child;if(l.subtreeFlags&2064&&A!==null)A.return=l,Te=A;else e:for(l=S;Te!==null;){if(u=Te,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Bf(9,u)}}catch(k){ir(u,u.return,k)}if(u===l){Te=null;break e}var M=u.sibling;if(M!==null){M.return=u.return,Te=M;break e}Te=u.return}}if(ft=s,Lo(),si&&typeof si.onPostCommitFiberRoot=="function")try{si.onPostCommitFiberRoot(Rf,t)}catch{}n=!0}return n}finally{Et=r,us.transition=e}}return!1}function gw(t,e,r){e=sc(r,e),e=xb(t,e,1),t=yo(t,e,1),e=ln(),t!==null&&(id(t,1,e),_n(t,e))}function ir(t,e,r){if(t.tag===3)gw(t,t,r);else for(;e!==null;){if(e.tag===3){gw(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(wo===null||!wo.has(n))){t=sc(r,t),t=yb(e,t,1),e=yo(e,t,1),t=ln(),e!==null&&(id(e,1,t),_n(e,t));break}}e=e.return}}function J4(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ln(),t.pingedLanes|=t.suspendedLanes&r,Or===t&&(Br&r)===r&&(Sr===4||Sr===3&&(Br&130023424)===Br&&500>hr()-Am?_a(t,0):Sm|=r),_n(t,e)}function Bb(t,e){e===0&&(t.mode&1?(e=jd,jd<<=1,!(jd&130023424)&&(jd=4194304)):e=1);var r=ln();t=Ri(t,e),t!==null&&(id(t,e,r),_n(t,r))}function eR(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Bb(t,r)}function tR(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(pe(314))}n!==null&&n.delete(e),Bb(t,r)}var Fb;Fb=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||wn.current)yn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return yn=!1,V4(t,e,r);yn=!!(t.flags&131072)}else yn=!1,Vt&&e.flags&1048576&&H_(e,$h,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_h(t,e),t=e.pendingProps;var s=ec(e,Zr.current);jl(e,r),s=wm(null,e,n,t,s,r);var o=vm();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vn(n)?(o=!0,Hh(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,pm(e),s.updater=Lf,e.stateNode=s,s._reactInternals=e,bp(e,n,t,r),e=Sp(null,e,n,!0,o,r)):(e.tag=0,Vt&&o&&am(e),nn(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_h(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=nR(n),t=Es(n,t),s){case 0:e=Cp(null,e,n,t,r);break e;case 1:e=iw(null,e,n,t,r);break e;case 11:e=nw(null,e,n,t,r);break e;case 14:e=sw(null,e,n,Es(n.type,t),r);break e}throw Error(pe(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Es(n,s),Cp(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Es(n,s),iw(t,e,n,s,r);case 3:e:{if(bb(e),t===null)throw Error(pe(387));n=e.pendingProps,o=e.memoizedState,s=o.element,q_(t,e),Xh(e,n,null,r);var l=e.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=sc(Error(pe(423)),e),e=ow(t,e,n,r,s);break e}else if(n!==s){s=sc(Error(pe(424)),e),e=ow(t,e,n,r,s);break e}else for(Bn=xo(e.stateNode.containerInfo.firstChild),Un=e,Vt=!0,Os=null,r=Y_(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(tc(),n===s){e=Oi(t,e,r);break e}nn(t,e,n,r)}e=e.child}return e;case 5:return K_(e),t===null&&wp(e),n=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,pp(n,s)?l=null:o!==null&&pp(n,o)&&(e.flags|=32),_b(t,e),nn(t,e,l,r),e.child;case 6:return t===null&&wp(e),null;case 13:return Eb(t,e,r);case 4:return gm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=rc(e,null,n,r):nn(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Es(n,s),nw(t,e,n,s,r);case 7:return nn(t,e,e.pendingProps,r),e.child;case 8:return nn(t,e,e.pendingProps.children,r),e.child;case 12:return nn(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,Mt(Gh,n._currentValue),n._currentValue=l,o!==null)if(js(o.value,l)){if(o.children===s.children&&!wn.current){e=Oi(t,e,r);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){l=o.child;for(var p=u.firstContext;p!==null;){if(p.context===n){if(o.tag===1){p=Ti(-1,r&-r),p.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var x=h.pending;x===null?p.next=p:(p.next=x.next,x.next=p),h.pending=p}}o.lanes|=r,p=o.alternate,p!==null&&(p.lanes|=r),vp(o.return,r,e),u.lanes|=r;break}p=p.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(pe(341));l.lanes|=r,u=l.alternate,u!==null&&(u.lanes|=r),vp(l,r,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}nn(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,jl(e,r),s=ds(s),n=n(s),e.flags|=1,nn(t,e,n,r),e.child;case 14:return n=e.type,s=Es(n,e.pendingProps),s=Es(n.type,s),sw(t,e,n,s,r);case 15:return wb(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Es(n,s),_h(t,e),e.tag=1,vn(n)?(t=!0,Hh(e)):t=!1,jl(e,r),mb(e,n,s),bp(e,n,s,r),Sp(null,e,n,!0,t,r);case 19:return Cb(t,e,r);case 22:return vb(t,e,r)}throw Error(pe(156,e.tag))};function Ub(t,e){return f_(t,e)}function rR(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function os(t,e,r,n){return new rR(t,e,r,n)}function Rm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nR(t){if(typeof t=="function")return Rm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qg)return 11;if(t===Kg)return 14}return 2}function _o(t,e){var r=t.alternate;return r===null?(r=os(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Ch(t,e,r,n,s,o){var l=2;if(n=t,typeof t=="function")Rm(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case xl:return ba(r.children,s,o,e);case Xg:l=8,s|=8;break;case G1:return t=os(12,r,e,s|2),t.elementType=G1,t.lanes=o,t;case Y1:return t=os(13,r,e,s),t.elementType=Y1,t.lanes=o,t;case X1:return t=os(19,r,e,s),t.elementType=X1,t.lanes=o,t;case K2:return Uf(r,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X2:l=10;break e;case q2:l=9;break e;case qg:l=11;break e;case Kg:l=14;break e;case Ki:l=16,n=null;break e}throw Error(pe(130,t==null?t:typeof t,""))}return e=os(l,r,e,s),e.elementType=t,e.type=n,e.lanes=o,e}function ba(t,e,r,n){return t=os(7,t,n,e),t.lanes=r,t}function Uf(t,e,r,n){return t=os(22,t,n,e),t.elementType=K2,t.lanes=r,t.stateNode={isHidden:!1},t}function l1(t,e,r){return t=os(6,t,null,e),t.lanes=r,t}function c1(t,e,r){return e=os(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sR(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=H0(0),this.expirationTimes=H0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=H0(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Om(t,e,r,n,s,o,l,u,p){return t=new sR(t,e,r,u,p),e===1?(e=1,o===!0&&(e|=8)):e=0,o=os(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},pm(o),t}function iR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ml,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function zb(t){if(!t)return To;t=t._reactInternals;e:{if(Va(t)!==t||t.tag!==1)throw Error(pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(pe(171))}if(t.tag===1){var r=t.type;if(vn(r))return z_(t,r,e)}return e}function Vb(t,e,r,n,s,o,l,u,p){return t=Om(r,n,!0,t,s,o,l,u,p),t.context=zb(null),r=t.current,n=ln(),s=vo(r),o=Ti(n,s),o.callback=e??null,yo(r,o,s),t.current.lanes=s,id(t,s,n),_n(t,n),t}function zf(t,e,r,n){var s=e.current,o=ln(),l=vo(s);return r=zb(r),e.context===null?e.context=r:e.pendingContext=r,e=Ti(o,l),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=yo(s,e,l),t!==null&&(Ds(t,s,l,o),yh(t,s,l)),l}function rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Mm(t,e){mw(t,e),(t=t.alternate)&&mw(t,e)}function oR(){return null}var Hb=typeof reportError=="function"?reportError:function(t){console.error(t)};function km(t){this._internalRoot=t}Vf.prototype.render=km.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(pe(409));zf(t,e,null,null)};Vf.prototype.unmount=km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oa(function(){zf(null,t,null,null)}),e[Ii]=null}};function Vf(t){this._internalRoot=t}Vf.prototype.unstable_scheduleHydration=function(t){if(t){var e=v_();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Zi.length&&e!==0&&e<Zi[r].priority;r++);Zi.splice(r,0,t),r===0&&b_(t)}};function Pm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Hf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function xw(){}function aR(t,e,r,n,s){if(s){if(typeof n=="function"){var o=n;n=function(){var h=rf(l);o.call(h)}}var l=Vb(e,n,t,0,null,!1,!1,"",xw);return t._reactRootContainer=l,t[Ii]=l.current,Ou(t.nodeType===8?t.parentNode:t),Oa(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var u=n;n=function(){var h=rf(p);u.call(h)}}var p=Om(t,0,!1,null,null,!1,!1,"",xw);return t._reactRootContainer=p,t[Ii]=p.current,Ou(t.nodeType===8?t.parentNode:t),Oa(function(){zf(e,p,r,n)}),p}function Wf(t,e,r,n,s){var o=r._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var u=s;s=function(){var p=rf(l);u.call(p)}}zf(e,l,t,s)}else l=aR(r,e,t,s,n);return rf(l)}y_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=tu(e.pendingLanes);r!==0&&(Jg(e,r|1),_n(e,hr()),!(ft&6)&&(ic=hr()+500,Lo()))}break;case 13:Oa(function(){var n=Ri(t,1);if(n!==null){var s=ln();Ds(n,t,1,s)}}),Mm(t,1)}};em=function(t){if(t.tag===13){var e=Ri(t,134217728);if(e!==null){var r=ln();Ds(e,t,134217728,r)}Mm(t,134217728)}};w_=function(t){if(t.tag===13){var e=vo(t),r=Ri(t,e);if(r!==null){var n=ln();Ds(r,t,e,n)}Mm(t,e)}};v_=function(){return Et};__=function(t,e){var r=Et;try{return Et=t,e()}finally{Et=r}};sp=function(t,e,r){switch(e){case"input":if(Q1(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Pf(n);if(!s)throw Error(pe(90));Z2(n),Q1(n,s)}}}break;case"textarea":e_(t,r);break;case"select":e=r.value,e!=null&&Ml(t,!!r.multiple,e,!1)}};a_=Tm;l_=Oa;var lR={usingClientEntryPoint:!1,Events:[ad,_l,Pf,i_,o_,Tm]},Xc={findFiberByHostInstance:ca,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cR={bundleType:Xc.bundleType,version:Xc.version,rendererPackageName:Xc.rendererPackageName,rendererConfig:Xc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ji.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=d_(t),t===null?null:t.stateNode},findFiberByHostInstance:Xc.findFiberByHostInstance||oR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yd.isDisabled&&Yd.supportsFiber)try{Rf=Yd.inject(cR),si=Yd}catch{}}Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lR;Gn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pm(e))throw Error(pe(200));return iR(t,e,null,r)};Gn.createRoot=function(t,e){if(!Pm(t))throw Error(pe(299));var r=!1,n="",s=Hb;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Om(t,1,!1,null,null,r,!1,n,s),t[Ii]=e.current,Ou(t.nodeType===8?t.parentNode:t),new km(e)};Gn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(pe(188)):(t=Object.keys(t).join(","),Error(pe(268,t)));return t=d_(e),t=t===null?null:t.stateNode,t};Gn.flushSync=function(t){return Oa(t)};Gn.hydrate=function(t,e,r){if(!Hf(e))throw Error(pe(200));return Wf(null,t,e,!0,r)};Gn.hydrateRoot=function(t,e,r){if(!Pm(t))throw Error(pe(405));var n=r!=null&&r.hydratedSources||null,s=!1,o="",l=Hb;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),e=Vb(e,null,t,1,r??null,s,!1,o,l),t[Ii]=e.current,Ou(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Vf(e)};Gn.render=function(t,e,r){if(!Hf(e))throw Error(pe(200));return Wf(null,t,e,!1,r)};Gn.unmountComponentAtNode=function(t){if(!Hf(t))throw Error(pe(40));return t._reactRootContainer?(Oa(function(){Wf(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1};Gn.unstable_batchedUpdates=Tm;Gn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Hf(r))throw Error(pe(200));if(t==null||t._reactInternals===void 0)throw Error(pe(38));return Wf(t,e,r,!1,n)};Gn.version="18.3.1-next-f1338f8080-20240426";function Wb(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Wb)}catch(t){console.error(t)}}Wb(),W2.exports=Gn;var Ha=W2.exports;const $b=Fg(Ha);var Gb,yw=Ha;Gb=yw.createRoot,yw.hydrateRoot;const uR=1,dR=1e6;let u1=0;function hR(){return u1=(u1+1)%Number.MAX_SAFE_INTEGER,u1.toString()}const d1=new Map,ww=t=>{if(d1.has(t))return;const e=setTimeout(()=>{d1.delete(t),mu({type:"REMOVE_TOAST",toastId:t})},dR);d1.set(t,e)},fR=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,uR)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?ww(r):t.toasts.forEach(n=>{ww(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Sh=[];let Ah={toasts:[]};function mu(t){Ah=fR(Ah,t),Sh.forEach(e=>{e(Ah)})}function pR({...t}){const e=hR(),r=s=>mu({type:"UPDATE_TOAST",toast:{...s,id:e}}),n=()=>mu({type:"DISMISS_TOAST",toastId:e});return mu({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||n()}}}),{id:e,dismiss:n,update:r}}function gR(){const[t,e]=I.useState(Ah);return I.useEffect(()=>(Sh.push(e),()=>{const r=Sh.indexOf(e);r>-1&&Sh.splice(r,1)}),[t]),{...t,toast:pR,dismiss:r=>mu({type:"DISMISS_TOAST",toastId:r})}}function Pe(t,e,{checkForDefaultPrevented:r=!0}={}){return function(s){if(t==null||t(s),r===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function vw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yb(...t){return e=>{let r=!1;const n=t.map(s=>{const o=vw(s,e);return!r&&typeof o=="function"&&(r=!0),o});if(r)return()=>{for(let s=0;s<n.length;s++){const o=n[s];typeof o=="function"?o():vw(t[s],null)}}}}function xt(...t){return I.useCallback(Yb(...t),t)}function mR(t,e){const r=I.createContext(e),n=o=>{const{children:l,...u}=o,p=I.useMemo(()=>u,Object.values(u));return m.jsx(r.Provider,{value:p,children:l})};n.displayName=t+"Provider";function s(o){const l=I.useContext(r);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${o}\` must be used within \`${t}\``)}return[n,s]}function Fs(t,e=[]){let r=[];function n(o,l){const u=I.createContext(l),p=r.length;r=[...r,l];const h=w=>{var R;const{scope:_,children:b,...T}=w,E=((R=_==null?void 0:_[t])==null?void 0:R[p])||u,N=I.useMemo(()=>T,Object.values(T));return m.jsx(E.Provider,{value:N,children:b})};h.displayName=o+"Provider";function x(w,_){var E;const b=((E=_==null?void 0:_[t])==null?void 0:E[p])||u,T=I.useContext(b);if(T)return T;if(l!==void 0)return l;throw new Error(`\`${w}\` must be used within \`${o}\``)}return[h,x]}const s=()=>{const o=r.map(l=>I.createContext(l));return function(u){const p=(u==null?void 0:u[t])||o;return I.useMemo(()=>({[`__scope${t}`]:{...u,[t]:p}}),[u,p])}};return s.scopeName=t,[n,xR(s,...e)]}function xR(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const l=n.reduce((u,{useScope:p,scopeName:h})=>{const w=p(o)[`__scope${h}`];return{...u,...w}},{});return I.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return r.scopeName=e.scopeName,r}function oc(t){const e=wR(t),r=I.forwardRef((n,s)=>{const{children:o,...l}=n,u=I.Children.toArray(o),p=u.find(_R);if(p){const h=p.props.children,x=u.map(w=>w===p?I.Children.count(h)>1?I.Children.only(null):I.isValidElement(h)?h.props.children:null:w);return m.jsx(e,{...l,ref:s,children:I.isValidElement(h)?I.cloneElement(h,void 0,x):null})}return m.jsx(e,{...l,ref:s,children:o})});return r.displayName=`${t}.Slot`,r}var yR=oc("Slot");function wR(t){const e=I.forwardRef((r,n)=>{const{children:s,...o}=r;if(I.isValidElement(s)){const l=ER(s),u=bR(o,s.props);return s.type!==I.Fragment&&(u.ref=n?Yb(n,l):l),I.cloneElement(s,u)}return I.Children.count(s)>1?I.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Xb=Symbol("radix.slottable");function vR(t){const e=({children:r})=>m.jsx(m.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Xb,e}function _R(t){return I.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Xb}function bR(t,e){const r={...e};for(const n in e){const s=t[n],o=e[n];/^on[A-Z]/.test(n)?s&&o?r[n]=(...u)=>{const p=o(...u);return s(...u),p}:s&&(r[n]=s):n==="style"?r[n]={...s,...o}:n==="className"&&(r[n]=[s,o].filter(Boolean).join(" "))}return{...t,...r}}function ER(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Dm(t){const e=t+"CollectionProvider",[r,n]=Fs(e),[s,o]=r(e,{collectionRef:{current:null},itemMap:new Map}),l=E=>{const{scope:N,children:R}=E,S=ue.useRef(null),A=ue.useRef(new Map).current;return m.jsx(s,{scope:N,itemMap:A,collectionRef:S,children:R})};l.displayName=e;const u=t+"CollectionSlot",p=oc(u),h=ue.forwardRef((E,N)=>{const{scope:R,children:S}=E,A=o(u,R),M=xt(N,A.collectionRef);return m.jsx(p,{ref:M,children:S})});h.displayName=u;const x=t+"CollectionItemSlot",w="data-radix-collection-item",_=oc(x),b=ue.forwardRef((E,N)=>{const{scope:R,children:S,...A}=E,M=ue.useRef(null),k=xt(N,M),B=o(x,R);return ue.useEffect(()=>(B.itemMap.set(M,{ref:M,...A}),()=>void B.itemMap.delete(M))),m.jsx(_,{[w]:"",ref:k,children:S})});b.displayName=x;function T(E){const N=o(t+"CollectionConsumer",E);return ue.useCallback(()=>{const S=N.collectionRef.current;if(!S)return[];const A=Array.from(S.querySelectorAll(`[${w}]`));return Array.from(N.itemMap.values()).sort((B,L)=>A.indexOf(B.ref.current)-A.indexOf(L.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:l,Slot:h,ItemSlot:b},T,n]}var CR=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],We=CR.reduce((t,e)=>{const r=oc(`Primitive.${e}`),n=I.forwardRef((s,o)=>{const{asChild:l,...u}=s,p=l?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),m.jsx(p,{...u,ref:o})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function qb(t,e){t&&Ha.flushSync(()=>t.dispatchEvent(e))}function fs(t){const e=I.useRef(t);return I.useEffect(()=>{e.current=t}),I.useMemo(()=>(...r)=>{var n;return(n=e.current)==null?void 0:n.call(e,...r)},[])}function SR(t,e=globalThis==null?void 0:globalThis.document){const r=fs(t);I.useEffect(()=>{const n=s=>{s.key==="Escape"&&r(s)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var AR="DismissableLayer",Lp="dismissableLayer.update",TR="dismissableLayer.pointerDownOutside",NR="dismissableLayer.focusOutside",_w,Kb=I.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),cd=I.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:l,onDismiss:u,...p}=t,h=I.useContext(Kb),[x,w]=I.useState(null),_=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=I.useState({}),T=xt(e,L=>w(L)),E=Array.from(h.layers),[N]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=E.indexOf(N),S=x?E.indexOf(x):-1,A=h.layersWithOutsidePointerEventsDisabled.size>0,M=S>=R,k=RR(L=>{const V=L.target,U=[...h.branches].some(J=>J.contains(V));!M||U||(s==null||s(L),l==null||l(L),L.defaultPrevented||u==null||u())},_),B=OR(L=>{const V=L.target;[...h.branches].some(J=>J.contains(V))||(o==null||o(L),l==null||l(L),L.defaultPrevented||u==null||u())},_);return SR(L=>{S===h.layers.size-1&&(n==null||n(L),!L.defaultPrevented&&u&&(L.preventDefault(),u()))},_),I.useEffect(()=>{if(x)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(_w=_.body.style.pointerEvents,_.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(x)),h.layers.add(x),bw(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(_.body.style.pointerEvents=_w)}},[x,_,r,h]),I.useEffect(()=>()=>{x&&(h.layers.delete(x),h.layersWithOutsidePointerEventsDisabled.delete(x),bw())},[x,h]),I.useEffect(()=>{const L=()=>b({});return document.addEventListener(Lp,L),()=>document.removeEventListener(Lp,L)},[]),m.jsx(We.div,{...p,ref:T,style:{pointerEvents:A?M?"auto":"none":void 0,...t.style},onFocusCapture:Pe(t.onFocusCapture,B.onFocusCapture),onBlurCapture:Pe(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:Pe(t.onPointerDownCapture,k.onPointerDownCapture)})});cd.displayName=AR;var IR="DismissableLayerBranch",Qb=I.forwardRef((t,e)=>{const r=I.useContext(Kb),n=I.useRef(null),s=xt(e,n);return I.useEffect(()=>{const o=n.current;if(o)return r.branches.add(o),()=>{r.branches.delete(o)}},[r.branches]),m.jsx(We.div,{...t,ref:s})});Qb.displayName=IR;function RR(t,e=globalThis==null?void 0:globalThis.document){const r=fs(t),n=I.useRef(!1),s=I.useRef(()=>{});return I.useEffect(()=>{const o=u=>{if(u.target&&!n.current){let p=function(){Zb(TR,r,h,{discrete:!0})};const h={originalEvent:u};u.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=p,e.addEventListener("click",s.current,{once:!0})):p()}else e.removeEventListener("click",s.current);n.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",o),e.removeEventListener("click",s.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function OR(t,e=globalThis==null?void 0:globalThis.document){const r=fs(t),n=I.useRef(!1);return I.useEffect(()=>{const s=o=>{o.target&&!n.current&&Zb(NR,r,{originalEvent:o},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function bw(){const t=new CustomEvent(Lp);document.dispatchEvent(t)}function Zb(t,e,r,{discrete:n}){const s=r.originalEvent.target,o=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?qb(s,o):s.dispatchEvent(o)}var MR=cd,kR=Qb,zr=globalThis!=null&&globalThis.document?I.useLayoutEffect:()=>{},PR="Portal",$f=I.forwardRef((t,e)=>{var u;const{container:r,...n}=t,[s,o]=I.useState(!1);zr(()=>o(!0),[]);const l=r||s&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return l?$b.createPortal(m.jsx(We.div,{...n,ref:e}),l):null});$f.displayName=PR;function DR(t,e){return I.useReducer((r,n)=>e[r][n]??r,t)}var Bo=t=>{const{present:e,children:r}=t,n=jR(e),s=typeof r=="function"?r({present:n.isPresent}):I.Children.only(r),o=xt(n.ref,LR(s));return typeof r=="function"||n.isPresent?I.cloneElement(s,{ref:o}):null};Bo.displayName="Presence";function jR(t){const[e,r]=I.useState(),n=I.useRef(null),s=I.useRef(t),o=I.useRef("none"),l=t?"mounted":"unmounted",[u,p]=DR(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return I.useEffect(()=>{const h=Xd(n.current);o.current=u==="mounted"?h:"none"},[u]),zr(()=>{const h=n.current,x=s.current;if(x!==t){const _=o.current,b=Xd(h);t?p("MOUNT"):b==="none"||(h==null?void 0:h.display)==="none"?p("UNMOUNT"):p(x&&_!==b?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,p]),zr(()=>{if(e){let h;const x=e.ownerDocument.defaultView??window,w=b=>{const E=Xd(n.current).includes(b.animationName);if(b.target===e&&E&&(p("ANIMATION_END"),!s.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",h=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},_=b=>{b.target===e&&(o.current=Xd(n.current))};return e.addEventListener("animationstart",_),e.addEventListener("animationcancel",w),e.addEventListener("animationend",w),()=>{x.clearTimeout(h),e.removeEventListener("animationstart",_),e.removeEventListener("animationcancel",w),e.removeEventListener("animationend",w)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:I.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Xd(t){return(t==null?void 0:t.animationName)||"none"}function LR(t){var n,s;let e=(n=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:n.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var BR=Wg[" useInsertionEffect ".trim().toString()]||zr;function No({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[s,o,l]=FR({defaultProp:e,onChange:r}),u=t!==void 0,p=u?t:s;{const x=I.useRef(t!==void 0);I.useEffect(()=>{const w=x.current;w!==u&&console.warn(`${n} is changing from ${w?"controlled":"uncontrolled"} to ${u?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=u},[u,n])}const h=I.useCallback(x=>{var w;if(u){const _=UR(x)?x(t):x;_!==t&&((w=l.current)==null||w.call(l,_))}else o(x)},[u,t,o,l]);return[p,h]}function FR({defaultProp:t,onChange:e}){const[r,n]=I.useState(t),s=I.useRef(r),o=I.useRef(e);return BR(()=>{o.current=e},[e]),I.useEffect(()=>{var l;s.current!==r&&((l=o.current)==null||l.call(o,r),s.current=r)},[r,s]),[r,n,o]}function UR(t){return typeof t=="function"}var Jb=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),zR="VisuallyHidden",Gf=I.forwardRef((t,e)=>m.jsx(We.span,{...t,ref:e,style:{...Jb,...t.style}}));Gf.displayName=zR;var VR=Gf,jm="ToastProvider",[Lm,HR,WR]=Dm("Toast"),[eE,_B]=Fs("Toast",[WR]),[$R,Yf]=eE(jm),tE=t=>{const{__scopeToast:e,label:r="Notification",duration:n=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:l}=t,[u,p]=I.useState(null),[h,x]=I.useState(0),w=I.useRef(!1),_=I.useRef(!1);return r.trim()||console.error(`Invalid prop \`label\` supplied to \`${jm}\`. Expected non-empty \`string\`.`),m.jsx(Lm.Provider,{scope:e,children:m.jsx($R,{scope:e,label:r,duration:n,swipeDirection:s,swipeThreshold:o,toastCount:h,viewport:u,onViewportChange:p,onToastAdd:I.useCallback(()=>x(b=>b+1),[]),onToastRemove:I.useCallback(()=>x(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:w,isClosePausedRef:_,children:l})})};tE.displayName=jm;var rE="ToastViewport",GR=["F8"],Bp="toast.viewportPause",Fp="toast.viewportResume",nE=I.forwardRef((t,e)=>{const{__scopeToast:r,hotkey:n=GR,label:s="Notifications ({hotkey})",...o}=t,l=Yf(rE,r),u=HR(r),p=I.useRef(null),h=I.useRef(null),x=I.useRef(null),w=I.useRef(null),_=xt(e,w,l.onViewportChange),b=n.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=l.toastCount>0;I.useEffect(()=>{const N=R=>{var A;n.length!==0&&n.every(M=>R[M]||R.code===M)&&((A=w.current)==null||A.focus())};return document.addEventListener("keydown",N),()=>document.removeEventListener("keydown",N)},[n]),I.useEffect(()=>{const N=p.current,R=w.current;if(T&&N&&R){const S=()=>{if(!l.isClosePausedRef.current){const B=new CustomEvent(Bp);R.dispatchEvent(B),l.isClosePausedRef.current=!0}},A=()=>{if(l.isClosePausedRef.current){const B=new CustomEvent(Fp);R.dispatchEvent(B),l.isClosePausedRef.current=!1}},M=B=>{!N.contains(B.relatedTarget)&&A()},k=()=>{N.contains(document.activeElement)||A()};return N.addEventListener("focusin",S),N.addEventListener("focusout",M),N.addEventListener("pointermove",S),N.addEventListener("pointerleave",k),window.addEventListener("blur",S),window.addEventListener("focus",A),()=>{N.removeEventListener("focusin",S),N.removeEventListener("focusout",M),N.removeEventListener("pointermove",S),N.removeEventListener("pointerleave",k),window.removeEventListener("blur",S),window.removeEventListener("focus",A)}}},[T,l.isClosePausedRef]);const E=I.useCallback(({tabbingDirection:N})=>{const S=u().map(A=>{const M=A.ref.current,k=[M,...iO(M)];return N==="forwards"?k:k.reverse()});return(N==="forwards"?S.reverse():S).flat()},[u]);return I.useEffect(()=>{const N=w.current;if(N){const R=S=>{var k,B,L;const A=S.altKey||S.ctrlKey||S.metaKey;if(S.key==="Tab"&&!A){const V=document.activeElement,U=S.shiftKey;if(S.target===N&&U){(k=h.current)==null||k.focus();return}const K=E({tabbingDirection:U?"backwards":"forwards"}),se=K.findIndex(G=>G===V);h1(K.slice(se+1))?S.preventDefault():U?(B=h.current)==null||B.focus():(L=x.current)==null||L.focus()}};return N.addEventListener("keydown",R),()=>N.removeEventListener("keydown",R)}},[u,E]),m.jsxs(kR,{ref:p,role:"region","aria-label":s.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&m.jsx(Up,{ref:h,onFocusFromOutsideViewport:()=>{const N=E({tabbingDirection:"forwards"});h1(N)}}),m.jsx(Lm.Slot,{scope:r,children:m.jsx(We.ol,{tabIndex:-1,...o,ref:_})}),T&&m.jsx(Up,{ref:x,onFocusFromOutsideViewport:()=>{const N=E({tabbingDirection:"backwards"});h1(N)}})]})});nE.displayName=rE;var sE="ToastFocusProxy",Up=I.forwardRef((t,e)=>{const{__scopeToast:r,onFocusFromOutsideViewport:n,...s}=t,o=Yf(sE,r);return m.jsx(Gf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const u=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(u))&&n()}})});Up.displayName=sE;var ud="Toast",YR="toast.swipeStart",XR="toast.swipeMove",qR="toast.swipeCancel",KR="toast.swipeEnd",iE=I.forwardRef((t,e)=>{const{forceMount:r,open:n,defaultOpen:s,onOpenChange:o,...l}=t,[u,p]=No({prop:n,defaultProp:s??!0,onChange:o,caller:ud});return m.jsx(Bo,{present:r||u,children:m.jsx(JR,{open:u,...l,ref:e,onClose:()=>p(!1),onPause:fs(t.onPause),onResume:fs(t.onResume),onSwipeStart:Pe(t.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Pe(t.onSwipeMove,h=>{const{x,y:w}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${x}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${w}px`)}),onSwipeCancel:Pe(t.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Pe(t.onSwipeEnd,h=>{const{x,y:w}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${x}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${w}px`),p(!1)})})})});iE.displayName=ud;var[QR,ZR]=eE(ud,{onClose(){}}),JR=I.forwardRef((t,e)=>{const{__scopeToast:r,type:n="foreground",duration:s,open:o,onClose:l,onEscapeKeyDown:u,onPause:p,onResume:h,onSwipeStart:x,onSwipeMove:w,onSwipeCancel:_,onSwipeEnd:b,...T}=t,E=Yf(ud,r),[N,R]=I.useState(null),S=xt(e,G=>R(G)),A=I.useRef(null),M=I.useRef(null),k=s||E.duration,B=I.useRef(0),L=I.useRef(k),V=I.useRef(0),{onToastAdd:U,onToastRemove:J}=E,ne=fs(()=>{var H;(N==null?void 0:N.contains(document.activeElement))&&((H=E.viewport)==null||H.focus()),l()}),K=I.useCallback(G=>{!G||G===1/0||(window.clearTimeout(V.current),B.current=new Date().getTime(),V.current=window.setTimeout(ne,G))},[ne]);I.useEffect(()=>{const G=E.viewport;if(G){const H=()=>{K(L.current),h==null||h()},re=()=>{const X=new Date().getTime()-B.current;L.current=L.current-X,window.clearTimeout(V.current),p==null||p()};return G.addEventListener(Bp,re),G.addEventListener(Fp,H),()=>{G.removeEventListener(Bp,re),G.removeEventListener(Fp,H)}}},[E.viewport,k,p,h,K]),I.useEffect(()=>{o&&!E.isClosePausedRef.current&&K(k)},[o,k,E.isClosePausedRef,K]),I.useEffect(()=>(U(),()=>J()),[U,J]);const se=I.useMemo(()=>N?hE(N):null,[N]);return E.viewport?m.jsxs(m.Fragment,{children:[se&&m.jsx(eO,{__scopeToast:r,role:"status","aria-live":n==="foreground"?"assertive":"polite","aria-atomic":!0,children:se}),m.jsx(QR,{scope:r,onClose:ne,children:Ha.createPortal(m.jsx(Lm.ItemSlot,{scope:r,children:m.jsx(MR,{asChild:!0,onEscapeKeyDown:Pe(u,()=>{E.isFocusedToastEscapeKeyDownRef.current||ne(),E.isFocusedToastEscapeKeyDownRef.current=!1}),children:m.jsx(We.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":E.swipeDirection,...T,ref:S,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:Pe(t.onKeyDown,G=>{G.key==="Escape"&&(u==null||u(G.nativeEvent),G.nativeEvent.defaultPrevented||(E.isFocusedToastEscapeKeyDownRef.current=!0,ne()))}),onPointerDown:Pe(t.onPointerDown,G=>{G.button===0&&(A.current={x:G.clientX,y:G.clientY})}),onPointerMove:Pe(t.onPointerMove,G=>{if(!A.current)return;const H=G.clientX-A.current.x,re=G.clientY-A.current.y,X=!!M.current,Y=["left","right"].includes(E.swipeDirection),Z=["left","up"].includes(E.swipeDirection)?Math.min:Math.max,oe=Y?Z(0,H):0,Ee=Y?0:Z(0,re),de=G.pointerType==="touch"?10:2,ae={x:oe,y:Ee},fe={originalEvent:G,delta:ae};X?(M.current=ae,qd(XR,w,fe,{discrete:!1})):Ew(ae,E.swipeDirection,de)?(M.current=ae,qd(YR,x,fe,{discrete:!1}),G.target.setPointerCapture(G.pointerId)):(Math.abs(H)>de||Math.abs(re)>de)&&(A.current=null)}),onPointerUp:Pe(t.onPointerUp,G=>{const H=M.current,re=G.target;if(re.hasPointerCapture(G.pointerId)&&re.releasePointerCapture(G.pointerId),M.current=null,A.current=null,H){const X=G.currentTarget,Y={originalEvent:G,delta:H};Ew(H,E.swipeDirection,E.swipeThreshold)?qd(KR,b,Y,{discrete:!0}):qd(qR,_,Y,{discrete:!0}),X.addEventListener("click",Z=>Z.preventDefault(),{once:!0})}})})})}),E.viewport)})]}):null}),eO=t=>{const{__scopeToast:e,children:r,...n}=t,s=Yf(ud,e),[o,l]=I.useState(!1),[u,p]=I.useState(!1);return nO(()=>l(!0)),I.useEffect(()=>{const h=window.setTimeout(()=>p(!0),1e3);return()=>window.clearTimeout(h)},[]),u?null:m.jsx($f,{asChild:!0,children:m.jsx(Gf,{...n,children:o&&m.jsxs(m.Fragment,{children:[s.label," ",r]})})})},tO="ToastTitle",oE=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(We.div,{...n,ref:e})});oE.displayName=tO;var rO="ToastDescription",aE=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t;return m.jsx(We.div,{...n,ref:e})});aE.displayName=rO;var lE="ToastAction",cE=I.forwardRef((t,e)=>{const{altText:r,...n}=t;return r.trim()?m.jsx(dE,{altText:r,asChild:!0,children:m.jsx(Bm,{...n,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${lE}\`. Expected non-empty \`string\`.`),null)});cE.displayName=lE;var uE="ToastClose",Bm=I.forwardRef((t,e)=>{const{__scopeToast:r,...n}=t,s=ZR(uE,r);return m.jsx(dE,{asChild:!0,children:m.jsx(We.button,{type:"button",...n,ref:e,onClick:Pe(t.onClick,s.onClose)})})});Bm.displayName=uE;var dE=I.forwardRef((t,e)=>{const{__scopeToast:r,altText:n,...s}=t;return m.jsx(We.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":n||void 0,...s,ref:e})});function hE(t){const e=[];return Array.from(t.childNodes).forEach(n=>{if(n.nodeType===n.TEXT_NODE&&n.textContent&&e.push(n.textContent),sO(n)){const s=n.ariaHidden||n.hidden||n.style.display==="none",o=n.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const l=n.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...hE(n))}}),e}function qd(t,e,r,{discrete:n}){const s=r.originalEvent.currentTarget,o=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:r});e&&s.addEventListener(t,e,{once:!0}),n?qb(s,o):s.dispatchEvent(o)}var Ew=(t,e,r=0)=>{const n=Math.abs(t.x),s=Math.abs(t.y),o=n>s;return e==="left"||e==="right"?o&&n>r:!o&&s>r};function nO(t=()=>{}){const e=fs(t);zr(()=>{let r=0,n=0;return r=window.requestAnimationFrame(()=>n=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(r),window.cancelAnimationFrame(n)}},[e])}function sO(t){return t.nodeType===t.ELEMENT_NODE}function iO(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function h1(t){const e=document.activeElement;return t.some(r=>r===e?!0:(r.focus(),document.activeElement!==e))}var oO=tE,fE=nE,pE=iE,gE=oE,mE=aE,xE=cE,yE=Bm;function wE(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=wE(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function vE(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=wE(t))&&(n&&(n+=" "),n+=e);return n}const Cw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,Sw=vE,Xf=(t,e)=>r=>{var n;if((e==null?void 0:e.variants)==null)return Sw(t,r==null?void 0:r.class,r==null?void 0:r.className);const{variants:s,defaultVariants:o}=e,l=Object.keys(s).map(h=>{const x=r==null?void 0:r[h],w=o==null?void 0:o[h];if(x===null)return null;const _=Cw(x)||Cw(w);return s[h][_]}),u=r&&Object.entries(r).reduce((h,x)=>{let[w,_]=x;return _===void 0||(h[w]=_),h},{}),p=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,x)=>{let{class:w,className:_,...b}=x;return Object.entries(b).every(T=>{let[E,N]=T;return Array.isArray(N)?N.includes({...o,...u}[E]):{...o,...u}[E]===N})?[...h,w,_]:h},[]);return Sw(t,l,p,r==null?void 0:r.class,r==null?void 0:r.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aO=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_E=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var lO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cO=I.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:o,iconNode:l,...u},p)=>I.createElement("svg",{ref:p,...lO,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:_E("lucide",s),...u},[...l.map(([h,x])=>I.createElement(h,x)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(t,e)=>{const r=I.forwardRef(({className:n,...s},o)=>I.createElement(cO,{ref:o,iconNode:e,className:_E(`lucide-${aO(t)}`,n),...s}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=rt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=rt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=rt("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uO=rt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=rt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dO=rt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=rt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EE=rt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=rt("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pO=rt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fm=rt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=rt("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=rt("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=rt("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=rt("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ec=rt("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=rt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=rt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SE=rt("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=rt("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=rt("Pen",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TE=rt("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ac=rt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=rt("Printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=rt("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=rt("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dd=rt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=rt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=rt("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=rt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=rt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=rt("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Um=rt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=rt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f1=rt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zm=rt("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=rt("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=rt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Vm="-",CO=t=>{const e=AO(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{const u=l.split(Vm);return u[0]===""&&u.length!==1&&u.shift(),OE(u,e)||SO(l)},getConflictingClassGroupIds:(l,u)=>{const p=r[l]||[];return u&&n[l]?[...p,...n[l]]:p}}},OE=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),s=n?OE(t.slice(1),n):void 0;if(s)return s;if(e.validators.length===0)return;const o=t.join(Vm);return(l=e.validators.find(({validator:u})=>u(o)))==null?void 0:l.classGroupId},Iw=/^\[(.+)\]$/,SO=t=>{if(Iw.test(t)){const e=Iw.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},AO=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return NO(Object.entries(t.classGroups),r).forEach(([o,l])=>{zp(l,n,o,e)}),n},zp=(t,e,r,n)=>{t.forEach(s=>{if(typeof s=="string"){const o=s===""?e:Rw(e,s);o.classGroupId=r;return}if(typeof s=="function"){if(TO(s)){zp(s(n),e,r,n);return}e.validators.push({validator:s,classGroupId:r});return}Object.entries(s).forEach(([o,l])=>{zp(l,Rw(e,o),r,n)})})},Rw=(t,e)=>{let r=t;return e.split(Vm).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},TO=t=>t.isThemeGetter,NO=(t,e)=>e?t.map(([r,n])=>{const s=n.map(o=>typeof o=="string"?e+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,u])=>[e+l,u])):o);return[r,s]}):t,IO=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const s=(o,l)=>{r.set(o,l),e++,e>t&&(e=0,n=r,r=new Map)};return{get(o){let l=r.get(o);if(l!==void 0)return l;if((l=n.get(o))!==void 0)return s(o,l),l},set(o,l){r.has(o)?r.set(o,l):s(o,l)}}},ME="!",RO=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,s=e[0],o=e.length,l=u=>{const p=[];let h=0,x=0,w;for(let N=0;N<u.length;N++){let R=u[N];if(h===0){if(R===s&&(n||u.slice(N,N+o)===e)){p.push(u.slice(x,N)),x=N+o;continue}if(R==="/"){w=N;continue}}R==="["?h++:R==="]"&&h--}const _=p.length===0?u:u.substring(x),b=_.startsWith(ME),T=b?_.substring(1):_,E=w&&w>x?w-x:void 0;return{modifiers:p,hasImportantModifier:b,baseClassName:T,maybePostfixModifierPosition:E}};return r?u=>r({className:u,parseClassName:l}):l},OO=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},MO=t=>({cache:IO(t.cacheSize),parseClassName:RO(t),...CO(t)}),kO=/\s+/,PO=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s}=e,o=[],l=t.trim().split(kO);let u="";for(let p=l.length-1;p>=0;p-=1){const h=l[p],{modifiers:x,hasImportantModifier:w,baseClassName:_,maybePostfixModifierPosition:b}=r(h);let T=!!b,E=n(T?_.substring(0,b):_);if(!E){if(!T){u=h+(u.length>0?" "+u:u);continue}if(E=n(_),!E){u=h+(u.length>0?" "+u:u);continue}T=!1}const N=OO(x).join(":"),R=w?N+ME:N,S=R+E;if(o.includes(S))continue;o.push(S);const A=s(E,T);for(let M=0;M<A.length;++M){const k=A[M];o.push(R+k)}u=h+(u.length>0?" "+u:u)}return u};function DO(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=kE(e))&&(n&&(n+=" "),n+=r);return n}const kE=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=kE(t[n]))&&(r&&(r+=" "),r+=e);return r};function jO(t,...e){let r,n,s,o=l;function l(p){const h=e.reduce((x,w)=>w(x),t());return r=MO(h),n=r.cache.get,s=r.cache.set,o=u,u(p)}function u(p){const h=n(p);if(h)return h;const x=PO(p,r);return s(p,x),x}return function(){return o(DO.apply(null,arguments))}}const Pt=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},PE=/^\[(?:([a-z-]+):)?(.+)\]$/i,LO=/^\d+\/\d+$/,BO=new Set(["px","full","screen"]),FO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,UO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,zO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,VO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,HO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fi=t=>Bl(t)||BO.has(t)||LO.test(t),Wi=t=>Cc(t,"length",QO),Bl=t=>!!t&&!Number.isNaN(Number(t)),p1=t=>Cc(t,"number",Bl),qc=t=>!!t&&Number.isInteger(Number(t)),WO=t=>t.endsWith("%")&&Bl(t.slice(0,-1)),Ke=t=>PE.test(t),$i=t=>FO.test(t),$O=new Set(["length","size","percentage"]),GO=t=>Cc(t,$O,DE),YO=t=>Cc(t,"position",DE),XO=new Set(["image","url"]),qO=t=>Cc(t,XO,JO),KO=t=>Cc(t,"",ZO),Kc=()=>!0,Cc=(t,e,r)=>{const n=PE.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},QO=t=>UO.test(t)&&!zO.test(t),DE=()=>!1,ZO=t=>VO.test(t),JO=t=>HO.test(t),e8=()=>{const t=Pt("colors"),e=Pt("spacing"),r=Pt("blur"),n=Pt("brightness"),s=Pt("borderColor"),o=Pt("borderRadius"),l=Pt("borderSpacing"),u=Pt("borderWidth"),p=Pt("contrast"),h=Pt("grayscale"),x=Pt("hueRotate"),w=Pt("invert"),_=Pt("gap"),b=Pt("gradientColorStops"),T=Pt("gradientColorStopPositions"),E=Pt("inset"),N=Pt("margin"),R=Pt("opacity"),S=Pt("padding"),A=Pt("saturate"),M=Pt("scale"),k=Pt("sepia"),B=Pt("skew"),L=Pt("space"),V=Pt("translate"),U=()=>["auto","contain","none"],J=()=>["auto","hidden","clip","visible","scroll"],ne=()=>["auto",Ke,e],K=()=>[Ke,e],se=()=>["",fi,Wi],G=()=>["auto",Bl,Ke],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],re=()=>["solid","dashed","dotted","double","none"],X=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Y=()=>["start","end","center","between","around","evenly","stretch"],Z=()=>["","0",Ke],oe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ee=()=>[Bl,Ke];return{cacheSize:500,separator:":",theme:{colors:[Kc],spacing:[fi,Wi],blur:["none","",$i,Ke],brightness:Ee(),borderColor:[t],borderRadius:["none","","full",$i,Ke],borderSpacing:K(),borderWidth:se(),contrast:Ee(),grayscale:Z(),hueRotate:Ee(),invert:Z(),gap:K(),gradientColorStops:[t],gradientColorStopPositions:[WO,Wi],inset:ne(),margin:ne(),opacity:Ee(),padding:K(),saturate:Ee(),scale:Ee(),sepia:Z(),skew:Ee(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",Ke]}],container:["container"],columns:[{columns:[$i]}],"break-after":[{"break-after":oe()}],"break-before":[{"break-before":oe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Ke]}],overflow:[{overflow:J()}],"overflow-x":[{"overflow-x":J()}],"overflow-y":[{"overflow-y":J()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[E]}],"inset-x":[{"inset-x":[E]}],"inset-y":[{"inset-y":[E]}],start:[{start:[E]}],end:[{end:[E]}],top:[{top:[E]}],right:[{right:[E]}],bottom:[{bottom:[E]}],left:[{left:[E]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",qc,Ke]}],basis:[{basis:ne()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ke]}],grow:[{grow:Z()}],shrink:[{shrink:Z()}],order:[{order:["first","last","none",qc,Ke]}],"grid-cols":[{"grid-cols":[Kc]}],"col-start-end":[{col:["auto",{span:["full",qc,Ke]},Ke]}],"col-start":[{"col-start":G()}],"col-end":[{"col-end":G()}],"grid-rows":[{"grid-rows":[Kc]}],"row-start-end":[{row:["auto",{span:[qc,Ke]},Ke]}],"row-start":[{"row-start":G()}],"row-end":[{"row-end":G()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ke]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ke]}],gap:[{gap:[_]}],"gap-x":[{"gap-x":[_]}],"gap-y":[{"gap-y":[_]}],"justify-content":[{justify:["normal",...Y()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Y(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Y(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[N]}],mx:[{mx:[N]}],my:[{my:[N]}],ms:[{ms:[N]}],me:[{me:[N]}],mt:[{mt:[N]}],mr:[{mr:[N]}],mb:[{mb:[N]}],ml:[{ml:[N]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ke,e]}],"min-w":[{"min-w":[Ke,e,"min","max","fit"]}],"max-w":[{"max-w":[Ke,e,"none","full","min","max","fit","prose",{screen:[$i]},$i]}],h:[{h:[Ke,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ke,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ke,e,"auto","min","max","fit"]}],"font-size":[{text:["base",$i,Wi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",p1]}],"font-family":[{font:[Kc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ke]}],"line-clamp":[{"line-clamp":["none",Bl,p1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fi,Ke]}],"list-image":[{"list-image":["none",Ke]}],"list-style-type":[{list:["none","disc","decimal",Ke]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...re(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fi,Wi]}],"underline-offset":[{"underline-offset":["auto",fi,Ke]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),YO]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",GO]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},qO]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...re(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:re()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...re()]}],"outline-offset":[{"outline-offset":[fi,Ke]}],"outline-w":[{outline:[fi,Wi]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:se()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[fi,Wi]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",$i,KO]}],"shadow-color":[{shadow:[Kc]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...X(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":X()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[p]}],"drop-shadow":[{"drop-shadow":["","none",$i,Ke]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[x]}],invert:[{invert:[w]}],saturate:[{saturate:[A]}],sepia:[{sepia:[k]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[p]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[x]}],"backdrop-invert":[{"backdrop-invert":[w]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[A]}],"backdrop-sepia":[{"backdrop-sepia":[k]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ke]}],duration:[{duration:Ee()}],ease:[{ease:["linear","in","out","in-out",Ke]}],delay:[{delay:Ee()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ke]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[qc,Ke]}],"translate-x":[{"translate-x":[V]}],"translate-y":[{"translate-y":[V]}],"skew-x":[{"skew-x":[B]}],"skew-y":[{"skew-y":[B]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ke]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ke]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ke]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fi,Wi,p1]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},t8=jO(e8);function He(...t){return t8(vE(t))}const r8=oO,jE=I.forwardRef(({className:t,...e},r)=>m.jsx(fE,{ref:r,className:He("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));jE.displayName=fE.displayName;const n8=Xf("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),LE=I.forwardRef(({className:t,variant:e,...r},n)=>m.jsx(pE,{ref:n,className:He(n8({variant:e}),t),...r}));LE.displayName=pE.displayName;const s8=I.forwardRef(({className:t,...e},r)=>m.jsx(xE,{ref:r,className:He("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));s8.displayName=xE.displayName;const BE=I.forwardRef(({className:t,...e},r)=>m.jsx(yE,{ref:r,className:He("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:m.jsx(RE,{className:"h-4 w-4"})}));BE.displayName=yE.displayName;const FE=I.forwardRef(({className:t,...e},r)=>m.jsx(gE,{ref:r,className:He("text-sm font-semibold",t),...e}));FE.displayName=gE.displayName;const UE=I.forwardRef(({className:t,...e},r)=>m.jsx(mE,{ref:r,className:He("text-sm opacity-90",t),...e}));UE.displayName=mE.displayName;function i8(){const{toasts:t}=gR();return m.jsxs(r8,{children:[t.map(function({id:e,title:r,description:n,action:s,...o}){return m.jsxs(LE,{...o,children:[m.jsxs("div",{className:"grid gap-1",children:[r&&m.jsx(FE,{children:r}),n&&m.jsx(UE,{children:n})]}),s,m.jsx(BE,{})]},e)}),m.jsx(jE,{})]})}var Ow=["light","dark"],o8="(prefers-color-scheme: dark)",a8=I.createContext(void 0),l8={setTheme:t=>{},themes:[]},c8=()=>{var t;return(t=I.useContext(a8))!=null?t:l8};I.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:s,defaultTheme:o,value:l,attrs:u,nonce:p})=>{let h=o==="system",x=r==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${u.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${r}',s='setAttribute';`,w=s?Ow.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",_=(T,E=!1,N=!0)=>{let R=l?l[T]:T,S=E?T+"|| ''":`'${R}'`,A="";return s&&N&&!E&&Ow.includes(T)&&(A+=`d.style.colorScheme = '${T}';`),r==="class"?E||R?A+=`c.add(${S})`:A+="null":R&&(A+=`d[s](n,${S})`),A},b=t?`!function(){${x}${_(t)}}()`:n?`!function(){try{${x}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${h})){var t='${o8}',m=window.matchMedia(t);if(m.media!==t||m.matches){${_("dark")}}else{${_("light")}}}else if(e){${l?`var x=${JSON.stringify(l)};`:""}${_(l?"x[e]":"e",!0)}}${h?"":"else{"+_(o,!1,!1)+"}"}${w}}catch(e){}}()`:`!function(){try{${x}var e=localStorage.getItem('${e}');if(e){${l?`var x=${JSON.stringify(l)};`:""}${_(l?"x[e]":"e",!0)}}else{${_(o,!1,!1)};}${w}}catch(t){}}();`;return I.createElement("script",{nonce:p,dangerouslySetInnerHTML:{__html:b}})});var u8=t=>{switch(t){case"success":return f8;case"info":return g8;case"warning":return p8;case"error":return m8;default:return null}},d8=Array(12).fill(0),h8=({visible:t,className:e})=>ue.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ue.createElement("div",{className:"sonner-spinner"},d8.map((r,n)=>ue.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),f8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),p8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),g8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),m8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ue.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),x8=ue.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ue.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ue.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),y8=()=>{let[t,e]=ue.useState(document.hidden);return ue.useEffect(()=>{let r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t},Vp=1,w8=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:r,...n}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Vp++,o=this.toasts.find(u=>u.id===s),l=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(u=>u.id===s?(this.publish({...u,...t,id:s,title:r}),{...u,...t,id:s,dismissible:l,title:r}):u):this.addToast({title:r,...n,dismissible:l,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(r=>r({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let r;e.loading!==void 0&&(r=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let n=t instanceof Promise?t:t(),s=r!==void 0,o,l=n.then(async p=>{if(o=["resolve",p],ue.isValidElement(p))s=!1,this.create({id:r,type:"default",message:p});else if(_8(p)&&!p.ok){s=!1;let h=typeof e.error=="function"?await e.error(`HTTP error! status: ${p.status}`):e.error,x=typeof e.description=="function"?await e.description(`HTTP error! status: ${p.status}`):e.description;this.create({id:r,type:"error",message:h,description:x})}else if(e.success!==void 0){s=!1;let h=typeof e.success=="function"?await e.success(p):e.success,x=typeof e.description=="function"?await e.description(p):e.description;this.create({id:r,type:"success",message:h,description:x})}}).catch(async p=>{if(o=["reject",p],e.error!==void 0){s=!1;let h=typeof e.error=="function"?await e.error(p):e.error,x=typeof e.description=="function"?await e.description(p):e.description;this.create({id:r,type:"error",message:h,description:x})}}).finally(()=>{var p;s&&(this.dismiss(r),r=void 0),(p=e.finally)==null||p.call(e)}),u=()=>new Promise((p,h)=>l.then(()=>o[0]==="reject"?h(o[1]):p(o[1])).catch(h));return typeof r!="string"&&typeof r!="number"?{unwrap:u}:Object.assign(r,{unwrap:u})},this.custom=(t,e)=>{let r=(e==null?void 0:e.id)||Vp++;return this.create({jsx:t(r),id:r,...e}),r},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},mn=new w8,v8=(t,e)=>{let r=(e==null?void 0:e.id)||Vp++;return mn.addToast({title:t,...e,id:r}),r},_8=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",b8=v8,E8=()=>mn.toasts,C8=()=>mn.getActiveToasts(),ye=Object.assign(b8,{success:mn.success,info:mn.info,warning:mn.warning,error:mn.error,custom:mn.custom,message:mn.message,promise:mn.promise,dismiss:mn.dismiss,loading:mn.loading},{getHistory:E8,getToasts:C8});function S8(t,{insertAt:e}={}){if(typeof document>"u")return;let r=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e==="top"&&r.firstChild?r.insertBefore(n,r.firstChild):r.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}S8(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Kd(t){return t.label!==void 0}var A8=3,T8="32px",N8="16px",Mw=4e3,I8=356,R8=14,O8=20,M8=200;function ws(...t){return t.filter(Boolean).join(" ")}function k8(t){let[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}var P8=t=>{var e,r,n,s,o,l,u,p,h,x,w;let{invert:_,toast:b,unstyled:T,interacting:E,setHeights:N,visibleToasts:R,heights:S,index:A,toasts:M,expanded:k,removeToast:B,defaultRichColors:L,closeButton:V,style:U,cancelButtonStyle:J,actionButtonStyle:ne,className:K="",descriptionClassName:se="",duration:G,position:H,gap:re,loadingIcon:X,expandByDefault:Y,classNames:Z,icons:oe,closeButtonAriaLabel:Ee="Close toast",pauseWhenPageIsHidden:de}=t,[ae,fe]=ue.useState(null),[Ue,ve]=ue.useState(null),[_e,Me]=ue.useState(!1),[ut,Xe]=ue.useState(!1),[je,Je]=ue.useState(!1),[Be,cr]=ue.useState(!1),[yr,Ar]=ue.useState(!1),[ce,Ie]=ue.useState(0),[be,vt]=ue.useState(0),we=ue.useRef(b.duration||G||Mw),Jr=ue.useRef(null),tt=ue.useRef(null),Zt=A===0,Go=A+1<=R,St=b.type,di=b.dismissible!==!1,zs=b.className||"",kr=b.descriptionClassName||"",Yo=ue.useMemo(()=>S.findIndex(ke=>ke.toastId===b.id)||0,[S,b.id]),Xa=ue.useMemo(()=>{var ke;return(ke=b.closeButton)!=null?ke:V},[b.closeButton,V]),vd=ue.useMemo(()=>b.duration||G||Mw,[b.duration,G]),Bt=ue.useRef(0),xe=ue.useRef(0),Jt=ue.useRef(0),ct=ue.useRef(null),[Ft,Xo]=H.split("-"),qa=ue.useMemo(()=>S.reduce((ke,pt,qe)=>qe>=Yo?ke:ke+pt.height,0),[S,Yo]),Oc=y8(),dt=b.invert||_,gs=St==="loading";xe.current=ue.useMemo(()=>Yo*re+qa,[Yo,qa]),ue.useEffect(()=>{we.current=vd},[vd]),ue.useEffect(()=>{Me(!0)},[]),ue.useEffect(()=>{let ke=tt.current;if(ke){let pt=ke.getBoundingClientRect().height;return vt(pt),N(qe=>[{toastId:b.id,height:pt,position:b.position},...qe]),()=>N(qe=>qe.filter(Tr=>Tr.toastId!==b.id))}},[N,b.id]),ue.useLayoutEffect(()=>{if(!_e)return;let ke=tt.current,pt=ke.style.height;ke.style.height="auto";let qe=ke.getBoundingClientRect().height;ke.style.height=pt,vt(qe),N(Tr=>Tr.find(Vr=>Vr.toastId===b.id)?Tr.map(Vr=>Vr.toastId===b.id?{...Vr,height:qe}:Vr):[{toastId:b.id,height:qe,position:b.position},...Tr])},[_e,b.title,b.description,N,b.id]);let ms=ue.useCallback(()=>{Xe(!0),Ie(xe.current),N(ke=>ke.filter(pt=>pt.toastId!==b.id)),setTimeout(()=>{B(b)},M8)},[b,B,N,xe]);ue.useEffect(()=>{if(b.promise&&St==="loading"||b.duration===1/0||b.type==="loading")return;let ke;return k||E||de&&Oc?(()=>{if(Jt.current<Bt.current){let pt=new Date().getTime()-Bt.current;we.current=we.current-pt}Jt.current=new Date().getTime()})():we.current!==1/0&&(Bt.current=new Date().getTime(),ke=setTimeout(()=>{var pt;(pt=b.onAutoClose)==null||pt.call(b,b),ms()},we.current)),()=>clearTimeout(ke)},[k,E,b,St,de,Oc,ms]),ue.useEffect(()=>{b.delete&&ms()},[ms,b.delete]);function _d(){var ke,pt,qe;return oe!=null&&oe.loading?ue.createElement("div",{className:ws(Z==null?void 0:Z.loader,(ke=b==null?void 0:b.classNames)==null?void 0:ke.loader,"sonner-loader"),"data-visible":St==="loading"},oe.loading):X?ue.createElement("div",{className:ws(Z==null?void 0:Z.loader,(pt=b==null?void 0:b.classNames)==null?void 0:pt.loader,"sonner-loader"),"data-visible":St==="loading"},X):ue.createElement(h8,{className:ws(Z==null?void 0:Z.loader,(qe=b==null?void 0:b.classNames)==null?void 0:qe.loader),visible:St==="loading"})}return ue.createElement("li",{tabIndex:0,ref:tt,className:ws(K,zs,Z==null?void 0:Z.toast,(e=b==null?void 0:b.classNames)==null?void 0:e.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[St],(r=b==null?void 0:b.classNames)==null?void 0:r[St]),"data-sonner-toast":"","data-rich-colors":(n=b.richColors)!=null?n:L,"data-styled":!(b.jsx||b.unstyled||T),"data-mounted":_e,"data-promise":!!b.promise,"data-swiped":yr,"data-removed":ut,"data-visible":Go,"data-y-position":Ft,"data-x-position":Xo,"data-index":A,"data-front":Zt,"data-swiping":je,"data-dismissible":di,"data-type":St,"data-invert":dt,"data-swipe-out":Be,"data-swipe-direction":Ue,"data-expanded":!!(k||Y&&_e),style:{"--index":A,"--toasts-before":A,"--z-index":M.length-A,"--offset":`${ut?ce:xe.current}px`,"--initial-height":Y?"auto":`${be}px`,...U,...b.style},onDragEnd:()=>{Je(!1),fe(null),ct.current=null},onPointerDown:ke=>{gs||!di||(Jr.current=new Date,Ie(xe.current),ke.target.setPointerCapture(ke.pointerId),ke.target.tagName!=="BUTTON"&&(Je(!0),ct.current={x:ke.clientX,y:ke.clientY}))},onPointerUp:()=>{var ke,pt,qe,Tr;if(Be||!di)return;ct.current=null;let Vr=Number(((ke=tt.current)==null?void 0:ke.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),wr=Number(((pt=tt.current)==null?void 0:pt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),hi=new Date().getTime()-((qe=Jr.current)==null?void 0:qe.getTime()),vr=ae==="x"?Vr:wr,Xn=Math.abs(vr)/hi;if(Math.abs(vr)>=O8||Xn>.11){Ie(xe.current),(Tr=b.onDismiss)==null||Tr.call(b,b),ve(ae==="x"?Vr>0?"right":"left":wr>0?"down":"up"),ms(),cr(!0),Ar(!1);return}Je(!1),fe(null)},onPointerMove:ke=>{var pt,qe,Tr,Vr;if(!ct.current||!di||((pt=window.getSelection())==null?void 0:pt.toString().length)>0)return;let wr=ke.clientY-ct.current.y,hi=ke.clientX-ct.current.x,vr=(qe=t.swipeDirections)!=null?qe:k8(H);!ae&&(Math.abs(hi)>1||Math.abs(wr)>1)&&fe(Math.abs(hi)>Math.abs(wr)?"x":"y");let Xn={x:0,y:0};ae==="y"?(vr.includes("top")||vr.includes("bottom"))&&(vr.includes("top")&&wr<0||vr.includes("bottom")&&wr>0)&&(Xn.y=wr):ae==="x"&&(vr.includes("left")||vr.includes("right"))&&(vr.includes("left")&&hi<0||vr.includes("right")&&hi>0)&&(Xn.x=hi),(Math.abs(Xn.x)>0||Math.abs(Xn.y)>0)&&Ar(!0),(Tr=tt.current)==null||Tr.style.setProperty("--swipe-amount-x",`${Xn.x}px`),(Vr=tt.current)==null||Vr.style.setProperty("--swipe-amount-y",`${Xn.y}px`)}},Xa&&!b.jsx?ue.createElement("button",{"aria-label":Ee,"data-disabled":gs,"data-close-button":!0,onClick:gs||!di?()=>{}:()=>{var ke;ms(),(ke=b.onDismiss)==null||ke.call(b,b)},className:ws(Z==null?void 0:Z.closeButton,(s=b==null?void 0:b.classNames)==null?void 0:s.closeButton)},(o=oe==null?void 0:oe.close)!=null?o:x8):null,b.jsx||I.isValidElement(b.title)?b.jsx?b.jsx:typeof b.title=="function"?b.title():b.title:ue.createElement(ue.Fragment,null,St||b.icon||b.promise?ue.createElement("div",{"data-icon":"",className:ws(Z==null?void 0:Z.icon,(l=b==null?void 0:b.classNames)==null?void 0:l.icon)},b.promise||b.type==="loading"&&!b.icon?b.icon||_d():null,b.type!=="loading"?b.icon||(oe==null?void 0:oe[St])||u8(St):null):null,ue.createElement("div",{"data-content":"",className:ws(Z==null?void 0:Z.content,(u=b==null?void 0:b.classNames)==null?void 0:u.content)},ue.createElement("div",{"data-title":"",className:ws(Z==null?void 0:Z.title,(p=b==null?void 0:b.classNames)==null?void 0:p.title)},typeof b.title=="function"?b.title():b.title),b.description?ue.createElement("div",{"data-description":"",className:ws(se,kr,Z==null?void 0:Z.description,(h=b==null?void 0:b.classNames)==null?void 0:h.description)},typeof b.description=="function"?b.description():b.description):null),I.isValidElement(b.cancel)?b.cancel:b.cancel&&Kd(b.cancel)?ue.createElement("button",{"data-button":!0,"data-cancel":!0,style:b.cancelButtonStyle||J,onClick:ke=>{var pt,qe;Kd(b.cancel)&&di&&((qe=(pt=b.cancel).onClick)==null||qe.call(pt,ke),ms())},className:ws(Z==null?void 0:Z.cancelButton,(x=b==null?void 0:b.classNames)==null?void 0:x.cancelButton)},b.cancel.label):null,I.isValidElement(b.action)?b.action:b.action&&Kd(b.action)?ue.createElement("button",{"data-button":!0,"data-action":!0,style:b.actionButtonStyle||ne,onClick:ke=>{var pt,qe;Kd(b.action)&&((qe=(pt=b.action).onClick)==null||qe.call(pt,ke),!ke.defaultPrevented&&ms())},className:ws(Z==null?void 0:Z.actionButton,(w=b==null?void 0:b.classNames)==null?void 0:w.actionButton)},b.action.label):null))};function kw(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function D8(t,e){let r={};return[t,e].forEach((n,s)=>{let o=s===1,l=o?"--mobile-offset":"--offset",u=o?N8:T8;function p(h){["top","right","bottom","left"].forEach(x=>{r[`${l}-${x}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?p(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${l}-${h}`]=u:r[`${l}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):p(u)}),r}var j8=I.forwardRef(function(t,e){let{invert:r,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:p,mobileOffset:h,theme:x="light",richColors:w,duration:_,style:b,visibleToasts:T=A8,toastOptions:E,dir:N=kw(),gap:R=R8,loadingIcon:S,icons:A,containerAriaLabel:M="Notifications",pauseWhenPageIsHidden:k}=t,[B,L]=ue.useState([]),V=ue.useMemo(()=>Array.from(new Set([n].concat(B.filter(de=>de.position).map(de=>de.position)))),[B,n]),[U,J]=ue.useState([]),[ne,K]=ue.useState(!1),[se,G]=ue.useState(!1),[H,re]=ue.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=ue.useRef(null),Y=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=ue.useRef(null),oe=ue.useRef(!1),Ee=ue.useCallback(de=>{L(ae=>{var fe;return(fe=ae.find(Ue=>Ue.id===de.id))!=null&&fe.delete||mn.dismiss(de.id),ae.filter(({id:Ue})=>Ue!==de.id)})},[]);return ue.useEffect(()=>mn.subscribe(de=>{if(de.dismiss){L(ae=>ae.map(fe=>fe.id===de.id?{...fe,delete:!0}:fe));return}setTimeout(()=>{$b.flushSync(()=>{L(ae=>{let fe=ae.findIndex(Ue=>Ue.id===de.id);return fe!==-1?[...ae.slice(0,fe),{...ae[fe],...de},...ae.slice(fe+1)]:[de,...ae]})})})}),[]),ue.useEffect(()=>{if(x!=="system"){re(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?re("dark"):re("light")),typeof window>"u")return;let de=window.matchMedia("(prefers-color-scheme: dark)");try{de.addEventListener("change",({matches:ae})=>{re(ae?"dark":"light")})}catch{de.addListener(({matches:fe})=>{try{re(fe?"dark":"light")}catch(Ue){console.error(Ue)}})}},[x]),ue.useEffect(()=>{B.length<=1&&K(!1)},[B]),ue.useEffect(()=>{let de=ae=>{var fe,Ue;s.every(ve=>ae[ve]||ae.code===ve)&&(K(!0),(fe=X.current)==null||fe.focus()),ae.code==="Escape"&&(document.activeElement===X.current||(Ue=X.current)!=null&&Ue.contains(document.activeElement))&&K(!1)};return document.addEventListener("keydown",de),()=>document.removeEventListener("keydown",de)},[s]),ue.useEffect(()=>{if(X.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,oe.current=!1)}},[X.current]),ue.createElement("section",{ref:e,"aria-label":`${M} ${Y}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},V.map((de,ae)=>{var fe;let[Ue,ve]=de.split("-");return B.length?ue.createElement("ol",{key:de,dir:N==="auto"?kw():N,tabIndex:-1,ref:X,className:u,"data-sonner-toaster":!0,"data-theme":H,"data-y-position":Ue,"data-lifted":ne&&B.length>1&&!o,"data-x-position":ve,style:{"--front-toast-height":`${((fe=U[0])==null?void 0:fe.height)||0}px`,"--width":`${I8}px`,"--gap":`${R}px`,...b,...D8(p,h)},onBlur:_e=>{oe.current&&!_e.currentTarget.contains(_e.relatedTarget)&&(oe.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||oe.current||(oe.current=!0,Z.current=_e.relatedTarget)},onMouseEnter:()=>K(!0),onMouseMove:()=>K(!0),onMouseLeave:()=>{se||K(!1)},onDragEnd:()=>K(!1),onPointerDown:_e=>{_e.target instanceof HTMLElement&&_e.target.dataset.dismissible==="false"||G(!0)},onPointerUp:()=>G(!1)},B.filter(_e=>!_e.position&&ae===0||_e.position===de).map((_e,Me)=>{var ut,Xe;return ue.createElement(P8,{key:_e.id,icons:A,index:Me,toast:_e,defaultRichColors:w,duration:(ut=E==null?void 0:E.duration)!=null?ut:_,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:r,visibleToasts:T,closeButton:(Xe=E==null?void 0:E.closeButton)!=null?Xe:l,interacting:se,position:de,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,removeToast:Ee,toasts:B.filter(je=>je.position==_e.position),heights:U.filter(je=>je.position==_e.position),setHeights:J,expandByDefault:o,gap:R,loadingIcon:S,expanded:ne,pauseWhenPageIsHidden:k,swipeDirections:t.swipeDirections})})):null}))});const L8=({...t})=>{const{theme:e="system"}=c8();return m.jsx(j8,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var B8=Wg[" useId ".trim().toString()]||(()=>{}),F8=0;function bo(t){const[e,r]=I.useState(B8());return zr(()=>{t||r(n=>n??String(F8++))},[t]),t||(e?`radix-${e}`:"")}const U8=["top","right","bottom","left"],Io=Math.min,kn=Math.max,of=Math.round,Qd=Math.floor,oi=t=>({x:t,y:t}),z8={left:"right",right:"left",bottom:"top",top:"bottom"},V8={start:"end",end:"start"};function Hp(t,e,r){return kn(t,Io(e,r))}function Mi(t,e){return typeof t=="function"?t(e):t}function ki(t){return t.split("-")[0]}function Sc(t){return t.split("-")[1]}function Hm(t){return t==="x"?"y":"x"}function Wm(t){return t==="y"?"height":"width"}const H8=new Set(["top","bottom"]);function ri(t){return H8.has(ki(t))?"y":"x"}function $m(t){return Hm(ri(t))}function W8(t,e,r){r===void 0&&(r=!1);const n=Sc(t),s=$m(t),o=Wm(s);let l=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(l=af(l)),[l,af(l)]}function $8(t){const e=af(t);return[Wp(t),e,Wp(e)]}function Wp(t){return t.replace(/start|end/g,e=>V8[e])}const Pw=["left","right"],Dw=["right","left"],G8=["top","bottom"],Y8=["bottom","top"];function X8(t,e,r){switch(t){case"top":case"bottom":return r?e?Dw:Pw:e?Pw:Dw;case"left":case"right":return e?G8:Y8;default:return[]}}function q8(t,e,r,n){const s=Sc(t);let o=X8(ki(t),r==="start",n);return s&&(o=o.map(l=>l+"-"+s),e&&(o=o.concat(o.map(Wp)))),o}function af(t){return t.replace(/left|right|bottom|top/g,e=>z8[e])}function K8(t){return{top:0,right:0,bottom:0,left:0,...t}}function zE(t){return typeof t!="number"?K8(t):{top:t,right:t,bottom:t,left:t}}function lf(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}function jw(t,e,r){let{reference:n,floating:s}=t;const o=ri(e),l=$m(e),u=Wm(l),p=ki(e),h=o==="y",x=n.x+n.width/2-s.width/2,w=n.y+n.height/2-s.height/2,_=n[u]/2-s[u]/2;let b;switch(p){case"top":b={x,y:n.y-s.height};break;case"bottom":b={x,y:n.y+n.height};break;case"right":b={x:n.x+n.width,y:w};break;case"left":b={x:n.x-s.width,y:w};break;default:b={x:n.x,y:n.y}}switch(Sc(e)){case"start":b[l]-=_*(r&&h?-1:1);break;case"end":b[l]+=_*(r&&h?-1:1);break}return b}const Q8=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:o=[],platform:l}=r,u=o.filter(Boolean),p=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:t,floating:e,strategy:s}),{x,y:w}=jw(h,n,p),_=n,b={},T=0;for(let E=0;E<u.length;E++){const{name:N,fn:R}=u[E],{x:S,y:A,data:M,reset:k}=await R({x,y:w,initialPlacement:n,placement:_,strategy:s,middlewareData:b,rects:h,platform:l,elements:{reference:t,floating:e}});x=S??x,w=A??w,b={...b,[N]:{...b[N],...M}},k&&T<=50&&(T++,typeof k=="object"&&(k.placement&&(_=k.placement),k.rects&&(h=k.rects===!0?await l.getElementRects({reference:t,floating:e,strategy:s}):k.rects),{x,y:w}=jw(h,_,p)),E=-1)}return{x,y:w,placement:_,strategy:s,middlewareData:b}};async function Uu(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:o,rects:l,elements:u,strategy:p}=t,{boundary:h="clippingAncestors",rootBoundary:x="viewport",elementContext:w="floating",altBoundary:_=!1,padding:b=0}=Mi(e,t),T=zE(b),N=u[_?w==="floating"?"reference":"floating":w],R=lf(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(N)))==null||r?N:N.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:h,rootBoundary:x,strategy:p})),S=w==="floating"?{x:n,y:s,width:l.floating.width,height:l.floating.height}:l.reference,A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),M=await(o.isElement==null?void 0:o.isElement(A))?await(o.getScale==null?void 0:o.getScale(A))||{x:1,y:1}:{x:1,y:1},k=lf(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:S,offsetParent:A,strategy:p}):S);return{top:(R.top-k.top+T.top)/M.y,bottom:(k.bottom-R.bottom+T.bottom)/M.y,left:(R.left-k.left+T.left)/M.x,right:(k.right-R.right+T.right)/M.x}}const Z8=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:o,platform:l,elements:u,middlewareData:p}=e,{element:h,padding:x=0}=Mi(t,e)||{};if(h==null)return{};const w=zE(x),_={x:r,y:n},b=$m(s),T=Wm(b),E=await l.getDimensions(h),N=b==="y",R=N?"top":"left",S=N?"bottom":"right",A=N?"clientHeight":"clientWidth",M=o.reference[T]+o.reference[b]-_[b]-o.floating[T],k=_[b]-o.reference[b],B=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let L=B?B[A]:0;(!L||!await(l.isElement==null?void 0:l.isElement(B)))&&(L=u.floating[A]||o.floating[T]);const V=M/2-k/2,U=L/2-E[T]/2-1,J=Io(w[R],U),ne=Io(w[S],U),K=J,se=L-E[T]-ne,G=L/2-E[T]/2+V,H=Hp(K,G,se),re=!p.arrow&&Sc(s)!=null&&G!==H&&o.reference[T]/2-(G<K?J:ne)-E[T]/2<0,X=re?G<K?G-K:G-se:0;return{[b]:_[b]+X,data:{[b]:H,centerOffset:G-H-X,...re&&{alignmentOffset:X}},reset:re}}}),J8=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:o,rects:l,initialPlacement:u,platform:p,elements:h}=e,{mainAxis:x=!0,crossAxis:w=!0,fallbackPlacements:_,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:E=!0,...N}=Mi(t,e);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const R=ki(s),S=ri(u),A=ki(u)===u,M=await(p.isRTL==null?void 0:p.isRTL(h.floating)),k=_||(A||!E?[af(u)]:$8(u)),B=T!=="none";!_&&B&&k.push(...q8(u,E,T,M));const L=[u,...k],V=await Uu(e,N),U=[];let J=((n=o.flip)==null?void 0:n.overflows)||[];if(x&&U.push(V[R]),w){const G=W8(s,l,M);U.push(V[G[0]],V[G[1]])}if(J=[...J,{placement:s,overflows:U}],!U.every(G=>G<=0)){var ne,K;const G=(((ne=o.flip)==null?void 0:ne.index)||0)+1,H=L[G];if(H&&(!(w==="alignment"?S!==ri(H):!1)||J.every(Y=>Y.overflows[0]>0&&ri(Y.placement)===S)))return{data:{index:G,overflows:J},reset:{placement:H}};let re=(K=J.filter(X=>X.overflows[0]<=0).sort((X,Y)=>X.overflows[1]-Y.overflows[1])[0])==null?void 0:K.placement;if(!re)switch(b){case"bestFit":{var se;const X=(se=J.filter(Y=>{if(B){const Z=ri(Y.placement);return Z===S||Z==="y"}return!0}).map(Y=>[Y.placement,Y.overflows.filter(Z=>Z>0).reduce((Z,oe)=>Z+oe,0)]).sort((Y,Z)=>Y[1]-Z[1])[0])==null?void 0:se[0];X&&(re=X);break}case"initialPlacement":re=u;break}if(s!==re)return{reset:{placement:re}}}return{}}}};function Lw(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Bw(t){return U8.some(e=>t[e]>=0)}const eM=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...s}=Mi(t,e);switch(n){case"referenceHidden":{const o=await Uu(e,{...s,elementContext:"reference"}),l=Lw(o,r.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Bw(l)}}}case"escaped":{const o=await Uu(e,{...s,altBoundary:!0}),l=Lw(o,r.floating);return{data:{escapedOffsets:l,escaped:Bw(l)}}}default:return{}}}}},VE=new Set(["left","top"]);async function tM(t,e){const{placement:r,platform:n,elements:s}=t,o=await(n.isRTL==null?void 0:n.isRTL(s.floating)),l=ki(r),u=Sc(r),p=ri(r)==="y",h=VE.has(l)?-1:1,x=o&&p?-1:1,w=Mi(e,t);let{mainAxis:_,crossAxis:b,alignmentAxis:T}=typeof w=="number"?{mainAxis:w,crossAxis:0,alignmentAxis:null}:{mainAxis:w.mainAxis||0,crossAxis:w.crossAxis||0,alignmentAxis:w.alignmentAxis};return u&&typeof T=="number"&&(b=u==="end"?T*-1:T),p?{x:b*x,y:_*h}:{x:_*h,y:b*x}}const rM=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:o,placement:l,middlewareData:u}=e,p=await tM(e,t);return l===((r=u.offset)==null?void 0:r.placement)&&(n=u.arrow)!=null&&n.alignmentOffset?{}:{x:s+p.x,y:o+p.y,data:{...p,placement:l}}}}},nM=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:s}=e,{mainAxis:o=!0,crossAxis:l=!1,limiter:u={fn:N=>{let{x:R,y:S}=N;return{x:R,y:S}}},...p}=Mi(t,e),h={x:r,y:n},x=await Uu(e,p),w=ri(ki(s)),_=Hm(w);let b=h[_],T=h[w];if(o){const N=_==="y"?"top":"left",R=_==="y"?"bottom":"right",S=b+x[N],A=b-x[R];b=Hp(S,b,A)}if(l){const N=w==="y"?"top":"left",R=w==="y"?"bottom":"right",S=T+x[N],A=T-x[R];T=Hp(S,T,A)}const E=u.fn({...e,[_]:b,[w]:T});return{...E,data:{x:E.x-r,y:E.y-n,enabled:{[_]:o,[w]:l}}}}}},sM=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:s,rects:o,middlewareData:l}=e,{offset:u=0,mainAxis:p=!0,crossAxis:h=!0}=Mi(t,e),x={x:r,y:n},w=ri(s),_=Hm(w);let b=x[_],T=x[w];const E=Mi(u,e),N=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(p){const A=_==="y"?"height":"width",M=o.reference[_]-o.floating[A]+N.mainAxis,k=o.reference[_]+o.reference[A]-N.mainAxis;b<M?b=M:b>k&&(b=k)}if(h){var R,S;const A=_==="y"?"width":"height",M=VE.has(ki(s)),k=o.reference[w]-o.floating[A]+(M&&((R=l.offset)==null?void 0:R[w])||0)+(M?0:N.crossAxis),B=o.reference[w]+o.reference[A]+(M?0:((S=l.offset)==null?void 0:S[w])||0)-(M?N.crossAxis:0);T<k?T=k:T>B&&(T=B)}return{[_]:b,[w]:T}}}},iM=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:s,rects:o,platform:l,elements:u}=e,{apply:p=()=>{},...h}=Mi(t,e),x=await Uu(e,h),w=ki(s),_=Sc(s),b=ri(s)==="y",{width:T,height:E}=o.floating;let N,R;w==="top"||w==="bottom"?(N=w,R=_===(await(l.isRTL==null?void 0:l.isRTL(u.floating))?"start":"end")?"left":"right"):(R=w,N=_==="end"?"top":"bottom");const S=E-x.top-x.bottom,A=T-x.left-x.right,M=Io(E-x[N],S),k=Io(T-x[R],A),B=!e.middlewareData.shift;let L=M,V=k;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(V=A),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(L=S),B&&!_){const J=kn(x.left,0),ne=kn(x.right,0),K=kn(x.top,0),se=kn(x.bottom,0);b?V=T-2*(J!==0||ne!==0?J+ne:kn(x.left,x.right)):L=E-2*(K!==0||se!==0?K+se:kn(x.top,x.bottom))}await p({...e,availableWidth:V,availableHeight:L});const U=await l.getDimensions(u.floating);return T!==U.width||E!==U.height?{reset:{rects:!0}}:{}}}};function Kf(){return typeof window<"u"}function Ac(t){return HE(t)?(t.nodeName||"").toLowerCase():"#document"}function zn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function ui(t){var e;return(e=(HE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function HE(t){return Kf()?t instanceof Node||t instanceof zn(t).Node:!1}function Ls(t){return Kf()?t instanceof Element||t instanceof zn(t).Element:!1}function li(t){return Kf()?t instanceof HTMLElement||t instanceof zn(t).HTMLElement:!1}function Fw(t){return!Kf()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zn(t).ShadowRoot}const oM=new Set(["inline","contents"]);function hd(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=Bs(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!oM.has(s)}const aM=new Set(["table","td","th"]);function lM(t){return aM.has(Ac(t))}const cM=[":popover-open",":modal"];function Qf(t){return cM.some(e=>{try{return t.matches(e)}catch{return!1}})}const uM=["transform","translate","scale","rotate","perspective"],dM=["transform","translate","scale","rotate","perspective","filter"],hM=["paint","layout","strict","content"];function Gm(t){const e=Ym(),r=Ls(t)?Bs(t):t;return uM.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||dM.some(n=>(r.willChange||"").includes(n))||hM.some(n=>(r.contain||"").includes(n))}function fM(t){let e=Ro(t);for(;li(e)&&!lc(e);){if(Gm(e))return e;if(Qf(e))return null;e=Ro(e)}return null}function Ym(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const pM=new Set(["html","body","#document"]);function lc(t){return pM.has(Ac(t))}function Bs(t){return zn(t).getComputedStyle(t)}function Zf(t){return Ls(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ro(t){if(Ac(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Fw(t)&&t.host||ui(t);return Fw(e)?e.host:e}function WE(t){const e=Ro(t);return lc(e)?t.ownerDocument?t.ownerDocument.body:t.body:li(e)&&hd(e)?e:WE(e)}function zu(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=WE(t),o=s===((n=t.ownerDocument)==null?void 0:n.body),l=zn(s);if(o){const u=$p(l);return e.concat(l,l.visualViewport||[],hd(s)?s:[],u&&r?zu(u):[])}return e.concat(s,zu(s,[],r))}function $p(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function $E(t){const e=Bs(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=li(t),o=s?t.offsetWidth:r,l=s?t.offsetHeight:n,u=of(r)!==o||of(n)!==l;return u&&(r=o,n=l),{width:r,height:n,$:u}}function Xm(t){return Ls(t)?t:t.contextElement}function Fl(t){const e=Xm(t);if(!li(e))return oi(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:o}=$E(e);let l=(o?of(r.width):r.width)/n,u=(o?of(r.height):r.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!u||!Number.isFinite(u))&&(u=1),{x:l,y:u}}const gM=oi(0);function GE(t){const e=zn(t);return!Ym()||!e.visualViewport?gM:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mM(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==zn(t)?!1:e}function Ma(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),o=Xm(t);let l=oi(1);e&&(n?Ls(n)&&(l=Fl(n)):l=Fl(t));const u=mM(o,r,n)?GE(o):oi(0);let p=(s.left+u.x)/l.x,h=(s.top+u.y)/l.y,x=s.width/l.x,w=s.height/l.y;if(o){const _=zn(o),b=n&&Ls(n)?zn(n):n;let T=_,E=$p(T);for(;E&&n&&b!==T;){const N=Fl(E),R=E.getBoundingClientRect(),S=Bs(E),A=R.left+(E.clientLeft+parseFloat(S.paddingLeft))*N.x,M=R.top+(E.clientTop+parseFloat(S.paddingTop))*N.y;p*=N.x,h*=N.y,x*=N.x,w*=N.y,p+=A,h+=M,T=zn(E),E=$p(T)}}return lf({width:x,height:w,x:p,y:h})}function qm(t,e){const r=Zf(t).scrollLeft;return e?e.left+r:Ma(ui(t)).left+r}function YE(t,e,r){r===void 0&&(r=!1);const n=t.getBoundingClientRect(),s=n.left+e.scrollLeft-(r?0:qm(t,n)),o=n.top+e.scrollTop;return{x:s,y:o}}function xM(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const o=s==="fixed",l=ui(n),u=e?Qf(e.floating):!1;if(n===l||u&&o)return r;let p={scrollLeft:0,scrollTop:0},h=oi(1);const x=oi(0),w=li(n);if((w||!w&&!o)&&((Ac(n)!=="body"||hd(l))&&(p=Zf(n)),li(n))){const b=Ma(n);h=Fl(n),x.x=b.x+n.clientLeft,x.y=b.y+n.clientTop}const _=l&&!w&&!o?YE(l,p,!0):oi(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-p.scrollLeft*h.x+x.x+_.x,y:r.y*h.y-p.scrollTop*h.y+x.y+_.y}}function yM(t){return Array.from(t.getClientRects())}function wM(t){const e=ui(t),r=Zf(t),n=t.ownerDocument.body,s=kn(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),o=kn(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+qm(t);const u=-r.scrollTop;return Bs(n).direction==="rtl"&&(l+=kn(e.clientWidth,n.clientWidth)-s),{width:s,height:o,x:l,y:u}}function vM(t,e){const r=zn(t),n=ui(t),s=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,u=0,p=0;if(s){o=s.width,l=s.height;const h=Ym();(!h||h&&e==="fixed")&&(u=s.offsetLeft,p=s.offsetTop)}return{width:o,height:l,x:u,y:p}}const _M=new Set(["absolute","fixed"]);function bM(t,e){const r=Ma(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,o=li(t)?Fl(t):oi(1),l=t.clientWidth*o.x,u=t.clientHeight*o.y,p=s*o.x,h=n*o.y;return{width:l,height:u,x:p,y:h}}function Uw(t,e,r){let n;if(e==="viewport")n=vM(t,r);else if(e==="document")n=wM(ui(t));else if(Ls(e))n=bM(e,r);else{const s=GE(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return lf(n)}function XE(t,e){const r=Ro(t);return r===e||!Ls(r)||lc(r)?!1:Bs(r).position==="fixed"||XE(r,e)}function EM(t,e){const r=e.get(t);if(r)return r;let n=zu(t,[],!1).filter(u=>Ls(u)&&Ac(u)!=="body"),s=null;const o=Bs(t).position==="fixed";let l=o?Ro(t):t;for(;Ls(l)&&!lc(l);){const u=Bs(l),p=Gm(l);!p&&u.position==="fixed"&&(s=null),(o?!p&&!s:!p&&u.position==="static"&&!!s&&_M.has(s.position)||hd(l)&&!p&&XE(t,l))?n=n.filter(x=>x!==l):s=u,l=Ro(l)}return e.set(t,n),n}function CM(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const l=[...r==="clippingAncestors"?Qf(e)?[]:EM(e,this._c):[].concat(r),n],u=l[0],p=l.reduce((h,x)=>{const w=Uw(e,x,s);return h.top=kn(w.top,h.top),h.right=Io(w.right,h.right),h.bottom=Io(w.bottom,h.bottom),h.left=kn(w.left,h.left),h},Uw(e,u,s));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function SM(t){const{width:e,height:r}=$E(t);return{width:e,height:r}}function AM(t,e,r){const n=li(e),s=ui(e),o=r==="fixed",l=Ma(t,!0,o,e);let u={scrollLeft:0,scrollTop:0};const p=oi(0);function h(){p.x=qm(s)}if(n||!n&&!o)if((Ac(e)!=="body"||hd(s))&&(u=Zf(e)),n){const b=Ma(e,!0,o,e);p.x=b.x+e.clientLeft,p.y=b.y+e.clientTop}else s&&h();o&&!n&&s&&h();const x=s&&!n&&!o?YE(s,u):oi(0),w=l.left+u.scrollLeft-p.x-x.x,_=l.top+u.scrollTop-p.y-x.y;return{x:w,y:_,width:l.width,height:l.height}}function g1(t){return Bs(t).position==="static"}function zw(t,e){if(!li(t)||Bs(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return ui(t)===r&&(r=r.ownerDocument.body),r}function qE(t,e){const r=zn(t);if(Qf(t))return r;if(!li(t)){let s=Ro(t);for(;s&&!lc(s);){if(Ls(s)&&!g1(s))return s;s=Ro(s)}return r}let n=zw(t,e);for(;n&&lM(n)&&g1(n);)n=zw(n,e);return n&&lc(n)&&g1(n)&&!Gm(n)?r:n||fM(t)||r}const TM=async function(t){const e=this.getOffsetParent||qE,r=this.getDimensions,n=await r(t.floating);return{reference:AM(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function NM(t){return Bs(t).direction==="rtl"}const IM={convertOffsetParentRelativeRectToViewportRelativeRect:xM,getDocumentElement:ui,getClippingRect:CM,getOffsetParent:qE,getElementRects:TM,getClientRects:yM,getDimensions:SM,getScale:Fl,isElement:Ls,isRTL:NM};function KE(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function RM(t,e){let r=null,n;const s=ui(t);function o(){var u;clearTimeout(n),(u=r)==null||u.disconnect(),r=null}function l(u,p){u===void 0&&(u=!1),p===void 0&&(p=1),o();const h=t.getBoundingClientRect(),{left:x,top:w,width:_,height:b}=h;if(u||e(),!_||!b)return;const T=Qd(w),E=Qd(s.clientWidth-(x+_)),N=Qd(s.clientHeight-(w+b)),R=Qd(x),A={rootMargin:-T+"px "+-E+"px "+-N+"px "+-R+"px",threshold:kn(0,Io(1,p))||1};let M=!0;function k(B){const L=B[0].intersectionRatio;if(L!==p){if(!M)return l();L?l(!1,L):n=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!KE(h,t.getBoundingClientRect())&&l(),M=!1}try{r=new IntersectionObserver(k,{...A,root:s.ownerDocument})}catch{r=new IntersectionObserver(k,A)}r.observe(t)}return l(!0),o}function OM(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:p=!1}=n,h=Xm(t),x=s||o?[...h?zu(h):[],...zu(e)]:[];x.forEach(R=>{s&&R.addEventListener("scroll",r,{passive:!0}),o&&R.addEventListener("resize",r)});const w=h&&u?RM(h,r):null;let _=-1,b=null;l&&(b=new ResizeObserver(R=>{let[S]=R;S&&S.target===h&&b&&(b.unobserve(e),cancelAnimationFrame(_),_=requestAnimationFrame(()=>{var A;(A=b)==null||A.observe(e)})),r()}),h&&!p&&b.observe(h),b.observe(e));let T,E=p?Ma(t):null;p&&N();function N(){const R=Ma(t);E&&!KE(E,R)&&r(),E=R,T=requestAnimationFrame(N)}return r(),()=>{var R;x.forEach(S=>{s&&S.removeEventListener("scroll",r),o&&S.removeEventListener("resize",r)}),w==null||w(),(R=b)==null||R.disconnect(),b=null,p&&cancelAnimationFrame(T)}}const MM=rM,kM=nM,PM=J8,DM=iM,jM=eM,Vw=Z8,LM=sM,BM=(t,e,r)=>{const n=new Map,s={platform:IM,...r},o={...s.platform,_c:n};return Q8(t,e,{...s,platform:o})};var FM=typeof document<"u",UM=function(){},Th=FM?I.useLayoutEffect:UM;function cf(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!cf(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const o=s[n];if(!(o==="_owner"&&t.$$typeof)&&!cf(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function QE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Hw(t,e){const r=QE(t);return Math.round(e*r)/r}function m1(t){const e=I.useRef(t);return Th(()=>{e.current=t}),e}function zM(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:o,floating:l}={},transform:u=!0,whileElementsMounted:p,open:h}=t,[x,w]=I.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[_,b]=I.useState(n);cf(_,n)||b(n);const[T,E]=I.useState(null),[N,R]=I.useState(null),S=I.useCallback(Y=>{Y!==B.current&&(B.current=Y,E(Y))},[]),A=I.useCallback(Y=>{Y!==L.current&&(L.current=Y,R(Y))},[]),M=o||T,k=l||N,B=I.useRef(null),L=I.useRef(null),V=I.useRef(x),U=p!=null,J=m1(p),ne=m1(s),K=m1(h),se=I.useCallback(()=>{if(!B.current||!L.current)return;const Y={placement:e,strategy:r,middleware:_};ne.current&&(Y.platform=ne.current),BM(B.current,L.current,Y).then(Z=>{const oe={...Z,isPositioned:K.current!==!1};G.current&&!cf(V.current,oe)&&(V.current=oe,Ha.flushSync(()=>{w(oe)}))})},[_,e,r,ne,K]);Th(()=>{h===!1&&V.current.isPositioned&&(V.current.isPositioned=!1,w(Y=>({...Y,isPositioned:!1})))},[h]);const G=I.useRef(!1);Th(()=>(G.current=!0,()=>{G.current=!1}),[]),Th(()=>{if(M&&(B.current=M),k&&(L.current=k),M&&k){if(J.current)return J.current(M,k,se);se()}},[M,k,se,J,U]);const H=I.useMemo(()=>({reference:B,floating:L,setReference:S,setFloating:A}),[S,A]),re=I.useMemo(()=>({reference:M,floating:k}),[M,k]),X=I.useMemo(()=>{const Y={position:r,left:0,top:0};if(!re.floating)return Y;const Z=Hw(re.floating,x.x),oe=Hw(re.floating,x.y);return u?{...Y,transform:"translate("+Z+"px, "+oe+"px)",...QE(re.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:Z,top:oe}},[r,u,re.floating,x.x,x.y]);return I.useMemo(()=>({...x,update:se,refs:H,elements:re,floatingStyles:X}),[x,se,H,re,X])}const VM=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?Vw({element:n.current,padding:s}).fn(r):{}:n?Vw({element:n,padding:s}).fn(r):{}}}},HM=(t,e)=>({...MM(t),options:[t,e]}),WM=(t,e)=>({...kM(t),options:[t,e]}),$M=(t,e)=>({...LM(t),options:[t,e]}),GM=(t,e)=>({...PM(t),options:[t,e]}),YM=(t,e)=>({...DM(t),options:[t,e]}),XM=(t,e)=>({...jM(t),options:[t,e]}),qM=(t,e)=>({...VM(t),options:[t,e]});var KM="Arrow",ZE=I.forwardRef((t,e)=>{const{children:r,width:n=10,height:s=5,...o}=t;return m.jsx(We.svg,{...o,ref:e,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:m.jsx("polygon",{points:"0,0 30,0 15,10"})})});ZE.displayName=KM;var QM=ZE;function Km(t){const[e,r]=I.useState(void 0);return zr(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let l,u;if("borderBoxSize"in o){const p=o.borderBoxSize,h=Array.isArray(p)?p[0]:p;l=h.inlineSize,u=h.blockSize}else l=t.offsetWidth,u=t.offsetHeight;r({width:l,height:u})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var Qm="Popper",[JE,Jf]=Fs(Qm),[ZM,eC]=JE(Qm),tC=t=>{const{__scopePopper:e,children:r}=t,[n,s]=I.useState(null);return m.jsx(ZM,{scope:e,anchor:n,onAnchorChange:s,children:r})};tC.displayName=Qm;var rC="PopperAnchor",nC=I.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...s}=t,o=eC(rC,r),l=I.useRef(null),u=xt(e,l);return I.useEffect(()=>{o.onAnchorChange((n==null?void 0:n.current)||l.current)}),n?null:m.jsx(We.div,{...s,ref:u})});nC.displayName=rC;var Zm="PopperContent",[JM,e6]=JE(Zm),sC=I.forwardRef((t,e)=>{var _e,Me,ut,Xe,je,Je;const{__scopePopper:r,side:n="bottom",sideOffset:s=0,align:o="center",alignOffset:l=0,arrowPadding:u=0,avoidCollisions:p=!0,collisionBoundary:h=[],collisionPadding:x=0,sticky:w="partial",hideWhenDetached:_=!1,updatePositionStrategy:b="optimized",onPlaced:T,...E}=t,N=eC(Zm,r),[R,S]=I.useState(null),A=xt(e,Be=>S(Be)),[M,k]=I.useState(null),B=Km(M),L=(B==null?void 0:B.width)??0,V=(B==null?void 0:B.height)??0,U=n+(o!=="center"?"-"+o:""),J=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ne=Array.isArray(h)?h:[h],K=ne.length>0,se={padding:J,boundary:ne.filter(r6),altBoundary:K},{refs:G,floatingStyles:H,placement:re,isPositioned:X,middlewareData:Y}=zM({strategy:"fixed",placement:U,whileElementsMounted:(...Be)=>OM(...Be,{animationFrame:b==="always"}),elements:{reference:N.anchor},middleware:[HM({mainAxis:s+V,alignmentAxis:l}),p&&WM({mainAxis:!0,crossAxis:!1,limiter:w==="partial"?$M():void 0,...se}),p&&GM({...se}),YM({...se,apply:({elements:Be,rects:cr,availableWidth:yr,availableHeight:Ar})=>{const{width:ce,height:Ie}=cr.reference,be=Be.floating.style;be.setProperty("--radix-popper-available-width",`${yr}px`),be.setProperty("--radix-popper-available-height",`${Ar}px`),be.setProperty("--radix-popper-anchor-width",`${ce}px`),be.setProperty("--radix-popper-anchor-height",`${Ie}px`)}}),M&&qM({element:M,padding:u}),n6({arrowWidth:L,arrowHeight:V}),_&&XM({strategy:"referenceHidden",...se})]}),[Z,oe]=aC(re),Ee=fs(T);zr(()=>{X&&(Ee==null||Ee())},[X,Ee]);const de=(_e=Y.arrow)==null?void 0:_e.x,ae=(Me=Y.arrow)==null?void 0:Me.y,fe=((ut=Y.arrow)==null?void 0:ut.centerOffset)!==0,[Ue,ve]=I.useState();return zr(()=>{R&&ve(window.getComputedStyle(R).zIndex)},[R]),m.jsx("div",{ref:G.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:X?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ue,"--radix-popper-transform-origin":[(Xe=Y.transformOrigin)==null?void 0:Xe.x,(je=Y.transformOrigin)==null?void 0:je.y].join(" "),...((Je=Y.hide)==null?void 0:Je.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:m.jsx(JM,{scope:r,placedSide:Z,onArrowChange:k,arrowX:de,arrowY:ae,shouldHideArrow:fe,children:m.jsx(We.div,{"data-side":Z,"data-align":oe,...E,ref:A,style:{...E.style,animation:X?void 0:"none"}})})})});sC.displayName=Zm;var iC="PopperArrow",t6={top:"bottom",right:"left",bottom:"top",left:"right"},oC=I.forwardRef(function(e,r){const{__scopePopper:n,...s}=e,o=e6(iC,n),l=t6[o.placedSide];return m.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:m.jsx(QM,{...s,ref:r,style:{...s.style,display:"block"}})})});oC.displayName=iC;function r6(t){return t!==null}var n6=t=>({name:"transformOrigin",options:t,fn(e){var N,R,S;const{placement:r,rects:n,middlewareData:s}=e,l=((N=s.arrow)==null?void 0:N.centerOffset)!==0,u=l?0:t.arrowWidth,p=l?0:t.arrowHeight,[h,x]=aC(r),w={start:"0%",center:"50%",end:"100%"}[x],_=(((R=s.arrow)==null?void 0:R.x)??0)+u/2,b=(((S=s.arrow)==null?void 0:S.y)??0)+p/2;let T="",E="";return h==="bottom"?(T=l?w:`${_}px`,E=`${-p}px`):h==="top"?(T=l?w:`${_}px`,E=`${n.floating.height+p}px`):h==="right"?(T=`${-p}px`,E=l?w:`${b}px`):h==="left"&&(T=`${n.floating.width+p}px`,E=l?w:`${b}px`),{data:{x:T,y:E}}}});function aC(t){const[e,r="center"]=t.split("-");return[e,r]}var s6=tC,lC=nC,cC=sC,uC=oC,[e0,bB]=Fs("Tooltip",[Jf]),Jm=Jf(),dC="TooltipProvider",i6=700,Ww="tooltip.open",[o6,hC]=e0(dC),fC=t=>{const{__scopeTooltip:e,delayDuration:r=i6,skipDelayDuration:n=300,disableHoverableContent:s=!1,children:o}=t,l=I.useRef(!0),u=I.useRef(!1),p=I.useRef(0);return I.useEffect(()=>{const h=p.current;return()=>window.clearTimeout(h)},[]),m.jsx(o6,{scope:e,isOpenDelayedRef:l,delayDuration:r,onOpen:I.useCallback(()=>{window.clearTimeout(p.current),l.current=!1},[]),onClose:I.useCallback(()=>{window.clearTimeout(p.current),p.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:u,onPointerInTransitChange:I.useCallback(h=>{u.current=h},[]),disableHoverableContent:s,children:o})};fC.displayName=dC;var pC="Tooltip",[EB,t0]=e0(pC),Gp="TooltipTrigger",a6=I.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=t0(Gp,r),o=hC(Gp,r),l=Jm(r),u=I.useRef(null),p=xt(e,u,s.onTriggerChange),h=I.useRef(!1),x=I.useRef(!1),w=I.useCallback(()=>h.current=!1,[]);return I.useEffect(()=>()=>document.removeEventListener("pointerup",w),[w]),m.jsx(lC,{asChild:!0,...l,children:m.jsx(We.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...n,ref:p,onPointerMove:Pe(t.onPointerMove,_=>{_.pointerType!=="touch"&&!x.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),x.current=!0)}),onPointerLeave:Pe(t.onPointerLeave,()=>{s.onTriggerLeave(),x.current=!1}),onPointerDown:Pe(t.onPointerDown,()=>{s.open&&s.onClose(),h.current=!0,document.addEventListener("pointerup",w,{once:!0})}),onFocus:Pe(t.onFocus,()=>{h.current||s.onOpen()}),onBlur:Pe(t.onBlur,s.onClose),onClick:Pe(t.onClick,s.onClose)})})});a6.displayName=Gp;var l6="TooltipPortal",[CB,c6]=e0(l6,{forceMount:void 0}),cc="TooltipContent",gC=I.forwardRef((t,e)=>{const r=c6(cc,t.__scopeTooltip),{forceMount:n=r.forceMount,side:s="top",...o}=t,l=t0(cc,t.__scopeTooltip);return m.jsx(Bo,{present:n||l.open,children:l.disableHoverableContent?m.jsx(mC,{side:s,...o,ref:e}):m.jsx(u6,{side:s,...o,ref:e})})}),u6=I.forwardRef((t,e)=>{const r=t0(cc,t.__scopeTooltip),n=hC(cc,t.__scopeTooltip),s=I.useRef(null),o=xt(e,s),[l,u]=I.useState(null),{trigger:p,onClose:h}=r,x=s.current,{onPointerInTransitChange:w}=n,_=I.useCallback(()=>{u(null),w(!1)},[w]),b=I.useCallback((T,E)=>{const N=T.currentTarget,R={x:T.clientX,y:T.clientY},S=g6(R,N.getBoundingClientRect()),A=m6(R,S),M=x6(E.getBoundingClientRect()),k=w6([...A,...M]);u(k),w(!0)},[w]);return I.useEffect(()=>()=>_(),[_]),I.useEffect(()=>{if(p&&x){const T=N=>b(N,x),E=N=>b(N,p);return p.addEventListener("pointerleave",T),x.addEventListener("pointerleave",E),()=>{p.removeEventListener("pointerleave",T),x.removeEventListener("pointerleave",E)}}},[p,x,b,_]),I.useEffect(()=>{if(l){const T=E=>{const N=E.target,R={x:E.clientX,y:E.clientY},S=(p==null?void 0:p.contains(N))||(x==null?void 0:x.contains(N)),A=!y6(R,l);S?_():A&&(_(),h())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[p,x,l,h,_]),m.jsx(mC,{...t,ref:o})}),[d6,h6]=e0(pC,{isInside:!1}),f6=vR("TooltipContent"),mC=I.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:l,...u}=t,p=t0(cc,r),h=Jm(r),{onClose:x}=p;return I.useEffect(()=>(document.addEventListener(Ww,x),()=>document.removeEventListener(Ww,x)),[x]),I.useEffect(()=>{if(p.trigger){const w=_=>{const b=_.target;b!=null&&b.contains(p.trigger)&&x()};return window.addEventListener("scroll",w,{capture:!0}),()=>window.removeEventListener("scroll",w,{capture:!0})}},[p.trigger,x]),m.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:w=>w.preventDefault(),onDismiss:x,children:m.jsxs(cC,{"data-state":p.stateAttribute,...h,...u,ref:e,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[m.jsx(f6,{children:n}),m.jsx(d6,{scope:r,isInside:!0,children:m.jsx(VR,{id:p.contentId,role:"tooltip",children:s||n})})]})})});gC.displayName=cc;var xC="TooltipArrow",p6=I.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,s=Jm(r);return h6(xC,r).isInside?null:m.jsx(uC,{...s,...n,ref:e})});p6.displayName=xC;function g6(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),o=Math.abs(e.left-t.x);switch(Math.min(r,n,s,o)){case o:return"left";case s:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function m6(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function x6(t){const{top:e,right:r,bottom:n,left:s}=t;return[{x:s,y:e},{x:r,y:e},{x:r,y:n},{x:s,y:n}]}function y6(t,e){const{x:r,y:n}=t;let s=!1;for(let o=0,l=e.length-1;o<e.length;l=o++){const u=e[o],p=e[l],h=u.x,x=u.y,w=p.x,_=p.y;x>n!=_>n&&r<(w-h)*(n-x)/(_-x)+h&&(s=!s)}return s}function w6(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),v6(e)}function v6(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const s=t[n];for(;e.length>=2;){const o=e[e.length-1],l=e[e.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))e.pop();else break}e.push(s)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const s=t[n];for(;r.length>=2;){const o=r[r.length-1],l=r[r.length-2];if((o.x-l.x)*(s.y-l.y)>=(o.y-l.y)*(s.x-l.x))r.pop();else break}r.push(s)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var _6=fC,yC=gC;const b6=_6,E6=I.forwardRef(({className:t,sideOffset:e=4,...r},n)=>m.jsx(yC,{ref:n,sideOffset:e,className:He("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r}));E6.displayName=yC.displayName;var r0=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},n0=typeof window>"u"||"Deno"in globalThis;function Cs(){}function C6(t,e){return typeof t=="function"?t(e):t}function S6(t){return typeof t=="number"&&t>=0&&t!==1/0}function A6(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Yp(t,e){return typeof t=="function"?t(e):t}function T6(t,e){return typeof t=="function"?t(e):t}function $w(t,e){const{type:r="all",exact:n,fetchStatus:s,predicate:o,queryKey:l,stale:u}=t;if(l){if(n){if(e.queryHash!==ex(l,e.options))return!1}else if(!Hu(e.queryKey,l))return!1}if(r!=="all"){const p=e.isActive();if(r==="active"&&!p||r==="inactive"&&p)return!1}return!(typeof u=="boolean"&&e.isStale()!==u||s&&s!==e.state.fetchStatus||o&&!o(e))}function Gw(t,e){const{exact:r,status:n,predicate:s,mutationKey:o}=t;if(o){if(!e.options.mutationKey)return!1;if(r){if(Vu(e.options.mutationKey)!==Vu(o))return!1}else if(!Hu(e.options.mutationKey,o))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function ex(t,e){return((e==null?void 0:e.queryKeyHashFn)||Vu)(t)}function Vu(t){return JSON.stringify(t,(e,r)=>Xp(r)?Object.keys(r).sort().reduce((n,s)=>(n[s]=r[s],n),{}):r)}function Hu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Hu(t[r],e[r])):!1}function wC(t,e){if(t===e)return t;const r=Yw(t)&&Yw(e);if(r||Xp(t)&&Xp(e)){const n=r?t:Object.keys(t),s=n.length,o=r?e:Object.keys(e),l=o.length,u=r?[]:{},p=new Set(n);let h=0;for(let x=0;x<l;x++){const w=r?x:o[x];(!r&&p.has(w)||r)&&t[w]===void 0&&e[w]===void 0?(u[w]=void 0,h++):(u[w]=wC(t[w],e[w]),u[w]===t[w]&&t[w]!==void 0&&h++)}return s===l&&h===s?t:u}return e}function Yw(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function Xp(t){if(!Xw(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!Xw(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function Xw(t){return Object.prototype.toString.call(t)==="[object Object]"}function N6(t){return new Promise(e=>{setTimeout(e,t)})}function I6(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?wC(t,e):e}function R6(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function O6(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var tx=Symbol();function vC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===tx?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var ga,to,$l,C2,M6=(C2=class extends r0{constructor(){super();gt(this,ga);gt(this,to);gt(this,$l);$e(this,$l,e=>{if(!n0&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){ie(this,to)||this.setEventListener(ie(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,to))==null||e.call(this),$e(this,to,void 0))}setEventListener(e){var r;$e(this,$l,e),(r=ie(this,to))==null||r.call(this),$e(this,to,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){ie(this,ga)!==e&&($e(this,ga,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof ie(this,ga)=="boolean"?ie(this,ga):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ga=new WeakMap,to=new WeakMap,$l=new WeakMap,C2),_C=new M6,Gl,ro,Yl,S2,k6=(S2=class extends r0{constructor(){super();gt(this,Gl,!0);gt(this,ro);gt(this,Yl);$e(this,Yl,e=>{if(!n0&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){ie(this,ro)||this.setEventListener(ie(this,Yl))}onUnsubscribe(){var e;this.hasListeners()||((e=ie(this,ro))==null||e.call(this),$e(this,ro,void 0))}setEventListener(e){var r;$e(this,Yl,e),(r=ie(this,ro))==null||r.call(this),$e(this,ro,e(this.setOnline.bind(this)))}setOnline(e){ie(this,Gl)!==e&&($e(this,Gl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return ie(this,Gl)}},Gl=new WeakMap,ro=new WeakMap,Yl=new WeakMap,S2),uf=new k6;function P6(){let t,e;const r=new Promise((s,o)=>{t=s,e=o});r.status="pending",r.catch(()=>{});function n(s){Object.assign(r,s),delete r.resolve,delete r.reject}return r.resolve=s=>{n({status:"fulfilled",value:s}),t(s)},r.reject=s=>{n({status:"rejected",reason:s}),e(s)},r}function D6(t){return Math.min(1e3*2**t,3e4)}function bC(t){return(t??"online")==="online"?uf.isOnline():!0}var EC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function x1(t){return t instanceof EC}function CC(t){let e=!1,r=0,n=!1,s;const o=P6(),l=E=>{var N;n||(_(new EC(E)),(N=t.abort)==null||N.call(t))},u=()=>{e=!0},p=()=>{e=!1},h=()=>_C.isFocused()&&(t.networkMode==="always"||uf.isOnline())&&t.canRun(),x=()=>bC(t.networkMode)&&t.canRun(),w=E=>{var N;n||(n=!0,(N=t.onSuccess)==null||N.call(t,E),s==null||s(),o.resolve(E))},_=E=>{var N;n||(n=!0,(N=t.onError)==null||N.call(t,E),s==null||s(),o.reject(E))},b=()=>new Promise(E=>{var N;s=R=>{(n||h())&&E(R)},(N=t.onPause)==null||N.call(t)}).then(()=>{var E;s=void 0,n||(E=t.onContinue)==null||E.call(t)}),T=()=>{if(n)return;let E;const N=r===0?t.initialPromise:void 0;try{E=N??t.fn()}catch(R){E=Promise.reject(R)}Promise.resolve(E).then(w).catch(R=>{var B;if(n)return;const S=t.retry??(n0?0:3),A=t.retryDelay??D6,M=typeof A=="function"?A(r,R):A,k=S===!0||typeof S=="number"&&r<S||typeof S=="function"&&S(r,R);if(e||!k){_(R);return}r++,(B=t.onFail)==null||B.call(t,r,R),N6(M).then(()=>h()?void 0:b()).then(()=>{e?_(R):T()})})};return{promise:o,cancel:l,continue:()=>(s==null||s(),o),cancelRetry:u,continueRetry:p,canStart:x,start:()=>(x()?T():b().then(T),o)}}var j6=t=>setTimeout(t,0);function L6(){let t=[],e=0,r=u=>{u()},n=u=>{u()},s=j6;const o=u=>{e?t.push(u):s(()=>{r(u)})},l=()=>{const u=t;t=[],u.length&&s(()=>{n(()=>{u.forEach(p=>{r(p)})})})};return{batch:u=>{let p;e++;try{p=u()}finally{e--,e||l()}return p},batchCalls:u=>(...p)=>{o(()=>{u(...p)})},schedule:o,setNotifyFunction:u=>{r=u},setBatchNotifyFunction:u=>{n=u},setScheduler:u=>{s=u}}}var sn=L6(),ma,A2,SC=(A2=class{constructor(){gt(this,ma)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),S6(this.gcTime)&&$e(this,ma,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(n0?1/0:5*60*1e3))}clearGcTimeout(){ie(this,ma)&&(clearTimeout(ie(this,ma)),$e(this,ma,void 0))}},ma=new WeakMap,A2),Xl,xa,es,ya,Xr,rd,wa,As,pi,T2,B6=(T2=class extends SC{constructor(e){super();gt(this,As);gt(this,Xl);gt(this,xa);gt(this,es);gt(this,ya);gt(this,Xr);gt(this,rd);gt(this,wa);$e(this,wa,!1),$e(this,rd,e.defaultOptions),this.setOptions(e.options),this.observers=[],$e(this,ya,e.client),$e(this,es,ie(this,ya).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,$e(this,Xl,U6(this.options)),this.state=e.state??ie(this,Xl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=ie(this,Xr))==null?void 0:e.promise}setOptions(e){this.options={...ie(this,rd),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&ie(this,es).remove(this)}setData(e,r){const n=I6(this.state.data,e,this.options);return Wr(this,As,pi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Wr(this,As,pi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,s;const r=(n=ie(this,Xr))==null?void 0:n.promise;return(s=ie(this,Xr))==null||s.cancel(e),r?r.then(Cs).catch(Cs):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(ie(this,Xl))}isActive(){return this.observers.some(e=>T6(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===tx||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Yp(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!A6(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=ie(this,Xr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=ie(this,Xr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),ie(this,es).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(ie(this,Xr)&&(ie(this,wa)?ie(this,Xr).cancel({revert:!0}):ie(this,Xr).cancelRetry()),this.scheduleGc()),ie(this,es).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Wr(this,As,pi).call(this,{type:"invalidate"})}fetch(e,r){var h,x,w;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(ie(this,Xr))return ie(this,Xr).continueRetry(),ie(this,Xr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const _=this.observers.find(b=>b.options.queryFn);_&&this.setOptions(_.options)}const n=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>($e(this,wa,!0),n.signal)})},o=()=>{const _=vC(this.options,r),T=(()=>{const E={client:ie(this,ya),queryKey:this.queryKey,meta:this.meta};return s(E),E})();return $e(this,wa,!1),this.options.persister?this.options.persister(_,T,this):_(T)},u=(()=>{const _={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:ie(this,ya),state:this.state,fetchFn:o};return s(_),_})();(h=this.options.behavior)==null||h.onFetch(u,this),$e(this,xa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((x=u.fetchOptions)==null?void 0:x.meta))&&Wr(this,As,pi).call(this,{type:"fetch",meta:(w=u.fetchOptions)==null?void 0:w.meta});const p=_=>{var b,T,E,N;x1(_)&&_.silent||Wr(this,As,pi).call(this,{type:"error",error:_}),x1(_)||((T=(b=ie(this,es).config).onError)==null||T.call(b,_,this),(N=(E=ie(this,es).config).onSettled)==null||N.call(E,this.state.data,_,this)),this.scheduleGc()};return $e(this,Xr,CC({initialPromise:r==null?void 0:r.initialPromise,fn:u.fetchFn,abort:n.abort.bind(n),onSuccess:_=>{var b,T,E,N;if(_===void 0){p(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(_)}catch(R){p(R);return}(T=(b=ie(this,es).config).onSuccess)==null||T.call(b,_,this),(N=(E=ie(this,es).config).onSettled)==null||N.call(E,_,this.state.error,this),this.scheduleGc()},onError:p,onFail:(_,b)=>{Wr(this,As,pi).call(this,{type:"failed",failureCount:_,error:b})},onPause:()=>{Wr(this,As,pi).call(this,{type:"pause"})},onContinue:()=>{Wr(this,As,pi).call(this,{type:"continue"})},retry:u.options.retry,retryDelay:u.options.retryDelay,networkMode:u.options.networkMode,canRun:()=>!0})),ie(this,Xr).start()}},Xl=new WeakMap,xa=new WeakMap,es=new WeakMap,ya=new WeakMap,Xr=new WeakMap,rd=new WeakMap,wa=new WeakMap,As=new WeakSet,pi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...F6(n.data,this.options),fetchMeta:e.meta??null};case"success":return $e(this,xa,void 0),{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return x1(s)&&s.revert&&ie(this,xa)?{...ie(this,xa),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),sn.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),ie(this,es).notify({query:this,type:"updated",action:e})})},T2);function F6(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:bC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function U6(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Qs,N2,z6=(N2=class extends r0{constructor(e={}){super();gt(this,Qs);this.config=e,$e(this,Qs,new Map)}build(e,r,n){const s=r.queryKey,o=r.queryHash??ex(s,r);let l=this.get(o);return l||(l=new B6({client:e,queryKey:s,queryHash:o,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(l)),l}add(e){ie(this,Qs).has(e.queryHash)||(ie(this,Qs).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=ie(this,Qs).get(e.queryHash);r&&(e.destroy(),r===e&&ie(this,Qs).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){sn.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return ie(this,Qs).get(e)}getAll(){return[...ie(this,Qs).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>$w(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>$w(e,n)):r}notify(e){sn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){sn.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){sn.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Qs=new WeakMap,N2),Zs,rn,va,Js,Xi,I2,V6=(I2=class extends SC{constructor(e){super();gt(this,Js);gt(this,Zs);gt(this,rn);gt(this,va);this.mutationId=e.mutationId,$e(this,rn,e.mutationCache),$e(this,Zs,[]),this.state=e.state||H6(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){ie(this,Zs).includes(e)||(ie(this,Zs).push(e),this.clearGcTimeout(),ie(this,rn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){$e(this,Zs,ie(this,Zs).filter(r=>r!==e)),this.scheduleGc(),ie(this,rn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){ie(this,Zs).length||(this.state.status==="pending"?this.scheduleGc():ie(this,rn).remove(this))}continue(){var e;return((e=ie(this,va))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,l,u,p,h,x,w,_,b,T,E,N,R,S,A,M,k,B,L,V;const r=()=>{Wr(this,Js,Xi).call(this,{type:"continue"})};$e(this,va,CC({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(U,J)=>{Wr(this,Js,Xi).call(this,{type:"failed",failureCount:U,error:J})},onPause:()=>{Wr(this,Js,Xi).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>ie(this,rn).canRun(this)}));const n=this.state.status==="pending",s=!ie(this,va).canStart();try{if(n)r();else{Wr(this,Js,Xi).call(this,{type:"pending",variables:e,isPaused:s}),await((l=(o=ie(this,rn).config).onMutate)==null?void 0:l.call(o,e,this));const J=await((p=(u=this.options).onMutate)==null?void 0:p.call(u,e));J!==this.state.context&&Wr(this,Js,Xi).call(this,{type:"pending",context:J,variables:e,isPaused:s})}const U=await ie(this,va).start();return await((x=(h=ie(this,rn).config).onSuccess)==null?void 0:x.call(h,U,e,this.state.context,this)),await((_=(w=this.options).onSuccess)==null?void 0:_.call(w,U,e,this.state.context)),await((T=(b=ie(this,rn).config).onSettled)==null?void 0:T.call(b,U,null,this.state.variables,this.state.context,this)),await((N=(E=this.options).onSettled)==null?void 0:N.call(E,U,null,e,this.state.context)),Wr(this,Js,Xi).call(this,{type:"success",data:U}),U}catch(U){try{throw await((S=(R=ie(this,rn).config).onError)==null?void 0:S.call(R,U,e,this.state.context,this)),await((M=(A=this.options).onError)==null?void 0:M.call(A,U,e,this.state.context)),await((B=(k=ie(this,rn).config).onSettled)==null?void 0:B.call(k,void 0,U,this.state.variables,this.state.context,this)),await((V=(L=this.options).onSettled)==null?void 0:V.call(L,void 0,U,e,this.state.context)),U}finally{Wr(this,Js,Xi).call(this,{type:"error",error:U})}}finally{ie(this,rn).runNext(this)}}},Zs=new WeakMap,rn=new WeakMap,va=new WeakMap,Js=new WeakSet,Xi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),sn.batch(()=>{ie(this,Zs).forEach(n=>{n.onMutationUpdate(e)}),ie(this,rn).notify({mutation:this,type:"updated",action:e})})},I2);function H6(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var _i,Ts,nd,R2,W6=(R2=class extends r0{constructor(e={}){super();gt(this,_i);gt(this,Ts);gt(this,nd);this.config=e,$e(this,_i,new Set),$e(this,Ts,new Map),$e(this,nd,0)}build(e,r,n){const s=new V6({mutationCache:this,mutationId:++Rd(this,nd)._,options:e.defaultMutationOptions(r),state:n});return this.add(s),s}add(e){ie(this,_i).add(e);const r=Zd(e);if(typeof r=="string"){const n=ie(this,Ts).get(r);n?n.push(e):ie(this,Ts).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(ie(this,_i).delete(e)){const r=Zd(e);if(typeof r=="string"){const n=ie(this,Ts).get(r);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&ie(this,Ts).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Zd(e);if(typeof r=="string"){const n=ie(this,Ts).get(r),s=n==null?void 0:n.find(o=>o.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const r=Zd(e);if(typeof r=="string"){const s=(n=ie(this,Ts).get(r))==null?void 0:n.find(o=>o!==e&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){sn.batch(()=>{ie(this,_i).forEach(e=>{this.notify({type:"removed",mutation:e})}),ie(this,_i).clear(),ie(this,Ts).clear()})}getAll(){return Array.from(ie(this,_i))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>Gw(r,n))}findAll(e={}){return this.getAll().filter(r=>Gw(e,r))}notify(e){sn.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return sn.batch(()=>Promise.all(e.map(r=>r.continue().catch(Cs))))}},_i=new WeakMap,Ts=new WeakMap,nd=new WeakMap,R2);function Zd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function qw(t){return{onFetch:(e,r)=>{var x,w,_,b,T;const n=e.options,s=(_=(w=(x=e.fetchOptions)==null?void 0:x.meta)==null?void 0:w.fetchMore)==null?void 0:_.direction,o=((b=e.state.data)==null?void 0:b.pages)||[],l=((T=e.state.data)==null?void 0:T.pageParams)||[];let u={pages:[],pageParams:[]},p=0;const h=async()=>{let E=!1;const N=A=>{Object.defineProperty(A,"signal",{enumerable:!0,get:()=>(e.signal.aborted?E=!0:e.signal.addEventListener("abort",()=>{E=!0}),e.signal)})},R=vC(e.options,e.fetchOptions),S=async(A,M,k)=>{if(E)return Promise.reject();if(M==null&&A.pages.length)return Promise.resolve(A);const L=(()=>{const ne={client:e.client,queryKey:e.queryKey,pageParam:M,direction:k?"backward":"forward",meta:e.options.meta};return N(ne),ne})(),V=await R(L),{maxPages:U}=e.options,J=k?O6:R6;return{pages:J(A.pages,V,U),pageParams:J(A.pageParams,M,U)}};if(s&&o.length){const A=s==="backward",M=A?$6:Kw,k={pages:o,pageParams:l},B=M(n,k);u=await S(k,B,A)}else{const A=t??o.length;do{const M=p===0?l[0]??n.initialPageParam:Kw(n,u);if(p>0&&M==null)break;u=await S(u,M),p++}while(p<A)}return u};e.options.persister?e.fetchFn=()=>{var E,N;return(N=(E=e.options).persister)==null?void 0:N.call(E,h,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=h}}}function Kw(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function $6(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var nr,no,so,ql,Kl,io,Ql,Zl,O2,G6=(O2=class{constructor(t={}){gt(this,nr);gt(this,no);gt(this,so);gt(this,ql);gt(this,Kl);gt(this,io);gt(this,Ql);gt(this,Zl);$e(this,nr,t.queryCache||new z6),$e(this,no,t.mutationCache||new W6),$e(this,so,t.defaultOptions||{}),$e(this,ql,new Map),$e(this,Kl,new Map),$e(this,io,0)}mount(){Rd(this,io)._++,ie(this,io)===1&&($e(this,Ql,_C.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,nr).onFocus())})),$e(this,Zl,uf.subscribe(async t=>{t&&(await this.resumePausedMutations(),ie(this,nr).onOnline())})))}unmount(){var t,e;Rd(this,io)._--,ie(this,io)===0&&((t=ie(this,Ql))==null||t.call(this),$e(this,Ql,void 0),(e=ie(this,Zl))==null||e.call(this),$e(this,Zl,void 0))}isFetching(t){return ie(this,nr).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return ie(this,no).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ie(this,nr).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=ie(this,nr).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Yp(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return ie(this,nr).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),s=ie(this,nr).get(n.queryHash),o=s==null?void 0:s.state.data,l=C6(e,o);if(l!==void 0)return ie(this,nr).build(this,n).setData(l,{...r,manual:!0})}setQueriesData(t,e,r){return sn.batch(()=>ie(this,nr).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=ie(this,nr).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=ie(this,nr);sn.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=ie(this,nr);return sn.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=sn.batch(()=>ie(this,nr).findAll(t).map(s=>s.cancel(r)));return Promise.all(n).then(Cs).catch(Cs)}invalidateQueries(t,e={}){return sn.batch(()=>(ie(this,nr).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=sn.batch(()=>ie(this,nr).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,r);return r.throwOnError||(o=o.catch(Cs)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(n).then(Cs)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=ie(this,nr).build(this,e);return r.isStaleByTime(Yp(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Cs).catch(Cs)}fetchInfiniteQuery(t){return t.behavior=qw(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Cs).catch(Cs)}ensureInfiniteQueryData(t){return t.behavior=qw(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return uf.isOnline()?ie(this,no).resumePausedMutations():Promise.resolve()}getQueryCache(){return ie(this,nr)}getMutationCache(){return ie(this,no)}getDefaultOptions(){return ie(this,so)}setDefaultOptions(t){$e(this,so,t)}setQueryDefaults(t,e){ie(this,ql).set(Vu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...ie(this,ql).values()],r={};return e.forEach(n=>{Hu(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){ie(this,Kl).set(Vu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...ie(this,Kl).values()],r={};return e.forEach(n=>{Hu(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...ie(this,so).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=ex(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===tx&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...ie(this,so).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){ie(this,nr).clear(),ie(this,no).clear()}},nr=new WeakMap,no=new WeakMap,so=new WeakMap,ql=new WeakMap,Kl=new WeakMap,io=new WeakMap,Ql=new WeakMap,Zl=new WeakMap,O2),Y6=I.createContext(void 0),X6=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),m.jsx(Y6.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wu(){return Wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wu.apply(this,arguments)}var co;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(co||(co={}));const Qw="popstate";function q6(t){t===void 0&&(t={});function e(s,o){let{pathname:l="/",search:u="",hash:p=""}=Wa(s.location.hash.substr(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),qp("",{pathname:l,search:u,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(s,o){let l=s.document.querySelector("base"),u="";if(l&&l.getAttribute("href")){let p=s.location.href,h=p.indexOf("#");u=h===-1?p:p.slice(0,h)}return u+"#"+(typeof o=="string"?o:df(o))}function n(s,o){rx(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(o)+")")}return Q6(e,r,n,t)}function xr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function K6(){return Math.random().toString(36).substr(2,8)}function Zw(t,e){return{usr:t.state,key:t.key,idx:e}}function qp(t,e,r,n){return r===void 0&&(r=null),Wu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Wa(e):e,{state:r,key:e&&e.key||n||K6()})}function df(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Wa(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Q6(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:o=!1}=n,l=s.history,u=co.Pop,p=null,h=x();h==null&&(h=0,l.replaceState(Wu({},l.state,{idx:h}),""));function x(){return(l.state||{idx:null}).idx}function w(){u=co.Pop;let N=x(),R=N==null?null:N-h;h=N,p&&p({action:u,location:E.location,delta:R})}function _(N,R){u=co.Push;let S=qp(E.location,N,R);r&&r(S,N),h=x()+1;let A=Zw(S,h),M=E.createHref(S);try{l.pushState(A,"",M)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(M)}o&&p&&p({action:u,location:E.location,delta:1})}function b(N,R){u=co.Replace;let S=qp(E.location,N,R);r&&r(S,N),h=x();let A=Zw(S,h),M=E.createHref(S);l.replaceState(A,"",M),o&&p&&p({action:u,location:E.location,delta:0})}function T(N){let R=s.location.origin!=="null"?s.location.origin:s.location.href,S=typeof N=="string"?N:df(N);return S=S.replace(/ $/,"%20"),xr(R,"No window.location.(origin|href) available to create URL for href: "+S),new URL(S,R)}let E={get action(){return u},get location(){return t(s,l)},listen(N){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(Qw,w),p=N,()=>{s.removeEventListener(Qw,w),p=null}},createHref(N){return e(s,N)},createURL:T,encodeLocation(N){let R=T(N);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:_,replace:b,go(N){return l.go(N)}};return E}var Jw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Jw||(Jw={}));function Z6(t,e,r){return r===void 0&&(r="/"),J6(t,e,r,!1)}function J6(t,e,r,n){let s=typeof e=="string"?Wa(e):e,o=nx(s.pathname||"/",r);if(o==null)return null;let l=AC(t);ek(l);let u=null;for(let p=0;u==null&&p<l.length;++p){let h=dk(o);u=ck(l[p],h,n)}return u}function AC(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(o,l,u)=>{let p={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};p.relativePath.startsWith("/")&&(xr(p.relativePath.startsWith(n),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(n.length));let h=Eo([n,p.relativePath]),x=r.concat(p);o.children&&o.children.length>0&&(xr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),AC(o.children,e,x,h)),!(o.path==null&&!o.index)&&e.push({path:h,score:ak(h,o.index),routesMeta:x})};return t.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,l);else for(let p of TC(o.path))s(o,l,p)}),e}function TC(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let l=TC(n.join("/")),u=[];return u.push(...l.map(p=>p===""?o:[o,p].join("/"))),s&&u.push(...l),u.map(p=>t.startsWith("/")&&p===""?"/":p)}function ek(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:lk(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tk=/^:[\w-]+$/,rk=3,nk=2,sk=1,ik=10,ok=-2,ev=t=>t==="*";function ak(t,e){let r=t.split("/"),n=r.length;return r.some(ev)&&(n+=ok),e&&(n+=nk),r.filter(s=>!ev(s)).reduce((s,o)=>s+(tk.test(o)?rk:o===""?sk:ik),n)}function lk(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function ck(t,e,r){let{routesMeta:n}=t,s={},o="/",l=[];for(let u=0;u<n.length;++u){let p=n[u],h=u===n.length-1,x=o==="/"?e:e.slice(o.length)||"/",w=tv({path:p.relativePath,caseSensitive:p.caseSensitive,end:h},x),_=p.route;if(!w&&h&&r&&!n[n.length-1].route.index&&(w=tv({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!w)return null;Object.assign(s,w.params),l.push({params:s,pathname:Eo([o,w.pathname]),pathnameBase:gk(Eo([o,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(o=Eo([o,w.pathnameBase]))}return l}function tv(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=uk(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let o=s[0],l=o.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:n.reduce((h,x,w)=>{let{paramName:_,isOptional:b}=x;if(_==="*"){let E=u[w]||"";l=o.slice(0,o.length-E.length).replace(/(.)\/+$/,"$1")}const T=u[w];return b&&!T?h[_]=void 0:h[_]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:o,pathnameBase:l,pattern:t}}function uk(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),rx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,p)=>(n.push({paramName:u,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function dk(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function nx(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function hk(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Wa(t):t;return{pathname:r?r.startsWith("/")?r:fk(r,e):e,search:mk(n),hash:xk(s)}}function fk(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function y1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function pk(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function NC(t,e){let r=pk(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function IC(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=Wa(t):(s=Wu({},t),xr(!s.pathname||!s.pathname.includes("?"),y1("?","pathname","search",s)),xr(!s.pathname||!s.pathname.includes("#"),y1("#","pathname","hash",s)),xr(!s.search||!s.search.includes("#"),y1("#","search","hash",s)));let o=t===""||s.pathname==="",l=o?"/":s.pathname,u;if(l==null)u=r;else{let w=e.length-1;if(!n&&l.startsWith("..")){let _=l.split("/");for(;_[0]==="..";)_.shift(),w-=1;s.pathname=_.join("/")}u=w>=0?e[w]:"/"}let p=hk(s,u),h=l&&l!=="/"&&l.endsWith("/"),x=(o||l===".")&&r.endsWith("/");return!p.pathname.endsWith("/")&&(h||x)&&(p.pathname+="/"),p}const Eo=t=>t.join("/").replace(/\/\/+/g,"/"),gk=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mk=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,xk=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function yk(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const RC=["post","put","patch","delete"];new Set(RC);const wk=["get",...RC];new Set(wk);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$u.apply(this,arguments)}const sx=I.createContext(null),vk=I.createContext(null),$a=I.createContext(null),s0=I.createContext(null),Fo=I.createContext({outlet:null,matches:[],isDataRoute:!1}),OC=I.createContext(null);function _k(t,e){let{relative:r}=e===void 0?{}:e;fd()||xr(!1);let{basename:n,navigator:s}=I.useContext($a),{hash:o,pathname:l,search:u}=kC(t,{relative:r}),p=l;return n!=="/"&&(p=l==="/"?n:Eo([n,l])),s.createHref({pathname:p,search:u,hash:o})}function fd(){return I.useContext(s0)!=null}function Uo(){return fd()||xr(!1),I.useContext(s0).location}function MC(t){I.useContext($a).static||I.useLayoutEffect(t)}function Tn(){let{isDataRoute:t}=I.useContext(Fo);return t?Dk():bk()}function bk(){fd()||xr(!1);let t=I.useContext(sx),{basename:e,future:r,navigator:n}=I.useContext($a),{matches:s}=I.useContext(Fo),{pathname:o}=Uo(),l=JSON.stringify(NC(s,r.v7_relativeSplatPath)),u=I.useRef(!1);return MC(()=>{u.current=!0}),I.useCallback(function(h,x){if(x===void 0&&(x={}),!u.current)return;if(typeof h=="number"){n.go(h);return}let w=IC(h,JSON.parse(l),o,x.relative==="path");t==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:Eo([e,w.pathname])),(x.replace?n.replace:n.push)(w,x.state,x)},[e,n,l,o,t])}function Ek(){let{matches:t}=I.useContext(Fo),e=t[t.length-1];return e?e.params:{}}function kC(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=I.useContext($a),{matches:s}=I.useContext(Fo),{pathname:o}=Uo(),l=JSON.stringify(NC(s,n.v7_relativeSplatPath));return I.useMemo(()=>IC(t,JSON.parse(l),o,r==="path"),[t,l,o,r])}function Ck(t,e){return Sk(t,e)}function Sk(t,e,r,n){fd()||xr(!1);let{navigator:s}=I.useContext($a),{matches:o}=I.useContext(Fo),l=o[o.length-1],u=l?l.params:{};l&&l.pathname;let p=l?l.pathnameBase:"/";l&&l.route;let h=Uo(),x;if(e){var w;let N=typeof e=="string"?Wa(e):e;p==="/"||(w=N.pathname)!=null&&w.startsWith(p)||xr(!1),x=N}else x=h;let _=x.pathname||"/",b=_;if(p!=="/"){let N=p.replace(/^\//,"").split("/");b="/"+_.replace(/^\//,"").split("/").slice(N.length).join("/")}let T=Z6(t,{pathname:b}),E=Rk(T&&T.map(N=>Object.assign({},N,{params:Object.assign({},u,N.params),pathname:Eo([p,s.encodeLocation?s.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?p:Eo([p,s.encodeLocation?s.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),o,r,n);return e&&E?I.createElement(s0.Provider,{value:{location:$u({pathname:"/",search:"",hash:"",state:null,key:"default"},x),navigationType:co.Pop}},E):E}function Ak(){let t=Pk(),e=yk(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:s},r):null,null)}const Tk=I.createElement(Ak,null);class Nk extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?I.createElement(Fo.Provider,{value:this.props.routeContext},I.createElement(OC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ik(t){let{routeContext:e,match:r,children:n}=t,s=I.useContext(sx);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(Fo.Provider,{value:e},n)}function Rk(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var o;if(!r)return null;if(r.errors)t=r.matches;else if((o=n)!=null&&o.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let l=t,u=(s=r)==null?void 0:s.errors;if(u!=null){let x=l.findIndex(w=>w.route.id&&(u==null?void 0:u[w.route.id])!==void 0);x>=0||xr(!1),l=l.slice(0,Math.min(l.length,x+1))}let p=!1,h=-1;if(r&&n&&n.v7_partialHydration)for(let x=0;x<l.length;x++){let w=l[x];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(h=x),w.route.id){let{loaderData:_,errors:b}=r,T=w.route.loader&&_[w.route.id]===void 0&&(!b||b[w.route.id]===void 0);if(w.route.lazy||T){p=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}return l.reduceRight((x,w,_)=>{let b,T=!1,E=null,N=null;r&&(b=u&&w.route.id?u[w.route.id]:void 0,E=w.route.errorElement||Tk,p&&(h<0&&_===0?(T=!0,N=null):h===_&&(T=!0,N=w.route.hydrateFallbackElement||null)));let R=e.concat(l.slice(0,_+1)),S=()=>{let A;return b?A=E:T?A=N:w.route.Component?A=I.createElement(w.route.Component,null):w.route.element?A=w.route.element:A=x,I.createElement(Ik,{match:w,routeContext:{outlet:x,matches:R,isDataRoute:r!=null},children:A})};return r&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?I.createElement(Nk,{location:r.location,revalidation:r.revalidation,component:E,error:b,children:S(),routeContext:{outlet:null,matches:R,isDataRoute:!0}}):S()},null)}var PC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PC||{}),hf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(hf||{});function Ok(t){let e=I.useContext(sx);return e||xr(!1),e}function Mk(t){let e=I.useContext(vk);return e||xr(!1),e}function kk(t){let e=I.useContext(Fo);return e||xr(!1),e}function DC(t){let e=kk(),r=e.matches[e.matches.length-1];return r.route.id||xr(!1),r.route.id}function Pk(){var t;let e=I.useContext(OC),r=Mk(hf.UseRouteError),n=DC(hf.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Dk(){let{router:t}=Ok(PC.UseNavigateStable),e=DC(hf.UseNavigateStable),r=I.useRef(!1);return MC(()=>{r.current=!0}),I.useCallback(function(s,o){o===void 0&&(o={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,$u({fromRouteId:e},o)))},[t,e])}function jk(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Yr(t){xr(!1)}function Lk(t){let{basename:e="/",children:r=null,location:n,navigationType:s=co.Pop,navigator:o,static:l=!1,future:u}=t;fd()&&xr(!1);let p=e.replace(/^\/*/,"/"),h=I.useMemo(()=>({basename:p,navigator:o,static:l,future:$u({v7_relativeSplatPath:!1},u)}),[p,u,o,l]);typeof n=="string"&&(n=Wa(n));let{pathname:x="/",search:w="",hash:_="",state:b=null,key:T="default"}=n,E=I.useMemo(()=>{let N=nx(x,p);return N==null?null:{location:{pathname:N,search:w,hash:_,state:b,key:T},navigationType:s}},[p,x,w,_,b,T,s]);return E==null?null:I.createElement($a.Provider,{value:h},I.createElement(s0.Provider,{children:r,value:E}))}function Bk(t){let{children:e,location:r}=t;return Ck(Kp(e),r)}new Promise(()=>{});function Kp(t,e){e===void 0&&(e=[]);let r=[];return I.Children.forEach(t,(n,s)=>{if(!I.isValidElement(n))return;let o=[...e,s];if(n.type===I.Fragment){r.push.apply(r,Kp(n.props.children,o));return}n.type!==Yr&&xr(!1),!n.props.index||!n.props.children||xr(!1);let l={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Kp(n.props.children,o)),r.push(l)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qp(){return Qp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qp.apply(this,arguments)}function Fk(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,o;for(o=0;o<n.length;o++)s=n[o],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Uk(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function zk(t,e){return t.button===0&&(!e||e==="_self")&&!Uk(t)}const Vk=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Hk="6";try{window.__reactRouterVersion=Hk}catch{}const Wk="startTransition",rv=Wg[Wk];function $k(t){let{basename:e,children:r,future:n,window:s}=t,o=I.useRef();o.current==null&&(o.current=q6({window:s,v5Compat:!0}));let l=o.current,[u,p]=I.useState({action:l.action,location:l.location}),{v7_startTransition:h}=n||{},x=I.useCallback(w=>{h&&rv?rv(()=>p(w)):p(w)},[p,h]);return I.useLayoutEffect(()=>l.listen(x),[l,x]),I.useEffect(()=>jk(n),[n]),I.createElement(Lk,{basename:e,children:r,location:u.location,navigationType:u.action,navigator:l,future:n})}const Gk=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yk=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,w1=I.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:o,replace:l,state:u,target:p,to:h,preventScrollReset:x,viewTransition:w}=e,_=Fk(e,Vk),{basename:b}=I.useContext($a),T,E=!1;if(typeof h=="string"&&Yk.test(h)&&(T=h,Gk))try{let A=new URL(window.location.href),M=h.startsWith("//")?new URL(A.protocol+h):new URL(h),k=nx(M.pathname,b);M.origin===A.origin&&k!=null?h=k+M.search+M.hash:E=!0}catch{}let N=_k(h,{relative:s}),R=Xk(h,{replace:l,state:u,target:p,preventScrollReset:x,relative:s,viewTransition:w});function S(A){n&&n(A),A.defaultPrevented||R(A)}return I.createElement("a",Qp({},_,{href:T||N,onClick:E||o?n:S,ref:r,target:p}))});var nv;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nv||(nv={}));var sv;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sv||(sv={}));function Xk(t,e){let{target:r,replace:n,state:s,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,p=Tn(),h=Uo(),x=kC(t,{relative:l});return I.useCallback(w=>{if(zk(w,r)){w.preventDefault();let _=n!==void 0?n:df(h)===df(x);p(t,{replace:_,state:s,preventScrollReset:o,relative:l,viewTransition:u})}},[h,p,x,n,s,r,t,o,l,u])}var Zp=function(t,e){return Zp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Zp(t,e)};function jC(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Zp(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var ns=function(){return ns=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ns.apply(this,arguments)};function zo(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function LC(t,e,r,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,l;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(l=t[u])&&(o=(s<3?l(o):s>3?l(e,r,o):l(e,r))||o);return s>3&&o&&Object.defineProperty(e,r,o),o}function BC(t,e){return function(r,n){e(r,n,t)}}function FC(t,e,r,n,s,o){function l(R){if(R!==void 0&&typeof R!="function")throw new TypeError("Function expected");return R}for(var u=n.kind,p=u==="getter"?"get":u==="setter"?"set":"value",h=!e&&t?n.static?t:t.prototype:null,x=e||(h?Object.getOwnPropertyDescriptor(h,n.name):{}),w,_=!1,b=r.length-1;b>=0;b--){var T={};for(var E in n)T[E]=E==="access"?{}:n[E];for(var E in n.access)T.access[E]=n.access[E];T.addInitializer=function(R){if(_)throw new TypeError("Cannot add initializers after decoration has completed");o.push(l(R||null))};var N=(0,r[b])(u==="accessor"?{get:x.get,set:x.set}:x[p],T);if(u==="accessor"){if(N===void 0)continue;if(N===null||typeof N!="object")throw new TypeError("Object expected");(w=l(N.get))&&(x.get=w),(w=l(N.set))&&(x.set=w),(w=l(N.init))&&s.unshift(w)}else(w=l(N))&&(u==="field"?s.unshift(w):x[p]=w)}h&&Object.defineProperty(h,n.name,x),_=!0}function UC(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function zC(t){return typeof t=="symbol"?t:"".concat(t)}function VC(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function HC(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ne(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function p(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,p)}h((n=n.apply(t,e||[])).next())})}function WC(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return l.next=u(0),l.throw=u(1),l.return=u(2),typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}}var i0=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function $C(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&i0(e,t,r)}function ff(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ix(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,o=[],l;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)o.push(s.value)}catch(u){l={error:u}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(l)throw l.error}}return o}function GC(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ix(arguments[e]));return t}function YC(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var o=arguments[e],l=0,u=o.length;l<u;l++,s++)n[s]=o[l];return n}function ox(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,o;n<s;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return t.concat(o||Array.prototype.slice.call(e))}function uc(t){return this instanceof uc?(this.v=t,this):new uc(t)}function XC(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,o=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",l),s[Symbol.asyncIterator]=function(){return this},s;function l(b){return function(T){return Promise.resolve(T).then(b,w)}}function u(b,T){n[b]&&(s[b]=function(E){return new Promise(function(N,R){o.push([b,E,N,R])>1||p(b,E)})},T&&(s[b]=T(s[b])))}function p(b,T){try{h(n[b](T))}catch(E){_(o[0][3],E)}}function h(b){b.value instanceof uc?Promise.resolve(b.value.v).then(x,w):_(o[0][2],b)}function x(b){p("next",b)}function w(b){p("throw",b)}function _(b,T){b(T),o.shift(),o.length&&p(o[0][0],o[0][1])}}function qC(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,o){e[s]=t[s]?function(l){return(r=!r)?{value:uc(t[s](l)),done:!1}:o?o(l):l}:o}}function KC(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof ff=="function"?ff(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(o){r[o]=t[o]&&function(l){return new Promise(function(u,p){l=t[o](l),s(u,p,l.done,l.value)})}}function s(o,l,u,p){Promise.resolve(p).then(function(h){o({value:h,done:u})},l)}}function QC(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var qk=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Jp=function(t){return Jp=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Jp(t)};function ZC(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Jp(t),n=0;n<r.length;n++)r[n]!=="default"&&i0(e,t,r[n]);return qk(e,t),e}function JC(t){return t&&t.__esModule?t:{default:t}}function eS(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function tS(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function rS(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function nS(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(o){return Promise.reject(o)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var Kk=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function sS(t){function e(o){t.error=t.hasError?new Kk(o,t.error,"An error was suppressed during disposal."):o,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var o=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(o).then(s,function(l){return e(l),s()})}else n|=1}catch(l){e(l)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function iS(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,o,l){return n?e?".jsx":".js":s&&(!o||!l)?r:s+o+"."+l.toLowerCase()+"js"}):t}const Qk={__extends:jC,__assign:ns,__rest:zo,__decorate:LC,__param:BC,__esDecorate:FC,__runInitializers:UC,__propKey:zC,__setFunctionName:VC,__metadata:HC,__awaiter:Ne,__generator:WC,__createBinding:i0,__exportStar:$C,__values:ff,__read:ix,__spread:GC,__spreadArrays:YC,__spreadArray:ox,__await:uc,__asyncGenerator:XC,__asyncDelegator:qC,__asyncValues:KC,__makeTemplateObject:QC,__importStar:ZC,__importDefault:JC,__classPrivateFieldGet:eS,__classPrivateFieldSet:tS,__classPrivateFieldIn:rS,__addDisposableResource:nS,__disposeResources:sS,__rewriteRelativeImportExtension:iS},Zk=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:nS,get __assign(){return ns},__asyncDelegator:qC,__asyncGenerator:XC,__asyncValues:KC,__await:uc,__awaiter:Ne,__classPrivateFieldGet:eS,__classPrivateFieldIn:rS,__classPrivateFieldSet:tS,__createBinding:i0,__decorate:LC,__disposeResources:sS,__esDecorate:FC,__exportStar:$C,__extends:jC,__generator:WC,__importDefault:JC,__importStar:ZC,__makeTemplateObject:QC,__metadata:HC,__param:BC,__propKey:zC,__read:ix,__rest:zo,__rewriteRelativeImportExtension:iS,__runInitializers:UC,__setFunctionName:VC,__spread:GC,__spreadArray:ox,__spreadArrays:YC,__values:ff,default:Qk},Symbol.toStringTag,{value:"Module"})),Jk="modulepreload",eP=function(t){return"/ALAN_NEW/"+t},iv={},Tc=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),u=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(r.map(p=>{if(p=eP(p),p in iv)return;iv[p]=!0;const h=p.endsWith(".css"),x=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${x}`))return;const w=document.createElement("link");if(w.rel=h?"stylesheet":Jk,h||(w.as="script"),w.crossOrigin="",w.href=p,u&&w.setAttribute("nonce",u),document.head.appendChild(w),h)return new Promise((_,b)=>{w.addEventListener("load",_),w.addEventListener("error",()=>b(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return s.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},tP=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Tc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ga);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class ax extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class ov extends ax{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class av extends ax{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class lv extends ax{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var eg;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(eg||(eg={}));class rP{constructor(e,{headers:r={},customFetch:n,region:s=eg.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=tP(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Ne(this,arguments,void 0,function*(r,n={}){var s;try{const{headers:o,method:l,body:u,signal:p}=n;let h={},{region:x}=n;x||(x=this.region);const w=new URL(`${this.url}/${r}`);x&&x!=="any"&&(h["x-region"]=x,w.searchParams.set("forceFunctionRegion",x));let _;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",_=u):typeof u=="string"?(h["Content-Type"]="text/plain",_=u):typeof FormData<"u"&&u instanceof FormData?_=u:(h["Content-Type"]="application/json",_=JSON.stringify(u)):_=u;const b=yield this.fetch(w.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:_,signal:p}).catch(R=>{throw R.name==="AbortError"?R:new ov(R)}),T=b.headers.get("x-relay-error");if(T&&T==="true")throw new av(b);if(!b.ok)throw new lv(b);let E=((s=b.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),N;return E==="application/json"?N=yield b.json():E==="application/octet-stream"||E==="application/pdf"?N=yield b.blob():E==="text/event-stream"?N=b:E==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(o){return o instanceof Error&&o.name==="AbortError"?{data:null,error:new ov(o)}:{data:null,error:o,response:o instanceof lv||o instanceof av?o.context:void 0}}})}}var on={};const Nc=M2(Zk);var Jd={},eh={},th={},rh={},nh={},nP=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},dc=nP();const sP=dc.fetch,oS=dc.fetch.bind(dc),aS=dc.Headers,iP=dc.Request,oP=dc.Response,Ga=Object.freeze(Object.defineProperty({__proto__:null,Headers:aS,Request:iP,Response:oP,default:oS,fetch:sP},Symbol.toStringTag,{value:"Module"})),aP=M2(Ga);var sh={},cv;function lS(){if(cv)return sh;cv=1,Object.defineProperty(sh,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return sh.default=t,sh}var uv;function cS(){if(uv)return nh;uv=1,Object.defineProperty(nh,"__esModule",{value:!0});const t=Nc,e=t.__importDefault(aP),r=t.__importDefault(lS());class n{constructor(o){var l,u;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(l=o.shouldThrowOnError)!==null&&l!==void 0?l:!1,this.signal=o.signal,this.isMaybeSingle=(u=o.isMaybeSingle)!==null&&u!==void 0?u:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,l){return this.headers=new Headers(this.headers),this.headers.set(o,l),this}then(o,l){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const u=this.fetch;let p=u(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async h=>{var x,w,_,b;let T=null,E=null,N=null,R=h.status,S=h.statusText;if(h.ok){if(this.method!=="HEAD"){const B=await h.text();B===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((x=this.headers.get("Accept"))===null||x===void 0)&&x.includes("application/vnd.pgrst.plan+text"))?E=B:E=JSON.parse(B))}const M=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),k=(_=h.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");M&&k&&k.length>1&&(N=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(T={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,N=null,R=406,S="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const M=await h.text();try{T=JSON.parse(M),Array.isArray(T)&&h.status===404&&(E=[],T=null,R=200,S="OK")}catch{h.status===404&&M===""?(R=204,S="No Content"):T={message:M}}if(T&&this.isMaybeSingle&&(!((b=T==null?void 0:T.details)===null||b===void 0)&&b.includes("0 rows"))&&(T=null,R=200,S="OK"),T&&this.shouldThrowOnError)throw new r.default(T)}return{error:T,data:E,count:N,status:R,statusText:S}});return this.shouldThrowOnError||(p=p.catch(h=>{var x,w,_;return{error:{message:`${(x=h==null?void 0:h.name)!==null&&x!==void 0?x:"FetchError"}: ${h==null?void 0:h.message}`,details:`${(w=h==null?void 0:h.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(_=h==null?void 0:h.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),p.then(o,l)}returns(){return this}overrideTypes(){return this}}return nh.default=n,nh}var dv;function uS(){if(dv)return rh;dv=1,Object.defineProperty(rh,"__esModule",{value:!0});const e=Nc.__importDefault(cS());class r extends e.default{select(s){let o=!1;const l=(s??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",l),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:l,foreignTable:u,referencedTable:p=u}={}){const h=p?`${p}.order`:"order",x=this.url.searchParams.get(h);return this.url.searchParams.set(h,`${x?`${x},`:""}${s}.${o?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:l=o}={}){const u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(u,`${s}`),this}range(s,o,{foreignTable:l,referencedTable:u=l}={}){const p=typeof u>"u"?"offset":`${u}.offset`,h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(p,`${s}`),this.url.searchParams.set(h,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:l=!1,buffers:u=!1,wal:p=!1,format:h="text"}={}){var x;const w=[s?"analyze":null,o?"verbose":null,l?"settings":null,u?"buffers":null,p?"wal":null].filter(Boolean).join("|"),_=(x=this.headers.get("Accept"))!==null&&x!==void 0?x:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${h}; for="${_}"; options=${w};`),h==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return rh.default=r,rh}var hv;function lx(){if(hv)return th;hv=1,Object.defineProperty(th,"__esModule",{value:!0});const e=Nc.__importDefault(uS()),r=new RegExp("[,()]");class n extends e.default{eq(o,l){return this.url.searchParams.append(o,`eq.${l}`),this}neq(o,l){return this.url.searchParams.append(o,`neq.${l}`),this}gt(o,l){return this.url.searchParams.append(o,`gt.${l}`),this}gte(o,l){return this.url.searchParams.append(o,`gte.${l}`),this}lt(o,l){return this.url.searchParams.append(o,`lt.${l}`),this}lte(o,l){return this.url.searchParams.append(o,`lte.${l}`),this}like(o,l){return this.url.searchParams.append(o,`like.${l}`),this}likeAllOf(o,l){return this.url.searchParams.append(o,`like(all).{${l.join(",")}}`),this}likeAnyOf(o,l){return this.url.searchParams.append(o,`like(any).{${l.join(",")}}`),this}ilike(o,l){return this.url.searchParams.append(o,`ilike.${l}`),this}ilikeAllOf(o,l){return this.url.searchParams.append(o,`ilike(all).{${l.join(",")}}`),this}ilikeAnyOf(o,l){return this.url.searchParams.append(o,`ilike(any).{${l.join(",")}}`),this}is(o,l){return this.url.searchParams.append(o,`is.${l}`),this}in(o,l){const u=Array.from(new Set(l)).map(p=>typeof p=="string"&&r.test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cs.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cs.{${l.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(l)}`),this}containedBy(o,l){return typeof l=="string"?this.url.searchParams.append(o,`cd.${l}`):Array.isArray(l)?this.url.searchParams.append(o,`cd.{${l.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(l)}`),this}rangeGt(o,l){return this.url.searchParams.append(o,`sr.${l}`),this}rangeGte(o,l){return this.url.searchParams.append(o,`nxl.${l}`),this}rangeLt(o,l){return this.url.searchParams.append(o,`sl.${l}`),this}rangeLte(o,l){return this.url.searchParams.append(o,`nxr.${l}`),this}rangeAdjacent(o,l){return this.url.searchParams.append(o,`adj.${l}`),this}overlaps(o,l){return typeof l=="string"?this.url.searchParams.append(o,`ov.${l}`):this.url.searchParams.append(o,`ov.{${l.join(",")}}`),this}textSearch(o,l,{config:u,type:p}={}){let h="";p==="plain"?h="pl":p==="phrase"?h="ph":p==="websearch"&&(h="w");const x=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${h}fts${x}.${l}`),this}match(o){return Object.entries(o).forEach(([l,u])=>{this.url.searchParams.append(l,`eq.${u}`)}),this}not(o,l,u){return this.url.searchParams.append(o,`not.${l}.${u}`),this}or(o,{foreignTable:l,referencedTable:u=l}={}){const p=u?`${u}.or`:"or";return this.url.searchParams.append(p,`(${o})`),this}filter(o,l,u){return this.url.searchParams.append(o,`${l}.${u}`),this}}return th.default=n,th}var fv;function dS(){if(fv)return eh;fv=1,Object.defineProperty(eh,"__esModule",{value:!0});const e=Nc.__importDefault(lx());class r{constructor(s,{headers:o={},schema:l,fetch:u}){this.url=s,this.headers=new Headers(o),this.schema=l,this.fetch=u}select(s,o){const{head:l=!1,count:u}=o??{},p=l?"HEAD":"GET";let h=!1;const x=(s??"*").split("").map(w=>/\s/.test(w)&&!h?"":(w==='"'&&(h=!h),w)).join("");return this.url.searchParams.set("select",x),u&&this.headers.append("Prefer",`count=${u}`),new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:l=!0}={}){var u;const p="POST";if(o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const h=s.reduce((x,w)=>x.concat(Object.keys(w)),[]);if(h.length>0){const x=[...new Set(h)].map(w=>`"${w}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:l=!1,count:u,defaultToNull:p=!0}={}){var h;const x="POST";if(this.headers.append("Prefer",`resolution=${l?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),u&&this.headers.append("Prefer",`count=${u}`),p||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const w=s.reduce((_,b)=>_.concat(Object.keys(b)),[]);if(w.length>0){const _=[...new Set(w)].map(b=>`"${b}"`);this.url.searchParams.set("columns",_.join(","))}}return new e.default({method:x,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}update(s,{count:o}={}){var l;const u="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}delete({count:s}={}){var o;const l="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return eh.default=r,eh}var pv;function lP(){if(pv)return Jd;pv=1,Object.defineProperty(Jd,"__esModule",{value:!0});const t=Nc,e=t.__importDefault(dS()),r=t.__importDefault(lx());class n{constructor(o,{headers:l={},schema:u,fetch:p}={}){this.url=o,this.headers=new Headers(l),this.schemaName=u,this.fetch=p}from(o){const l=new URL(`${this.url}/${o}`);return new e.default(l,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,l={},{head:u=!1,get:p=!1,count:h}={}){var x;let w;const _=new URL(`${this.url}/rpc/${o}`);let b;u||p?(w=u?"HEAD":"GET",Object.entries(l).filter(([E,N])=>N!==void 0).map(([E,N])=>[E,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([E,N])=>{_.searchParams.append(E,N)})):(w="POST",b=l);const T=new Headers(this.headers);return h&&T.set("Prefer",`count=${h}`),new r.default({method:w,url:_,headers:T,schema:this.schemaName,body:b,fetch:(x=this.fetch)!==null&&x!==void 0?x:fetch})}}return Jd.default=n,Jd}Object.defineProperty(on,"__esModule",{value:!0});var hS=on.PostgrestError=bS=on.PostgrestBuilder=vS=on.PostgrestTransformBuilder=yS=on.PostgrestFilterBuilder=mS=on.PostgrestQueryBuilder=pS=on.PostgrestClient=void 0;const Ic=Nc,fS=Ic.__importDefault(lP());var pS=on.PostgrestClient=fS.default;const gS=Ic.__importDefault(dS());var mS=on.PostgrestQueryBuilder=gS.default;const xS=Ic.__importDefault(lx());var yS=on.PostgrestFilterBuilder=xS.default;const wS=Ic.__importDefault(uS());var vS=on.PostgrestTransformBuilder=wS.default;const _S=Ic.__importDefault(cS());var bS=on.PostgrestBuilder=_S.default;const ES=Ic.__importDefault(lS());hS=on.PostgrestError=ES.default;var CS=on.default={PostgrestClient:fS.default,PostgrestQueryBuilder:gS.default,PostgrestFilterBuilder:xS.default,PostgrestTransformBuilder:wS.default,PostgrestBuilder:_S.default,PostgrestError:ES.default};const cP=Bg({__proto__:null,get PostgrestBuilder(){return bS},get PostgrestClient(){return pS},get PostgrestError(){return hS},get PostgrestFilterBuilder(){return yS},get PostgrestQueryBuilder(){return mS},get PostgrestTransformBuilder(){return vS},default:CS},[on]),{PostgrestClient:uP,PostgrestQueryBuilder:SB,PostgrestFilterBuilder:AB,PostgrestTransformBuilder:TB,PostgrestBuilder:NB,PostgrestError:IB}=CS||cP;class dP{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const hP="2.78.0",fP=`realtime-js/${hP}`,pP="1.0.0",tg=1e4,gP=1e3,mP=100;var xu;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(xu||(xu={}));var Er;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Er||(Er={}));var Is;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Is||(Is={}));var rg;(function(t){t.websocket="websocket"})(rg||(rg={}));var aa;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(aa||(aa={}));class xP{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),o=r.getUint8(2);let l=this.HEADER_LENGTH+2;const u=n.decode(e.slice(l,l+s));l=l+s;const p=n.decode(e.slice(l,l+o));l=l+o;const h=JSON.parse(n.decode(e.slice(l,e.byteLength)));return{ref:null,topic:u,event:p,payload:h}}}class SS{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ot||(Ot={}));const gv=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,l)=>(o[l]=yP(l,t,e,s),o),{}):{}},yP=(t,e,r,n)=>{const s=e.find(u=>u.name===t),o=s==null?void 0:s.type,l=r[t];return o&&!n.includes(o)?AS(o,l):ng(l)},AS=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return bP(e,r)}switch(t){case Ot.bool:return wP(e);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return vP(e);case Ot.json:case Ot.jsonb:return _P(e);case Ot.timestamp:return EP(e);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return ng(e);default:return ng(e)}},ng=t=>t,wP=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},vP=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},_P=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},bP=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const l=t.slice(1,r);try{o=JSON.parse("["+l+"]")}catch{o=l?l.split(","):[]}return o.map(u=>AS(e,u))}return t},EP=t=>typeof t=="string"?t.replace(" ","T"):t,TS=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class v1{constructor(e,r,n={},s=tg){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mv||(mv={}));class yu{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=yu.syncState(this.state,s,o,l),this.pendingDiffs.forEach(p=>{this.state=yu.syncDiff(this.state,p,o,l)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:l,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=yu.syncDiff(this.state,s,o,l),u())}),this.onJoin((s,o,l)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:l})}),this.onLeave((s,o,l)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const o=this.cloneDeep(e),l=this.transformState(r),u={},p={};return this.map(o,(h,x)=>{l[h]||(p[h]=x)}),this.map(l,(h,x)=>{const w=o[h];if(w){const _=x.map(N=>N.presence_ref),b=w.map(N=>N.presence_ref),T=x.filter(N=>b.indexOf(N.presence_ref)<0),E=w.filter(N=>_.indexOf(N.presence_ref)<0);T.length>0&&(u[h]=T),E.length>0&&(p[h]=E)}else u[h]=x}),this.syncDiff(o,{joins:u,leaves:p},n,s)}static syncDiff(e,r,n,s){const{joins:o,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(u,p)=>{var h;const x=(h=e[u])!==null&&h!==void 0?h:[];if(e[u]=this.cloneDeep(p),x.length>0){const w=e[u].map(b=>b.presence_ref),_=x.filter(b=>w.indexOf(b.presence_ref)<0);e[u].unshift(..._)}n(u,x,p)}),this.map(l,(u,p)=>{let h=e[u];if(!h)return;const x=p.map(w=>w.presence_ref);h=h.filter(w=>x.indexOf(w.presence_ref)<0),e[u]=h,s(u,h,p),h.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var xv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(xv||(xv={}));var wu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(wu||(wu={}));var mi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mi||(mi={}));class cx{constructor(e,r={config:{}},n){var s,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Er.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new v1(this,Is.join,this.params,this.timeout),this.rejoinTimer=new SS(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Er.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Er.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=Er.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Is.reply,{},(l,u)=>{this._trigger(this._replyEventName(u),l)}),this.presence=new yu(this),this.broadcastEndpointURL=TS(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Er.closed){const{config:{broadcast:l,presence:u,private:p}}=this.params,h=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&s!==void 0?s:[],x=!!this.bindings[wu.PRESENCE]&&this.bindings[wu.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,w={},_={broadcast:l,presence:Object.assign(Object.assign({},u),{enabled:x}),postgres_changes:h,private:p};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(b=>e==null?void 0:e(mi.CHANNEL_ERROR,b)),this._onClose(()=>e==null?void 0:e(mi.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var T;if(this.socket.setAuth(),b===void 0){e==null||e(mi.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,N=(T=E==null?void 0:E.length)!==null&&T!==void 0?T:0,R=[];for(let S=0;S<N;S++){const A=E[S],{filter:{event:M,schema:k,table:B,filter:L}}=A,V=b&&b[S];if(V&&V.event===M&&V.schema===k&&V.table===B&&V.filter===L)R.push(Object.assign(Object.assign({},A),{id:V.id}));else{this.unsubscribe(),this.state=Er.errored,e==null||e(mi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,e&&e(mi.SUBSCRIBED);return}}).receive("error",b=>{this.state=Er.errored,e==null||e(mi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Er.joined&&e===wu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const o=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const l={method:"POST",headers:{Authorization:o,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(u.status===202)return{success:!0};let p=u.statusText;try{const h=await u.json();p=h.error||h.message||p}catch{}return Promise.reject(new Error(p))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:l}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=h.body)===null||s===void 0?void 0:s.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var l,u,p;const h=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(u=(l=this.params)===null||l===void 0?void 0:l.config)===null||u===void 0?void 0:u.broadcast)===null||p===void 0)&&p.ack)&&o("ok"),h.receive("ok",()=>o("ok")),h.receive("error",()=>o("error")),h.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Er.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Is.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new v1(this,Is.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Er.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),l=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),l}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new v1(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>mP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,o;const l=e.toLocaleLowerCase(),{close:u,error:p,leave:h,join:x}=Is;if(n&&[u,p,h,x].indexOf(l)>=0&&n!==this._joinRef())return;let _=this._onMessage(l,r,n);if(r&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var T,E,N;return((T=b.filter)===null||T===void 0?void 0:T.event)==="*"||((N=(E=b.filter)===null||E===void 0?void 0:E.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===l}).map(b=>b.callback(_,n)):(o=this.bindings[l])===null||o===void 0||o.filter(b=>{var T,E,N,R,S,A;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in b){const M=b.id,k=(T=b.filter)===null||T===void 0?void 0:T.event;return M&&((E=r.ids)===null||E===void 0?void 0:E.includes(M))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const M=(S=(R=b==null?void 0:b.filter)===null||R===void 0?void 0:R.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return M==="*"||M===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===l}).map(b=>{if(typeof _=="object"&&"ids"in _){const T=_.data,{schema:E,table:N,commit_timestamp:R,type:S,errors:A}=T;_=Object.assign(Object.assign({},{schema:E,table:N,commit_timestamp:R,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(T))}b.callback(_,n)})}_isClosed(){return this.state===Er.closed}_isJoined(){return this.state===Er.joined}_isJoining(){return this.state===Er.joining}_isLeaving(){return this.state===Er.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&cx.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Is.close,{},e)}_onError(e){this._on(Is.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Er.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=gv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=gv(e.columns,e.old_record)),r}}const _1=()=>{},ih={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},CP=[1e3,2e3,5e3,1e4],SP=1e4,AP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TP{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tg,this.transport=null,this.heartbeatIntervalMs=ih.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=_1,this.ref=0,this.reconnectTimer=null,this.logger=_1,this.conn=null,this.sendBuffer=[],this.serializer=new xP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...l)=>Tc(async()=>{const{default:u}=await Promise.resolve().then(()=>Ga);return{default:u}},void 0).then(({default:u})=>u(...l)).catch(u=>{throw new Error(`Failed to load @supabase/node-fetch: ${u.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...l)=>o(...l)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${rg.websocket}`,this.httpEndpoint=TS(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=dP.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:pP}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case xu.connecting:return aa.Connecting;case xu.open:return aa.Open;case xu.closing:return aa.Closing;default:return aa.Closed}}isConnected(){return this.connectionState()===aa.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new cx(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:s,ref:o}=e,l=()=>{this.encode(e,u=>{var p;(p=this.conn)===null||p===void 0||p.send(u)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(gP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ih.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(h){this.log("error","error in heartbeat callback",h)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:l}=r,u=l?`(${l})`:"",p=o.status||"";this.log("receive",`${p} ${n} ${s} ${u}`.trim(),o),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(s,o,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Is.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([AP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:fP};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Is.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new SS(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ih.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,o,l,u,p,h,x;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:tg,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ih.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(l=e==null?void 0:e.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:_1,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e==null?void 0:e.reconnectAfterMs)!==null&&p!==void 0?p:w=>CP[w-1]||SP,this.encode=(h=e==null?void 0:e.encode)!==null&&h!==void 0?h:(w,_)=>_(JSON.stringify(w)),this.decode=(x=e==null?void 0:e.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ux extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function $t(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NP extends ux{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class sg extends ux{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const dx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Tc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ga);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},IP=()=>Ne(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Tc(()=>Promise.resolve().then(()=>Ga),void 0)).Response:Response}),ig=t=>{if(Array.isArray(t))return t.map(r=>ig(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[s]=ig(n)}),e},RP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},b1=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},OP=(t,e,r)=>Ne(void 0,void 0,void 0,function*(){const n=yield IP();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const o=t.status||500,l=(s==null?void 0:s.statusCode)||o+"";e(new NP(b1(s),o,l))}).catch(s=>{e(new sg(b1(s),s))}):e(new sg(b1(t),t))}),MP=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(RP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function pd(t,e,r,n,s,o){return Ne(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(r,MP(e,n,s,o)).then(p=>{if(!p.ok)throw p;return n!=null&&n.noResolveJson?p:p.json()}).then(p=>l(p)).catch(p=>OP(p,u,n))})})}function Gu(t,e,r,n){return Ne(this,void 0,void 0,function*(){return pd(t,"GET",e,r,n)})}function Ss(t,e,r,n,s){return Ne(this,void 0,void 0,function*(){return pd(t,"POST",e,n,s,r)})}function og(t,e,r,n,s){return Ne(this,void 0,void 0,function*(){return pd(t,"PUT",e,n,s,r)})}function kP(t,e,r,n){return Ne(this,void 0,void 0,function*(){return pd(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function hx(t,e,r,n,s){return Ne(this,void 0,void 0,function*(){return pd(t,"DELETE",e,n,s,r)})}class PP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($t(e))return{data:null,error:e};throw e}})}}var NS;class DP{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[NS]="BlobDownloadBuilder",this.promise=null}asStream(){return new PP(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Ne(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if($t(e))return{data:null,error:e};throw e}})}}NS=Symbol.toStringTag;const jP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},yv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class LP{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=dx(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return Ne(this,void 0,void 0,function*(){try{let o;const l=Object.assign(Object.assign({},yv),s);let u=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const p=l.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",l.cacheControl),p&&o.append("metadata",this.encodeMetadata(p)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",l.cacheControl),p&&o.append("metadata",this.encodeMetadata(p))):(o=n,u["cache-control"]=`max-age=${l.cacheControl}`,u["content-type"]=l.contentType,p&&(u["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),s!=null&&s.headers&&(u=Object.assign(Object.assign({},u),s.headers));const h=this._removeEmptyFolders(r),x=this._getFinalPath(h),w=yield(e=="PUT"?og:Ss)(this.fetch,`${this.url}/object/${x}`,o,Object.assign({headers:u},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:w.Id,fullPath:w.Key},error:null}}catch(o){if(this.shouldThrowOnError)throw o;if($t(o))return{data:null,error:o};throw o}})}upload(e,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return Ne(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(e),l=this._getFinalPath(o),u=new URL(this.url+`/object/upload/sign/${l}`);u.searchParams.set("token",r);try{let p;const h=Object.assign({upsert:yv.upsert},s),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(h.upsert)});typeof Blob<"u"&&n instanceof Blob?(p=new FormData,p.append("cacheControl",h.cacheControl),p.append("",n)):typeof FormData<"u"&&n instanceof FormData?(p=n,p.append("cacheControl",h.cacheControl)):(p=n,x["cache-control"]=`max-age=${h.cacheControl}`,x["content-type"]=h.contentType);const w=yield og(this.fetch,u.toString(),p,{headers:x});return{data:{path:o,fullPath:w.Key},error:null}}catch(p){if(this.shouldThrowOnError)throw p;if($t(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,r){return Ne(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const o=yield Ss(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),l=new URL(this.url+o.url),u=l.searchParams.get("token");if(!u)throw new ux("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:u},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}update(e,r,n){return Ne(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}copy(e,r,n){return Ne(this,void 0,void 0,function*(){try{return{data:{path:(yield Ss(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return Ne(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),o=yield Ss(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${l}`)},{data:o,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return Ne(this,void 0,void 0,function*(){try{const s=yield Ss(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(l=>Object.assign(Object.assign({},l),{signedUrl:l.signedURL?encodeURI(`${this.url}${l.signedURL}${o}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),l=o?`?${o}`:"",u=this._getFinalPath(e),p=()=>Gu(this.fetch,`${this.url}/${s}/${u}${l}`,{headers:this.headers,noResolveJson:!0});return new DP(p,this.shouldThrowOnError)}info(e){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Gu(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:ig(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}exists(e){return Ne(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield kP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n)&&n instanceof sg){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const u=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});p!==""&&s.push(p);let h=s.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${n}${h}`)}}}remove(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield hx(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}list(e,r,n){return Ne(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},jP),r),{prefix:e||""});return{data:yield Ss(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}listV2(e,r){return Ne(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Ss(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const IS="2.78.0",RS={"X-Client-Info":`storage-js/${IS}`};class BP{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const o=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},RS),r),this.fetch=dx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Ne(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Gu(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}getBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Gu(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}createBucket(e){return Ne(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield hx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class FP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},RS),r),this.fetch=dx(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Ss(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}listBuckets(e){return Ne(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Gu(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield hx(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}})}}const fx={"X-Client-Info":`storage-js/${IS}`,"Content-Type":"application/json"};class OS extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Pn(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class E1 extends OS{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class UP extends OS{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var wv;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(wv||(wv={}));const px=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Tc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ga);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},zP=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},vv=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),VP=(t,e,r)=>Ne(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,o=t;if(typeof o.json=="function")o.json().then(l=>{const u=(l==null?void 0:l.statusCode)||(l==null?void 0:l.code)||s+"";e(new E1(vv(l),s,u))}).catch(()=>{const l=s+"",u=o.statusText||`HTTP ${s} error`;e(new E1(u,s,l))});else{const l=s+"",u=o.statusText||`HTTP ${s} error`;e(new E1(u,s,l))}}else e(new UP(vv(t),t))}),HP=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(zP(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r)):s};function WP(t,e,r,n,s,o){return Ne(this,void 0,void 0,function*(){return new Promise((l,u)=>{t(r,HP(e,n,s,o)).then(p=>{if(!p.ok)throw p;if(n!=null&&n.noResolveJson)return p;const h=p.headers.get("content-type");return!h||!h.includes("application/json")?{}:p.json()}).then(p=>l(p)).catch(p=>VP(p,u,n))})})}function Dn(t,e,r,n,s){return Ne(this,void 0,void 0,function*(){return WP(t,"POST",e,n,s,r)})}class $P{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fx),r),this.fetch=px(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}getIndex(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}})}listIndexes(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Pn(n))return{data:null,error:n};throw n}})}}class GP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fx),r),this.fetch=px(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}getVectors(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}listVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Dn(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}queryVectors(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}deleteVectors(e){return Ne(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}}class YP{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},fx),r),this.fetch=px(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}getBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:yield Dn(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}listBuckets(){return Ne(this,arguments,void 0,function*(e={}){try{return{data:yield Dn(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Ne(this,void 0,void 0,function*(){try{return{data:(yield Dn(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Pn(r))return{data:null,error:r};throw r}})}}class XP extends YP{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new qP(this.url,this.headers,e,this.fetch)}}class qP extends $P{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Ne(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Ne(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Ne(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Ne(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new KP(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class KP extends GP{constructor(e,r,n,s,o){super(e,r,o),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Ne(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Ne(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Ne(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Ne(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Ne(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class QP extends BP{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new LP(this.url,this.headers,e,this.fetch)}get vectors(){return new XP(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FP(this.url+"/iceberg",this.headers,this.fetch)}}const ZP="2.78.0";let nu="";typeof Deno<"u"?nu="deno":typeof document<"u"?nu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nu="react-native":nu="node";const JP={"X-Client-Info":`supabase-js-${nu}/${ZP}`},eD={headers:JP},tD={schema:"public"},rD={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},nD={},sD=t=>{let e;return t?e=t:typeof fetch>"u"?e=oS:e=fetch,(...r)=>e(...r)},iD=()=>typeof Headers>"u"?aS:Headers,oD=(t,e,r)=>{const n=sD(r),s=iD();return async(o,l)=>{var u;const p=(u=await e())!==null&&u!==void 0?u:t;let h=new s(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",t),h.has("Authorization")||h.set("Authorization",`Bearer ${p}`),n(o,Object.assign(Object.assign({},l),{headers:h}))}};function aD(t){return t.endsWith("/")?t:t+"/"}function lD(t,e){var r,n;const{db:s,auth:o,realtime:l,global:u}=t,{db:p,auth:h,realtime:x,global:w}=e,_={db:Object.assign(Object.assign({},p),s),auth:Object.assign(Object.assign({},h),o),realtime:Object.assign(Object.assign({},x),l),storage:{},global:Object.assign(Object.assign(Object.assign({},w),u),{headers:Object.assign(Object.assign({},(r=w==null?void 0:w.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?_.accessToken=t.accessToken:delete _.accessToken,_}function cD(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(aD(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const MS="2.78.0",pl=30*1e3,ag=3,C1=ag*pl,uD="http://localhost:9999",dD="supabase.auth.token",hD={"X-Client-Info":`gotrue-js/${MS}`},lg="X-Supabase-Api-Version",kS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pD=10*60*1e3;class Yu extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Oe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gD extends Yu{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function mD(t){return Oe(t)&&t.name==="AuthApiError"}class la extends Yu{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Vo extends Yu{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class vs extends Vo{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function xD(t){return Oe(t)&&t.name==="AuthSessionMissingError"}class il extends Vo{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class oh extends Vo{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ah extends Vo{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function yD(t){return Oe(t)&&t.name==="AuthImplicitGrantRedirectError"}class _v extends Vo{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class cg extends Vo{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function S1(t){return Oe(t)&&t.name==="AuthRetryableFetchError"}class bv extends Vo{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class ug extends Vo{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ev=` 	
\r=`.split(""),wD=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ev.length;e+=1)t[Ev[e].charCodeAt(0)]=-2;for(let e=0;e<pf.length;e+=1)t[pf[e].charCodeAt(0)]=e;return t})();function Cv(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(pf[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(pf[n]),e.queuedBits-=6}}function PS(t,e,r){const n=wD[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Sv(t){const e=[],r=l=>{e.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=l=>{bD(l,n,r)};for(let l=0;l<t.length;l+=1)PS(t.charCodeAt(l),s,o);return e.join("")}function vD(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function _D(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}vD(n,e)}}function bD(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Ul(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)PS(t.charCodeAt(s),r,n);return new Uint8Array(e)}function ED(t){const e=[];return _D(t,r=>e.push(r)),new Uint8Array(e)}function ha(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Cv(s,r,n)),Cv(null,r,n),e.join("")}function CD(t){return Math.round(Date.now()/1e3)+t}function SD(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const tn=()=>typeof window<"u"&&typeof document<"u",Jo={tested:!1,writable:!1},DS=()=>{if(!tn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Jo.tested)return Jo.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Jo.tested=!0,Jo.writable=!0}catch{Jo.tested=!0,Jo.writable=!1}return Jo.writable};function AD(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{e[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const jS=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Tc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ga);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},TD=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gl=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ea=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gi=async(t,e)=>{await t.removeItem(e)};class o0{constructor(){this.promise=new o0.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}o0.promiseConstructor=Promise;function A1(t){const e=t.split(".");if(e.length!==3)throw new ug("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!fD.test(e[n]))throw new ug("JWT not in base64url format");return{header:JSON.parse(Sv(e[0])),payload:JSON.parse(Sv(e[1])),signature:Ul(e[2]),raw:{header:e[0],payload:e[1]}}}async function ND(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ID(t,e){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const l=await t(o);if(!e(o,null,l)){n(l);return}}catch(l){if(!e(o,l)){s(l);return}}})()})}function RD(t){return("0"+t.toString(16)).substr(-2)}function OD(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,RD).join("")}async function MD(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function kD(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await MD(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ol(t,e,r=!1){const n=OD();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await gl(t,`${e}-code-verifier`,s);const o=await kD(n);return[o,n===o?"plain":"s256"]}const PD=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function DD(t){const e=t.headers.get(lg);if(!e||!e.match(PD))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function jD(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function LD(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BD=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function al(t){if(!BD.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function T1(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function FD(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Av(t){return JSON.parse(JSON.stringify(t))}const ia=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),UD=[502,503,504];async function Tv(t){var e;if(!TD(t))throw new cg(ia(t),0);if(UD.includes(t.status))throw new cg(ia(t),t.status);let r;try{r=await t.json()}catch(o){throw new la(ia(o),o)}let n;const s=DD(t);if(s&&s.getTime()>=kS["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new bv(ia(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new vs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,l)=>o&&typeof l=="string",!0))throw new bv(ia(r),t.status,r.weak_password.reasons);throw new gD(ia(r),t.status||500,n)}const zD=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Ve(t,e,r,n){var s;const o=Object.assign({},n==null?void 0:n.headers);o[lg]||(o[lg]=kS["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const l=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const u=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",p=await VD(t,e,r+u,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(p):{data:Object.assign({},p),error:null}}async function VD(t,e,r,n,s,o){const l=zD(e,n,s,o);let u;try{u=await t(r,Object.assign({},l))}catch(p){throw console.error(p),new cg(ia(p),0)}if(u.ok||await Tv(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(p){await Tv(p)}}function _s(t){var e;let r=null;$D(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=CD(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Nv(t){const e=_s(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function eo(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function HD(t){return{data:t,error:null}}function WD(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=t,l=zo(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},p=Object.assign({},l);return{data:{properties:u,user:p},error:null}}function Iv(t){return t}function $D(t){return t.access_token&&t.refresh_token&&t.expires_in}const N1=["global","local","others"];class GD{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=jS(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=N1[0]){if(N1.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${N1.join(", ")}`);try{return await Ve(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Ve(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:eo})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=zo(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ve(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:WD,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Oe(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:eo})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,o,l,u,p;try{const h={nextPage:null,lastPage:0,total:0},x=await Ve(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Iv});if(x.error)throw x.error;const w=await x.json(),_=(l=x.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(p=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);h[`${N}Page`]=E}),h.total=parseInt(_)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(Oe(h))return{data:{users:[]},error:h};throw h}}async getUserById(e){al(e);try{return await Ve(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:eo})}catch(r){if(Oe(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){al(e);try{return await Ve(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:eo})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){al(e);try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:eo})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){al(e.userId);try{const{data:r,error:n}=await Ve(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _deleteFactor(e){al(e.userId),al(e.id);try{return{data:await Ve(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,o,l,u,p;try{const h={nextPage:null,lastPage:0,total:0},x=await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Iv});if(x.error)throw x.error;const w=await x.json(),_=(l=x.headers.get("x-total-count"))!==null&&l!==void 0?l:0,b=(p=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&p!==void 0?p:[];return b.length>0&&(b.forEach(T=>{const E=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(T.split(";")[1].split("=")[1]);h[`${N}Page`]=E}),h.total=parseInt(_)),{data:Object.assign(Object.assign({},w),h),error:null}}catch(h){if(Oe(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Ve(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Ve(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Ve(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Ve(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}}function Rv(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const ll={debug:!!(globalThis&&DS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class LS extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YD extends LS{}async function XD(t,e,r){ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),ll.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw ll.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new YD(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ll.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function qD(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function BS(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function KD(t){return parseInt(t,16)}function QD(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function ZD(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:o=new Date,nonce:l,notBefore:u,requestId:p,resources:h,scheme:x,uri:w,version:_}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const b=BS(t.address),T=x?`${x}://${n}`:n,E=t.statement?`${t.statement}
`:"",N=`${T} wants you to sign in with your Ethereum account:
${b}

${E}`;let R=`URI: ${w}
Version: ${_}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${o.toISOString()}`;if(s&&(R+=`
Expiration Time: ${s.toISOString()}`),u&&(R+=`
Not Before: ${u.toISOString()}`),p&&(R+=`
Request ID: ${p}`),h){let S=`
Resources:`;for(const A of h){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);S+=`
- ${A}`}R+=S}return`${N}
${R}`}class fr extends Error{constructor({message:e,code:r,cause:n,name:s}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=s??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class gf extends fr{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function JD({error:t,options:e}){var r,n,s;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fr({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new fr({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new fr({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new fr({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fr({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new fr({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fr({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const l=window.location.hostname;if(FS(l)){if(o.rp.id!==l)return new fr({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new fr({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fr({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function e5({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fr({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fr({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(FS(n)){if(r.rpId!==n)return new fr({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fr({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fr({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fr({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class t5{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const r5=new t5;function n5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=zo(t,["challenge","user","excludeCredentials"]),o=Ul(e).buffer,l=Object.assign(Object.assign({},r),{id:Ul(r.id).buffer}),u=Object.assign(Object.assign({},s),{challenge:o,user:l});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let p=0;p<n.length;p++){const h=n[p];u.excludeCredentials[p]=Object.assign(Object.assign({},h),{id:Ul(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return u}function s5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=zo(t,["challenge","allowCredentials"]),s=Ul(e).buffer,o=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];o.allowCredentials[l]=Object.assign(Object.assign({},u),{id:Ul(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function i5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:ha(new Uint8Array(t.response.attestationObject)),clientDataJSON:ha(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function o5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:ha(new Uint8Array(s.authenticatorData)),clientDataJSON:ha(new Uint8Array(s.clientDataJSON)),signature:ha(new Uint8Array(s.signature)),userHandle:s.userHandle?ha(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function FS(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Ov(){var t,e;return!!(tn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function a5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gf("Browser returned unexpected credential type",e)}:{data:null,error:new gf("Empty credential response",e)}}catch(e){return{data:null,error:JD({error:e,options:t})}}}async function l5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new gf("Browser returned unexpected credential type",e)}:{data:null,error:new gf("Empty credential response",e)}}catch(e){return{data:null,error:e5({error:e,options:t})}}}const c5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},u5={userVerification:"preferred",hints:["security-key"]};function mf(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const o in s){const l=s[o];if(l!==void 0)if(Array.isArray(l))n[o]=l;else if(r(l))n[o]=l;else if(e(l)){const u=n[o];e(u)?n[o]=mf(u,l):n[o]=mf(l)}else n[o]=l}return n}function d5(t,e){return mf(c5,t,e||{})}function h5(t,e){return mf(u5,t,e||{})}class f5{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},o){try{const{data:l,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!l)return{data:null,error:u};const p=s??r5.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=d5(l.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:x,error:w}=await a5({publicKey:h,signal:p});return x?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}case"request":{const h=h5(l.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:x,error:w}=await l5(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:p}));return x?{data:{factorId:e,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:x}},error:null}:{data:null,error:w}}}}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new la("Unexpected error in challenge",l)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}},o){if(!r)return{data:null,error:new Yu("rpId is required for WebAuthn authentication")};try{if(!Ov())return{data:null,error:new la("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:o});if(!l)return{data:null,error:u};const{webauthn:p}=l;return this._verify({factorId:e,challengeId:l.challengeId,webauthn:{type:p.type,rpId:r,rpOrigins:n,credential_response:p.credential_response}})}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new la("Unexpected error in authenticate",l)}}}async _register({friendlyName:e,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s},o){if(!r)return{data:null,error:new Yu("rpId is required for WebAuthn registration")};try{if(!Ov())return{data:null,error:new la("Browser does not support WebAuthn",null)};const{data:l,error:u}=await this._enroll({friendlyName:e});if(!l)return await this.client.mfa.listFactors().then(x=>{var w;return(w=x.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===e&&_.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:u};const{data:p,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:o});return p?this._verify({factorId:l.id,challengeId:p.challengeId,webauthn:{rpId:r,rpOrigins:n,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Oe(l)?{data:null,error:l}:{data:null,error:new la("Unexpected error in register",l)}}}}qD();const p5={url:uD,storageKey:dD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Mv(t,e,r){return await r()}const cl={};class Xu{get jwks(){var e,r;return(r=(e=cl[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){cl[this.storageKey]=Object.assign(Object.assign({},cl[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=cl[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){cl[this.storageKey]=Object.assign(Object.assign({},cl[this.storageKey]),{cachedAt:e})}constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xu.nextInstanceID,Xu.nextInstanceID+=1,this.instanceID>0&&tn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},p5),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new GD({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=jS(s.fetch),this.lock=s.lock||Mv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:tn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=XD:this.lock=Mv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new f5(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:DS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Rv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Rv(this.memoryStorage)),tn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${MS}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=AD(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),tn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),yD(o)){const p=(e=o.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:l,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",l,"redirect type",u),await this._saveSession(l),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Oe(r)?{error:r}:{error:new la("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const o=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:_s}),{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const p=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(e){var r,n,s;try{let o;if("email"in e){const{email:x,password:w,options:_}=e;let b=null,T=null;this.flowType==="pkce"&&([b,T]=await ol(this.storage,this.storageKey)),o=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:x,password:w,data:(r=_==null?void 0:_.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:b,code_challenge_method:T},xform:_s})}else if("phone"in e){const{phone:x,password:w,options:_}=e;o=await Ve(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:w,data:(n=_==null?void 0:_.data)!==null&&n!==void 0?n:{},channel:(s=_==null?void 0:_.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:_s})}else throw new oh("You must provide either an email or phone number and a password");const{data:l,error:u}=o;if(u||!l)return{data:{user:null,session:null},error:u};const p=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(o){if(Oe(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:l,options:u}=e;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nv})}else if("phone"in e){const{phone:o,password:l,options:u}=e;r=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:Nv})}else throw new oh("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new il}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,o,l,u,p,h,x,w,_;let b,T;if("message"in e)b=e.message,T=e.signature;else{const{chain:E,wallet:N,statement:R,options:S}=e;let A;if(tn())if(typeof N=="object")A=N;else{const U=window;if("ethereum"in U&&typeof U.ethereum=="object"&&"request"in U.ethereum&&typeof U.ethereum.request=="function")A=U.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=N}const M=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href),k=await A.request({method:"eth_requestAccounts"}).then(U=>U).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!k||k.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=BS(k[0]);let L=(n=S==null?void 0:S.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!L){const U=await A.request({method:"eth_chainId"});L=KD(U)}const V={domain:M.host,address:B,statement:R,uri:M.href,version:"1",chainId:L,nonce:(s=S==null?void 0:S.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(l=(o=S==null?void 0:S.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(u=S==null?void 0:S.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(p=S==null?void 0:S.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(h=S==null?void 0:S.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(x=S==null?void 0:S.signInWithEthereum)===null||x===void 0?void 0:x.resources};b=ZD(V),T=await A.request({method:"personal_sign",params:[QD(b),B]})}try{const{data:E,error:N}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:b,signature:T},!((w=e.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=e.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:_s});if(N)throw N;return!E||!E.session||!E.user?{data:{user:null,session:null},error:new il}:(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("SIGNED_IN",E.session)),{data:Object.assign({},E),error:N})}catch(E){if(Oe(E))return{data:{user:null,session:null},error:E};throw E}}async signInWithSolana(e){var r,n,s,o,l,u,p,h,x,w,_,b;let T,E;if("message"in e)T=e.message,E=e.signature;else{const{chain:N,wallet:R,statement:S,options:A}=e;let M;if(tn())if(typeof R=="object")M=R;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))M=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=R}const k=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in M&&M.signIn){const B=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),S?{statement:S}:null));let L;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")L=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)L=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)T=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),E=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${k.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((p=A==null?void 0:A.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((h=A==null?void 0:A.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((w=(x=A==null?void 0:A.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||w===void 0)&&w.length?["Resources",...A.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const B=await M.signMessage(new TextEncoder().encode(T),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=B}}try{const{data:N,error:R}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:ha(E)},!((_=e.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(b=e.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:_s});if(R)throw R;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new il}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:R})}catch(N){if(Oe(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const r=await ea(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:l}=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:_s});if(await Gi(this.storage,`${this.storageKey}-code-verifier`),l)throw l;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new il}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:l})}catch(o){if(Oe(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:o,nonce:l}=e,u=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:_s}),{data:p,error:h}=u;return h?{data:{user:null,session:null},error:h}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new il}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:h})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,o,l;try{if("email"in e){const{email:u,options:p}=e;let h=null,x=null;this.flowType==="pkce"&&([h,x]=await ol(this.storage,this.storageKey));const{error:w}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},create_user:(n=p==null?void 0:p.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:h,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in e){const{phone:u,options:p}=e,{data:h,error:x}=await Ve(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(o=p==null?void 0:p.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(l=p==null?void 0:p.channel)!==null&&l!==void 0?l:"sms"}});return{data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:x}}throw new oh("You must provide either an email or phone number.")}catch(u){if(Oe(u))return{data:{user:null,session:null},error:u};throw u}}async verifyOtp(e){var r,n;try{let s,o;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:u}=await Ve(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:_s});if(u)throw u;if(!l)throw new Error("An error occurred on token verification.");const p=l.session,h=l.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:h,session:p},error:null}}catch(s){if(Oe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let o=null,l=null;return this.flowType==="pkce"&&([o,l]=await ol(this.storage,this.storageKey)),await Ve(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:HD})}catch(o){if(Oe(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new vs;const{error:s}=await Ve(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(Oe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:o}=e,{error:l}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:l}}else if("phone"in e){const{phone:n,type:s,options:o}=e,{data:l,error:u}=await Ve(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:u}}throw new oh("You must provide either an email or phone number and a type")}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ea(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<C1:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const l=await ea(this.userStorage,this.storageKey+"-user");l!=null&&l.user?e.user=l.user:e.user=T1()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};e.user=FD(e.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:eo}):await this._useSession(async r=>{var n,s,o;const{data:l,error:u}=r;if(u)throw u;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new vs}:await Ve(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=l.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:eo})})}catch(r){if(Oe(r))return xD(r)&&(await this._removeSession(),await Gi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new vs;const l=s.session;let u=null,p=null;this.flowType==="pkce"&&e.email!=null&&([u,p]=await ol(this.storage,this.storageKey));const{data:h,error:x}=await Ve(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:p}),jwt:l.access_token,xform:eo});if(x)throw x;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),{data:{user:l.user},error:null}})}catch(n){if(Oe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new vs;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:l}=A1(e.access_token);if(l.exp&&(n=l.exp,s=n<=r),s){const{data:u,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:p}=await this._getUser(e.access_token);if(p)throw p;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Oe(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:l,error:u}=r;if(u)throw u;e=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new vs;const{data:s,error:o}=await this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Oe(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!tn())throw new ah("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ah(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new _v("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ah("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _v("No code detected.");const{data:S,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:l,expires_in:u,expires_at:p,token_type:h}=e;if(!o||!u||!l||!h)throw new ah("No session defined in URL");const x=Math.round(Date.now()/1e3),w=parseInt(u);let _=x+w;p&&(_=parseInt(p));const b=_-x;b*1e3<=pl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${w}s`);const T=_-w;x-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,_,x):x-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,_,x);const{data:E,error:N}=await this._getUser(o);if(N)throw N;const R={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:w,expires_at:_,refresh_token:l,token_type:h,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(n){if(Oe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ea(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const l=(n=s.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:u}=await this.admin.signOut(l,e);if(u&&!(mD(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(await this._removeSession(),await Gi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=SD(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await ol(this.storage,this.storageKey,!0));try{return await Ve(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Oe(o))return{data:null,error:o};throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var l,u,p,h,x;const{data:w,error:_}=o;if(_)throw _;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(l=e.options)===null||l===void 0?void 0:l.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await Ve(this.fetch,"GET",b,{headers:this.headers,jwt:(x=(h=w.session)===null||h===void 0?void 0:h.access_token)!==null&&x!==void 0?x:void 0})});if(s)throw s;return tn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(Oe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:o}}=r;if(s)throw s;const{options:l,provider:u,token:p,access_token:h,nonce:x}=e,w=await Ve(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:p,access_token:h,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:_s}),{data:_,error:b}=w;return b?{data:{user:null,session:null},error:b}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new il}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:b})}catch(s){if(Oe(s))return{data:{user:null,session:null},error:s};throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:l}=r;if(l)throw l;return await Ve(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ID(async s=>(s>0&&await ND(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Ve(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:_s})),(s,o)=>{const l=200*Math.pow(2,s);return o&&S1(o)&&Date.now()+l-n<pl})}catch(n){if(this._debug(r,"error",n),Oe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),tn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await ea(this.storage,this.storageKey);if(s&&this.userStorage){let l=await ea(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:s.user},await gl(this.userStorage,this.storageKey+"-user",l)),s.user=(e=l==null?void 0:l.user)!==null&&e!==void 0?e:T1()}else if(s&&!s.user&&!s.user){const l=await ea(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(s.user=l.user,await Gi(this.storage,this.storageKey+"-user"),await gl(this.storage,this.storageKey,s)):s.user=T1()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<C1;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${C1}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:l}=await this._callRefreshToken(s.refresh_token);l&&(console.error(l),S1(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:u}=await this._getUser(s.access_token);!u&&(l!=null&&l.user)?(s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new vs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new o0;const{data:o,error:l}=await this._refreshAccessToken(e);if(l)throw l;if(!o.session)throw new vs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),Oe(o)){const l={data:null,error:o};return S1(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],l=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(p){o.push(p)}});if(await Promise.all(l),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await gl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=Av(s);await gl(this.storage,this.storageKey,o)}else{const s=Av(r);await gl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Gi(this.storage,this.storageKey),await Gi(this.storage,this.storageKey+"-code-verifier"),await Gi(this.storage,this.storageKey+"-user"),this.userStorage&&await Gi(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),pl);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/pl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${pl}ms, refresh threshold is ${ag} ticks`),s<=ag&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof LS)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,l]=await ol(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(l)}`});s.push(u.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Ve(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:o,error:l}=r;if(l)return{data:null,error:l};const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:p,error:h}=await Ve(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return h?{data:null,error:h}:(e.factorType==="totp"&&p.type==="totp"&&(!((s=p==null?void 0:p.totp)===null||s===void 0)&&s.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?i5(e.webauthn.credential_response):o5(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:p}=await Ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return p?{data:null,error:p}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:p})})}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const l=await Ve(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:u}=l;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:n5(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:s5(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Oe(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=A1(n.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const h=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?{data:null,error:s}:n?await Ve(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):{data:null,error:new vs}})}catch(r){if(Oe(r))return{data:null,error:r};throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new vs};const l=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&tn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:o}=n;if(o)return{data:null,error:o};if(!s)return{data:null,error:new vs};const l=await Ve(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return l.data&&l.data.redirect_url&&tn()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Oe(n))return{data:null,error:n};throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+pD>s)return n;const{data:o,error:l}=await Ve(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:b,error:T}=await this.getSession();if(T||!b.session)return{data:null,error:T};n=b.session.access_token}const{header:s,payload:o,signature:l,raw:{header:u,payload:p}}=A1(n);r!=null&&r.allowExpired||jD(o.exp);const h=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:o,header:s,signature:l},error:null}}const x=LD(s.alg),w=await crypto.subtle.importKey("jwk",h,x,!0,["verify"]);if(!await crypto.subtle.verify(x,w,l,ED(`${u}.${p}`)))throw new ug("Invalid JWT signature");return{data:{claims:o,header:s,signature:l},error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}}}Xu.nextInstanceID=0;const g5=Xu;class m5 extends g5{constructor(e){super(e)}}class x5{constructor(e,r,n){var s,o,l;this.supabaseUrl=e,this.supabaseKey=r;const u=cD(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const p=`sb-${u.hostname.split(".")[0]}-auth-token`,h={db:tD,realtime:nD,auth:Object.assign(Object.assign({},rD),{storageKey:p}),global:eD},x=lD(n??{},h);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=x.global.headers)!==null&&o!==void 0?o:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((l=x.auth)!==null&&l!==void 0?l:{},this.headers,x.global.fetch),this.fetch=oD(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new uP(new URL("rest/v1",u).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new QP(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new rP(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:l,flowType:u,lock:p,debug:h},x,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m5({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),x),storageKey:l,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:u,lock:p,debug:h,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(b=>b.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new TP(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y5=(t,e,r)=>new x5(t,e,r);function w5(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}w5()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const v5="https://mtwburwdescvdngmzcmu.supabase.co",_5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im10d2J1cndkZXNjdmRuZ216Y211Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIxMTM2MzMsImV4cCI6MjA3NzY4OTYzM30.9Ez2Dg9DdMaqNJy960B5V4U8H8uvz5RS5KyVsSHIZ2c",Ce=y5(v5,_5,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),US=I.createContext(void 0),b5=({children:t})=>{const[e,r]=I.useState(null),[n,s]=I.useState(null),[o,l]=I.useState(null),[u,p]=I.useState(!0);I.useEffect(()=>{const{data:{subscription:b}}=Ce.auth.onAuthStateChange((T,E)=>{s(E),r((E==null?void 0:E.user)??null),E!=null&&E.user?setTimeout(()=>{h(E.user.id)},0):l(null)});return Ce.auth.getSession().then(({data:{session:T}})=>{s(T),r((T==null?void 0:T.user)??null),T!=null&&T.user?h(T.user.id).then(()=>p(!1)):p(!1)}),()=>b.unsubscribe()},[]);const h=async b=>{const{data:T,error:E}=await Ce.from("user_roles").select("role").eq("user_id",b).single();l(!E&&T?T.role:"customer")},x=async(b,T,E,N)=>{const R=`${window.location.origin}/home`,{error:S}=await Ce.auth.signUp({email:b,password:T,options:{emailRedirectTo:R,data:{full_name:E,phone:N}}});return{error:S}},w=async(b,T)=>{const{error:E}=await Ce.auth.signInWithPassword({email:b,password:T});return{error:E}},_=async()=>{await Ce.auth.signOut()};return m.jsx(US.Provider,{value:{user:e,session:n,userRole:o,signUp:x,signIn:w,signOut:_,loading:u},children:t})},ps=()=>{const t=I.useContext(US);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},E5=Xf("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Fe=I.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,...s},o)=>{const l=n?yR:"button";return m.jsx(l,{className:He(E5({variant:e,size:r,className:t})),ref:o,...s})});Fe.displayName="Button";function xi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function zS(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}/*!
 * GSAP 3.13.0
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Vn={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},hc={duration:.5,overwrite:!1,delay:0},gx,Fr,Ht,as=1e8,It=1/as,dg=Math.PI*2,C5=dg/4,S5=0,VS=Math.sqrt,A5=Math.cos,T5=Math.sin,Mr=function(e){return typeof e=="string"},lr=function(e){return typeof e=="function"},Pi=function(e){return typeof e=="number"},mx=function(e){return typeof e>"u"},ci=function(e){return typeof e=="object"},bn=function(e){return e!==!1},xx=function(){return typeof window<"u"},lh=function(e){return lr(e)||Mr(e)},HS=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Qr=Array.isArray,hg=/(?:-?\.?\d|\.)+/gi,WS=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Nl=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,I1=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,$S=/[+-]=-?[.\d]+/,GS=/[^,'"\[\]\s]+/gi,N5=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Yt,Ks,fg,yx,Wn={},xf={},YS,XS=function(e){return(xf=fc(e,Wn))&&An},wx=function(e,r){return console.warn("Invalid property",e,"set to",r,"Missing plugin? gsap.registerPlugin()")},qu=function(e,r){return!r&&console.warn(e)},qS=function(e,r){return e&&(Wn[e]=r)&&xf&&(xf[e]=r)||Wn},Ku=function(){return 0},I5={suppressEvents:!0,isStart:!0,kill:!1},Nh={suppressEvents:!0,kill:!1},R5={suppressEvents:!0},vx={},Co=[],pg={},KS,Mn={},R1={},kv=30,Ih=[],_x="",bx=function(e){var r=e[0],n,s;if(ci(r)||lr(r)||(e=[e]),!(n=(r._gsap||{}).harness)){for(s=Ih.length;s--&&!Ih[s].targetTest(r););n=Ih[s]}for(s=e.length;s--;)e[s]&&(e[s]._gsap||(e[s]._gsap=new vA(e[s],n)))||e.splice(s,1);return e},Ea=function(e){return e._gsap||bx(ls(e))[0]._gsap},QS=function(e,r,n){return(n=e[r])&&lr(n)?e[r]():mx(n)&&e.getAttribute&&e.getAttribute(r)||n},En=function(e,r){return(e=e.split(",")).forEach(r)||e},dr=function(e){return Math.round(e*1e5)/1e5||0},gr=function(e){return Math.round(e*1e7)/1e7||0},zl=function(e,r){var n=r.charAt(0),s=parseFloat(r.substr(2));return e=parseFloat(e),n==="+"?e+s:n==="-"?e-s:n==="*"?e*s:e/s},O5=function(e,r){for(var n=r.length,s=0;e.indexOf(r[s])<0&&++s<n;);return s<n},yf=function(){var e=Co.length,r=Co.slice(0),n,s;for(pg={},Co.length=0,n=0;n<e;n++)s=r[n],s&&s._lazy&&(s.render(s._lazy[0],s._lazy[1],!0)._lazy=0)},Ex=function(e){return!!(e._initted||e._startAt||e.add)},ZS=function(e,r,n,s){Co.length&&!Fr&&yf(),e.render(r,n,!!(Fr&&r<0&&Ex(e))),Co.length&&!Fr&&yf()},JS=function(e){var r=parseFloat(e);return(r||r===0)&&(e+"").match(GS).length<2?r:Mr(e)?e.trim():e},eA=function(e){return e},$n=function(e,r){for(var n in r)n in e||(e[n]=r[n]);return e},M5=function(e){return function(r,n){for(var s in n)s in r||s==="duration"&&e||s==="ease"||(r[s]=n[s])}},fc=function(e,r){for(var n in r)e[n]=r[n];return e},Pv=function t(e,r){for(var n in r)n!=="__proto__"&&n!=="constructor"&&n!=="prototype"&&(e[n]=ci(r[n])?t(e[n]||(e[n]={}),r[n]):r[n]);return e},wf=function(e,r){var n={},s;for(s in e)s in r||(n[s]=e[s]);return n},vu=function(e){var r=e.parent||Yt,n=e.keyframes?M5(Qr(e.keyframes)):$n;if(bn(e.inherit))for(;r;)n(e,r.vars.defaults),r=r.parent||r._dp;return e},k5=function(e,r){for(var n=e.length,s=n===r.length;s&&n--&&e[n]===r[n];);return n<0},tA=function(e,r,n,s,o){var l=e[s],u;if(o)for(u=r[o];l&&l[o]>u;)l=l._prev;return l?(r._next=l._next,l._next=r):(r._next=e[n],e[n]=r),r._next?r._next._prev=r:e[s]=r,r._prev=l,r.parent=r._dp=e,r},a0=function(e,r,n,s){n===void 0&&(n="_first"),s===void 0&&(s="_last");var o=r._prev,l=r._next;o?o._next=l:e[n]===r&&(e[n]=l),l?l._prev=o:e[s]===r&&(e[s]=o),r._next=r._prev=r.parent=null},Oo=function(e,r){e.parent&&(!r||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},Ca=function(e,r){if(e&&(!r||r._end>e._dur||r._start<0))for(var n=e;n;)n._dirty=1,n=n.parent;return e},P5=function(e){for(var r=e.parent;r&&r.parent;)r._dirty=1,r.totalDuration(),r=r.parent;return e},gg=function(e,r,n,s){return e._startAt&&(Fr?e._startAt.revert(Nh):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(r,!0,s))},D5=function t(e){return!e||e._ts&&t(e.parent)},Dv=function(e){return e._repeat?pc(e._tTime,e=e.duration()+e._rDelay)*e:0},pc=function(e,r){var n=Math.floor(e=gr(e/r));return e&&n===e?n-1:n},vf=function(e,r){return(e-r._start)*r._ts+(r._ts>=0?0:r._dirty?r.totalDuration():r._tDur)},l0=function(e){return e._end=gr(e._start+(e._tDur/Math.abs(e._ts||e._rts||It)||0))},c0=function(e,r){var n=e._dp;return n&&n.smoothChildTiming&&e._ts&&(e._start=gr(n._time-(e._ts>0?r/e._ts:((e._dirty?e.totalDuration():e._tDur)-r)/-e._ts)),l0(e),n._dirty||Ca(n,e)),e},rA=function(e,r){var n;if((r._time||!r._dur&&r._initted||r._start<e._time&&(r._dur||!r.add))&&(n=vf(e.rawTime(),r),(!r._dur||gd(0,r.totalDuration(),n)-r._tTime>It)&&r.render(n,!0)),Ca(e,r)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(n=e;n._dp;)n.rawTime()>=0&&n.totalTime(n._tTime),n=n._dp;e._zTime=-It}},ti=function(e,r,n,s){return r.parent&&Oo(r),r._start=gr((Pi(n)?n:n||e!==Yt?Jn(e,n,r):e._time)+r._delay),r._end=gr(r._start+(r.totalDuration()/Math.abs(r.timeScale())||0)),tA(e,r,"_first","_last",e._sort?"_start":0),mg(r)||(e._recent=r),s||rA(e,r),e._ts<0&&c0(e,e._tTime),e},nA=function(e,r){return(Wn.ScrollTrigger||wx("scrollTrigger",r))&&Wn.ScrollTrigger.create(r,e)},sA=function(e,r,n,s,o){if(Sx(e,r,o),!e._initted)return 1;if(!n&&e._pt&&!Fr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&KS!==jn.frame)return Co.push(e),e._lazy=[o,s],1},j5=function t(e){var r=e.parent;return r&&r._ts&&r._initted&&!r._lock&&(r.rawTime()<0||t(r))},mg=function(e){var r=e.data;return r==="isFromStart"||r==="isStart"},L5=function(e,r,n,s){var o=e.ratio,l=r<0||!r&&(!e._start&&j5(e)&&!(!e._initted&&mg(e))||(e._ts<0||e._dp._ts<0)&&!mg(e))?0:1,u=e._rDelay,p=0,h,x,w;if(u&&e._repeat&&(p=gd(0,e._tDur,r),x=pc(p,u),e._yoyo&&x&1&&(l=1-l),x!==pc(e._tTime,u)&&(o=1-l,e.vars.repeatRefresh&&e._initted&&e.invalidate())),l!==o||Fr||s||e._zTime===It||!r&&e._zTime){if(!e._initted&&sA(e,r,s,n,p))return;for(w=e._zTime,e._zTime=r||(n?It:0),n||(n=r&&!w),e.ratio=l,e._from&&(l=1-l),e._time=0,e._tTime=p,h=e._pt;h;)h.r(l,h.d),h=h._next;r<0&&gg(e,r,n,!0),e._onUpdate&&!n&&Fn(e,"onUpdate"),p&&e._repeat&&!n&&e.parent&&Fn(e,"onRepeat"),(r>=e._tDur||r<0)&&e.ratio===l&&(l&&Oo(e,1),!n&&!Fr&&(Fn(e,l?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=r)},B5=function(e,r,n){var s;if(n>r)for(s=e._first;s&&s._start<=n;){if(s.data==="isPause"&&s._start>r)return s;s=s._next}else for(s=e._last;s&&s._start>=n;){if(s.data==="isPause"&&s._start<r)return s;s=s._prev}},gc=function(e,r,n,s){var o=e._repeat,l=gr(r)||0,u=e._tTime/e._tDur;return u&&!s&&(e._time*=l/e._dur),e._dur=l,e._tDur=o?o<0?1e10:gr(l*(o+1)+e._rDelay*o):l,u>0&&!s&&c0(e,e._tTime=e._tDur*u),e.parent&&l0(e),n||Ca(e.parent,e),e},jv=function(e){return e instanceof an?Ca(e):gc(e,e._dur)},F5={_start:0,endTime:Ku,totalDuration:Ku},Jn=function t(e,r,n){var s=e.labels,o=e._recent||F5,l=e.duration()>=as?o.endTime(!1):e._dur,u,p,h;return Mr(r)&&(isNaN(r)||r in s)?(p=r.charAt(0),h=r.substr(-1)==="%",u=r.indexOf("="),p==="<"||p===">"?(u>=0&&(r=r.replace(/=/,"")),(p==="<"?o._start:o.endTime(o._repeat>=0))+(parseFloat(r.substr(1))||0)*(h?(u<0?o:n).totalDuration()/100:1)):u<0?(r in s||(s[r]=l),s[r]):(p=parseFloat(r.charAt(u-1)+r.substr(u+1)),h&&n&&(p=p/100*(Qr(n)?n[0]:n).totalDuration()),u>1?t(e,r.substr(0,u-1),n)+p:l+p)):r==null?l:+r},_u=function(e,r,n){var s=Pi(r[1]),o=(s?2:1)+(e<2?0:1),l=r[o],u,p;if(s&&(l.duration=r[1]),l.parent=n,e){for(u=l,p=n;p&&!("immediateRender"in u);)u=p.vars.defaults||{},p=bn(p.vars.inherit)&&p.parent;l.immediateRender=bn(u.immediateRender),e<2?l.runBackwards=1:l.startAt=r[o-1]}return new pr(r[0],l,r[o+1])},Ho=function(e,r){return e||e===0?r(e):r},gd=function(e,r,n){return n<e?e:n>r?r:n},Kr=function(e,r){return!Mr(e)||!(r=N5.exec(e))?"":r[1]},U5=function(e,r,n){return Ho(n,function(s){return gd(e,r,s)})},xg=[].slice,iA=function(e,r){return e&&ci(e)&&"length"in e&&(!r&&!e.length||e.length-1 in e&&ci(e[0]))&&!e.nodeType&&e!==Ks},z5=function(e,r,n){return n===void 0&&(n=[]),e.forEach(function(s){var o;return Mr(s)&&!r||iA(s,1)?(o=n).push.apply(o,ls(s)):n.push(s)})||n},ls=function(e,r,n){return Ht&&!r&&Ht.selector?Ht.selector(e):Mr(e)&&!n&&(fg||!mc())?xg.call((r||yx).querySelectorAll(e),0):Qr(e)?z5(e,n):iA(e)?xg.call(e,0):e?[e]:[]},yg=function(e){return e=ls(e)[0]||qu("Invalid scope")||{},function(r){var n=e.current||e.nativeElement||e;return ls(r,n.querySelectorAll?n:n===e?qu("Invalid scope")||yx.createElement("div"):e)}},oA=function(e){return e.sort(function(){return .5-Math.random()})},aA=function(e){if(lr(e))return e;var r=ci(e)?e:{each:e},n=Sa(r.ease),s=r.from||0,o=parseFloat(r.base)||0,l={},u=s>0&&s<1,p=isNaN(s)||u,h=r.axis,x=s,w=s;return Mr(s)?x=w={center:.5,edges:.5,end:1}[s]||0:!u&&p&&(x=s[0],w=s[1]),function(_,b,T){var E=(T||r).length,N=l[E],R,S,A,M,k,B,L,V,U;if(!N){if(U=r.grid==="auto"?0:(r.grid||[1,as])[1],!U){for(L=-as;L<(L=T[U++].getBoundingClientRect().left)&&U<E;);U<E&&U--}for(N=l[E]=[],R=p?Math.min(U,E)*x-.5:s%U,S=U===as?0:p?E*w/U-.5:s/U|0,L=0,V=as,B=0;B<E;B++)A=B%U-R,M=S-(B/U|0),N[B]=k=h?Math.abs(h==="y"?M:A):VS(A*A+M*M),k>L&&(L=k),k<V&&(V=k);s==="random"&&oA(N),N.max=L-V,N.min=V,N.v=E=(parseFloat(r.amount)||parseFloat(r.each)*(U>E?E-1:h?h==="y"?E/U:U:Math.max(U,E/U))||0)*(s==="edges"?-1:1),N.b=E<0?o-E:o,N.u=Kr(r.amount||r.each)||0,n=n&&E<0?xA(n):n}return E=(N[_]-N.min)/N.max||0,gr(N.b+(n?n(E):E)*N.v)+N.u}},wg=function(e){var r=Math.pow(10,((e+"").split(".")[1]||"").length);return function(n){var s=gr(Math.round(parseFloat(n)/e)*e*r);return(s-s%1)/r+(Pi(n)?0:Kr(n))}},lA=function(e,r){var n=Qr(e),s,o;return!n&&ci(e)&&(s=n=e.radius||as,e.values?(e=ls(e.values),(o=!Pi(e[0]))&&(s*=s)):e=wg(e.increment)),Ho(r,n?lr(e)?function(l){return o=e(l),Math.abs(o-l)<=s?o:l}:function(l){for(var u=parseFloat(o?l.x:l),p=parseFloat(o?l.y:0),h=as,x=0,w=e.length,_,b;w--;)o?(_=e[w].x-u,b=e[w].y-p,_=_*_+b*b):_=Math.abs(e[w]-u),_<h&&(h=_,x=w);return x=!s||h<=s?e[x]:l,o||x===l||Pi(l)?x:x+Kr(l)}:wg(e))},cA=function(e,r,n,s){return Ho(Qr(e)?!r:n===!0?!!(n=0):!s,function(){return Qr(e)?e[~~(Math.random()*e.length)]:(n=n||1e-5)&&(s=n<1?Math.pow(10,(n+"").length-2):1)&&Math.floor(Math.round((e-n/2+Math.random()*(r-e+n*.99))/n)*n*s)/s})},V5=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return function(s){return r.reduce(function(o,l){return l(o)},s)}},H5=function(e,r){return function(n){return e(parseFloat(n))+(r||Kr(n))}},W5=function(e,r,n){return dA(e,r,0,1,n)},uA=function(e,r,n){return Ho(n,function(s){return e[~~r(s)]})},$5=function t(e,r,n){var s=r-e;return Qr(e)?uA(e,t(0,e.length),r):Ho(n,function(o){return(s+(o-e)%s)%s+e})},G5=function t(e,r,n){var s=r-e,o=s*2;return Qr(e)?uA(e,t(0,e.length-1),r):Ho(n,function(l){return l=(o+(l-e)%o)%o||0,e+(l>s?o-l:l)})},Qu=function(e){for(var r=0,n="",s,o,l,u;~(s=e.indexOf("random(",r));)l=e.indexOf(")",s),u=e.charAt(s+7)==="[",o=e.substr(s+7,l-s-7).match(u?GS:hg),n+=e.substr(r,s-r)+cA(u?o:+o[0],u?0:+o[1],+o[2]||1e-5),r=l+1;return n+e.substr(r,e.length-r)},dA=function(e,r,n,s,o){var l=r-e,u=s-n;return Ho(o,function(p){return n+((p-e)/l*u||0)})},Y5=function t(e,r,n,s){var o=isNaN(e+r)?0:function(b){return(1-b)*e+b*r};if(!o){var l=Mr(e),u={},p,h,x,w,_;if(n===!0&&(s=1)&&(n=null),l)e={p:e},r={p:r};else if(Qr(e)&&!Qr(r)){for(x=[],w=e.length,_=w-2,h=1;h<w;h++)x.push(t(e[h-1],e[h]));w--,o=function(T){T*=w;var E=Math.min(_,~~T);return x[E](T-E)},n=r}else s||(e=fc(Qr(e)?[]:{},e));if(!x){for(p in r)Cx.call(u,e,p,"get",r[p]);o=function(T){return Nx(T,u)||(l?e.p:e)}}}return Ho(n,o)},Lv=function(e,r,n){var s=e.labels,o=as,l,u,p;for(l in s)u=s[l]-r,u<0==!!n&&u&&o>(u=Math.abs(u))&&(p=l,o=u);return p},Fn=function(e,r,n){var s=e.vars,o=s[r],l=Ht,u=e._ctx,p,h,x;if(o)return p=s[r+"Params"],h=s.callbackScope||e,n&&Co.length&&yf(),u&&(Ht=u),x=p?o.apply(h,p):o.call(h),Ht=l,x},su=function(e){return Oo(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Fr),e.progress()<1&&Fn(e,"onInterrupt"),e},Il,hA=[],fA=function(e){if(e)if(e=!e.name&&e.default||e,xx()||e.headless){var r=e.name,n=lr(e),s=r&&!n&&e.init?function(){this._props=[]}:e,o={init:Ku,render:Nx,add:Cx,kill:cj,modifier:lj,rawVars:0},l={targetTest:0,get:0,getSetter:Tx,aliases:{},register:0};if(mc(),e!==s){if(Mn[r])return;$n(s,$n(wf(e,o),l)),fc(s.prototype,fc(o,wf(e,l))),Mn[s.prop=r]=s,e.targetTest&&(Ih.push(s),vx[r]=1),r=(r==="css"?"CSS":r.charAt(0).toUpperCase()+r.substr(1))+"Plugin"}qS(r,s),e.register&&e.register(An,s,Cn)}else hA.push(e)},Nt=255,iu={aqua:[0,Nt,Nt],lime:[0,Nt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Nt],navy:[0,0,128],white:[Nt,Nt,Nt],olive:[128,128,0],yellow:[Nt,Nt,0],orange:[Nt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Nt,0,0],pink:[Nt,192,203],cyan:[0,Nt,Nt],transparent:[Nt,Nt,Nt,0]},O1=function(e,r,n){return e+=e<0?1:e>1?-1:0,(e*6<1?r+(n-r)*e*6:e<.5?n:e*3<2?r+(n-r)*(2/3-e)*6:r)*Nt+.5|0},pA=function(e,r,n){var s=e?Pi(e)?[e>>16,e>>8&Nt,e&Nt]:0:iu.black,o,l,u,p,h,x,w,_,b,T;if(!s){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),iu[e])s=iu[e];else if(e.charAt(0)==="#"){if(e.length<6&&(o=e.charAt(1),l=e.charAt(2),u=e.charAt(3),e="#"+o+o+l+l+u+u+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return s=parseInt(e.substr(1,6),16),[s>>16,s>>8&Nt,s&Nt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),s=[e>>16,e>>8&Nt,e&Nt]}else if(e.substr(0,3)==="hsl"){if(s=T=e.match(hg),!r)p=+s[0]%360/360,h=+s[1]/100,x=+s[2]/100,l=x<=.5?x*(h+1):x+h-x*h,o=x*2-l,s.length>3&&(s[3]*=1),s[0]=O1(p+1/3,o,l),s[1]=O1(p,o,l),s[2]=O1(p-1/3,o,l);else if(~e.indexOf("="))return s=e.match(WS),n&&s.length<4&&(s[3]=1),s}else s=e.match(hg)||iu.transparent;s=s.map(Number)}return r&&!T&&(o=s[0]/Nt,l=s[1]/Nt,u=s[2]/Nt,w=Math.max(o,l,u),_=Math.min(o,l,u),x=(w+_)/2,w===_?p=h=0:(b=w-_,h=x>.5?b/(2-w-_):b/(w+_),p=w===o?(l-u)/b+(l<u?6:0):w===l?(u-o)/b+2:(o-l)/b+4,p*=60),s[0]=~~(p+.5),s[1]=~~(h*100+.5),s[2]=~~(x*100+.5)),n&&s.length<4&&(s[3]=1),s},gA=function(e){var r=[],n=[],s=-1;return e.split(So).forEach(function(o){var l=o.match(Nl)||[];r.push.apply(r,l),n.push(s+=l.length+1)}),r.c=n,r},Bv=function(e,r,n){var s="",o=(e+s).match(So),l=r?"hsla(":"rgba(",u=0,p,h,x,w;if(!o)return e;if(o=o.map(function(_){return(_=pA(_,r,1))&&l+(r?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),n&&(x=gA(e),p=n.c,p.join(s)!==x.c.join(s)))for(h=e.replace(So,"1").split(Nl),w=h.length-1;u<w;u++)s+=h[u]+(~p.indexOf(u)?o.shift()||l+"0,0,0,0)":(x.length?x:o.length?o:n).shift());if(!h)for(h=e.split(So),w=h.length-1;u<w;u++)s+=h[u]+o[u];return s+h[w]},So=function(){var t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in iu)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),X5=/hsl[a]?\(/,mA=function(e){var r=e.join(" "),n;if(So.lastIndex=0,So.test(r))return n=X5.test(r),e[1]=Bv(e[1],n),e[0]=Bv(e[0],n,gA(e[1])),!0},Zu,jn=function(){var t=Date.now,e=500,r=33,n=t(),s=n,o=1e3/240,l=o,u=[],p,h,x,w,_,b,T=function E(N){var R=t()-s,S=N===!0,A,M,k,B;if((R>e||R<0)&&(n+=R-r),s+=R,k=s-n,A=k-l,(A>0||S)&&(B=++w.frame,_=k-w.time*1e3,w.time=k=k/1e3,l+=A+(A>=o?4:o-A),M=1),S||(p=h(E)),M)for(b=0;b<u.length;b++)u[b](k,_,B,N)};return w={time:0,frame:0,tick:function(){T(!0)},deltaRatio:function(N){return _/(1e3/(N||60))},wake:function(){YS&&(!fg&&xx()&&(Ks=fg=window,yx=Ks.document||{},Wn.gsap=An,(Ks.gsapVersions||(Ks.gsapVersions=[])).push(An.version),XS(xf||Ks.GreenSockGlobals||!Ks.gsap&&Ks||{}),hA.forEach(fA)),x=typeof requestAnimationFrame<"u"&&requestAnimationFrame,p&&w.sleep(),h=x||function(N){return setTimeout(N,l-w.time*1e3+1|0)},Zu=1,T(2))},sleep:function(){(x?cancelAnimationFrame:clearTimeout)(p),Zu=0,h=Ku},lagSmoothing:function(N,R){e=N||1/0,r=Math.min(R||33,e)},fps:function(N){o=1e3/(N||240),l=w.time*1e3+o},add:function(N,R,S){var A=R?function(M,k,B,L){N(M,k,B,L),w.remove(A)}:N;return w.remove(N),u[S?"unshift":"push"](A),mc(),A},remove:function(N,R){~(R=u.indexOf(N))&&u.splice(R,1)&&b>=R&&b--},_listeners:u},w}(),mc=function(){return!Zu&&jn.wake()},lt={},q5=/^[\d.\-M][\d.\-,\s]/,K5=/["']/g,Q5=function(e){for(var r={},n=e.substr(1,e.length-3).split(":"),s=n[0],o=1,l=n.length,u,p,h;o<l;o++)p=n[o],u=o!==l-1?p.lastIndexOf(","):p.length,h=p.substr(0,u),r[s]=isNaN(h)?h.replace(K5,"").trim():+h,s=p.substr(u+1).trim();return r},Z5=function(e){var r=e.indexOf("(")+1,n=e.indexOf(")"),s=e.indexOf("(",r);return e.substring(r,~s&&s<n?e.indexOf(")",n+1):n)},J5=function(e){var r=(e+"").split("("),n=lt[r[0]];return n&&r.length>1&&n.config?n.config.apply(null,~e.indexOf("{")?[Q5(r[1])]:Z5(e).split(",").map(JS)):lt._CE&&q5.test(e)?lt._CE("",e):n},xA=function(e){return function(r){return 1-e(1-r)}},yA=function t(e,r){for(var n=e._first,s;n;)n instanceof an?t(n,r):n.vars.yoyoEase&&(!n._yoyo||!n._repeat)&&n._yoyo!==r&&(n.timeline?t(n.timeline,r):(s=n._ease,n._ease=n._yEase,n._yEase=s,n._yoyo=r)),n=n._next},Sa=function(e,r){return e&&(lr(e)?e:lt[e]||J5(e))||r},Ya=function(e,r,n,s){n===void 0&&(n=function(p){return 1-r(1-p)}),s===void 0&&(s=function(p){return p<.5?r(p*2)/2:1-r((1-p)*2)/2});var o={easeIn:r,easeOut:n,easeInOut:s},l;return En(e,function(u){lt[u]=Wn[u]=o,lt[l=u.toLowerCase()]=n;for(var p in o)lt[l+(p==="easeIn"?".in":p==="easeOut"?".out":".inOut")]=lt[u+"."+p]=o[p]}),o},wA=function(e){return function(r){return r<.5?(1-e(1-r*2))/2:.5+e((r-.5)*2)/2}},M1=function t(e,r,n){var s=r>=1?r:1,o=(n||(e?.3:.45))/(r<1?r:1),l=o/dg*(Math.asin(1/s)||0),u=function(x){return x===1?1:s*Math.pow(2,-10*x)*T5((x-l)*o)+1},p=e==="out"?u:e==="in"?function(h){return 1-u(1-h)}:wA(u);return o=dg/o,p.config=function(h,x){return t(e,h,x)},p},k1=function t(e,r){r===void 0&&(r=1.70158);var n=function(l){return l?--l*l*((r+1)*l+r)+1:0},s=e==="out"?n:e==="in"?function(o){return 1-n(1-o)}:wA(n);return s.config=function(o){return t(e,o)},s};En("Linear,Quad,Cubic,Quart,Quint,Strong",function(t,e){var r=e<5?e+1:e;Ya(t+",Power"+(r-1),e?function(n){return Math.pow(n,r)}:function(n){return n},function(n){return 1-Math.pow(1-n,r)},function(n){return n<.5?Math.pow(n*2,r)/2:1-Math.pow((1-n)*2,r)/2})});lt.Linear.easeNone=lt.none=lt.Linear.easeIn;Ya("Elastic",M1("in"),M1("out"),M1());(function(t,e){var r=1/e,n=2*r,s=2.5*r,o=function(u){return u<r?t*u*u:u<n?t*Math.pow(u-1.5/e,2)+.75:u<s?t*(u-=2.25/e)*u+.9375:t*Math.pow(u-2.625/e,2)+.984375};Ya("Bounce",function(l){return 1-o(1-l)},o)})(7.5625,2.75);Ya("Expo",function(t){return Math.pow(2,10*(t-1))*t+t*t*t*t*t*t*(1-t)});Ya("Circ",function(t){return-(VS(1-t*t)-1)});Ya("Sine",function(t){return t===1?1:-A5(t*C5)+1});Ya("Back",k1("in"),k1("out"),k1());lt.SteppedEase=lt.steps=Wn.SteppedEase={config:function(e,r){e===void 0&&(e=1);var n=1/e,s=e+(r?0:1),o=r?1:0,l=1-It;return function(u){return((s*gd(0,l,u)|0)+o)*n}}};hc.ease=lt["quad.out"];En("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(t){return _x+=t+","+t+"Params,"});var vA=function(e,r){this.id=S5++,e._gsap=this,this.target=e,this.harness=r,this.get=r?r.get:QS,this.set=r?r.getSetter:Tx},Ju=function(){function t(r){this.vars=r,this._delay=+r.delay||0,(this._repeat=r.repeat===1/0?-2:r.repeat||0)&&(this._rDelay=r.repeatDelay||0,this._yoyo=!!r.yoyo||!!r.yoyoEase),this._ts=1,gc(this,+r.duration,1,1),this.data=r.data,Ht&&(this._ctx=Ht,Ht.data.push(this)),Zu||jn.wake()}var e=t.prototype;return e.delay=function(n){return n||n===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+n-this._delay),this._delay=n,this):this._delay},e.duration=function(n){return arguments.length?this.totalDuration(this._repeat>0?n+(n+this._rDelay)*this._repeat:n):this.totalDuration()&&this._dur},e.totalDuration=function(n){return arguments.length?(this._dirty=0,gc(this,this._repeat<0?n:(n-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(n,s){if(mc(),!arguments.length)return this._tTime;var o=this._dp;if(o&&o.smoothChildTiming&&this._ts){for(c0(this,n),!o._dp||o.parent||rA(o,this);o&&o.parent;)o.parent._time!==o._start+(o._ts>=0?o._tTime/o._ts:(o.totalDuration()-o._tTime)/-o._ts)&&o.totalTime(o._tTime,!0),o=o.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&n<this._tDur||this._ts<0&&n>0||!this._tDur&&!n)&&ti(this._dp,this,this._start-this._delay)}return(this._tTime!==n||!this._dur&&!s||this._initted&&Math.abs(this._zTime)===It||!n&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=n),ZS(this,n,s)),this},e.time=function(n,s){return arguments.length?this.totalTime(Math.min(this.totalDuration(),n+Dv(this))%(this._dur+this._rDelay)||(n?this._dur:0),s):this._time},e.totalProgress=function(n,s){return arguments.length?this.totalTime(this.totalDuration()*n,s):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(n,s){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-n:n)+Dv(this),s):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(n,s){var o=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(n-1)*o,s):this._repeat?pc(this._tTime,o)+1:1},e.timeScale=function(n,s){if(!arguments.length)return this._rts===-It?0:this._rts;if(this._rts===n)return this;var o=this.parent&&this._ts?vf(this.parent._time,this):this._tTime;return this._rts=+n||0,this._ts=this._ps||n===-It?0:this._rts,this.totalTime(gd(-Math.abs(this._delay),this.totalDuration(),o),s!==!1),l0(this),P5(this)},e.paused=function(n){return arguments.length?(this._ps!==n&&(this._ps=n,n?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(mc(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==It&&(this._tTime-=It)))),this):this._ps},e.startTime=function(n){if(arguments.length){this._start=n;var s=this.parent||this._dp;return s&&(s._sort||!this.parent)&&ti(s,this,n-this._delay),this}return this._start},e.endTime=function(n){return this._start+(bn(n)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(n){var s=this.parent||this._dp;return s?n&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?vf(s.rawTime(n),this):this._tTime:this._tTime},e.revert=function(n){n===void 0&&(n=R5);var s=Fr;return Fr=n,Ex(this)&&(this.timeline&&this.timeline.revert(n),this.totalTime(-.01,n.suppressEvents)),this.data!=="nested"&&n.kill!==!1&&this.kill(),Fr=s,this},e.globalTime=function(n){for(var s=this,o=arguments.length?n:s.rawTime();s;)o=s._start+o/(Math.abs(s._ts)||1),s=s._dp;return!this.parent&&this._sat?this._sat.globalTime(n):o},e.repeat=function(n){return arguments.length?(this._repeat=n===1/0?-2:n,jv(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(n){if(arguments.length){var s=this._time;return this._rDelay=n,jv(this),s?this.time(s):this}return this._rDelay},e.yoyo=function(n){return arguments.length?(this._yoyo=n,this):this._yoyo},e.seek=function(n,s){return this.totalTime(Jn(this,n),bn(s))},e.restart=function(n,s){return this.play().totalTime(n?-this._delay:0,bn(s)),this._dur||(this._zTime=-It),this},e.play=function(n,s){return n!=null&&this.seek(n,s),this.reversed(!1).paused(!1)},e.reverse=function(n,s){return n!=null&&this.seek(n||this.totalDuration(),s),this.reversed(!0).paused(!1)},e.pause=function(n,s){return n!=null&&this.seek(n,s),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(n){return arguments.length?(!!n!==this.reversed()&&this.timeScale(-this._rts||(n?-It:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-It,this},e.isActive=function(){var n=this.parent||this._dp,s=this._start,o;return!!(!n||this._ts&&this._initted&&n.isActive()&&(o=n.rawTime(!0))>=s&&o<this.endTime(!0)-It)},e.eventCallback=function(n,s,o){var l=this.vars;return arguments.length>1?(s?(l[n]=s,o&&(l[n+"Params"]=o),n==="onUpdate"&&(this._onUpdate=s)):delete l[n],this):l[n]},e.then=function(n){var s=this;return new Promise(function(o){var l=lr(n)?n:eA,u=function(){var h=s.then;s.then=null,lr(l)&&(l=l(s))&&(l.then||l===s)&&(s.then=h),o(l),s.then=h};s._initted&&s.totalProgress()===1&&s._ts>=0||!s._tTime&&s._ts<0?u():s._prom=u})},e.kill=function(){su(this)},t}();$n(Ju.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-It,_prom:0,_ps:!1,_rts:1});var an=function(t){zS(e,t);function e(n,s){var o;return n===void 0&&(n={}),o=t.call(this,n)||this,o.labels={},o.smoothChildTiming=!!n.smoothChildTiming,o.autoRemoveChildren=!!n.autoRemoveChildren,o._sort=bn(n.sortChildren),Yt&&ti(n.parent||Yt,xi(o),s),n.reversed&&o.reverse(),n.paused&&o.paused(!0),n.scrollTrigger&&nA(xi(o),n.scrollTrigger),o}var r=e.prototype;return r.to=function(s,o,l){return _u(0,arguments,this),this},r.from=function(s,o,l){return _u(1,arguments,this),this},r.fromTo=function(s,o,l,u){return _u(2,arguments,this),this},r.set=function(s,o,l){return o.duration=0,o.parent=this,vu(o).repeatDelay||(o.repeat=0),o.immediateRender=!!o.immediateRender,new pr(s,o,Jn(this,l),1),this},r.call=function(s,o,l){return ti(this,pr.delayedCall(0,s,o),l)},r.staggerTo=function(s,o,l,u,p,h,x){return l.duration=o,l.stagger=l.stagger||u,l.onComplete=h,l.onCompleteParams=x,l.parent=this,new pr(s,l,Jn(this,p)),this},r.staggerFrom=function(s,o,l,u,p,h,x){return l.runBackwards=1,vu(l).immediateRender=bn(l.immediateRender),this.staggerTo(s,o,l,u,p,h,x)},r.staggerFromTo=function(s,o,l,u,p,h,x,w){return u.startAt=l,vu(u).immediateRender=bn(u.immediateRender),this.staggerTo(s,o,u,p,h,x,w)},r.render=function(s,o,l){var u=this._time,p=this._dirty?this.totalDuration():this._tDur,h=this._dur,x=s<=0?0:gr(s),w=this._zTime<0!=s<0&&(this._initted||!h),_,b,T,E,N,R,S,A,M,k,B,L;if(this!==Yt&&x>p&&s>=0&&(x=p),x!==this._tTime||l||w){if(u!==this._time&&h&&(x+=this._time-u,s+=this._time-u),_=x,M=this._start,A=this._ts,R=!A,w&&(h||(u=this._zTime),(s||!o)&&(this._zTime=s)),this._repeat){if(B=this._yoyo,N=h+this._rDelay,this._repeat<-1&&s<0)return this.totalTime(N*100+s,o,l);if(_=gr(x%N),x===p?(E=this._repeat,_=h):(k=gr(x/N),E=~~k,E&&E===k&&(_=h,E--),_>h&&(_=h)),k=pc(this._tTime,N),!u&&this._tTime&&k!==E&&this._tTime-k*N-this._dur<=0&&(k=E),B&&E&1&&(_=h-_,L=1),E!==k&&!this._lock){var V=B&&k&1,U=V===(B&&E&1);if(E<k&&(V=!V),u=V?0:x%h?h:x,this._lock=1,this.render(u||(L?0:gr(E*N)),o,!h)._lock=0,this._tTime=x,!o&&this.parent&&Fn(this,"onRepeat"),this.vars.repeatRefresh&&!L&&(this.invalidate()._lock=1),u&&u!==this._time||R!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,p=this._tDur,U&&(this._lock=2,u=V?h:-1e-4,this.render(u,!0),this.vars.repeatRefresh&&!L&&this.invalidate()),this._lock=0,!this._ts&&!R)return this;yA(this,L)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(S=B5(this,gr(u),gr(_)),S&&(x-=_-(_=S._start))),this._tTime=x,this._time=_,this._act=!A,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=s,u=0),!u&&x&&!o&&!k&&(Fn(this,"onStart"),this._tTime!==x))return this;if(_>=u&&s>=0)for(b=this._first;b;){if(T=b._next,(b._act||_>=b._start)&&b._ts&&S!==b){if(b.parent!==this)return this.render(s,o,l);if(b.render(b._ts>0?(_-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(_-b._start)*b._ts,o,l),_!==this._time||!this._ts&&!R){S=0,T&&(x+=this._zTime=-It);break}}b=T}else{b=this._last;for(var J=s<0?s:_;b;){if(T=b._prev,(b._act||J<=b._end)&&b._ts&&S!==b){if(b.parent!==this)return this.render(s,o,l);if(b.render(b._ts>0?(J-b._start)*b._ts:(b._dirty?b.totalDuration():b._tDur)+(J-b._start)*b._ts,o,l||Fr&&Ex(b)),_!==this._time||!this._ts&&!R){S=0,T&&(x+=this._zTime=J?-It:It);break}}b=T}}if(S&&!o&&(this.pause(),S.render(_>=u?0:-It)._zTime=_>=u?1:-1,this._ts))return this._start=M,l0(this),this.render(s,o,l);this._onUpdate&&!o&&Fn(this,"onUpdate",!0),(x===p&&this._tTime>=this.totalDuration()||!x&&u)&&(M===this._start||Math.abs(A)!==Math.abs(this._ts))&&(this._lock||((s||!h)&&(x===p&&this._ts>0||!x&&this._ts<0)&&Oo(this,1),!o&&!(s<0&&!u)&&(x||u||!p)&&(Fn(this,x===p&&s>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(x<p&&this.timeScale()>0)&&this._prom())))}return this},r.add=function(s,o){var l=this;if(Pi(o)||(o=Jn(this,o,s)),!(s instanceof Ju)){if(Qr(s))return s.forEach(function(u){return l.add(u,o)}),this;if(Mr(s))return this.addLabel(s,o);if(lr(s))s=pr.delayedCall(0,s);else return this}return this!==s?ti(this,s,o):this},r.getChildren=function(s,o,l,u){s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=!0),u===void 0&&(u=-as);for(var p=[],h=this._first;h;)h._start>=u&&(h instanceof pr?o&&p.push(h):(l&&p.push(h),s&&p.push.apply(p,h.getChildren(!0,o,l)))),h=h._next;return p},r.getById=function(s){for(var o=this.getChildren(1,1,1),l=o.length;l--;)if(o[l].vars.id===s)return o[l]},r.remove=function(s){return Mr(s)?this.removeLabel(s):lr(s)?this.killTweensOf(s):(s.parent===this&&a0(this,s),s===this._recent&&(this._recent=this._last),Ca(this))},r.totalTime=function(s,o){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=gr(jn.time-(this._ts>0?s/this._ts:(this.totalDuration()-s)/-this._ts))),t.prototype.totalTime.call(this,s,o),this._forcing=0,this):this._tTime},r.addLabel=function(s,o){return this.labels[s]=Jn(this,o),this},r.removeLabel=function(s){return delete this.labels[s],this},r.addPause=function(s,o,l){var u=pr.delayedCall(0,o||Ku,l);return u.data="isPause",this._hasPause=1,ti(this,u,Jn(this,s))},r.removePause=function(s){var o=this._first;for(s=Jn(this,s);o;)o._start===s&&o.data==="isPause"&&Oo(o),o=o._next},r.killTweensOf=function(s,o,l){for(var u=this.getTweensOf(s,l),p=u.length;p--;)uo!==u[p]&&u[p].kill(s,o);return this},r.getTweensOf=function(s,o){for(var l=[],u=ls(s),p=this._first,h=Pi(o),x;p;)p instanceof pr?O5(p._targets,u)&&(h?(!uo||p._initted&&p._ts)&&p.globalTime(0)<=o&&p.globalTime(p.totalDuration())>o:!o||p.isActive())&&l.push(p):(x=p.getTweensOf(u,o)).length&&l.push.apply(l,x),p=p._next;return l},r.tweenTo=function(s,o){o=o||{};var l=this,u=Jn(l,s),p=o,h=p.startAt,x=p.onStart,w=p.onStartParams,_=p.immediateRender,b,T=pr.to(l,$n({ease:o.ease||"none",lazy:!1,immediateRender:!1,time:u,overwrite:"auto",duration:o.duration||Math.abs((u-(h&&"time"in h?h.time:l._time))/l.timeScale())||It,onStart:function(){if(l.pause(),!b){var N=o.duration||Math.abs((u-(h&&"time"in h?h.time:l._time))/l.timeScale());T._dur!==N&&gc(T,N,0,1).render(T._time,!0,!0),b=1}x&&x.apply(T,w||[])}},o));return _?T.render(0):T},r.tweenFromTo=function(s,o,l){return this.tweenTo(o,$n({startAt:{time:Jn(this,s)}},l))},r.recent=function(){return this._recent},r.nextLabel=function(s){return s===void 0&&(s=this._time),Lv(this,Jn(this,s))},r.previousLabel=function(s){return s===void 0&&(s=this._time),Lv(this,Jn(this,s),1)},r.currentLabel=function(s){return arguments.length?this.seek(s,!0):this.previousLabel(this._time+It)},r.shiftChildren=function(s,o,l){l===void 0&&(l=0);for(var u=this._first,p=this.labels,h;u;)u._start>=l&&(u._start+=s,u._end+=s),u=u._next;if(o)for(h in p)p[h]>=l&&(p[h]+=s);return Ca(this)},r.invalidate=function(s){var o=this._first;for(this._lock=0;o;)o.invalidate(s),o=o._next;return t.prototype.invalidate.call(this,s)},r.clear=function(s){s===void 0&&(s=!0);for(var o=this._first,l;o;)l=o._next,this.remove(o),o=l;return this._dp&&(this._time=this._tTime=this._pTime=0),s&&(this.labels={}),Ca(this)},r.totalDuration=function(s){var o=0,l=this,u=l._last,p=as,h,x,w;if(arguments.length)return l.timeScale((l._repeat<0?l.duration():l.totalDuration())/(l.reversed()?-s:s));if(l._dirty){for(w=l.parent;u;)h=u._prev,u._dirty&&u.totalDuration(),x=u._start,x>p&&l._sort&&u._ts&&!l._lock?(l._lock=1,ti(l,u,x-u._delay,1)._lock=0):p=x,x<0&&u._ts&&(o-=x,(!w&&!l._dp||w&&w.smoothChildTiming)&&(l._start+=x/l._ts,l._time-=x,l._tTime-=x),l.shiftChildren(-x,!1,-1/0),p=0),u._end>o&&u._ts&&(o=u._end),u=h;gc(l,l===Yt&&l._time>o?l._time:o,1,1),l._dirty=0}return l._tDur},e.updateRoot=function(s){if(Yt._ts&&(ZS(Yt,vf(s,Yt)),KS=jn.frame),jn.frame>=kv){kv+=Vn.autoSleep||120;var o=Yt._first;if((!o||!o._ts)&&Vn.autoSleep&&jn._listeners.length<2){for(;o&&!o._ts;)o=o._next;o||jn.sleep()}}},e}(Ju);$n(an.prototype,{_lock:0,_hasPause:0,_forcing:0});var ej=function(e,r,n,s,o,l,u){var p=new Cn(this._pt,e,r,0,1,AA,null,o),h=0,x=0,w,_,b,T,E,N,R,S;for(p.b=n,p.e=s,n+="",s+="",(R=~s.indexOf("random("))&&(s=Qu(s)),l&&(S=[n,s],l(S,e,r),n=S[0],s=S[1]),_=n.match(I1)||[];w=I1.exec(s);)T=w[0],E=s.substring(h,w.index),b?b=(b+1)%5:E.substr(-5)==="rgba("&&(b=1),T!==_[x++]&&(N=parseFloat(_[x-1])||0,p._pt={_next:p._pt,p:E||x===1?E:",",s:N,c:T.charAt(1)==="="?zl(N,T)-N:parseFloat(T)-N,m:b&&b<4?Math.round:0},h=I1.lastIndex);return p.c=h<s.length?s.substring(h,s.length):"",p.fp=u,($S.test(s)||R)&&(p.e=0),this._pt=p,p},Cx=function(e,r,n,s,o,l,u,p,h,x){lr(s)&&(s=s(o||0,e,l));var w=e[r],_=n!=="get"?n:lr(w)?h?e[r.indexOf("set")||!lr(e["get"+r.substr(3)])?r:"get"+r.substr(3)](h):e[r]():w,b=lr(w)?h?ij:CA:Ax,T;if(Mr(s)&&(~s.indexOf("random(")&&(s=Qu(s)),s.charAt(1)==="="&&(T=zl(_,s)+(Kr(_)||0),(T||T===0)&&(s=T))),!x||_!==s||vg)return!isNaN(_*s)&&s!==""?(T=new Cn(this._pt,e,r,+_||0,s-(_||0),typeof w=="boolean"?aj:SA,0,b),h&&(T.fp=h),u&&T.modifier(u,this,e),this._pt=T):(!w&&!(r in e)&&wx(r,s),ej.call(this,e,r,_,s,b,p||Vn.stringFilter,h))},tj=function(e,r,n,s,o){if(lr(e)&&(e=bu(e,o,r,n,s)),!ci(e)||e.style&&e.nodeType||Qr(e)||HS(e))return Mr(e)?bu(e,o,r,n,s):e;var l={},u;for(u in e)l[u]=bu(e[u],o,r,n,s);return l},_A=function(e,r,n,s,o,l){var u,p,h,x;if(Mn[e]&&(u=new Mn[e]).init(o,u.rawVars?r[e]:tj(r[e],s,o,l,n),n,s,l)!==!1&&(n._pt=p=new Cn(n._pt,o,e,0,1,u.render,u,0,u.priority),n!==Il))for(h=n._ptLookup[n._targets.indexOf(o)],x=u._props.length;x--;)h[u._props[x]]=p;return u},uo,vg,Sx=function t(e,r,n){var s=e.vars,o=s.ease,l=s.startAt,u=s.immediateRender,p=s.lazy,h=s.onUpdate,x=s.runBackwards,w=s.yoyoEase,_=s.keyframes,b=s.autoRevert,T=e._dur,E=e._startAt,N=e._targets,R=e.parent,S=R&&R.data==="nested"?R.vars.targets:N,A=e._overwrite==="auto"&&!gx,M=e.timeline,k,B,L,V,U,J,ne,K,se,G,H,re,X;if(M&&(!_||!o)&&(o="none"),e._ease=Sa(o,hc.ease),e._yEase=w?xA(Sa(w===!0?o:w,hc.ease)):0,w&&e._yoyo&&!e._repeat&&(w=e._yEase,e._yEase=e._ease,e._ease=w),e._from=!M&&!!s.runBackwards,!M||_&&!s.stagger){if(K=N[0]?Ea(N[0]).harness:0,re=K&&s[K.prop],k=wf(s,vx),E&&(E._zTime<0&&E.progress(1),r<0&&x&&u&&!b?E.render(-1,!0):E.revert(x&&T?Nh:I5),E._lazy=0),l){if(Oo(e._startAt=pr.set(N,$n({data:"isStart",overwrite:!1,parent:R,immediateRender:!0,lazy:!E&&bn(p),startAt:null,delay:0,onUpdate:h&&function(){return Fn(e,"onUpdate")},stagger:0},l))),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Fr||!u&&!b)&&e._startAt.revert(Nh),u&&T&&r<=0&&n<=0){r&&(e._zTime=r);return}}else if(x&&T&&!E){if(r&&(u=!1),L=$n({overwrite:!1,data:"isFromStart",lazy:u&&!E&&bn(p),immediateRender:u,stagger:0,parent:R},k),re&&(L[K.prop]=re),Oo(e._startAt=pr.set(N,L)),e._startAt._dp=0,e._startAt._sat=e,r<0&&(Fr?e._startAt.revert(Nh):e._startAt.render(-1,!0)),e._zTime=r,!u)t(e._startAt,It,It);else if(!r)return}for(e._pt=e._ptCache=0,p=T&&bn(p)||p&&!T,B=0;B<N.length;B++){if(U=N[B],ne=U._gsap||bx(N)[B]._gsap,e._ptLookup[B]=G={},pg[ne.id]&&Co.length&&yf(),H=S===N?B:S.indexOf(U),K&&(se=new K).init(U,re||k,e,H,S)!==!1&&(e._pt=V=new Cn(e._pt,U,se.name,0,1,se.render,se,0,se.priority),se._props.forEach(function(Y){G[Y]=V}),se.priority&&(J=1)),!K||re)for(L in k)Mn[L]&&(se=_A(L,k,e,H,U,S))?se.priority&&(J=1):G[L]=V=Cx.call(e,U,L,"get",k[L],H,S,0,s.stringFilter);e._op&&e._op[B]&&e.kill(U,e._op[B]),A&&e._pt&&(uo=e,Yt.killTweensOf(U,G,e.globalTime(r)),X=!e.parent,uo=0),e._pt&&p&&(pg[ne.id]=1)}J&&TA(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!X,_&&r<=0&&M.render(as,!0,!0)},rj=function(e,r,n,s,o,l,u,p){var h=(e._pt&&e._ptCache||(e._ptCache={}))[r],x,w,_,b;if(!h)for(h=e._ptCache[r]=[],_=e._ptLookup,b=e._targets.length;b--;){if(x=_[b][r],x&&x.d&&x.d._pt)for(x=x.d._pt;x&&x.p!==r&&x.fp!==r;)x=x._next;if(!x)return vg=1,e.vars[r]="+=0",Sx(e,u),vg=0,p?qu(r+" not eligible for reset"):1;h.push(x)}for(b=h.length;b--;)w=h[b],x=w._pt||w,x.s=(s||s===0)&&!o?s:x.s+(s||0)+l*x.c,x.c=n-x.s,w.e&&(w.e=dr(n)+Kr(w.e)),w.b&&(w.b=x.s+Kr(w.b))},nj=function(e,r){var n=e[0]?Ea(e[0]).harness:0,s=n&&n.aliases,o,l,u,p;if(!s)return r;o=fc({},r);for(l in s)if(l in o)for(p=s[l].split(","),u=p.length;u--;)o[p[u]]=o[l];return o},sj=function(e,r,n,s){var o=r.ease||s||"power1.inOut",l,u;if(Qr(r))u=n[e]||(n[e]=[]),r.forEach(function(p,h){return u.push({t:h/(r.length-1)*100,v:p,e:o})});else for(l in r)u=n[l]||(n[l]=[]),l==="ease"||u.push({t:parseFloat(e),v:r[l],e:o})},bu=function(e,r,n,s,o){return lr(e)?e.call(r,n,s,o):Mr(e)&&~e.indexOf("random(")?Qu(e):e},bA=_x+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",EA={};En(bA+",id,stagger,delay,duration,paused,scrollTrigger",function(t){return EA[t]=1});var pr=function(t){zS(e,t);function e(n,s,o,l){var u;typeof s=="number"&&(o.duration=s,s=o,o=null),u=t.call(this,l?s:vu(s))||this;var p=u.vars,h=p.duration,x=p.delay,w=p.immediateRender,_=p.stagger,b=p.overwrite,T=p.keyframes,E=p.defaults,N=p.scrollTrigger,R=p.yoyoEase,S=s.parent||Yt,A=(Qr(n)||HS(n)?Pi(n[0]):"length"in s)?[n]:ls(n),M,k,B,L,V,U,J,ne;if(u._targets=A.length?bx(A):qu("GSAP target "+n+" not found. https://gsap.com",!Vn.nullTargetWarn)||[],u._ptLookup=[],u._overwrite=b,T||_||lh(h)||lh(x)){if(s=u.vars,M=u.timeline=new an({data:"nested",defaults:E||{},targets:S&&S.data==="nested"?S.vars.targets:A}),M.kill(),M.parent=M._dp=xi(u),M._start=0,_||lh(h)||lh(x)){if(L=A.length,J=_&&aA(_),ci(_))for(V in _)~bA.indexOf(V)&&(ne||(ne={}),ne[V]=_[V]);for(k=0;k<L;k++)B=wf(s,EA),B.stagger=0,R&&(B.yoyoEase=R),ne&&fc(B,ne),U=A[k],B.duration=+bu(h,xi(u),k,U,A),B.delay=(+bu(x,xi(u),k,U,A)||0)-u._delay,!_&&L===1&&B.delay&&(u._delay=x=B.delay,u._start+=x,B.delay=0),M.to(U,B,J?J(k,U,A):0),M._ease=lt.none;M.duration()?h=x=0:u.timeline=0}else if(T){vu($n(M.vars.defaults,{ease:"none"})),M._ease=Sa(T.ease||s.ease||"none");var K=0,se,G,H;if(Qr(T))T.forEach(function(re){return M.to(A,re,">")}),M.duration();else{B={};for(V in T)V==="ease"||V==="easeEach"||sj(V,T[V],B,T.easeEach);for(V in B)for(se=B[V].sort(function(re,X){return re.t-X.t}),K=0,k=0;k<se.length;k++)G=se[k],H={ease:G.e,duration:(G.t-(k?se[k-1].t:0))/100*h},H[V]=G.v,M.to(A,H,K),K+=H.duration;M.duration()<h&&M.to({},{duration:h-M.duration()})}}h||u.duration(h=M.duration())}else u.timeline=0;return b===!0&&!gx&&(uo=xi(u),Yt.killTweensOf(A),uo=0),ti(S,xi(u),o),s.reversed&&u.reverse(),s.paused&&u.paused(!0),(w||!h&&!T&&u._start===gr(S._time)&&bn(w)&&D5(xi(u))&&S.data!=="nested")&&(u._tTime=-It,u.render(Math.max(0,-x)||0)),N&&nA(xi(u),N),u}var r=e.prototype;return r.render=function(s,o,l){var u=this._time,p=this._tDur,h=this._dur,x=s<0,w=s>p-It&&!x?p:s<It?0:s,_,b,T,E,N,R,S,A,M;if(!h)L5(this,s,o,l);else if(w!==this._tTime||!s||l||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==x||this._lazy){if(_=w,A=this.timeline,this._repeat){if(E=h+this._rDelay,this._repeat<-1&&x)return this.totalTime(E*100+s,o,l);if(_=gr(w%E),w===p?(T=this._repeat,_=h):(N=gr(w/E),T=~~N,T&&T===N?(_=h,T--):_>h&&(_=h)),R=this._yoyo&&T&1,R&&(M=this._yEase,_=h-_),N=pc(this._tTime,E),_===u&&!l&&this._initted&&T===N)return this._tTime=w,this;T!==N&&(A&&this._yEase&&yA(A,R),this.vars.repeatRefresh&&!R&&!this._lock&&_!==E&&this._initted&&(this._lock=l=1,this.render(gr(E*T),!0).invalidate()._lock=0))}if(!this._initted){if(sA(this,x?s:_,l,o,w))return this._tTime=0,this;if(u!==this._time&&!(l&&this.vars.repeatRefresh&&T!==N))return this;if(h!==this._dur)return this.render(s,o,l)}if(this._tTime=w,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=S=(M||this._ease)(_/h),this._from&&(this.ratio=S=1-S),!u&&w&&!o&&!N&&(Fn(this,"onStart"),this._tTime!==w))return this;for(b=this._pt;b;)b.r(S,b.d),b=b._next;A&&A.render(s<0?s:A._dur*A._ease(_/this._dur),o,l)||this._startAt&&(this._zTime=s),this._onUpdate&&!o&&(x&&gg(this,s,o,l),Fn(this,"onUpdate")),this._repeat&&T!==N&&this.vars.onRepeat&&!o&&this.parent&&Fn(this,"onRepeat"),(w===this._tDur||!w)&&this._tTime===w&&(x&&!this._onUpdate&&gg(this,s,!0,!0),(s||!h)&&(w===this._tDur&&this._ts>0||!w&&this._ts<0)&&Oo(this,1),!o&&!(x&&!u)&&(w||u||R)&&(Fn(this,w===p?"onComplete":"onReverseComplete",!0),this._prom&&!(w<p&&this.timeScale()>0)&&this._prom()))}return this},r.targets=function(){return this._targets},r.invalidate=function(s){return(!s||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(s),t.prototype.invalidate.call(this,s)},r.resetTo=function(s,o,l,u,p){Zu||jn.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),x;return this._initted||Sx(this,h),x=this._ease(h/this._dur),rj(this,s,o,l,u,x,h,p)?this.resetTo(s,o,l,u,1):(c0(this,0),this.parent||tA(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},r.kill=function(s,o){if(o===void 0&&(o="all"),!s&&(!o||o==="all"))return this._lazy=this._pt=0,this.parent?su(this):this.scrollTrigger&&this.scrollTrigger.kill(!!Fr),this;if(this.timeline){var l=this.timeline.totalDuration();return this.timeline.killTweensOf(s,o,uo&&uo.vars.overwrite!==!0)._first||su(this),this.parent&&l!==this.timeline.totalDuration()&&gc(this,this._dur*this.timeline._tDur/l,0,1),this}var u=this._targets,p=s?ls(s):u,h=this._ptLookup,x=this._pt,w,_,b,T,E,N,R;if((!o||o==="all")&&k5(u,p))return o==="all"&&(this._pt=0),su(this);for(w=this._op=this._op||[],o!=="all"&&(Mr(o)&&(E={},En(o,function(S){return E[S]=1}),o=E),o=nj(u,o)),R=u.length;R--;)if(~p.indexOf(u[R])){_=h[R],o==="all"?(w[R]=o,T=_,b={}):(b=w[R]=w[R]||{},T=o);for(E in T)N=_&&_[E],N&&((!("kill"in N.d)||N.d.kill(E)===!0)&&a0(this,N,"_pt"),delete _[E]),b!=="all"&&(b[E]=1)}return this._initted&&!this._pt&&x&&su(this),this},e.to=function(s,o){return new e(s,o,arguments[2])},e.from=function(s,o){return _u(1,arguments)},e.delayedCall=function(s,o,l,u){return new e(o,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:s,onComplete:o,onReverseComplete:o,onCompleteParams:l,onReverseCompleteParams:l,callbackScope:u})},e.fromTo=function(s,o,l){return _u(2,arguments)},e.set=function(s,o){return o.duration=0,o.repeatDelay||(o.repeat=0),new e(s,o)},e.killTweensOf=function(s,o,l){return Yt.killTweensOf(s,o,l)},e}(Ju);$n(pr.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});En("staggerTo,staggerFrom,staggerFromTo",function(t){pr[t]=function(){var e=new an,r=xg.call(arguments,0);return r.splice(t==="staggerFromTo"?5:4,0,0),e[t].apply(e,r)}});var Ax=function(e,r,n){return e[r]=n},CA=function(e,r,n){return e[r](n)},ij=function(e,r,n,s){return e[r](s.fp,n)},oj=function(e,r,n){return e.setAttribute(r,n)},Tx=function(e,r){return lr(e[r])?CA:mx(e[r])&&e.setAttribute?oj:Ax},SA=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e6)/1e6,r)},aj=function(e,r){return r.set(r.t,r.p,!!(r.s+r.c*e),r)},AA=function(e,r){var n=r._pt,s="";if(!e&&r.b)s=r.b;else if(e===1&&r.e)s=r.e;else{for(;n;)s=n.p+(n.m?n.m(n.s+n.c*e):Math.round((n.s+n.c*e)*1e4)/1e4)+s,n=n._next;s+=r.c}r.set(r.t,r.p,s,r)},Nx=function(e,r){for(var n=r._pt;n;)n.r(e,n.d),n=n._next},lj=function(e,r,n,s){for(var o=this._pt,l;o;)l=o._next,o.p===s&&o.modifier(e,r,n),o=l},cj=function(e){for(var r=this._pt,n,s;r;)s=r._next,r.p===e&&!r.op||r.op===e?a0(this,r,"_pt"):r.dep||(n=1),r=s;return!n},uj=function(e,r,n,s){s.mSet(e,r,s.m.call(s.tween,n,s.mt),s)},TA=function(e){for(var r=e._pt,n,s,o,l;r;){for(n=r._next,s=o;s&&s.pr>r.pr;)s=s._next;(r._prev=s?s._prev:l)?r._prev._next=r:o=r,(r._next=s)?s._prev=r:l=r,r=n}e._pt=o},Cn=function(){function t(r,n,s,o,l,u,p,h,x){this.t=n,this.s=o,this.c=l,this.p=s,this.r=u||SA,this.d=p||this,this.set=h||Ax,this.pr=x||0,this._next=r,r&&(r._prev=this)}var e=t.prototype;return e.modifier=function(n,s,o){this.mSet=this.mSet||this.set,this.set=uj,this.m=n,this.mt=o,this.tween=s},t}();En(_x+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(t){return vx[t]=1});Wn.TweenMax=Wn.TweenLite=pr;Wn.TimelineLite=Wn.TimelineMax=an;Yt=new an({sortChildren:!1,defaults:hc,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Vn.stringFilter=mA;var Aa=[],Rh={},dj=[],Fv=0,hj=0,P1=function(e){return(Rh[e]||dj).map(function(r){return r()})},_g=function(){var e=Date.now(),r=[];e-Fv>2&&(P1("matchMediaInit"),Aa.forEach(function(n){var s=n.queries,o=n.conditions,l,u,p,h;for(u in s)l=Ks.matchMedia(s[u]).matches,l&&(p=1),l!==o[u]&&(o[u]=l,h=1);h&&(n.revert(),p&&r.push(n))}),P1("matchMediaRevert"),r.forEach(function(n){return n.onMatch(n,function(s){return n.add(null,s)})}),Fv=e,P1("matchMedia"))},NA=function(){function t(r,n){this.selector=n&&yg(n),this.data=[],this._r=[],this.isReverted=!1,this.id=hj++,r&&this.add(r)}var e=t.prototype;return e.add=function(n,s,o){lr(n)&&(o=s,s=n,n=lr);var l=this,u=function(){var h=Ht,x=l.selector,w;return h&&h!==l&&h.data.push(l),o&&(l.selector=yg(o)),Ht=l,w=s.apply(l,arguments),lr(w)&&l._r.push(w),Ht=h,l.selector=x,l.isReverted=!1,w};return l.last=u,n===lr?u(l,function(p){return l.add(null,p)}):n?l[n]=u:u},e.ignore=function(n){var s=Ht;Ht=null,n(this),Ht=s},e.getTweens=function(){var n=[];return this.data.forEach(function(s){return s instanceof t?n.push.apply(n,s.getTweens()):s instanceof pr&&!(s.parent&&s.parent.data==="nested")&&n.push(s)}),n},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(n,s){var o=this;if(n?function(){for(var u=o.getTweens(),p=o.data.length,h;p--;)h=o.data[p],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(x){return u.splice(u.indexOf(x),1)}));for(u.map(function(x){return{g:x._dur||x._delay||x._sat&&!x._sat.vars.immediateRender?x.globalTime(0):-1/0,t:x}}).sort(function(x,w){return w.g-x.g||-1/0}).forEach(function(x){return x.t.revert(n)}),p=o.data.length;p--;)h=o.data[p],h instanceof an?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof pr)&&h.revert&&h.revert(n);o._r.forEach(function(x){return x(n,o)}),o.isReverted=!0}():this.data.forEach(function(u){return u.kill&&u.kill()}),this.clear(),s)for(var l=Aa.length;l--;)Aa[l].id===this.id&&Aa.splice(l,1)},e.revert=function(n){this.kill(n||{})},t}(),fj=function(){function t(r){this.contexts=[],this.scope=r,Ht&&Ht.data.push(this)}var e=t.prototype;return e.add=function(n,s,o){ci(n)||(n={matches:n});var l=new NA(0,o||this.scope),u=l.conditions={},p,h,x;Ht&&!l.selector&&(l.selector=Ht.selector),this.contexts.push(l),s=l.add("onMatch",s),l.queries=n;for(h in n)h==="all"?x=1:(p=Ks.matchMedia(n[h]),p&&(Aa.indexOf(l)<0&&Aa.push(l),(u[h]=p.matches)&&(x=1),p.addListener?p.addListener(_g):p.addEventListener("change",_g)));return x&&s(l,function(w){return l.add(null,w)}),this},e.revert=function(n){this.kill(n||{})},e.kill=function(n){this.contexts.forEach(function(s){return s.kill(n,!0)})},t}(),_f={registerPlugin:function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];r.forEach(function(s){return fA(s)})},timeline:function(e){return new an(e)},getTweensOf:function(e,r){return Yt.getTweensOf(e,r)},getProperty:function(e,r,n,s){Mr(e)&&(e=ls(e)[0]);var o=Ea(e||{}).get,l=n?eA:JS;return n==="native"&&(n=""),e&&(r?l((Mn[r]&&Mn[r].get||o)(e,r,n,s)):function(u,p,h){return l((Mn[u]&&Mn[u].get||o)(e,u,p,h))})},quickSetter:function(e,r,n){if(e=ls(e),e.length>1){var s=e.map(function(x){return An.quickSetter(x,r,n)}),o=s.length;return function(x){for(var w=o;w--;)s[w](x)}}e=e[0]||{};var l=Mn[r],u=Ea(e),p=u.harness&&(u.harness.aliases||{})[r]||r,h=l?function(x){var w=new l;Il._pt=0,w.init(e,n?x+n:x,Il,0,[e]),w.render(1,w),Il._pt&&Nx(1,Il)}:u.set(e,p);return l?h:function(x){return h(e,p,n?x+n:x,u,1)}},quickTo:function(e,r,n){var s,o=An.to(e,$n((s={},s[r]="+=0.1",s.paused=!0,s.stagger=0,s),n||{})),l=function(p,h,x){return o.resetTo(r,p,h,x)};return l.tween=o,l},isTweening:function(e){return Yt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=Sa(e.ease,hc.ease)),Pv(hc,e||{})},config:function(e){return Pv(Vn,e||{})},registerEffect:function(e){var r=e.name,n=e.effect,s=e.plugins,o=e.defaults,l=e.extendTimeline;(s||"").split(",").forEach(function(u){return u&&!Mn[u]&&!Wn[u]&&qu(r+" effect requires "+u+" plugin.")}),R1[r]=function(u,p,h){return n(ls(u),$n(p||{},o),h)},l&&(an.prototype[r]=function(u,p,h){return this.add(R1[r](u,ci(p)?p:(h=p)&&{},this),h)})},registerEase:function(e,r){lt[e]=Sa(r)},parseEase:function(e,r){return arguments.length?Sa(e,r):lt},getById:function(e){return Yt.getById(e)},exportRoot:function(e,r){e===void 0&&(e={});var n=new an(e),s,o;for(n.smoothChildTiming=bn(e.smoothChildTiming),Yt.remove(n),n._dp=0,n._time=n._tTime=Yt._time,s=Yt._first;s;)o=s._next,(r||!(!s._dur&&s instanceof pr&&s.vars.onComplete===s._targets[0]))&&ti(n,s,s._start-s._delay),s=o;return ti(Yt,n,0),n},context:function(e,r){return e?new NA(e,r):Ht},matchMedia:function(e){return new fj(e)},matchMediaRefresh:function(){return Aa.forEach(function(e){var r=e.conditions,n,s;for(s in r)r[s]&&(r[s]=!1,n=1);n&&e.revert()})||_g()},addEventListener:function(e,r){var n=Rh[e]||(Rh[e]=[]);~n.indexOf(r)||n.push(r)},removeEventListener:function(e,r){var n=Rh[e],s=n&&n.indexOf(r);s>=0&&n.splice(s,1)},utils:{wrap:$5,wrapYoyo:G5,distribute:aA,random:cA,snap:lA,normalize:W5,getUnit:Kr,clamp:U5,splitColor:pA,toArray:ls,selector:yg,mapRange:dA,pipe:V5,unitize:H5,interpolate:Y5,shuffle:oA},install:XS,effects:R1,ticker:jn,updateRoot:an.updateRoot,plugins:Mn,globalTimeline:Yt,core:{PropTween:Cn,globals:qS,Tween:pr,Timeline:an,Animation:Ju,getCache:Ea,_removeLinkedListItem:a0,reverting:function(){return Fr},context:function(e){return e&&Ht&&(Ht.data.push(e),e._ctx=Ht),Ht},suppressOverwrites:function(e){return gx=e}}};En("to,from,fromTo,delayedCall,set,killTweensOf",function(t){return _f[t]=pr[t]});jn.add(an.updateRoot);Il=_f.to({},{duration:0});var pj=function(e,r){for(var n=e._pt;n&&n.p!==r&&n.op!==r&&n.fp!==r;)n=n._next;return n},gj=function(e,r){var n=e._targets,s,o,l;for(s in r)for(o=n.length;o--;)l=e._ptLookup[o][s],l&&(l=l.d)&&(l._pt&&(l=pj(l,s)),l&&l.modifier&&l.modifier(r[s],e,n[o],s))},D1=function(e,r){return{name:e,headless:1,rawVars:1,init:function(s,o,l){l._onInit=function(u){var p,h;if(Mr(o)&&(p={},En(o,function(x){return p[x]=1}),o=p),r){p={};for(h in o)p[h]=r(o[h]);o=p}gj(u,o)}}}},An=_f.registerPlugin({name:"attr",init:function(e,r,n,s,o){var l,u,p;this.tween=n;for(l in r)p=e.getAttribute(l)||"",u=this.add(e,"setAttribute",(p||0)+"",r[l],s,o,0,0,l),u.op=l,u.b=p,this._props.push(l)},render:function(e,r){for(var n=r._pt;n;)Fr?n.set(n.t,n.p,n.b,n):n.r(e,n.d),n=n._next}},{name:"endArray",headless:1,init:function(e,r){for(var n=r.length;n--;)this.add(e,n,e[n]||0,r[n],0,0,0,0,0,1)}},D1("roundProps",wg),D1("modifiers"),D1("snap",lA))||_f;pr.version=an.version=An.version="3.13.0";YS=1;xx()&&mc();lt.Power0;lt.Power1;lt.Power2;lt.Power3;lt.Power4;lt.Linear;lt.Quad;lt.Cubic;lt.Quart;lt.Quint;lt.Strong;lt.Elastic;lt.Back;lt.SteppedEase;lt.Bounce;lt.Sine;lt.Expo;lt.Circ;/*!
 * CSSPlugin 3.13.0
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license
 * @author: Jack Doyle, jack@greensock.com
*/var Uv,ho,Vl,Ix,fa,zv,Rx,mj=function(){return typeof window<"u"},Di={},oa=180/Math.PI,Hl=Math.PI/180,ul=Math.atan2,Vv=1e8,Ox=/([A-Z])/g,xj=/(left|right|width|margin|padding|x)/i,yj=/[\s,\(]\S/,ni={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},bg=function(e,r){return r.set(r.t,r.p,Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},wj=function(e,r){return r.set(r.t,r.p,e===1?r.e:Math.round((r.s+r.c*e)*1e4)/1e4+r.u,r)},vj=function(e,r){return r.set(r.t,r.p,e?Math.round((r.s+r.c*e)*1e4)/1e4+r.u:r.b,r)},_j=function(e,r){var n=r.s+r.c*e;r.set(r.t,r.p,~~(n+(n<0?-.5:.5))+r.u,r)},IA=function(e,r){return r.set(r.t,r.p,e?r.e:r.b,r)},RA=function(e,r){return r.set(r.t,r.p,e!==1?r.b:r.e,r)},bj=function(e,r,n){return e.style[r]=n},Ej=function(e,r,n){return e.style.setProperty(r,n)},Cj=function(e,r,n){return e._gsap[r]=n},Sj=function(e,r,n){return e._gsap.scaleX=e._gsap.scaleY=n},Aj=function(e,r,n,s,o){var l=e._gsap;l.scaleX=l.scaleY=n,l.renderTransform(o,l)},Tj=function(e,r,n,s,o){var l=e._gsap;l[r]=n,l.renderTransform(o,l)},qt="transform",Sn=qt+"Origin",Nj=function t(e,r){var n=this,s=this.target,o=s.style,l=s._gsap;if(e in Di&&o){if(this.tfm=this.tfm||{},e!=="transform")e=ni[e]||e,~e.indexOf(",")?e.split(",").forEach(function(u){return n.tfm[u]=vi(s,u)}):this.tfm[e]=l.x?l[e]:vi(s,e),e===Sn&&(this.tfm.zOrigin=l.zOrigin);else return ni.transform.split(",").forEach(function(u){return t.call(n,u,r)});if(this.props.indexOf(qt)>=0)return;l.svg&&(this.svgo=s.getAttribute("data-svg-origin"),this.props.push(Sn,r,"")),e=qt}(o||r)&&this.props.push(e,r,o[e])},OA=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Ij=function(){var e=this.props,r=this.target,n=r.style,s=r._gsap,o,l;for(o=0;o<e.length;o+=3)e[o+1]?e[o+1]===2?r[e[o]](e[o+2]):r[e[o]]=e[o+2]:e[o+2]?n[e[o]]=e[o+2]:n.removeProperty(e[o].substr(0,2)==="--"?e[o]:e[o].replace(Ox,"-$1").toLowerCase());if(this.tfm){for(l in this.tfm)s[l]=this.tfm[l];s.svg&&(s.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),o=Rx(),(!o||!o.isStart)&&!n[qt]&&(OA(n),s.zOrigin&&n[Sn]&&(n[Sn]+=" "+s.zOrigin+"px",s.zOrigin=0,s.renderTransform()),s.uncache=1)}},MA=function(e,r){var n={target:e,props:[],revert:Ij,save:Nj};return e._gsap||An.core.getCache(e),r&&e.style&&e.nodeType&&r.split(",").forEach(function(s){return n.save(s)}),n},kA,Eg=function(e,r){var n=ho.createElementNS?ho.createElementNS((r||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ho.createElement(e);return n&&n.style?n:ho.createElement(e)},cs=function t(e,r,n){var s=getComputedStyle(e);return s[r]||s.getPropertyValue(r.replace(Ox,"-$1").toLowerCase())||s.getPropertyValue(r)||!n&&t(e,xc(r)||r,1)||""},Hv="O,Moz,ms,Ms,Webkit".split(","),xc=function(e,r,n){var s=r||fa,o=s.style,l=5;if(e in o&&!n)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);l--&&!(Hv[l]+e in o););return l<0?null:(l===3?"ms":l>=0?Hv[l]:"")+e},Cg=function(){mj()&&window.document&&(Uv=window,ho=Uv.document,Vl=ho.documentElement,fa=Eg("div")||{style:{}},Eg("div"),qt=xc(qt),Sn=qt+"Origin",fa.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",kA=!!xc("perspective"),Rx=An.core.reverting,Ix=1)},Wv=function(e){var r=e.ownerSVGElement,n=Eg("svg",r&&r.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),s=e.cloneNode(!0),o;s.style.display="block",n.appendChild(s),Vl.appendChild(n);try{o=s.getBBox()}catch{}return n.removeChild(s),Vl.removeChild(n),o},$v=function(e,r){for(var n=r.length;n--;)if(e.hasAttribute(r[n]))return e.getAttribute(r[n])},PA=function(e){var r,n;try{r=e.getBBox()}catch{r=Wv(e),n=1}return r&&(r.width||r.height)||n||(r=Wv(e)),r&&!r.width&&!r.x&&!r.y?{x:+$v(e,["x","cx","x1"])||0,y:+$v(e,["y","cy","y1"])||0,width:0,height:0}:r},DA=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&PA(e))},ka=function(e,r){if(r){var n=e.style,s;r in Di&&r!==Sn&&(r=qt),n.removeProperty?(s=r.substr(0,2),(s==="ms"||r.substr(0,6)==="webkit")&&(r="-"+r),n.removeProperty(s==="--"?r:r.replace(Ox,"-$1").toLowerCase())):n.removeAttribute(r)}},fo=function(e,r,n,s,o,l){var u=new Cn(e._pt,r,n,0,1,l?RA:IA);return e._pt=u,u.b=s,u.e=o,e._props.push(n),u},Gv={deg:1,rad:1,turn:1},Rj={grid:1,flex:1},Mo=function t(e,r,n,s){var o=parseFloat(n)||0,l=(n+"").trim().substr((o+"").length)||"px",u=fa.style,p=xj.test(r),h=e.tagName.toLowerCase()==="svg",x=(h?"client":"offset")+(p?"Width":"Height"),w=100,_=s==="px",b=s==="%",T,E,N,R;if(s===l||!o||Gv[s]||Gv[l])return o;if(l!=="px"&&!_&&(o=t(e,r,n,"px")),R=e.getCTM&&DA(e),(b||l==="%")&&(Di[r]||~r.indexOf("adius")))return T=R?e.getBBox()[p?"width":"height"]:e[x],dr(b?o/T*w:o/100*T);if(u[p?"width":"height"]=w+(_?l:s),E=s!=="rem"&&~r.indexOf("adius")||s==="em"&&e.appendChild&&!h?e:e.parentNode,R&&(E=(e.ownerSVGElement||{}).parentNode),(!E||E===ho||!E.appendChild)&&(E=ho.body),N=E._gsap,N&&b&&N.width&&p&&N.time===jn.time&&!N.uncache)return dr(o/N.width*w);if(b&&(r==="height"||r==="width")){var S=e.style[r];e.style[r]=w+s,T=e[x],S?e.style[r]=S:ka(e,r)}else(b||l==="%")&&!Rj[cs(E,"display")]&&(u.position=cs(e,"position")),E===e&&(u.position="static"),E.appendChild(fa),T=fa[x],E.removeChild(fa),u.position="absolute";return p&&b&&(N=Ea(E),N.time=jn.time,N.width=E[x]),dr(_?T*o/w:T&&o?w/T*o:0)},vi=function(e,r,n,s){var o;return Ix||Cg(),r in ni&&r!=="transform"&&(r=ni[r],~r.indexOf(",")&&(r=r.split(",")[0])),Di[r]&&r!=="transform"?(o=td(e,s),o=r!=="transformOrigin"?o[r]:o.svg?o.origin:Ef(cs(e,Sn))+" "+o.zOrigin+"px"):(o=e.style[r],(!o||o==="auto"||s||~(o+"").indexOf("calc("))&&(o=bf[r]&&bf[r](e,r,n)||cs(e,r)||QS(e,r)||(r==="opacity"?1:0))),n&&!~(o+"").trim().indexOf(" ")?Mo(e,r,o,n)+n:o},Oj=function(e,r,n,s){if(!n||n==="none"){var o=xc(r,e,1),l=o&&cs(e,o,1);l&&l!==n?(r=o,n=l):r==="borderColor"&&(n=cs(e,"borderTopColor"))}var u=new Cn(this._pt,e.style,r,0,1,AA),p=0,h=0,x,w,_,b,T,E,N,R,S,A,M,k;if(u.b=n,u.e=s,n+="",s+="",s.substring(0,6)==="var(--"&&(s=cs(e,s.substring(4,s.indexOf(")")))),s==="auto"&&(E=e.style[r],e.style[r]=s,s=cs(e,r)||s,E?e.style[r]=E:ka(e,r)),x=[n,s],mA(x),n=x[0],s=x[1],_=n.match(Nl)||[],k=s.match(Nl)||[],k.length){for(;w=Nl.exec(s);)N=w[0],S=s.substring(p,w.index),T?T=(T+1)%5:(S.substr(-5)==="rgba("||S.substr(-5)==="hsla(")&&(T=1),N!==(E=_[h++]||"")&&(b=parseFloat(E)||0,M=E.substr((b+"").length),N.charAt(1)==="="&&(N=zl(b,N)+M),R=parseFloat(N),A=N.substr((R+"").length),p=Nl.lastIndex-A.length,A||(A=A||Vn.units[r]||M,p===s.length&&(s+=A,u.e+=A)),M!==A&&(b=Mo(e,r,E,A)||0),u._pt={_next:u._pt,p:S||h===1?S:",",s:b,c:R-b,m:T&&T<4||r==="zIndex"?Math.round:0});u.c=p<s.length?s.substring(p,s.length):""}else u.r=r==="display"&&s==="none"?RA:IA;return $S.test(s)&&(u.e=0),this._pt=u,u},Yv={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Mj=function(e){var r=e.split(" "),n=r[0],s=r[1]||"50%";return(n==="top"||n==="bottom"||s==="left"||s==="right")&&(e=n,n=s,s=e),r[0]=Yv[n]||n,r[1]=Yv[s]||s,r.join(" ")},kj=function(e,r){if(r.tween&&r.tween._time===r.tween._dur){var n=r.t,s=n.style,o=r.u,l=n._gsap,u,p,h;if(o==="all"||o===!0)s.cssText="",p=1;else for(o=o.split(","),h=o.length;--h>-1;)u=o[h],Di[u]&&(p=1,u=u==="transformOrigin"?Sn:qt),ka(n,u);p&&(ka(n,qt),l&&(l.svg&&n.removeAttribute("transform"),s.scale=s.rotate=s.translate="none",td(n,1),l.uncache=1,OA(s)))}},bf={clearProps:function(e,r,n,s,o){if(o.data!=="isFromStart"){var l=e._pt=new Cn(e._pt,r,n,0,0,kj);return l.u=s,l.pr=-10,l.tween=o,e._props.push(n),1}}},ed=[1,0,0,1,0,0],jA={},LA=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},Xv=function(e){var r=cs(e,qt);return LA(r)?ed:r.substr(7).match(WS).map(dr)},Mx=function(e,r){var n=e._gsap||Ea(e),s=e.style,o=Xv(e),l,u,p,h;return n.svg&&e.getAttribute("transform")?(p=e.transform.baseVal.consolidate().matrix,o=[p.a,p.b,p.c,p.d,p.e,p.f],o.join(",")==="1,0,0,1,0,0"?ed:o):(o===ed&&!e.offsetParent&&e!==Vl&&!n.svg&&(p=s.display,s.display="block",l=e.parentNode,(!l||!e.offsetParent&&!e.getBoundingClientRect().width)&&(h=1,u=e.nextElementSibling,Vl.appendChild(e)),o=Xv(e),p?s.display=p:ka(e,"display"),h&&(u?l.insertBefore(e,u):l?l.appendChild(e):Vl.removeChild(e))),r&&o.length>6?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},Sg=function(e,r,n,s,o,l){var u=e._gsap,p=o||Mx(e,!0),h=u.xOrigin||0,x=u.yOrigin||0,w=u.xOffset||0,_=u.yOffset||0,b=p[0],T=p[1],E=p[2],N=p[3],R=p[4],S=p[5],A=r.split(" "),M=parseFloat(A[0])||0,k=parseFloat(A[1])||0,B,L,V,U;n?p!==ed&&(L=b*N-T*E)&&(V=M*(N/L)+k*(-E/L)+(E*S-N*R)/L,U=M*(-T/L)+k*(b/L)-(b*S-T*R)/L,M=V,k=U):(B=PA(e),M=B.x+(~A[0].indexOf("%")?M/100*B.width:M),k=B.y+(~(A[1]||A[0]).indexOf("%")?k/100*B.height:k)),s||s!==!1&&u.smooth?(R=M-h,S=k-x,u.xOffset=w+(R*b+S*E)-R,u.yOffset=_+(R*T+S*N)-S):u.xOffset=u.yOffset=0,u.xOrigin=M,u.yOrigin=k,u.smooth=!!s,u.origin=r,u.originIsAbsolute=!!n,e.style[Sn]="0px 0px",l&&(fo(l,u,"xOrigin",h,M),fo(l,u,"yOrigin",x,k),fo(l,u,"xOffset",w,u.xOffset),fo(l,u,"yOffset",_,u.yOffset)),e.setAttribute("data-svg-origin",M+" "+k)},td=function(e,r){var n=e._gsap||new vA(e);if("x"in n&&!r&&!n.uncache)return n;var s=e.style,o=n.scaleX<0,l="px",u="deg",p=getComputedStyle(e),h=cs(e,Sn)||"0",x,w,_,b,T,E,N,R,S,A,M,k,B,L,V,U,J,ne,K,se,G,H,re,X,Y,Z,oe,Ee,de,ae,fe,Ue;return x=w=_=E=N=R=S=A=M=0,b=T=1,n.svg=!!(e.getCTM&&DA(e)),p.translate&&((p.translate!=="none"||p.scale!=="none"||p.rotate!=="none")&&(s[qt]=(p.translate!=="none"?"translate3d("+(p.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(p.rotate!=="none"?"rotate("+p.rotate+") ":"")+(p.scale!=="none"?"scale("+p.scale.split(" ").join(",")+") ":"")+(p[qt]!=="none"?p[qt]:"")),s.scale=s.rotate=s.translate="none"),L=Mx(e,n.svg),n.svg&&(n.uncache?(Y=e.getBBox(),h=n.xOrigin-Y.x+"px "+(n.yOrigin-Y.y)+"px",X=""):X=!r&&e.getAttribute("data-svg-origin"),Sg(e,X||h,!!X||n.originIsAbsolute,n.smooth!==!1,L)),k=n.xOrigin||0,B=n.yOrigin||0,L!==ed&&(ne=L[0],K=L[1],se=L[2],G=L[3],x=H=L[4],w=re=L[5],L.length===6?(b=Math.sqrt(ne*ne+K*K),T=Math.sqrt(G*G+se*se),E=ne||K?ul(K,ne)*oa:0,S=se||G?ul(se,G)*oa+E:0,S&&(T*=Math.abs(Math.cos(S*Hl))),n.svg&&(x-=k-(k*ne+B*se),w-=B-(k*K+B*G))):(Ue=L[6],ae=L[7],oe=L[8],Ee=L[9],de=L[10],fe=L[11],x=L[12],w=L[13],_=L[14],V=ul(Ue,de),N=V*oa,V&&(U=Math.cos(-V),J=Math.sin(-V),X=H*U+oe*J,Y=re*U+Ee*J,Z=Ue*U+de*J,oe=H*-J+oe*U,Ee=re*-J+Ee*U,de=Ue*-J+de*U,fe=ae*-J+fe*U,H=X,re=Y,Ue=Z),V=ul(-se,de),R=V*oa,V&&(U=Math.cos(-V),J=Math.sin(-V),X=ne*U-oe*J,Y=K*U-Ee*J,Z=se*U-de*J,fe=G*J+fe*U,ne=X,K=Y,se=Z),V=ul(K,ne),E=V*oa,V&&(U=Math.cos(V),J=Math.sin(V),X=ne*U+K*J,Y=H*U+re*J,K=K*U-ne*J,re=re*U-H*J,ne=X,H=Y),N&&Math.abs(N)+Math.abs(E)>359.9&&(N=E=0,R=180-R),b=dr(Math.sqrt(ne*ne+K*K+se*se)),T=dr(Math.sqrt(re*re+Ue*Ue)),V=ul(H,re),S=Math.abs(V)>2e-4?V*oa:0,M=fe?1/(fe<0?-fe:fe):0),n.svg&&(X=e.getAttribute("transform"),n.forceCSS=e.setAttribute("transform","")||!LA(cs(e,qt)),X&&e.setAttribute("transform",X))),Math.abs(S)>90&&Math.abs(S)<270&&(o?(b*=-1,S+=E<=0?180:-180,E+=E<=0?180:-180):(T*=-1,S+=S<=0?180:-180)),r=r||n.uncache,n.x=x-((n.xPercent=x&&(!r&&n.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-x)?-50:0)))?e.offsetWidth*n.xPercent/100:0)+l,n.y=w-((n.yPercent=w&&(!r&&n.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-w)?-50:0)))?e.offsetHeight*n.yPercent/100:0)+l,n.z=_+l,n.scaleX=dr(b),n.scaleY=dr(T),n.rotation=dr(E)+u,n.rotationX=dr(N)+u,n.rotationY=dr(R)+u,n.skewX=S+u,n.skewY=A+u,n.transformPerspective=M+l,(n.zOrigin=parseFloat(h.split(" ")[2])||!r&&n.zOrigin||0)&&(s[Sn]=Ef(h)),n.xOffset=n.yOffset=0,n.force3D=Vn.force3D,n.renderTransform=n.svg?Dj:kA?BA:Pj,n.uncache=0,n},Ef=function(e){return(e=e.split(" "))[0]+" "+e[1]},j1=function(e,r,n){var s=Kr(r);return dr(parseFloat(r)+parseFloat(Mo(e,"x",n+"px",s)))+s},Pj=function(e,r){r.z="0px",r.rotationY=r.rotationX="0deg",r.force3D=0,BA(e,r)},ta="0deg",Qc="0px",ra=") ",BA=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,l=n.x,u=n.y,p=n.z,h=n.rotation,x=n.rotationY,w=n.rotationX,_=n.skewX,b=n.skewY,T=n.scaleX,E=n.scaleY,N=n.transformPerspective,R=n.force3D,S=n.target,A=n.zOrigin,M="",k=R==="auto"&&e&&e!==1||R===!0;if(A&&(w!==ta||x!==ta)){var B=parseFloat(x)*Hl,L=Math.sin(B),V=Math.cos(B),U;B=parseFloat(w)*Hl,U=Math.cos(B),l=j1(S,l,L*U*-A),u=j1(S,u,-Math.sin(B)*-A),p=j1(S,p,V*U*-A+A)}N!==Qc&&(M+="perspective("+N+ra),(s||o)&&(M+="translate("+s+"%, "+o+"%) "),(k||l!==Qc||u!==Qc||p!==Qc)&&(M+=p!==Qc||k?"translate3d("+l+", "+u+", "+p+") ":"translate("+l+", "+u+ra),h!==ta&&(M+="rotate("+h+ra),x!==ta&&(M+="rotateY("+x+ra),w!==ta&&(M+="rotateX("+w+ra),(_!==ta||b!==ta)&&(M+="skew("+_+", "+b+ra),(T!==1||E!==1)&&(M+="scale("+T+", "+E+ra),S.style[qt]=M||"translate(0, 0)"},Dj=function(e,r){var n=r||this,s=n.xPercent,o=n.yPercent,l=n.x,u=n.y,p=n.rotation,h=n.skewX,x=n.skewY,w=n.scaleX,_=n.scaleY,b=n.target,T=n.xOrigin,E=n.yOrigin,N=n.xOffset,R=n.yOffset,S=n.forceCSS,A=parseFloat(l),M=parseFloat(u),k,B,L,V,U;p=parseFloat(p),h=parseFloat(h),x=parseFloat(x),x&&(x=parseFloat(x),h+=x,p+=x),p||h?(p*=Hl,h*=Hl,k=Math.cos(p)*w,B=Math.sin(p)*w,L=Math.sin(p-h)*-_,V=Math.cos(p-h)*_,h&&(x*=Hl,U=Math.tan(h-x),U=Math.sqrt(1+U*U),L*=U,V*=U,x&&(U=Math.tan(x),U=Math.sqrt(1+U*U),k*=U,B*=U)),k=dr(k),B=dr(B),L=dr(L),V=dr(V)):(k=w,V=_,B=L=0),(A&&!~(l+"").indexOf("px")||M&&!~(u+"").indexOf("px"))&&(A=Mo(b,"x",l,"px"),M=Mo(b,"y",u,"px")),(T||E||N||R)&&(A=dr(A+T-(T*k+E*L)+N),M=dr(M+E-(T*B+E*V)+R)),(s||o)&&(U=b.getBBox(),A=dr(A+s/100*U.width),M=dr(M+o/100*U.height)),U="matrix("+k+","+B+","+L+","+V+","+A+","+M+")",b.setAttribute("transform",U),S&&(b.style[qt]=U)},jj=function(e,r,n,s,o){var l=360,u=Mr(o),p=parseFloat(o)*(u&&~o.indexOf("rad")?oa:1),h=p-s,x=s+h+"deg",w,_;return u&&(w=o.split("_")[1],w==="short"&&(h%=l,h!==h%(l/2)&&(h+=h<0?l:-l)),w==="cw"&&h<0?h=(h+l*Vv)%l-~~(h/l)*l:w==="ccw"&&h>0&&(h=(h-l*Vv)%l-~~(h/l)*l)),e._pt=_=new Cn(e._pt,r,n,s,h,wj),_.e=x,_.u="deg",e._props.push(n),_},qv=function(e,r){for(var n in r)e[n]=r[n];return e},Lj=function(e,r,n){var s=qv({},n._gsap),o="perspective,force3D,transformOrigin,svgOrigin",l=n.style,u,p,h,x,w,_,b,T;s.svg?(h=n.getAttribute("transform"),n.setAttribute("transform",""),l[qt]=r,u=td(n,1),ka(n,qt),n.setAttribute("transform",h)):(h=getComputedStyle(n)[qt],l[qt]=r,u=td(n,1),l[qt]=h);for(p in Di)h=s[p],x=u[p],h!==x&&o.indexOf(p)<0&&(b=Kr(h),T=Kr(x),w=b!==T?Mo(n,p,h,T):parseFloat(h),_=parseFloat(x),e._pt=new Cn(e._pt,u,p,w,_-w,bg),e._pt.u=T||0,e._props.push(p));qv(u,s)};En("padding,margin,Width,Radius",function(t,e){var r="Top",n="Right",s="Bottom",o="Left",l=(e<3?[r,n,s,o]:[r+o,r+n,s+n,s+o]).map(function(u){return e<2?t+u:"border"+u+t});bf[e>1?"border"+t:t]=function(u,p,h,x,w){var _,b;if(arguments.length<4)return _=l.map(function(T){return vi(u,T,h)}),b=_.join(" "),b.split(_[0]).length===5?_[0]:b;_=(x+"").split(" "),b={},l.forEach(function(T,E){return b[T]=_[E]=_[E]||_[(E-1)/2|0]}),u.init(p,b,w)}});var FA={name:"css",register:Cg,targetTest:function(e){return e.style&&e.nodeType},init:function(e,r,n,s,o){var l=this._props,u=e.style,p=n.vars.startAt,h,x,w,_,b,T,E,N,R,S,A,M,k,B,L,V;Ix||Cg(),this.styles=this.styles||MA(e),V=this.styles.props,this.tween=n;for(E in r)if(E!=="autoRound"&&(x=r[E],!(Mn[E]&&_A(E,r,n,s,e,o)))){if(b=typeof x,T=bf[E],b==="function"&&(x=x.call(n,s,e,o),b=typeof x),b==="string"&&~x.indexOf("random(")&&(x=Qu(x)),T)T(this,e,E,x,n)&&(L=1);else if(E.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(E)+"").trim(),x+="",So.lastIndex=0,So.test(h)||(N=Kr(h),R=Kr(x)),R?N!==R&&(h=Mo(e,E,h,R)+R):N&&(x+=N),this.add(u,"setProperty",h,x,s,o,0,0,E),l.push(E),V.push(E,0,u[E]);else if(b!=="undefined"){if(p&&E in p?(h=typeof p[E]=="function"?p[E].call(n,s,e,o):p[E],Mr(h)&&~h.indexOf("random(")&&(h=Qu(h)),Kr(h+"")||h==="auto"||(h+=Vn.units[E]||Kr(vi(e,E))||""),(h+"").charAt(1)==="="&&(h=vi(e,E))):h=vi(e,E),_=parseFloat(h),S=b==="string"&&x.charAt(1)==="="&&x.substr(0,2),S&&(x=x.substr(2)),w=parseFloat(x),E in ni&&(E==="autoAlpha"&&(_===1&&vi(e,"visibility")==="hidden"&&w&&(_=0),V.push("visibility",0,u.visibility),fo(this,u,"visibility",_?"inherit":"hidden",w?"inherit":"hidden",!w)),E!=="scale"&&E!=="transform"&&(E=ni[E],~E.indexOf(",")&&(E=E.split(",")[0]))),A=E in Di,A){if(this.styles.save(E),b==="string"&&x.substring(0,6)==="var(--"&&(x=cs(e,x.substring(4,x.indexOf(")"))),w=parseFloat(x)),M||(k=e._gsap,k.renderTransform&&!r.parseTransform||td(e,r.parseTransform),B=r.smoothOrigin!==!1&&k.smooth,M=this._pt=new Cn(this._pt,u,qt,0,1,k.renderTransform,k,0,-1),M.dep=1),E==="scale")this._pt=new Cn(this._pt,k,"scaleY",k.scaleY,(S?zl(k.scaleY,S+w):w)-k.scaleY||0,bg),this._pt.u=0,l.push("scaleY",E),E+="X";else if(E==="transformOrigin"){V.push(Sn,0,u[Sn]),x=Mj(x),k.svg?Sg(e,x,0,B,0,this):(R=parseFloat(x.split(" ")[2])||0,R!==k.zOrigin&&fo(this,k,"zOrigin",k.zOrigin,R),fo(this,u,E,Ef(h),Ef(x)));continue}else if(E==="svgOrigin"){Sg(e,x,1,B,0,this);continue}else if(E in jA){jj(this,k,E,_,S?zl(_,S+x):x);continue}else if(E==="smoothOrigin"){fo(this,k,"smooth",k.smooth,x);continue}else if(E==="force3D"){k[E]=x;continue}else if(E==="transform"){Lj(this,x,e);continue}}else E in u||(E=xc(E)||E);if(A||(w||w===0)&&(_||_===0)&&!yj.test(x)&&E in u)N=(h+"").substr((_+"").length),w||(w=0),R=Kr(x)||(E in Vn.units?Vn.units[E]:N),N!==R&&(_=Mo(e,E,h,R)),this._pt=new Cn(this._pt,A?k:u,E,_,(S?zl(_,S+w):w)-_,!A&&(R==="px"||E==="zIndex")&&r.autoRound!==!1?_j:bg),this._pt.u=R||0,N!==R&&R!=="%"&&(this._pt.b=h,this._pt.r=vj);else if(E in u)Oj.call(this,e,E,h,S?S+x:x);else if(E in e)this.add(e,E,h||e[E],S?S+x:x,s,o);else if(E!=="parseTransform"){wx(E,x);continue}A||(E in u?V.push(E,0,u[E]):typeof e[E]=="function"?V.push(E,2,e[E]()):V.push(E,1,h||e[E])),l.push(E)}}L&&TA(this)},render:function(e,r){if(r.tween._time||!Rx())for(var n=r._pt;n;)n.r(e,n.d),n=n._next;else r.styles.revert()},get:vi,aliases:ni,getSetter:function(e,r,n){var s=ni[r];return s&&s.indexOf(",")<0&&(r=s),r in Di&&r!==Sn&&(e._gsap.x||vi(e,"x"))?n&&zv===n?r==="scale"?Sj:Cj:(zv=n||{})&&(r==="scale"?Aj:Tj):e.style&&!mx(e.style[r])?bj:~r.indexOf("-")?Ej:Tx(e,r)},core:{_removeProperty:ka,_getMatrix:Mx}};An.utils.checkPrefix=xc;An.core.getStyleSaver=MA;(function(t,e,r,n){var s=En(t+","+e+","+r,function(o){Di[o]=1});En(e,function(o){Vn.units[o]="deg",jA[o]=1}),ni[s[13]]=t+","+e,En(n,function(o){var l=o.split(":");ni[l[1]]=s[l[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");En("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(t){Vn.units[t]="px"});An.registerPlugin(FA);var yi=An.registerPlugin(FA)||An;yi.core.Tween;const kx="/ALAN_NEW/assets/ALANLOGO-CiZZgqjV.png",Bj="/ALAN_NEW/assets/onbarding1-DYox49Gq.png",Fj="/ALAN_NEW/assets/onbarding2-vDKFdda2.png",Uj="/ALAN_NEW/assets/onbarding3-D_6Pmr_M.png",Zc=[{title:"Discover Premium Dining",description:"Browse the finest restaurants in Yangon with detailed menus and exclusive offerings",image:Bj},{title:"Prepay with Ease",description:"Secure your table and meals in advance with convenient payment options",image:Fj},{title:"Skip the Wait",description:"Show your QR code and enjoy your meal immediately upon arrival",image:Uj}],zj=()=>{const[t,e]=I.useState(0),r=Tn(),n=I.useRef(null),s=I.useRef(null),o=I.useRef(null),l=I.useRef(null);I.useEffect(()=>{if(!n.current)return;const x=yi.timeline();return x.fromTo(s.current,{opacity:0,y:10,scale:.98},{opacity:1,y:0,scale:1,duration:.4,ease:"power2.out"}).fromTo(o.current,{opacity:0,y:12},{opacity:1,y:0,duration:.45,ease:"power2.out"},"-=0.15").fromTo(l.current,{opacity:0,y:16,rotate:-2},{opacity:1,y:0,rotate:0,duration:.5,ease:"power2.out"},"-=0.2"),()=>{x.kill()}},[t]);const u=()=>{t<Zc.length-1?e(t+1):r("/auth")},p=()=>{r("/auth")},h=Zc[t];return m.jsxs("div",{ref:n,className:"min-h-screen bg-gradient-to-b from-background to-secondary/20 flex flex-col",children:[m.jsx("div",{className:"flex-1 flex flex-col items-center justify-center px-6 py-12",children:m.jsxs("div",{className:"w-full max-w-md space-y-8",children:[m.jsx("div",{className:"flex justify-center",ref:s,children:m.jsx("div",{className:"w-28 h-28 sm:w-32 sm:h-32 rounded-full luxury-gradient flex items-center justify-center luxury-shadow overflow-hidden",children:m.jsx("img",{src:kx,alt:"ALAN Logo",className:"w-16 h-16 object-contain drop-shadow"})})}),m.jsxs("div",{className:"text-center space-y-4",ref:o,children:[m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:h.title}),m.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:h.description})]}),m.jsx("div",{className:"flex justify-center",ref:l,children:m.jsx("div",{className:"w-full flex items-center justify-center",children:m.jsx("img",{src:h.image,alt:"Onboarding illustration",className:"max-h-56 sm:max-h-64 object-contain"})})}),m.jsx("div",{className:"flex justify-center gap-2",children:Zc.map((x,w)=>m.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${w===t?"w-8 bg-primary":"w-2 bg-muted"}`},w))})]})}),m.jsxs("div",{className:"p-6 space-y-3 max-w-md mx-auto w-full",children:[m.jsxs(Fe,{onClick:u,className:"w-full h-12 text-base font-medium luxury-gradient",size:"lg",children:[t<Zc.length-1?"Next":"Get Started",m.jsx(dO,{className:"ml-2 h-5 w-5"})]}),t<Zc.length-1&&m.jsx(Fe,{onClick:p,variant:"ghost",className:"w-full h-12 text-base font-medium",size:"lg",children:"Skip"})]})]})},at=I.forwardRef(({className:t,type:e,...r},n)=>m.jsx("input",{type:e,className:He("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));at.displayName="Input";var Vj="Label",UA=I.forwardRef((t,e)=>m.jsx(We.label,{...t,ref:e,onMouseDown:r=>{var s;r.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));UA.displayName=Vj;var zA=UA;const Hj=Xf("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Qe=I.forwardRef(({className:t,...e},r)=>m.jsx(zA,{ref:r,className:He(Hj(),t),...e}));Qe.displayName=zA.displayName;const Ge=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:He("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ge.displayName="Card";const or=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:He("flex flex-col space-y-1.5 p-6",t),...e}));or.displayName="CardHeader";const ar=I.forwardRef(({className:t,...e},r)=>m.jsx("h3",{ref:r,className:He("text-2xl font-semibold leading-none tracking-tight",t),...e}));ar.displayName="CardTitle";const Ci=I.forwardRef(({className:t,...e},r)=>m.jsx("p",{ref:r,className:He("text-sm text-muted-foreground",t),...e}));Ci.displayName="CardDescription";const bt=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:He("p-6 pt-0",t),...e}));bt.displayName="CardContent";const Wj=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{ref:r,className:He("flex items-center p-6 pt-0",t),...e}));Wj.displayName="CardFooter";var $j=I.createContext(void 0);function u0(t){const e=I.useContext($j);return t||e||"ltr"}var L1="rovingFocusGroup.onEntryFocus",Gj={bubbles:!1,cancelable:!0},md="RovingFocusGroup",[Ag,VA,Yj]=Dm(md),[Xj,d0]=Fs(md,[Yj]),[qj,Kj]=Xj(md),HA=I.forwardRef((t,e)=>m.jsx(Ag.Provider,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Ag.Slot,{scope:t.__scopeRovingFocusGroup,children:m.jsx(Qj,{...t,ref:e})})}));HA.displayName=md;var Qj=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:p,onEntryFocus:h,preventScrollOnEntryFocus:x=!1,...w}=t,_=I.useRef(null),b=xt(e,_),T=u0(o),[E,N]=No({prop:l,defaultProp:u??null,onChange:p,caller:md}),[R,S]=I.useState(!1),A=fs(h),M=VA(r),k=I.useRef(!1),[B,L]=I.useState(0);return I.useEffect(()=>{const V=_.current;if(V)return V.addEventListener(L1,A),()=>V.removeEventListener(L1,A)},[A]),m.jsx(qj,{scope:r,orientation:n,dir:T,loop:s,currentTabStopId:E,onItemFocus:I.useCallback(V=>N(V),[N]),onItemShiftTab:I.useCallback(()=>S(!0),[]),onFocusableItemAdd:I.useCallback(()=>L(V=>V+1),[]),onFocusableItemRemove:I.useCallback(()=>L(V=>V-1),[]),children:m.jsx(We.div,{tabIndex:R||B===0?-1:0,"data-orientation":n,...w,ref:b,style:{outline:"none",...t.style},onMouseDown:Pe(t.onMouseDown,()=>{k.current=!0}),onFocus:Pe(t.onFocus,V=>{const U=!k.current;if(V.target===V.currentTarget&&U&&!R){const J=new CustomEvent(L1,Gj);if(V.currentTarget.dispatchEvent(J),!J.defaultPrevented){const ne=M().filter(re=>re.focusable),K=ne.find(re=>re.active),se=ne.find(re=>re.id===E),H=[K,se,...ne].filter(Boolean).map(re=>re.ref.current);GA(H,x)}}k.current=!1}),onBlur:Pe(t.onBlur,()=>S(!1))})})}),WA="RovingFocusGroupItem",$A=I.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:o,children:l,...u}=t,p=bo(),h=o||p,x=Kj(WA,r),w=x.currentTabStopId===h,_=VA(r),{onFocusableItemAdd:b,onFocusableItemRemove:T,currentTabStopId:E}=x;return I.useEffect(()=>{if(n)return b(),()=>T()},[n,b,T]),m.jsx(Ag.ItemSlot,{scope:r,id:h,focusable:n,active:s,children:m.jsx(We.span,{tabIndex:w?0:-1,"data-orientation":x.orientation,...u,ref:e,onMouseDown:Pe(t.onMouseDown,N=>{n?x.onItemFocus(h):N.preventDefault()}),onFocus:Pe(t.onFocus,()=>x.onItemFocus(h)),onKeyDown:Pe(t.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){x.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const R=eL(N,x.orientation,x.dir);if(R!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let A=_().filter(M=>M.focusable).map(M=>M.ref.current);if(R==="last")A.reverse();else if(R==="prev"||R==="next"){R==="prev"&&A.reverse();const M=A.indexOf(N.currentTarget);A=x.loop?tL(A,M+1):A.slice(M+1)}setTimeout(()=>GA(A))}}),children:typeof l=="function"?l({isCurrentTabStop:w,hasTabStop:E!=null}):l})})});$A.displayName=WA;var Zj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Jj(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function eL(t,e,r){const n=Jj(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return Zj[n]}function GA(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function tL(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var YA=HA,XA=$A,h0="Tabs",[rL,RB]=Fs(h0,[d0]),qA=d0(),[nL,Px]=rL(h0),KA=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:s,defaultValue:o,orientation:l="horizontal",dir:u,activationMode:p="automatic",...h}=t,x=u0(u),[w,_]=No({prop:n,onChange:s,defaultProp:o??"",caller:h0});return m.jsx(nL,{scope:r,baseId:bo(),value:w,onValueChange:_,orientation:l,dir:x,activationMode:p,children:m.jsx(We.div,{dir:x,"data-orientation":l,...h,ref:e})})});KA.displayName=h0;var QA="TabsList",ZA=I.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...s}=t,o=Px(QA,r),l=qA(r);return m.jsx(YA,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:n,children:m.jsx(We.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:e})})});ZA.displayName=QA;var JA="TabsTrigger",eT=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:s=!1,...o}=t,l=Px(JA,r),u=qA(r),p=nT(l.baseId,n),h=sT(l.baseId,n),x=n===l.value;return m.jsx(XA,{asChild:!0,...u,focusable:!s,active:x,children:m.jsx(We.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":h,"data-state":x?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:p,...o,ref:e,onMouseDown:Pe(t.onMouseDown,w=>{!s&&w.button===0&&w.ctrlKey===!1?l.onValueChange(n):w.preventDefault()}),onKeyDown:Pe(t.onKeyDown,w=>{[" ","Enter"].includes(w.key)&&l.onValueChange(n)}),onFocus:Pe(t.onFocus,()=>{const w=l.activationMode!=="manual";!x&&!s&&w&&l.onValueChange(n)})})})});eT.displayName=JA;var tT="TabsContent",rT=I.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:s,children:o,...l}=t,u=Px(tT,r),p=nT(u.baseId,n),h=sT(u.baseId,n),x=n===u.value,w=I.useRef(x);return I.useEffect(()=>{const _=requestAnimationFrame(()=>w.current=!1);return()=>cancelAnimationFrame(_)},[]),m.jsx(Bo,{present:s||x,children:({present:_})=>m.jsx(We.div,{"data-state":x?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":p,hidden:!_,id:h,tabIndex:0,...l,ref:e,style:{...t.style,animationDuration:w.current?"0s":void 0},children:_&&o})})});rT.displayName=tT;function nT(t,e){return`${t}-trigger-${e}`}function sT(t,e){return`${t}-content-${e}`}var sL=KA,iT=ZA,oT=eT,aT=rT;const Dx=sL,f0=I.forwardRef(({className:t,...e},r)=>m.jsx(iT,{ref:r,className:He("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));f0.displayName=iT.displayName;const Si=I.forwardRef(({className:t,...e},r)=>m.jsx(oT,{ref:r,className:He("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-primary data-[state=active]:text-primary-foreground data-[state=active]:shadow-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=inactive]:text-muted-foreground/70 data-[state=inactive]:hover:text-muted-foreground",t),...e}));Si.displayName=oT.displayName;const pa=I.forwardRef(({className:t,...e},r)=>m.jsx(aT,{ref:r,className:He("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 data-[state=inactive]:hidden",t),...e}));pa.displayName=aT.displayName;const iL=()=>{const[t,e]=I.useState(!1),{signUp:r,signIn:n,user:s,userRole:o}=ps(),l=Tn(),[u,p]=I.useState("signin"),h=I.useRef(null),x=I.useRef(null),w=I.useRef(null);I.useRef(null),I.useEffect(()=>{yi.timeline({defaults:{ease:"power2.out"}}).fromTo(h.current,{opacity:0,y:-12,scale:.92},{opacity:1,y:0,scale:1,duration:.5}).fromTo(x.current,{opacity:0,y:16},{opacity:1,y:0,duration:.5},"-=0.25")},[]),I.useEffect(()=>{const S=w.current;if(!S)return;const A=S.querySelector('[data-state="active"]');if(!A)return;const M=A.scrollHeight,k=S.offsetHeight;yi.set(S,{height:k}),yi.to(S,{height:M,duration:.45,ease:"power2.out",onComplete:()=>yi.set(S,{height:"auto"})}),yi.fromTo(A,{opacity:0,y:8},{opacity:1,y:0,duration:.35,ease:"power2.out"})},[u]),I.useEffect(()=>{const S=w.current;if(!S)return;const A=S.querySelector('[data-state="active"]');A&&(yi.set(S,{height:A.scrollHeight}),yi.set(S,{height:"auto"}))},[]),I.useEffect(()=>{s&&o&&l(o==="admin"?"/admin":o==="restaurant_owner"?"/dashboard":"/home")},[s,o,l]);const[_,b]=I.useState({email:"",password:"",fullName:"",phone:""}),[T,E]=I.useState({email:"",password:""}),N=async S=>{S.preventDefault(),e(!0);const{error:A}=await r(_.email,_.password,_.fullName,_.phone);A?ye.error(A.message||"Failed to sign up"):(ye.success("Account created! Welcome to ALAN"),l("/home")),e(!1)},R=async S=>{S.preventDefault(),e(!0);const{error:A}=await n(T.email,T.password);A?ye.error(A.message||"Failed to sign in"):ye.success("Signing in..."),e(!1)};return m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20 flex flex-col items-center justify-center p-6",children:m.jsxs("div",{className:"w-full max-w-md space-y-6",children:[m.jsxs("div",{className:"text-center space-y-2",ref:h,children:[m.jsx("div",{className:"flex justify-center mb-4",children:m.jsx("div",{className:"w-16 h-16 rounded-full luxury-gradient flex items-center justify-center overflow-hidden",children:m.jsx("img",{src:kx,alt:"ALAN Logo",className:"w-10 h-10 object-contain drop-shadow"})})}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"ALAN"}),m.jsx("p",{className:"text-muted-foreground",children:"Luxury dining made simple"})]}),m.jsxs(Ge,{className:"border-border/50 luxury-shadow",ref:x,children:[m.jsxs(or,{children:[m.jsx(ar,{children:"Welcome"}),m.jsx(Ci,{children:"Sign in or create an account to continue"})]}),m.jsx(bt,{className:"px-6 pt-2 pb-6",children:m.jsxs(Dx,{value:u,onValueChange:S=>p(S),className:"w-full",children:[m.jsxs(f0,{className:"grid w-full grid-cols-2",children:[m.jsx(Si,{value:"signin",children:"Sign In"}),m.jsx(Si,{value:"signup",children:"Sign Up"})]}),m.jsxs("div",{ref:w,className:"relative overflow-visible box-border px-3 sm:px-4 pb-5",children:[m.jsx(pa,{value:"signin",forceMount:!0,children:m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signin-email",children:"Email"}),m.jsx(at,{id:"signin-email",type:"email",placeholder:"your@email.com",value:T.email,onChange:S=>E({...T,email:S.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signin-password",children:"Password"}),m.jsx(at,{id:"signin-password",type:"password",placeholder:"",value:T.password,onChange:S=>E({...T,password:S.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsx(Fe,{type:"submit",className:"w-full luxury-gradient",disabled:t,children:t?"Signing in...":"Sign In"})]})}),m.jsx(pa,{value:"signup",forceMount:!0,children:m.jsxs("form",{onSubmit:N,className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signup-name",children:"Full Name"}),m.jsx(at,{id:"signup-name",type:"text",placeholder:"John Doe",value:_.fullName,onChange:S=>b({..._,fullName:S.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signup-phone",children:"Phone"}),m.jsx(at,{id:"signup-phone",type:"tel",placeholder:"+95 9 XXX XXX XXX",value:_.phone,onChange:S=>b({..._,phone:S.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signup-email",children:"Email"}),m.jsx(at,{id:"signup-email",type:"email",placeholder:"your@email.com",value:_.email,onChange:S=>b({..._,email:S.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"signup-password",children:"Password"}),m.jsx(at,{id:"signup-password",type:"password",placeholder:"",value:_.password,onChange:S=>b({..._,password:S.target.value}),required:!0,className:"h-12 px-4"})]}),m.jsx(Fe,{type:"submit",className:"w-full luxury-gradient",disabled:t,children:t?"Creating account...":"Create Account"})]})})]})]})})]})]})})},oL=Xf("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function ko({className:t,variant:e,...r}){return m.jsx("div",{className:He(oL({variant:e}),t),...r})}const jx=()=>{const t=Uo(),e=r=>t.pathname===r;return m.jsx("nav",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border glass-effect z-50",children:m.jsxs("div",{className:"max-w-md mx-auto flex justify-around items-center h-16 px-4",children:[m.jsxs(w1,{to:"/home",className:`flex flex-col items-center justify-center flex-1 transition-colors ${e("/home")?"text-primary":"text-muted-foreground"}`,children:[m.jsx(CE,{className:"h-5 w-5 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Home"})]}),m.jsxs(w1,{to:"/orders",className:`flex flex-col items-center justify-center flex-1 transition-colors ${e("/orders")?"text-primary":"text-muted-foreground"}`,children:[m.jsx(vO,{className:"h-5 w-5 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Orders"})]}),m.jsxs(w1,{to:"/profile",className:`flex flex-col items-center justify-center flex-1 transition-colors ${e("/profile")?"text-primary":"text-muted-foreground"}`,children:[m.jsx(lo,{className:"h-5 w-5 mb-1"}),m.jsx("span",{className:"text-xs font-medium",children:"Profile"})]})]})})},aL=()=>{var T;const[t,e]=I.useState(""),[r,n]=I.useState([]),[s,o]=I.useState(!0),l=Tn(),{user:u,signOut:p}=ps(),h=((T=u==null?void 0:u.user_metadata)==null?void 0:T.full_name)||(u==null?void 0:u.email)||"Guest",x=()=>{const E=new Date().getHours();return E<12?"Good morning":E<18?"Good afternoon":"Good evening"},w=async()=>{await p(),l("/auth")};I.useEffect(()=>{_()},[]);const _=async()=>{try{const{data:E,error:N}=await Ce.from("restaurants").select("*").order("rating",{ascending:!1});if(N)throw N;n(E||[])}catch(E){console.error("Error fetching restaurants:",E),ye.error("Failed to load restaurants")}finally{o(!1)}},b=r.filter(E=>{var N;return E.name.toLowerCase().includes(t.toLowerCase())||(((N=E.cuisine_type)==null?void 0:N.toLowerCase())||"").includes(t.toLowerCase())});return m.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[m.jsx("div",{className:"sticky top-0 z-40 py-2 bg-background/60 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:m.jsxs("div",{className:"mx-auto max-w-md px-4",children:[m.jsx("div",{className:"luxury-gradient text-white rounded-xl shadow-md",children:m.jsxs("div",{className:"px-4 py-2 flex items-center justify-between",children:[m.jsx("img",{src:kx,alt:"ALAN Logo",className:"h-7 w-auto object-contain drop-shadow"}),m.jsx("button",{onClick:w,"aria-label":"Log out",className:"p-2 focus:outline-none active:scale-95 rounded-md hover:bg-white/10",children:m.jsx(qf,{className:"h-5 w-5 text-white"})})]})}),m.jsx("p",{className:"text-xs opacity-80 mt-2 text-center",children:"Discover Fine Dining with Ease and Comfort"})]})}),m.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-4",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("h2",{className:"text-xl font-semibold",children:[x(),", ",m.jsx("span",{className:"font-bold text-yellow-500",children:h})]}),m.jsxs("div",{className:"relative",children:[m.jsx(dd,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),m.jsx(at,{placeholder:"Search restaurants or cuisine...",value:t,onChange:E=>e(E.target.value),className:"pl-10"})]})]}),s?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ec,{className:"h-8 w-8 animate-spin text-primary"})}):b.length===0?m.jsx("div",{className:"text-center py-12 text-muted-foreground",children:"No restaurants found"}):b.map(E=>m.jsxs(Ge,{className:"overflow-hidden cursor-pointer transition-all hover:scale-[1.02] hover:shadow-lg",onClick:()=>l(`/restaurant/${E.id}`),children:[m.jsxs("div",{className:"relative h-48",children:[m.jsx("img",{src:E.image_url,alt:E.name,className:"w-full h-full object-cover"}),m.jsx("div",{className:"absolute top-3 right-3",children:m.jsxs(ko,{className:"bg-primary text-primary-foreground border-0",children:[m.jsx(IE,{className:"h-3 w-3 mr-1 fill-current"}),E.rating]})})]}),m.jsxs("div",{className:"p-4 space-y-2",children:[m.jsx("div",{className:"flex items-start justify-between",children:m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold text-lg text-foreground",children:E.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:E.description})]})}),m.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[m.jsx(ko,{variant:"secondary",className:"font-normal",children:E.cuisine_type}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(SE,{className:"h-3 w-3"}),E.distance]})]})]})]},E.id))]}),m.jsx(jx,{})]})},lL=()=>{const{id:t}=Ek(),e=Tn(),[r,n]=I.useState(null),[s,o]=I.useState([]),[l,u]=I.useState(!0),[p,h]=I.useState([]),[x,w]=I.useState("dine_in");I.useEffect(()=>{t&&_()},[t]);const _=async()=>{try{const[S,A]=await Promise.all([Ce.from("restaurants").select("*").eq("id",t).single(),Ce.from("menu_items").select("*").eq("restaurant_id",t).eq("available",!0)]);if(S.error)throw S.error;if(A.error)throw A.error;n(S.data),o(A.data||[])}catch(S){console.error("Error fetching data:",S),ye.error("Failed to load restaurant details")}finally{u(!1)}};if(l)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx(Ec,{className:"h-8 w-8 animate-spin text-primary"})});if(!r)return m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Restaurant not found"}),m.jsx(Fe,{onClick:()=>e("/home"),children:"Back to Home"})]})});const b=S=>{h(A=>A.find(k=>k.id===S.id)?A.map(k=>k.id===S.id?{...k,quantity:k.quantity+1}:k):[...A,{id:S.id,name:S.name,price:S.price,quantity:1}]),ye.success(`${S.name} added to cart`)},T=S=>{h(A=>{const M=A.find(k=>k.id===S);return M&&M.quantity>1?A.map(k=>k.id===S?{...k,quantity:k.quantity-1}:k):A.filter(k=>k.id!==S)})},E=p.reduce((S,A)=>S+A.price*A.quantity,0),N=p.reduce((S,A)=>S+A.quantity,0),R=()=>{if(p.length===0){ye.error("Please add items to your cart");return}e("/payment",{state:{cart:p,restaurant:r,orderType:x,totalAmount:E}})};return m.jsxs("div",{className:"min-h-screen bg-background pb-24",children:[m.jsxs("div",{className:"relative h-64",children:[m.jsx("img",{src:r.image_url,alt:r.name,className:"w-full h-full object-cover"}),m.jsx(Fe,{variant:"ghost",size:"icon",className:"absolute top-4 left-4 bg-black/50 text-white hover:bg-black/70",onClick:()=>e(-1),children:m.jsx(bc,{className:"h-5 w-5"})})]}),m.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:r.name}),m.jsx("p",{className:"text-muted-foreground",children:r.description})]}),m.jsxs(ko,{className:"bg-primary text-primary-foreground border-0",children:[m.jsx(IE,{className:"h-3 w-3 mr-1 fill-current"}),r.rating]})]}),m.jsxs("div",{className:"flex flex-wrap gap-3 text-sm text-muted-foreground",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(SE,{className:"h-4 w-4"}),r.distance]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(Fm,{className:"h-4 w-4"}),r.open_hours]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(TE,{className:"h-4 w-4"}),r.phone]})]})]}),m.jsxs(Ge,{className:"p-4",children:[m.jsx("h3",{className:"font-semibold mb-3",children:"Order Type"}),m.jsx(Dx,{value:x,onValueChange:S=>w(S),children:m.jsxs(f0,{className:"grid w-full grid-cols-2",children:[m.jsxs(Si,{value:"dine_in",children:[m.jsx(zm,{className:"h-4 w-4 mr-2"}),"Dine In"]}),m.jsxs(Si,{value:"takeaway",children:[m.jsx(sf,{className:"h-4 w-4 mr-2"}),"Takeaway"]})]})})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsx("h2",{className:"text-2xl font-bold",children:"Menu"}),s.map(S=>{const A=p.find(M=>M.id===S.id);return m.jsx(Ge,{className:"overflow-hidden",children:m.jsxs("div",{className:"flex gap-4 p-4",children:[m.jsx("img",{src:S.image_url,alt:S.name,className:"w-24 h-24 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:S.name}),m.jsx("p",{className:"text-sm text-muted-foreground",children:S.description})]}),m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("span",{className:"font-semibold text-primary",children:[S.price.toLocaleString()," MMK"]}),A?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(Fe,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>T(S.id),children:m.jsx(yO,{className:"h-4 w-4"})}),m.jsx("span",{className:"w-8 text-center font-medium",children:A.quantity}),m.jsx(Fe,{size:"icon",variant:"outline",className:"h-8 w-8",onClick:()=>b(S),children:m.jsx(ac,{className:"h-4 w-4"})})]}):m.jsxs(Fe,{size:"sm",variant:"outline",onClick:()=>b(S),children:[m.jsx(ac,{className:"h-4 w-4 mr-1"}),"Add"]})]})]})]})},S.id)})]})]}),p.length>0&&m.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-card border-t border-border p-4",children:m.jsxs("div",{className:"max-w-md mx-auto flex items-center justify-between gap-4",children:[m.jsxs("div",{children:[m.jsxs("div",{className:"text-sm text-muted-foreground",children:[N," items"]}),m.jsxs("div",{className:"text-lg font-bold",children:[E.toLocaleString()," MMK"]})]}),m.jsx(Fe,{onClick:R,className:"luxury-gradient",size:"lg",children:"Proceed to Payment"})]})})]})};function Lx(t){const e=I.useRef({value:t,previous:t});return I.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Bx="Radio",[cL,lT]=Fs(Bx),[uL,dL]=cL(Bx),cT=I.forwardRef((t,e)=>{const{__scopeRadio:r,name:n,checked:s=!1,required:o,disabled:l,value:u="on",onCheck:p,form:h,...x}=t,[w,_]=I.useState(null),b=xt(e,N=>_(N)),T=I.useRef(!1),E=w?h||!!w.closest("form"):!0;return m.jsxs(uL,{scope:r,checked:s,disabled:l,children:[m.jsx(We.button,{type:"button",role:"radio","aria-checked":s,"data-state":fT(s),"data-disabled":l?"":void 0,disabled:l,value:u,...x,ref:b,onClick:Pe(t.onClick,N=>{s||p==null||p(),E&&(T.current=N.isPropagationStopped(),T.current||N.stopPropagation())})}),E&&m.jsx(hT,{control:w,bubbles:!T.current,name:n,value:u,checked:s,required:o,disabled:l,form:h,style:{transform:"translateX(-100%)"}})]})});cT.displayName=Bx;var uT="RadioIndicator",dT=I.forwardRef((t,e)=>{const{__scopeRadio:r,forceMount:n,...s}=t,o=dL(uT,r);return m.jsx(Bo,{present:n||o.checked,children:m.jsx(We.span,{"data-state":fT(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:e})})});dT.displayName=uT;var hL="RadioBubbleInput",hT=I.forwardRef(({__scopeRadio:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const l=I.useRef(null),u=xt(l,o),p=Lx(r),h=Km(e);return I.useEffect(()=>{const x=l.current;if(!x)return;const w=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==r&&b){const T=new Event("click",{bubbles:n});b.call(x,r),x.dispatchEvent(T)}},[p,r,n]),m.jsx(We.input,{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});hT.displayName=hL;function fT(t){return t?"checked":"unchecked"}var fL=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],p0="RadioGroup",[pL,OB]=Fs(p0,[d0,lT]),pT=d0(),gT=lT(),[gL,mL]=pL(p0),mT=I.forwardRef((t,e)=>{const{__scopeRadioGroup:r,name:n,defaultValue:s,value:o,required:l=!1,disabled:u=!1,orientation:p,dir:h,loop:x=!0,onValueChange:w,..._}=t,b=pT(r),T=u0(h),[E,N]=No({prop:o,defaultProp:s??null,onChange:w,caller:p0});return m.jsx(gL,{scope:r,name:n,required:l,disabled:u,value:E,onValueChange:N,children:m.jsx(YA,{asChild:!0,...b,orientation:p,dir:T,loop:x,children:m.jsx(We.div,{role:"radiogroup","aria-required":l,"aria-orientation":p,"data-disabled":u?"":void 0,dir:T,..._,ref:e})})})});mT.displayName=p0;var xT="RadioGroupItem",yT=I.forwardRef((t,e)=>{const{__scopeRadioGroup:r,disabled:n,...s}=t,o=mL(xT,r),l=o.disabled||n,u=pT(r),p=gT(r),h=I.useRef(null),x=xt(e,h),w=o.value===s.value,_=I.useRef(!1);return I.useEffect(()=>{const b=E=>{fL.includes(E.key)&&(_.current=!0)},T=()=>_.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",T)}},[]),m.jsx(XA,{asChild:!0,...u,focusable:!l,active:w,children:m.jsx(cT,{disabled:l,required:o.required,checked:w,...p,...s,name:o.name,ref:x,onCheck:()=>o.onValueChange(s.value),onKeyDown:Pe(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Pe(s.onFocus,()=>{var b;_.current&&((b=h.current)==null||b.click())})})})});yT.displayName=xT;var xL="RadioGroupIndicator",wT=I.forwardRef((t,e)=>{const{__scopeRadioGroup:r,...n}=t,s=gT(r);return m.jsx(dT,{...s,...n,ref:e})});wT.displayName=xL;var vT=mT,_T=yT,yL=wT;const bT=I.forwardRef(({className:t,...e},r)=>m.jsx(vT,{className:He("grid gap-2",t),...e,ref:r}));bT.displayName=vT.displayName;const ET=I.forwardRef(({className:t,...e},r)=>m.jsx(_T,{ref:r,className:He("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:m.jsx(yL,{className:"flex items-center justify-center",children:m.jsx(pO,{className:"h-2.5 w-2.5 fill-current text-current"})})}));ET.displayName=_T.displayName;const wL=[{id:"mpu",name:"MPU Card",icon:gO},{id:"kbzpay",name:"KBZPay",icon:bO},{id:"wavepay",name:"WavePay",icon:EO}],vL=()=>{const t=Uo(),e=Tn(),{cart:r,restaurant:n,orderType:s,totalAmount:o}=t.state||{},[l,u]=I.useState("kbzpay"),[p,h]=I.useState(!1);if(!r||!n)return e("/home"),null;const x=async()=>{h(!0),await new Promise(w=>setTimeout(w,2e3));try{const{data:{user:w}}=await Ce.auth.getUser();if(!w){ye.error("Please sign in to complete your order"),e("/auth");return}const _=`ALAN-${Date.now()}-${n.id}-${w.id.substring(0,8)}`,{data:b,error:T}=await Ce.from("orders").insert([{customer_id:w.id,restaurant_id:n.id,order_type:s,payment_method:l,total_amount:o,status:"paid",qr_code:_,order_items:r}]).select().single();if(T){console.error("Order creation error:",T),ye.error("Failed to create order. Please try again."),h(!1);return}ye.success("Payment successful!"),e("/confirmation",{state:{order:b,restaurant:n,orderType:s}})}catch(w){console.error("Payment error:",w),ye.error("Failed to process payment. Please try again."),h(!1)}};return m.jsxs("div",{className:"min-h-screen bg-background",children:[m.jsx("div",{className:"bg-card border-b border-border px-6 py-4",children:m.jsxs("div",{className:"max-w-md mx-auto flex items-center gap-4",children:[m.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>e(-1),children:m.jsx(bc,{className:"h-5 w-5"})}),m.jsx("h1",{className:"text-2xl font-bold",children:"Payment"})]})}),m.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[m.jsxs(Ge,{className:"p-4 space-y-3",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Order Summary"}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Restaurant"}),m.jsx("span",{className:"font-medium",children:n.name})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),m.jsx("span",{className:"font-medium capitalize",children:s.replace("_"," ")})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Items"}),m.jsxs("span",{className:"font-medium",children:[r.length," item(s)"]})]}),m.jsxs("div",{className:"border-t pt-2 flex justify-between",children:[m.jsx("span",{className:"font-semibold",children:"Total Amount"}),m.jsxs("span",{className:"font-bold text-primary text-lg",children:[o.toLocaleString()," MMK"]})]})]})]}),m.jsxs(Ge,{className:"p-4 space-y-4",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Payment Method"}),m.jsx(bT,{value:l,onValueChange:w=>u(w),children:wL.map(w=>{const _=w.icon;return m.jsxs("div",{className:"flex items-center space-x-3 border rounded-lg p-4 cursor-pointer hover:bg-accent/50 transition-colors",onClick:()=>u(w.id),children:[m.jsx(ET,{value:w.id,id:w.id}),m.jsxs(Qe,{htmlFor:w.id,className:"flex items-center gap-3 cursor-pointer flex-1",children:[m.jsx(_,{className:"h-5 w-5 text-primary"}),m.jsx("span",{className:"font-medium",children:w.name})]})]},w.id)})})]}),m.jsxs(Ge,{className:"p-4 space-y-3",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Items"}),r.map(w=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:[w.name," x ",w.quantity]}),m.jsxs("span",{className:"font-medium",children:[(w.price*w.quantity).toLocaleString()," MMK"]})]},w.id))]}),m.jsx(Fe,{onClick:x,disabled:p,className:"w-full luxury-gradient h-12 text-base",size:"lg",children:p?m.jsxs(m.Fragment,{children:[m.jsx(Ec,{className:"mr-2 h-5 w-5 animate-spin"}),"Processing Payment..."]}):`Pay ${o.toLocaleString()} MMK`}),m.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"This is a mock payment. No actual transaction will occur."})]})]})};var _L=Object.defineProperty,Cf=Object.getOwnPropertySymbols,CT=Object.prototype.hasOwnProperty,ST=Object.prototype.propertyIsEnumerable,Kv=(t,e,r)=>e in t?_L(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Tg=(t,e)=>{for(var r in e||(e={}))CT.call(e,r)&&Kv(t,r,e[r]);if(Cf)for(var r of Cf(e))ST.call(e,r)&&Kv(t,r,e[r]);return t},Ng=(t,e)=>{var r={};for(var n in t)CT.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&Cf)for(var n of Cf(t))e.indexOf(n)<0&&ST.call(t,n)&&(r[n]=t[n]);return r};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Pa;(t=>{const e=class nt{constructor(p,h,x,w){if(this.version=p,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],p<nt.MIN_VERSION||p>nt.MAX_VERSION)throw new RangeError("Version value out of range");if(w<-1||w>7)throw new RangeError("Mask value out of range");this.size=p*4+17;let _=[];for(let T=0;T<this.size;T++)_.push(!1);for(let T=0;T<this.size;T++)this.modules.push(_.slice()),this.isFunction.push(_.slice());this.drawFunctionPatterns();const b=this.addEccAndInterleave(x);if(this.drawCodewords(b),w==-1){let T=1e9;for(let E=0;E<8;E++){this.applyMask(E),this.drawFormatBits(E);const N=this.getPenaltyScore();N<T&&(w=E,T=N),this.applyMask(E)}}s(0<=w&&w<=7),this.mask=w,this.applyMask(w),this.drawFormatBits(w),this.isFunction=[]}static encodeText(p,h){const x=t.QrSegment.makeSegments(p);return nt.encodeSegments(x,h)}static encodeBinary(p,h){const x=t.QrSegment.makeBytes(p);return nt.encodeSegments([x],h)}static encodeSegments(p,h,x=1,w=40,_=-1,b=!0){if(!(nt.MIN_VERSION<=x&&x<=w&&w<=nt.MAX_VERSION)||_<-1||_>7)throw new RangeError("Invalid value");let T,E;for(T=x;;T++){const A=nt.getNumDataCodewords(T,h)*8,M=l.getTotalBits(p,T);if(M<=A){E=M;break}if(T>=w)throw new RangeError("Data too long")}for(const A of[nt.Ecc.MEDIUM,nt.Ecc.QUARTILE,nt.Ecc.HIGH])b&&E<=nt.getNumDataCodewords(T,A)*8&&(h=A);let N=[];for(const A of p){r(A.mode.modeBits,4,N),r(A.numChars,A.mode.numCharCountBits(T),N);for(const M of A.getData())N.push(M)}s(N.length==E);const R=nt.getNumDataCodewords(T,h)*8;s(N.length<=R),r(0,Math.min(4,R-N.length),N),r(0,(8-N.length%8)%8,N),s(N.length%8==0);for(let A=236;N.length<R;A^=253)r(A,8,N);let S=[];for(;S.length*8<N.length;)S.push(0);return N.forEach((A,M)=>S[M>>>3]|=A<<7-(M&7)),new nt(T,h,S,_)}getModule(p,h){return 0<=p&&p<this.size&&0<=h&&h<this.size&&this.modules[h][p]}getModules(){return this.modules}drawFunctionPatterns(){for(let x=0;x<this.size;x++)this.setFunctionModule(6,x,x%2==0),this.setFunctionModule(x,6,x%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const p=this.getAlignmentPatternPositions(),h=p.length;for(let x=0;x<h;x++)for(let w=0;w<h;w++)x==0&&w==0||x==0&&w==h-1||x==h-1&&w==0||this.drawAlignmentPattern(p[x],p[w]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(p){const h=this.errorCorrectionLevel.formatBits<<3|p;let x=h;for(let _=0;_<10;_++)x=x<<1^(x>>>9)*1335;const w=(h<<10|x)^21522;s(w>>>15==0);for(let _=0;_<=5;_++)this.setFunctionModule(8,_,n(w,_));this.setFunctionModule(8,7,n(w,6)),this.setFunctionModule(8,8,n(w,7)),this.setFunctionModule(7,8,n(w,8));for(let _=9;_<15;_++)this.setFunctionModule(14-_,8,n(w,_));for(let _=0;_<8;_++)this.setFunctionModule(this.size-1-_,8,n(w,_));for(let _=8;_<15;_++)this.setFunctionModule(8,this.size-15+_,n(w,_));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let p=this.version;for(let x=0;x<12;x++)p=p<<1^(p>>>11)*7973;const h=this.version<<12|p;s(h>>>18==0);for(let x=0;x<18;x++){const w=n(h,x),_=this.size-11+x%3,b=Math.floor(x/3);this.setFunctionModule(_,b,w),this.setFunctionModule(b,_,w)}}drawFinderPattern(p,h){for(let x=-4;x<=4;x++)for(let w=-4;w<=4;w++){const _=Math.max(Math.abs(w),Math.abs(x)),b=p+w,T=h+x;0<=b&&b<this.size&&0<=T&&T<this.size&&this.setFunctionModule(b,T,_!=2&&_!=4)}}drawAlignmentPattern(p,h){for(let x=-2;x<=2;x++)for(let w=-2;w<=2;w++)this.setFunctionModule(p+w,h+x,Math.max(Math.abs(w),Math.abs(x))!=1)}setFunctionModule(p,h,x){this.modules[h][p]=x,this.isFunction[h][p]=!0}addEccAndInterleave(p){const h=this.version,x=this.errorCorrectionLevel;if(p.length!=nt.getNumDataCodewords(h,x))throw new RangeError("Invalid argument");const w=nt.NUM_ERROR_CORRECTION_BLOCKS[x.ordinal][h],_=nt.ECC_CODEWORDS_PER_BLOCK[x.ordinal][h],b=Math.floor(nt.getNumRawDataModules(h)/8),T=w-b%w,E=Math.floor(b/w);let N=[];const R=nt.reedSolomonComputeDivisor(_);for(let A=0,M=0;A<w;A++){let k=p.slice(M,M+E-_+(A<T?0:1));M+=k.length;const B=nt.reedSolomonComputeRemainder(k,R);A<T&&k.push(0),N.push(k.concat(B))}let S=[];for(let A=0;A<N[0].length;A++)N.forEach((M,k)=>{(A!=E-_||k>=T)&&S.push(M[A])});return s(S.length==b),S}drawCodewords(p){if(p.length!=Math.floor(nt.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let x=this.size-1;x>=1;x-=2){x==6&&(x=5);for(let w=0;w<this.size;w++)for(let _=0;_<2;_++){const b=x-_,E=(x+1&2)==0?this.size-1-w:w;!this.isFunction[E][b]&&h<p.length*8&&(this.modules[E][b]=n(p[h>>>3],7-(h&7)),h++)}}s(h==p.length*8)}applyMask(p){if(p<0||p>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let x=0;x<this.size;x++){let w;switch(p){case 0:w=(x+h)%2==0;break;case 1:w=h%2==0;break;case 2:w=x%3==0;break;case 3:w=(x+h)%3==0;break;case 4:w=(Math.floor(x/3)+Math.floor(h/2))%2==0;break;case 5:w=x*h%2+x*h%3==0;break;case 6:w=(x*h%2+x*h%3)%2==0;break;case 7:w=((x+h)%2+x*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][x]&&w&&(this.modules[h][x]=!this.modules[h][x])}}getPenaltyScore(){let p=0;for(let _=0;_<this.size;_++){let b=!1,T=0,E=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[_][N]==b?(T++,T==5?p+=nt.PENALTY_N1:T>5&&p++):(this.finderPenaltyAddHistory(T,E),b||(p+=this.finderPenaltyCountPatterns(E)*nt.PENALTY_N3),b=this.modules[_][N],T=1);p+=this.finderPenaltyTerminateAndCount(b,T,E)*nt.PENALTY_N3}for(let _=0;_<this.size;_++){let b=!1,T=0,E=[0,0,0,0,0,0,0];for(let N=0;N<this.size;N++)this.modules[N][_]==b?(T++,T==5?p+=nt.PENALTY_N1:T>5&&p++):(this.finderPenaltyAddHistory(T,E),b||(p+=this.finderPenaltyCountPatterns(E)*nt.PENALTY_N3),b=this.modules[N][_],T=1);p+=this.finderPenaltyTerminateAndCount(b,T,E)*nt.PENALTY_N3}for(let _=0;_<this.size-1;_++)for(let b=0;b<this.size-1;b++){const T=this.modules[_][b];T==this.modules[_][b+1]&&T==this.modules[_+1][b]&&T==this.modules[_+1][b+1]&&(p+=nt.PENALTY_N2)}let h=0;for(const _ of this.modules)h=_.reduce((b,T)=>b+(T?1:0),h);const x=this.size*this.size,w=Math.ceil(Math.abs(h*20-x*10)/x)-1;return s(0<=w&&w<=9),p+=w*nt.PENALTY_N4,s(0<=p&&p<=2568888),p}getAlignmentPatternPositions(){if(this.version==1)return[];{const p=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(p*2-2))*2;let x=[6];for(let w=this.size-7;x.length<p;w-=h)x.splice(1,0,w);return x}}static getNumRawDataModules(p){if(p<nt.MIN_VERSION||p>nt.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*p+128)*p+64;if(p>=2){const x=Math.floor(p/7)+2;h-=(25*x-10)*x-55,p>=7&&(h-=36)}return s(208<=h&&h<=29648),h}static getNumDataCodewords(p,h){return Math.floor(nt.getNumRawDataModules(p)/8)-nt.ECC_CODEWORDS_PER_BLOCK[h.ordinal][p]*nt.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][p]}static reedSolomonComputeDivisor(p){if(p<1||p>255)throw new RangeError("Degree out of range");let h=[];for(let w=0;w<p-1;w++)h.push(0);h.push(1);let x=1;for(let w=0;w<p;w++){for(let _=0;_<h.length;_++)h[_]=nt.reedSolomonMultiply(h[_],x),_+1<h.length&&(h[_]^=h[_+1]);x=nt.reedSolomonMultiply(x,2)}return h}static reedSolomonComputeRemainder(p,h){let x=h.map(w=>0);for(const w of p){const _=w^x.shift();x.push(0),h.forEach((b,T)=>x[T]^=nt.reedSolomonMultiply(b,_))}return x}static reedSolomonMultiply(p,h){if(p>>>8||h>>>8)throw new RangeError("Byte out of range");let x=0;for(let w=7;w>=0;w--)x=x<<1^(x>>>7)*285,x^=(h>>>w&1)*p;return s(x>>>8==0),x}finderPenaltyCountPatterns(p){const h=p[1];s(h<=this.size*3);const x=h>0&&p[2]==h&&p[3]==h*3&&p[4]==h&&p[5]==h;return(x&&p[0]>=h*4&&p[6]>=h?1:0)+(x&&p[6]>=h*4&&p[0]>=h?1:0)}finderPenaltyTerminateAndCount(p,h,x){return p&&(this.finderPenaltyAddHistory(h,x),h=0),h+=this.size,this.finderPenaltyAddHistory(h,x),this.finderPenaltyCountPatterns(x)}finderPenaltyAddHistory(p,h){h[0]==0&&(p+=this.size),h.pop(),h.unshift(p)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],t.QrCode=e;function r(u,p,h){if(p<0||p>31||u>>>p)throw new RangeError("Value out of range");for(let x=p-1;x>=0;x--)h.push(u>>>x&1)}function n(u,p){return(u>>>p&1)!=0}function s(u){if(!u)throw new Error("Assertion error")}const o=class rr{constructor(p,h,x){if(this.mode=p,this.numChars=h,this.bitData=x,h<0)throw new RangeError("Invalid argument");this.bitData=x.slice()}static makeBytes(p){let h=[];for(const x of p)r(x,8,h);return new rr(rr.Mode.BYTE,p.length,h)}static makeNumeric(p){if(!rr.isNumeric(p))throw new RangeError("String contains non-numeric characters");let h=[];for(let x=0;x<p.length;){const w=Math.min(p.length-x,3);r(parseInt(p.substring(x,x+w),10),w*3+1,h),x+=w}return new rr(rr.Mode.NUMERIC,p.length,h)}static makeAlphanumeric(p){if(!rr.isAlphanumeric(p))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],x;for(x=0;x+2<=p.length;x+=2){let w=rr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x))*45;w+=rr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x+1)),r(w,11,h)}return x<p.length&&r(rr.ALPHANUMERIC_CHARSET.indexOf(p.charAt(x)),6,h),new rr(rr.Mode.ALPHANUMERIC,p.length,h)}static makeSegments(p){return p==""?[]:rr.isNumeric(p)?[rr.makeNumeric(p)]:rr.isAlphanumeric(p)?[rr.makeAlphanumeric(p)]:[rr.makeBytes(rr.toUtf8ByteArray(p))]}static makeEci(p){let h=[];if(p<0)throw new RangeError("ECI assignment value out of range");if(p<128)r(p,8,h);else if(p<16384)r(2,2,h),r(p,14,h);else if(p<1e6)r(6,3,h),r(p,21,h);else throw new RangeError("ECI assignment value out of range");return new rr(rr.Mode.ECI,0,h)}static isNumeric(p){return rr.NUMERIC_REGEX.test(p)}static isAlphanumeric(p){return rr.ALPHANUMERIC_REGEX.test(p)}getData(){return this.bitData.slice()}static getTotalBits(p,h){let x=0;for(const w of p){const _=w.mode.numCharCountBits(h);if(w.numChars>=1<<_)return 1/0;x+=4+_+w.bitData.length}return x}static toUtf8ByteArray(p){p=encodeURI(p);let h=[];for(let x=0;x<p.length;x++)p.charAt(x)!="%"?h.push(p.charCodeAt(x)):(h.push(parseInt(p.substring(x+1,x+3),16)),x+=2);return h}};o.NUMERIC_REGEX=/^[0-9]*$/,o.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,o.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=o;t.QrSegment=o})(Pa||(Pa={}));(t=>{(e=>{const r=class{constructor(s,o){this.ordinal=s,this.formatBits=o}};r.LOW=new r(0,1),r.MEDIUM=new r(1,0),r.QUARTILE=new r(2,3),r.HIGH=new r(3,2),e.Ecc=r})(t.QrCode||(t.QrCode={}))})(Pa||(Pa={}));(t=>{(e=>{const r=class{constructor(s,o){this.modeBits=s,this.numBitsCharCount=o}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};r.NUMERIC=new r(1,[10,12,14]),r.ALPHANUMERIC=new r(2,[9,11,13]),r.BYTE=new r(4,[8,16,16]),r.KANJI=new r(8,[8,10,12]),r.ECI=new r(7,[0,0,0]),e.Mode=r})(t.QrSegment||(t.QrSegment={}))})(Pa||(Pa={}));var Rl=Pa;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var bL={L:Rl.QrCode.Ecc.LOW,M:Rl.QrCode.Ecc.MEDIUM,Q:Rl.QrCode.Ecc.QUARTILE,H:Rl.QrCode.Ecc.HIGH},AT=128,TT="L",NT="#FFFFFF",IT="#000000",RT=!1,OT=1,EL=4,CL=0,SL=.1;function MT(t,e=0){const r=[];return t.forEach(function(n,s){let o=null;n.forEach(function(l,u){if(!l&&o!==null){r.push(`M${o+e} ${s+e}h${u-o}v1H${o+e}z`),o=null;return}if(u===n.length-1){if(!l)return;o===null?r.push(`M${u+e},${s+e} h1v1H${u+e}z`):r.push(`M${o+e},${s+e} h${u+1-o}v1H${o+e}z`);return}l&&o===null&&(o=u)})}),r.join("")}function kT(t,e){return t.slice().map((r,n)=>n<e.y||n>=e.y+e.h?r:r.map((s,o)=>o<e.x||o>=e.x+e.w?s:!1))}function AL(t,e,r,n){if(n==null)return null;const s=t.length+r*2,o=Math.floor(e*SL),l=s/e,u=(n.width||o)*l,p=(n.height||o)*l,h=n.x==null?t.length/2-u/2:n.x*l,x=n.y==null?t.length/2-p/2:n.y*l,w=n.opacity==null?1:n.opacity;let _=null;if(n.excavate){let T=Math.floor(h),E=Math.floor(x),N=Math.ceil(u+h-T),R=Math.ceil(p+x-E);_={x:T,y:E,w:N,h:R}}const b=n.crossOrigin;return{x:h,y:x,h:p,w:u,excavation:_,opacity:w,crossOrigin:b}}function TL(t,e){return e!=null?Math.max(Math.floor(e),0):t?EL:CL}function PT({value:t,level:e,minVersion:r,includeMargin:n,marginSize:s,imageSettings:o,size:l,boostLevel:u}){let p=ue.useMemo(()=>{const T=(Array.isArray(t)?t:[t]).reduce((E,N)=>(E.push(...Rl.QrSegment.makeSegments(N)),E),[]);return Rl.QrCode.encodeSegments(T,bL[e],r,void 0,void 0,u)},[t,e,r,u]);const{cells:h,margin:x,numCells:w,calculatedImageSettings:_}=ue.useMemo(()=>{let b=p.getModules();const T=TL(n,s),E=b.length+T*2,N=AL(b,l,T,o);return{cells:b,margin:T,numCells:E,calculatedImageSettings:N}},[p,l,o,n,s]);return{qrcode:p,margin:x,cells:h,numCells:w,calculatedImageSettings:_}}var NL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),IL=ue.forwardRef(function(e,r){const n=e,{value:s,size:o=AT,level:l=TT,bgColor:u=NT,fgColor:p=IT,includeMargin:h=RT,minVersion:x=OT,boostLevel:w,marginSize:_,imageSettings:b}=n,E=Ng(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:N}=E,R=Ng(E,["style"]),S=b==null?void 0:b.src,A=ue.useRef(null),M=ue.useRef(null),k=ue.useCallback(G=>{A.current=G,typeof r=="function"?r(G):r&&(r.current=G)},[r]),[B,L]=ue.useState(!1),{margin:V,cells:U,numCells:J,calculatedImageSettings:ne}=PT({value:s,level:l,minVersion:x,boostLevel:w,includeMargin:h,marginSize:_,imageSettings:b,size:o});ue.useEffect(()=>{if(A.current!=null){const G=A.current,H=G.getContext("2d");if(!H)return;let re=U;const X=M.current,Y=ne!=null&&X!==null&&X.complete&&X.naturalHeight!==0&&X.naturalWidth!==0;Y&&ne.excavation!=null&&(re=kT(U,ne.excavation));const Z=window.devicePixelRatio||1;G.height=G.width=o*Z;const oe=o/J*Z;H.scale(oe,oe),H.fillStyle=u,H.fillRect(0,0,J,J),H.fillStyle=p,NL?H.fill(new Path2D(MT(re,V))):U.forEach(function(Ee,de){Ee.forEach(function(ae,fe){ae&&H.fillRect(fe+V,de+V,1,1)})}),ne&&(H.globalAlpha=ne.opacity),Y&&H.drawImage(X,ne.x+V,ne.y+V,ne.w,ne.h)}}),ue.useEffect(()=>{L(!1)},[S]);const K=Tg({height:o,width:o},N);let se=null;return S!=null&&(se=ue.createElement("img",{src:S,key:S,style:{display:"none"},onLoad:()=>{L(!0)},ref:M,crossOrigin:ne==null?void 0:ne.crossOrigin})),ue.createElement(ue.Fragment,null,ue.createElement("canvas",Tg({style:K,height:o,width:o,ref:k,role:"img"},R)),se)});IL.displayName="QRCodeCanvas";var Fx=ue.forwardRef(function(e,r){const n=e,{value:s,size:o=AT,level:l=TT,bgColor:u=NT,fgColor:p=IT,includeMargin:h=RT,minVersion:x=OT,boostLevel:w,title:_,marginSize:b,imageSettings:T}=n,E=Ng(n,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:N,cells:R,numCells:S,calculatedImageSettings:A}=PT({value:s,level:l,minVersion:x,boostLevel:w,includeMargin:h,marginSize:b,imageSettings:T,size:o});let M=R,k=null;T!=null&&A!=null&&(A.excavation!=null&&(M=kT(R,A.excavation)),k=ue.createElement("image",{href:T.src,height:A.h,width:A.w,x:A.x+N,y:A.y+N,preserveAspectRatio:"none",opacity:A.opacity,crossOrigin:A.crossOrigin}));const B=MT(M,N);return ue.createElement("svg",Tg({height:o,width:o,viewBox:`0 0 ${S} ${S}`,ref:r,role:"img"},E),!!_&&ue.createElement("title",null,_),ue.createElement("path",{fill:u,d:`M0,0 h${S}v${S}H0z`,shapeRendering:"crispEdges"}),ue.createElement("path",{fill:p,d:B,shapeRendering:"crispEdges"}),k)});Fx.displayName="QRCodeSVG";const RL=()=>{const t=Uo(),e=Tn(),{order:r,restaurant:n,orderType:s}=t.state||{};return!r||!n?(e("/home"),null):m.jsx("div",{className:"min-h-screen bg-gradient-to-b from-background to-secondary/20 flex flex-col items-center justify-center p-6",children:m.jsxs("div",{className:"max-w-md w-full space-y-6",children:[m.jsxs("div",{className:"flex flex-col items-center space-y-3",children:[m.jsx("div",{className:"w-20 h-20 rounded-full luxury-gradient flex items-center justify-center",children:m.jsx(EE,{className:"w-12 h-12 text-white"})}),m.jsx("h1",{className:"text-3xl font-bold text-center",children:"Payment Successful!"}),m.jsx("p",{className:"text-muted-foreground text-center",children:s==="dine_in"?"Your table is ready":"Your order is confirmed"})]}),m.jsxs(Ge,{className:"p-6 space-y-4 luxury-shadow",children:[m.jsxs("div",{className:"text-center space-y-2",children:[m.jsx("h2",{className:"font-semibold text-lg",children:"Your QR Code"}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:["Show this code at ",n.name," to confirm your booking"]})]}),m.jsx("div",{className:"flex justify-center p-6 bg-white rounded-lg",children:m.jsx(Fx,{value:r.qr_code,size:200,level:"H",includeMargin:!0})}),m.jsxs("div",{className:"space-y-2 pt-4 border-t",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Order ID"}),m.jsx("span",{className:"font-medium",children:r.id.slice(0,8)})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Restaurant"}),m.jsx("span",{className:"font-medium",children:n.name})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Type"}),m.jsx("span",{className:"font-medium capitalize",children:s.replace("_"," ")})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Amount"}),m.jsxs("span",{className:"font-bold text-primary",children:[r.total_amount.toLocaleString()," MMK"]})]})]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsx(Fe,{onClick:()=>e("/orders"),className:"w-full luxury-gradient",size:"lg",children:"View My Orders"}),m.jsxs(Fe,{onClick:()=>e("/home"),variant:"outline",className:"w-full",size:"lg",children:[m.jsx(CE,{className:"mr-2 h-5 w-5"}),"Back to Home"]})]}),m.jsx("p",{className:"text-center text-sm text-muted-foreground",children:"A confirmation has been sent to your registered email"})]})})};var B1="focusScope.autoFocusOnMount",F1="focusScope.autoFocusOnUnmount",Qv={bubbles:!1,cancelable:!0},OL="FocusScope",Ux=I.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...l}=t,[u,p]=I.useState(null),h=fs(s),x=fs(o),w=I.useRef(null),_=xt(e,E=>p(E)),b=I.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;I.useEffect(()=>{if(n){let E=function(A){if(b.paused||!u)return;const M=A.target;u.contains(M)?w.current=M:qi(w.current,{select:!0})},N=function(A){if(b.paused||!u)return;const M=A.relatedTarget;M!==null&&(u.contains(M)||qi(w.current,{select:!0}))},R=function(A){if(document.activeElement===document.body)for(const k of A)k.removedNodes.length>0&&qi(u)};document.addEventListener("focusin",E),document.addEventListener("focusout",N);const S=new MutationObserver(R);return u&&S.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",N),S.disconnect()}}},[n,u,b.paused]),I.useEffect(()=>{if(u){Jv.add(b);const E=document.activeElement;if(!u.contains(E)){const R=new CustomEvent(B1,Qv);u.addEventListener(B1,h),u.dispatchEvent(R),R.defaultPrevented||(ML(LL(DT(u)),{select:!0}),document.activeElement===E&&qi(u))}return()=>{u.removeEventListener(B1,h),setTimeout(()=>{const R=new CustomEvent(F1,Qv);u.addEventListener(F1,x),u.dispatchEvent(R),R.defaultPrevented||qi(E??document.body,{select:!0}),u.removeEventListener(F1,x),Jv.remove(b)},0)}}},[u,h,x,b]);const T=I.useCallback(E=>{if(!r&&!n||b.paused)return;const N=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,R=document.activeElement;if(N&&R){const S=E.currentTarget,[A,M]=kL(S);A&&M?!E.shiftKey&&R===M?(E.preventDefault(),r&&qi(A,{select:!0})):E.shiftKey&&R===A&&(E.preventDefault(),r&&qi(M,{select:!0})):R===S&&E.preventDefault()}},[r,n,b.paused]);return m.jsx(We.div,{tabIndex:-1,...l,ref:_,onKeyDown:T})});Ux.displayName=OL;function ML(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(qi(n,{select:e}),document.activeElement!==r)return}function kL(t){const e=DT(t),r=Zv(e,t),n=Zv(e.reverse(),t);return[r,n]}function DT(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const s=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||s?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function Zv(t,e){for(const r of t)if(!PL(r,{upTo:e}))return r}function PL(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function DL(t){return t instanceof HTMLInputElement&&"select"in t}function qi(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&DL(t)&&e&&t.select()}}var Jv=jL();function jL(){let t=[];return{add(e){const r=t[0];e!==r&&(r==null||r.pause()),t=e2(t,e),t.unshift(e)},remove(e){var r;t=e2(t,e),(r=t[0])==null||r.resume()}}}function e2(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function LL(t){return t.filter(e=>e.tagName!=="A")}var U1=0;function jT(){I.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??t2()),document.body.insertAdjacentElement("beforeend",t[1]??t2()),U1++,()=>{U1===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),U1--}},[])}function t2(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Oh="right-scroll-bar-position",Mh="width-before-scroll-bar",BL="with-scroll-bars-hidden",FL="--removed-body-scroll-bar-size";function z1(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function UL(t,e){var r=I.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var s=r.value;s!==n&&(r.value=n,r.callback(n,s))}}}})[0];return r.callback=e,r.facade}var zL=typeof window<"u"?I.useLayoutEffect:I.useEffect,r2=new WeakMap;function VL(t,e){var r=UL(null,function(n){return t.forEach(function(s){return z1(s,n)})});return zL(function(){var n=r2.get(r);if(n){var s=new Set(n),o=new Set(t),l=r.current;s.forEach(function(u){o.has(u)||z1(u,null)}),o.forEach(function(u){s.has(u)||z1(u,l)})}r2.set(r,t)},[t]),r}function HL(t){return t}function WL(t,e){e===void 0&&(e=HL);var r=[],n=!1,s={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(o){var l=e(o,n);return r.push(l),function(){r=r.filter(function(u){return u!==l})}},assignSyncMedium:function(o){for(n=!0;r.length;){var l=r;r=[],l.forEach(o)}r={push:function(u){return o(u)},filter:function(){return r}}},assignMedium:function(o){n=!0;var l=[];if(r.length){var u=r;r=[],u.forEach(o),l=r}var p=function(){var x=l;l=[],x.forEach(o)},h=function(){return Promise.resolve().then(p)};h(),r={push:function(x){l.push(x),h()},filter:function(x){return l=l.filter(x),r}}}};return s}function $L(t){t===void 0&&(t={});var e=WL(null);return e.options=ns({async:!0,ssr:!1},t),e}var LT=function(t){var e=t.sideCar,r=zo(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return I.createElement(n,ns({},r))};LT.isSideCarExport=!0;function GL(t,e){return t.useMedium(e),LT}var BT=$L(),V1=function(){},g0=I.forwardRef(function(t,e){var r=I.useRef(null),n=I.useState({onScrollCapture:V1,onWheelCapture:V1,onTouchMoveCapture:V1}),s=n[0],o=n[1],l=t.forwardProps,u=t.children,p=t.className,h=t.removeScrollBar,x=t.enabled,w=t.shards,_=t.sideCar,b=t.noRelative,T=t.noIsolation,E=t.inert,N=t.allowPinchZoom,R=t.as,S=R===void 0?"div":R,A=t.gapMode,M=zo(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=_,B=VL([r,e]),L=ns(ns({},M),s);return I.createElement(I.Fragment,null,x&&I.createElement(k,{sideCar:BT,removeScrollBar:h,shards:w,noRelative:b,noIsolation:T,inert:E,setCallbacks:o,allowPinchZoom:!!N,lockRef:r,gapMode:A}),l?I.cloneElement(I.Children.only(u),ns(ns({},L),{ref:B})):I.createElement(S,ns({},L,{className:p,ref:B}),u))});g0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};g0.classNames={fullWidth:Mh,zeroRight:Oh};var YL=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function XL(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=YL();return e&&t.setAttribute("nonce",e),t}function qL(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function KL(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var QL=function(){var t=0,e=null;return{add:function(r){t==0&&(e=XL())&&(qL(e,r),KL(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},ZL=function(){var t=QL();return function(e,r){I.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},FT=function(){var t=ZL(),e=function(r){var n=r.styles,s=r.dynamic;return t(n,s),null};return e},JL={left:0,top:0,right:0,gap:0},H1=function(t){return parseInt(t||"",10)||0},e7=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[H1(r),H1(n),H1(s)]},t7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return JL;var e=e7(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},r7=FT(),Wl="data-scroll-locked",n7=function(t,e,r,n){var s=t.left,o=t.top,l=t.right,u=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(BL,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(u,"px ").concat(n,`;
  }
  body[`).concat(Wl,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(u,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Oh,` {
    right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Mh,` {
    margin-right: `).concat(u,"px ").concat(n,`;
  }
  
  .`).concat(Oh," .").concat(Oh,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Mh," .").concat(Mh,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wl,`] {
    `).concat(FL,": ").concat(u,`px;
  }
`)},n2=function(){var t=parseInt(document.body.getAttribute(Wl)||"0",10);return isFinite(t)?t:0},s7=function(){I.useEffect(function(){return document.body.setAttribute(Wl,(n2()+1).toString()),function(){var t=n2()-1;t<=0?document.body.removeAttribute(Wl):document.body.setAttribute(Wl,t.toString())}},[])},i7=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,s=n===void 0?"margin":n;s7();var o=I.useMemo(function(){return t7(s)},[s]);return I.createElement(r7,{styles:n7(o,!e,s,r?"":"!important")})},Ig=!1;if(typeof window<"u")try{var ch=Object.defineProperty({},"passive",{get:function(){return Ig=!0,!0}});window.addEventListener("test",ch,ch),window.removeEventListener("test",ch,ch)}catch{Ig=!1}var dl=Ig?{passive:!1}:!1,o7=function(t){return t.tagName==="TEXTAREA"},UT=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!o7(t)&&r[e]==="visible")},a7=function(t){return UT(t,"overflowY")},l7=function(t){return UT(t,"overflowX")},s2=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var s=zT(t,n);if(s){var o=VT(t,n),l=o[1],u=o[2];if(l>u)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},c7=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},u7=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},zT=function(t,e){return t==="v"?a7(e):l7(e)},VT=function(t,e){return t==="v"?c7(e):u7(e)},d7=function(t,e){return t==="h"&&e==="rtl"?-1:1},h7=function(t,e,r,n,s){var o=d7(t,window.getComputedStyle(e).direction),l=o*n,u=r.target,p=e.contains(u),h=!1,x=l>0,w=0,_=0;do{if(!u)break;var b=VT(t,u),T=b[0],E=b[1],N=b[2],R=E-N-o*T;(T||R)&&zT(t,u)&&(w+=R,_+=T);var S=u.parentNode;u=S&&S.nodeType===Node.DOCUMENT_FRAGMENT_NODE?S.host:S}while(!p&&u!==document.body||p&&(e.contains(u)||e===u));return(x&&(Math.abs(w)<1||!s)||!x&&(Math.abs(_)<1||!s))&&(h=!0),h},uh=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},i2=function(t){return[t.deltaX,t.deltaY]},o2=function(t){return t&&"current"in t?t.current:t},f7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},p7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},g7=0,hl=[];function m7(t){var e=I.useRef([]),r=I.useRef([0,0]),n=I.useRef(),s=I.useState(g7++)[0],o=I.useState(FT)[0],l=I.useRef(t);I.useEffect(function(){l.current=t},[t]),I.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var E=ox([t.lockRef.current],(t.shards||[]).map(o2),!0).filter(Boolean);return E.forEach(function(N){return N.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),E.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var u=I.useCallback(function(E,N){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!l.current.allowPinchZoom;var R=uh(E),S=r.current,A="deltaX"in E?E.deltaX:S[0]-R[0],M="deltaY"in E?E.deltaY:S[1]-R[1],k,B=E.target,L=Math.abs(A)>Math.abs(M)?"h":"v";if("touches"in E&&L==="h"&&B.type==="range")return!1;var V=s2(L,B);if(!V)return!0;if(V?k=L:(k=L==="v"?"h":"v",V=s2(L,B)),!V)return!1;if(!n.current&&"changedTouches"in E&&(A||M)&&(n.current=k),!k)return!0;var U=n.current||k;return h7(U,N,E,U==="h"?A:M,!0)},[]),p=I.useCallback(function(E){var N=E;if(!(!hl.length||hl[hl.length-1]!==o)){var R="deltaY"in N?i2(N):uh(N),S=e.current.filter(function(k){return k.name===N.type&&(k.target===N.target||N.target===k.shadowParent)&&f7(k.delta,R)})[0];if(S&&S.should){N.cancelable&&N.preventDefault();return}if(!S){var A=(l.current.shards||[]).map(o2).filter(Boolean).filter(function(k){return k.contains(N.target)}),M=A.length>0?u(N,A[0]):!l.current.noIsolation;M&&N.cancelable&&N.preventDefault()}}},[]),h=I.useCallback(function(E,N,R,S){var A={name:E,delta:N,target:R,should:S,shadowParent:x7(R)};e.current.push(A),setTimeout(function(){e.current=e.current.filter(function(M){return M!==A})},1)},[]),x=I.useCallback(function(E){r.current=uh(E),n.current=void 0},[]),w=I.useCallback(function(E){h(E.type,i2(E),E.target,u(E,t.lockRef.current))},[]),_=I.useCallback(function(E){h(E.type,uh(E),E.target,u(E,t.lockRef.current))},[]);I.useEffect(function(){return hl.push(o),t.setCallbacks({onScrollCapture:w,onWheelCapture:w,onTouchMoveCapture:_}),document.addEventListener("wheel",p,dl),document.addEventListener("touchmove",p,dl),document.addEventListener("touchstart",x,dl),function(){hl=hl.filter(function(E){return E!==o}),document.removeEventListener("wheel",p,dl),document.removeEventListener("touchmove",p,dl),document.removeEventListener("touchstart",x,dl)}},[]);var b=t.removeScrollBar,T=t.inert;return I.createElement(I.Fragment,null,T?I.createElement(o,{styles:p7(s)}):null,b?I.createElement(i7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function x7(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const y7=GL(BT,m7);var zx=I.forwardRef(function(t,e){return I.createElement(g0,ns({},t,{ref:e,sideCar:y7}))});zx.classNames=g0.classNames;var w7=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},fl=new WeakMap,dh=new WeakMap,hh={},W1=0,HT=function(t){return t&&(t.host||HT(t.parentNode))},v7=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=HT(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},_7=function(t,e,r,n){var s=v7(e,Array.isArray(t)?t:[t]);hh[r]||(hh[r]=new WeakMap);var o=hh[r],l=[],u=new Set,p=new Set(s),h=function(w){!w||u.has(w)||(u.add(w),h(w.parentNode))};s.forEach(h);var x=function(w){!w||p.has(w)||Array.prototype.forEach.call(w.children,function(_){if(u.has(_))x(_);else try{var b=_.getAttribute(n),T=b!==null&&b!=="false",E=(fl.get(_)||0)+1,N=(o.get(_)||0)+1;fl.set(_,E),o.set(_,N),l.push(_),E===1&&T&&dh.set(_,!0),N===1&&_.setAttribute(r,"true"),T||_.setAttribute(n,"true")}catch(R){console.error("aria-hidden: cannot operate on ",_,R)}})};return x(e),u.clear(),W1++,function(){l.forEach(function(w){var _=fl.get(w)-1,b=o.get(w)-1;fl.set(w,_),o.set(w,b),_||(dh.has(w)||w.removeAttribute(n),dh.delete(w)),b||w.removeAttribute(r)}),W1--,W1||(fl=new WeakMap,fl=new WeakMap,dh=new WeakMap,hh={})}},WT=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),s=w7(t);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live]"))),_7(n,s,r,"aria-hidden")):function(){return null}},m0="Dialog",[$T,PB]=Fs(m0),[b7,Us]=$T(m0),GT=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:s,onOpenChange:o,modal:l=!0}=t,u=I.useRef(null),p=I.useRef(null),[h,x]=No({prop:n,defaultProp:s??!1,onChange:o,caller:m0});return m.jsx(b7,{scope:e,triggerRef:u,contentRef:p,contentId:bo(),titleId:bo(),descriptionId:bo(),open:h,onOpenChange:x,onOpenToggle:I.useCallback(()=>x(w=>!w),[x]),modal:l,children:r})};GT.displayName=m0;var YT="DialogTrigger",XT=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Us(YT,r),o=xt(e,s.triggerRef);return m.jsx(We.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Wx(s.open),...n,ref:o,onClick:Pe(t.onClick,s.onOpenToggle)})});XT.displayName=YT;var Vx="DialogPortal",[E7,qT]=$T(Vx,{forceMount:void 0}),KT=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:s}=t,o=Us(Vx,e);return m.jsx(E7,{scope:e,forceMount:r,children:I.Children.map(n,l=>m.jsx(Bo,{present:r||o.open,children:m.jsx($f,{asChild:!0,container:s,children:l})}))})};KT.displayName=Vx;var Sf="DialogOverlay",QT=I.forwardRef((t,e)=>{const r=qT(Sf,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Us(Sf,t.__scopeDialog);return o.modal?m.jsx(Bo,{present:n||o.open,children:m.jsx(S7,{...s,ref:e})}):null});QT.displayName=Sf;var C7=oc("DialogOverlay.RemoveScroll"),S7=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Us(Sf,r);return m.jsx(zx,{as:C7,allowPinchZoom:!0,shards:[s.contentRef],children:m.jsx(We.div,{"data-state":Wx(s.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Da="DialogContent",ZT=I.forwardRef((t,e)=>{const r=qT(Da,t.__scopeDialog),{forceMount:n=r.forceMount,...s}=t,o=Us(Da,t.__scopeDialog);return m.jsx(Bo,{present:n||o.open,children:o.modal?m.jsx(A7,{...s,ref:e}):m.jsx(T7,{...s,ref:e})})});ZT.displayName=Da;var A7=I.forwardRef((t,e)=>{const r=Us(Da,t.__scopeDialog),n=I.useRef(null),s=xt(e,r.contentRef,n);return I.useEffect(()=>{const o=n.current;if(o)return WT(o)},[]),m.jsx(JT,{...t,ref:s,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Pe(t.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=r.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Pe(t.onPointerDownOutside,o=>{const l=o.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0;(l.button===2||u)&&o.preventDefault()}),onFocusOutside:Pe(t.onFocusOutside,o=>o.preventDefault())})}),T7=I.forwardRef((t,e)=>{const r=Us(Da,t.__scopeDialog),n=I.useRef(!1),s=I.useRef(!1);return m.jsx(JT,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,u;(l=t.onCloseAutoFocus)==null||l.call(t,o),o.defaultPrevented||(n.current||(u=r.triggerRef.current)==null||u.focus(),o.preventDefault()),n.current=!1,s.current=!1},onInteractOutside:o=>{var p,h;(p=t.onInteractOutside)==null||p.call(t,o),o.defaultPrevented||(n.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=o.target;((h=r.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),JT=I.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:s,onCloseAutoFocus:o,...l}=t,u=Us(Da,r),p=I.useRef(null),h=xt(e,p);return jT(),m.jsxs(m.Fragment,{children:[m.jsx(Ux,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:s,onUnmountAutoFocus:o,children:m.jsx(cd,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Wx(u.open),...l,ref:h,onDismiss:()=>u.onOpenChange(!1)})}),m.jsxs(m.Fragment,{children:[m.jsx(N7,{titleId:u.titleId}),m.jsx(R7,{contentRef:p,descriptionId:u.descriptionId})]})]})}),Hx="DialogTitle",e3=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Us(Hx,r);return m.jsx(We.h2,{id:s.titleId,...n,ref:e})});e3.displayName=Hx;var t3="DialogDescription",r3=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Us(t3,r);return m.jsx(We.p,{id:s.descriptionId,...n,ref:e})});r3.displayName=t3;var n3="DialogClose",s3=I.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,s=Us(n3,r);return m.jsx(We.button,{type:"button",...n,ref:e,onClick:Pe(t.onClick,()=>s.onOpenChange(!1))})});s3.displayName=n3;function Wx(t){return t?"open":"closed"}var i3="DialogTitleWarning",[DB,o3]=mR(i3,{contentName:Da,titleName:Hx,docsSlug:"dialog"}),N7=({titleId:t})=>{const e=o3(i3),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return I.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},I7="DialogDescriptionWarning",R7=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${o3(I7).contentName}}.`;return I.useEffect(()=>{var o;const s=(o=t.current)==null?void 0:o.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},O7=GT,M7=XT,k7=KT,a3=QT,l3=ZT,c3=e3,u3=r3,P7=s3;const yc=O7,d3=M7,D7=k7,h3=I.forwardRef(({className:t,...e},r)=>m.jsx(a3,{ref:r,className:He("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));h3.displayName=a3.displayName;const ja=I.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(D7,{children:[m.jsx(h3,{}),m.jsxs(l3,{ref:n,className:He("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,m.jsxs(P7,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[m.jsx(RE,{className:"h-4 w-4"}),m.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ja.displayName=l3.displayName;const La=({className:t,...e})=>m.jsx("div",{className:He("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});La.displayName="DialogHeader";const Rg=({className:t,...e})=>m.jsx("div",{className:He("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Rg.displayName="DialogFooter";const Ba=I.forwardRef(({className:t,...e},r)=>m.jsx(c3,{ref:r,className:He("text-lg font-semibold leading-none tracking-tight",t),...e}));Ba.displayName=c3.displayName;const j7=I.forwardRef(({className:t,...e},r)=>m.jsx(u3,{ref:r,className:He("text-sm text-muted-foreground",t),...e}));j7.displayName=u3.displayName;const a2={paid:"bg-blue-500",preparing:"bg-yellow-500",ready:"bg-green-500",served:"bg-purple-500",completed:"bg-gray-500",cancelled:"bg-red-500"},L7=()=>{var u,p,h;const[t,e]=I.useState([]),[r,n]=I.useState(null),[s,o]=I.useState(!0);I.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:{user:x}}=await Ce.auth.getUser();if(!x){ye.error("Please sign in to view your orders"),o(!1);return}const{data:w,error:_}=await Ce.from("orders").select(`
          *,
          restaurants (
            name,
            image_url,
            address
          )
        `).eq("customer_id",x.id).order("created_at",{ascending:!1});_&&(console.error("Error fetching orders:",_),ye.error("Failed to load orders")),e(w||[])}catch(x){console.error("Error fetching orders:",x),ye.error("Failed to load orders")}finally{o(!1)}};return s?m.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):m.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[m.jsx("div",{className:"bg-card border-b border-border px-6 py-6",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Orders"}),m.jsx("p",{className:"text-muted-foreground",children:"Track your bookings and orders"})]})}),m.jsx("div",{className:"max-w-md mx-auto px-6 py-6 space-y-4",children:t.length===0?m.jsxs(Ge,{className:"p-8 text-center space-y-2",children:[m.jsx("p",{className:"text-muted-foreground",children:"No orders yet"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"Start exploring restaurants to make your first booking"})]}):t.map(x=>{var w,_,b,T;return m.jsx(Ge,{className:"overflow-hidden cursor-pointer hover:shadow-lg transition-shadow",onClick:()=>n(x),children:m.jsxs("div",{className:"flex gap-4 p-4",children:[m.jsx("img",{src:(w=x.restaurants)==null?void 0:w.image_url,alt:(_=x.restaurants)==null?void 0:_.name,className:"w-20 h-20 rounded-lg object-cover"}),m.jsxs("div",{className:"flex-1 space-y-2",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"font-semibold",children:(b=x.restaurants)==null?void 0:b.name}),m.jsx("p",{className:"text-sm text-muted-foreground capitalize",children:(T=x.order_type)==null?void 0:T.replace("_"," ")})]}),m.jsx(ko,{className:`${a2[x.status]} text-white border-0`,children:x.status})]}),m.jsxs("div",{className:"flex items-center justify-between text-sm",children:[m.jsxs("div",{className:"flex items-center gap-1 text-muted-foreground",children:[m.jsx(Fm,{className:"h-3 w-3"}),new Date(x.created_at).toLocaleDateString()]}),m.jsxs("span",{className:"font-semibold text-primary",children:[x.total_amount.toLocaleString()," MMK"]})]})]})]})},x.id)})}),m.jsx(yc,{open:!!r,onOpenChange:()=>n(null),children:m.jsxs(ja,{className:"max-w-md",children:[m.jsx(La,{children:m.jsx(Ba,{children:"Order Details"})}),r&&m.jsxs("div",{className:"space-y-4",children:[m.jsx("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:m.jsx(Fx,{value:r.qr_code,size:150,level:"H",includeMargin:!0})}),m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Restaurant"}),m.jsx("span",{className:"font-medium",children:(u=r.restaurants)==null?void 0:u.name})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Order Type"}),m.jsx("span",{className:"font-medium capitalize",children:(p=r.order_type)==null?void 0:p.replace("_"," ")})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Payment Method"}),m.jsx("span",{className:"font-medium uppercase",children:r.payment_method})]}),m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsx("span",{className:"text-muted-foreground",children:"Status"}),m.jsx(ko,{className:`${a2[r.status]} text-white border-0`,children:r.status})]}),m.jsxs("div",{className:"flex justify-between text-sm pt-2 border-t",children:[m.jsx("span",{className:"font-semibold",children:"Total Amount"}),m.jsxs("span",{className:"font-bold text-primary",children:[r.total_amount.toLocaleString()," MMK"]})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-semibold text-sm",children:"Items"}),(h=r.order_items)==null?void 0:h.map((x,w)=>m.jsxs("div",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:[x.name," x ",x.quantity]}),m.jsxs("span",{children:[(x.price*x.quantity).toLocaleString()," MMK"]})]},w))]})]})]})}),m.jsx(jx,{})]})},B7=()=>{const{user:t,signOut:e}=ps(),r=Tn(),[n,s]=I.useState(null),[o,l]=I.useState(!1),[u,p]=I.useState({full_name:"",phone:""});I.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{const{data:_,error:b}=await Ce.from("profiles").select("*").eq("id",t==null?void 0:t.id).single();if(b)throw b;s(_),p({full_name:_.full_name||"",phone:_.phone||""})}catch(_){console.error("Error fetching profile:",_)}},x=async()=>{try{const{error:_}=await Ce.from("profiles").update({full_name:u.full_name,phone:u.phone}).eq("id",t==null?void 0:t.id);if(_)throw _;ye.success("Profile updated successfully"),l(!1),h()}catch(_){console.error("Error updating profile:",_),ye.error("Failed to update profile")}},w=async()=>{await e(),r("/auth"),ye.success("Signed out successfully")};return m.jsxs("div",{className:"min-h-screen bg-background pb-20",children:[m.jsx("div",{className:"bg-card border-b border-border px-6 py-6",children:m.jsxs("div",{className:"max-w-md mx-auto",children:[m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Profile"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings"})]})}),m.jsxs("div",{className:"max-w-md mx-auto px-6 py-6 space-y-6",children:[m.jsxs(Ge,{className:"p-6 space-y-6",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("div",{className:"w-16 h-16 rounded-full luxury-gradient flex items-center justify-center",children:m.jsx(lo,{className:"w-8 h-8 text-white"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h2",{className:"text-xl font-semibold",children:(n==null?void 0:n.full_name)||"User"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:t==null?void 0:t.email})]}),m.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>l(!o),children:m.jsx(AE,{className:"h-4 w-4"})})]}),o?m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"full_name",children:"Full Name"}),m.jsx(at,{id:"full_name",value:u.full_name,onChange:_=>p({...u,full_name:_.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"phone",children:"Phone"}),m.jsx(at,{id:"phone",value:u.phone,onChange:_=>p({...u,phone:_.target.value})})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Fe,{onClick:x,className:"flex-1 luxury-gradient",children:"Save Changes"}),m.jsx(Fe,{variant:"outline",onClick:()=>l(!1),children:"Cancel"})]})]}):m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(lo,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"text-muted-foreground",children:"Name:"}),m.jsx("span",{className:"font-medium",children:(n==null?void 0:n.full_name)||"Not set"})]}),m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(xO,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"text-muted-foreground",children:"Email:"}),m.jsx("span",{className:"font-medium",children:t==null?void 0:t.email})]}),m.jsxs("div",{className:"flex items-center gap-3 text-sm",children:[m.jsx(TE,{className:"h-4 w-4 text-muted-foreground"}),m.jsx("span",{className:"text-muted-foreground",children:"Phone:"}),m.jsx("span",{className:"font-medium",children:(n==null?void 0:n.phone)||"Not set"})]})]})]}),m.jsxs(Fe,{onClick:w,variant:"destructive",className:"w-full",size:"lg",children:[m.jsx(qf,{className:"mr-2 h-5 w-5"}),"Sign Out"]})]}),m.jsx(jx,{})]})};function l2(t,[e,r]){return Math.min(r,Math.max(e,t))}var F7=[" ","Enter","ArrowUp","ArrowDown"],U7=[" ","Enter"],Fa="Select",[x0,y0,z7]=Dm(Fa),[Rc,jB]=Fs(Fa,[z7,Jf]),w0=Jf(),[V7,Wo]=Rc(Fa),[H7,W7]=Rc(Fa),f3=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:s,onOpenChange:o,value:l,defaultValue:u,onValueChange:p,dir:h,name:x,autoComplete:w,disabled:_,required:b,form:T}=t,E=w0(e),[N,R]=I.useState(null),[S,A]=I.useState(null),[M,k]=I.useState(!1),B=u0(h),[L,V]=No({prop:n,defaultProp:s??!1,onChange:o,caller:Fa}),[U,J]=No({prop:l,defaultProp:u,onChange:p,caller:Fa}),ne=I.useRef(null),K=N?T||!!N.closest("form"):!0,[se,G]=I.useState(new Set),H=Array.from(se).map(re=>re.props.value).join(";");return m.jsx(s6,{...E,children:m.jsxs(V7,{required:b,scope:e,trigger:N,onTriggerChange:R,valueNode:S,onValueNodeChange:A,valueNodeHasChildren:M,onValueNodeHasChildrenChange:k,contentId:bo(),value:U,onValueChange:J,open:L,onOpenChange:V,dir:B,triggerPointerDownPosRef:ne,disabled:_,children:[m.jsx(x0.Provider,{scope:e,children:m.jsx(H7,{scope:t.__scopeSelect,onNativeOptionAdd:I.useCallback(re=>{G(X=>new Set(X).add(re))},[]),onNativeOptionRemove:I.useCallback(re=>{G(X=>{const Y=new Set(X);return Y.delete(re),Y})},[]),children:r})}),K?m.jsxs(L3,{"aria-hidden":!0,required:b,tabIndex:-1,name:x,autoComplete:w,value:U,onChange:re=>J(re.target.value),disabled:_,form:T,children:[U===void 0?m.jsx("option",{value:""}):null,Array.from(se)]},H):null]})})};f3.displayName=Fa;var p3="SelectTrigger",g3=I.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...s}=t,o=w0(r),l=Wo(p3,r),u=l.disabled||n,p=xt(e,l.onTriggerChange),h=y0(r),x=I.useRef("touch"),[w,_,b]=F3(E=>{const N=h().filter(A=>!A.disabled),R=N.find(A=>A.value===l.value),S=U3(N,E,R);S!==void 0&&l.onValueChange(S.value)}),T=E=>{u||(l.onOpenChange(!0),b()),E&&(l.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return m.jsx(lC,{asChild:!0,...o,children:m.jsx(We.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":B3(l.value)?"":void 0,...s,ref:p,onClick:Pe(s.onClick,E=>{E.currentTarget.focus(),x.current!=="mouse"&&T(E)}),onPointerDown:Pe(s.onPointerDown,E=>{x.current=E.pointerType;const N=E.target;N.hasPointerCapture(E.pointerId)&&N.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(T(E),E.preventDefault())}),onKeyDown:Pe(s.onKeyDown,E=>{const N=w.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&_(E.key),!(N&&E.key===" ")&&F7.includes(E.key)&&(T(),E.preventDefault())})})})});g3.displayName=p3;var m3="SelectValue",x3=I.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,children:o,placeholder:l="",...u}=t,p=Wo(m3,r),{onValueNodeHasChildrenChange:h}=p,x=o!==void 0,w=xt(e,p.onValueNodeChange);return zr(()=>{h(x)},[h,x]),m.jsx(We.span,{...u,ref:w,style:{pointerEvents:"none"},children:B3(p.value)?m.jsx(m.Fragment,{children:l}):o})});x3.displayName=m3;var $7="SelectIcon",y3=I.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...s}=t;return m.jsx(We.span,{"aria-hidden":!0,...s,ref:e,children:n||""})});y3.displayName=$7;var G7="SelectPortal",w3=t=>m.jsx($f,{asChild:!0,...t});w3.displayName=G7;var Ua="SelectContent",v3=I.forwardRef((t,e)=>{const r=Wo(Ua,t.__scopeSelect),[n,s]=I.useState();if(zr(()=>{s(new DocumentFragment)},[]),!r.open){const o=n;return o?Ha.createPortal(m.jsx(_3,{scope:t.__scopeSelect,children:m.jsx(x0.Slot,{scope:t.__scopeSelect,children:m.jsx("div",{children:t.children})})}),o):null}return m.jsx(b3,{...t,ref:e})});v3.displayName=Ua;var bs=10,[_3,$o]=Rc(Ua),Y7="SelectContentImpl",X7=oc("SelectContent.RemoveScroll"),b3=I.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:l,side:u,sideOffset:p,align:h,alignOffset:x,arrowPadding:w,collisionBoundary:_,collisionPadding:b,sticky:T,hideWhenDetached:E,avoidCollisions:N,...R}=t,S=Wo(Ua,r),[A,M]=I.useState(null),[k,B]=I.useState(null),L=xt(e,_e=>M(_e)),[V,U]=I.useState(null),[J,ne]=I.useState(null),K=y0(r),[se,G]=I.useState(!1),H=I.useRef(!1);I.useEffect(()=>{if(A)return WT(A)},[A]),jT();const re=I.useCallback(_e=>{const[Me,...ut]=K().map(Je=>Je.ref.current),[Xe]=ut.slice(-1),je=document.activeElement;for(const Je of _e)if(Je===je||(Je==null||Je.scrollIntoView({block:"nearest"}),Je===Me&&k&&(k.scrollTop=0),Je===Xe&&k&&(k.scrollTop=k.scrollHeight),Je==null||Je.focus(),document.activeElement!==je))return},[K,k]),X=I.useCallback(()=>re([V,A]),[re,V,A]);I.useEffect(()=>{se&&X()},[se,X]);const{onOpenChange:Y,triggerPointerDownPosRef:Z}=S;I.useEffect(()=>{if(A){let _e={x:0,y:0};const Me=Xe=>{var je,Je;_e={x:Math.abs(Math.round(Xe.pageX)-(((je=Z.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Xe.pageY)-(((Je=Z.current)==null?void 0:Je.y)??0))}},ut=Xe=>{_e.x<=10&&_e.y<=10?Xe.preventDefault():A.contains(Xe.target)||Y(!1),document.removeEventListener("pointermove",Me),Z.current=null};return Z.current!==null&&(document.addEventListener("pointermove",Me),document.addEventListener("pointerup",ut,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Me),document.removeEventListener("pointerup",ut,{capture:!0})}}},[A,Y,Z]),I.useEffect(()=>{const _e=()=>Y(!1);return window.addEventListener("blur",_e),window.addEventListener("resize",_e),()=>{window.removeEventListener("blur",_e),window.removeEventListener("resize",_e)}},[Y]);const[oe,Ee]=F3(_e=>{const Me=K().filter(je=>!je.disabled),ut=Me.find(je=>je.ref.current===document.activeElement),Xe=U3(Me,_e,ut);Xe&&setTimeout(()=>Xe.ref.current.focus())}),de=I.useCallback((_e,Me,ut)=>{const Xe=!H.current&&!ut;(S.value!==void 0&&S.value===Me||Xe)&&(U(_e),Xe&&(H.current=!0))},[S.value]),ae=I.useCallback(()=>A==null?void 0:A.focus(),[A]),fe=I.useCallback((_e,Me,ut)=>{const Xe=!H.current&&!ut;(S.value!==void 0&&S.value===Me||Xe)&&ne(_e)},[S.value]),Ue=n==="popper"?Og:E3,ve=Ue===Og?{side:u,sideOffset:p,align:h,alignOffset:x,arrowPadding:w,collisionBoundary:_,collisionPadding:b,sticky:T,hideWhenDetached:E,avoidCollisions:N}:{};return m.jsx(_3,{scope:r,content:A,viewport:k,onViewportChange:B,itemRefCallback:de,selectedItem:V,onItemLeave:ae,itemTextRefCallback:fe,focusSelectedItem:X,selectedItemText:J,position:n,isPositioned:se,searchRef:oe,children:m.jsx(zx,{as:X7,allowPinchZoom:!0,children:m.jsx(Ux,{asChild:!0,trapped:S.open,onMountAutoFocus:_e=>{_e.preventDefault()},onUnmountAutoFocus:Pe(s,_e=>{var Me;(Me=S.trigger)==null||Me.focus({preventScroll:!0}),_e.preventDefault()}),children:m.jsx(cd,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:_e=>_e.preventDefault(),onDismiss:()=>S.onOpenChange(!1),children:m.jsx(Ue,{role:"listbox",id:S.contentId,"data-state":S.open?"open":"closed",dir:S.dir,onContextMenu:_e=>_e.preventDefault(),...R,...ve,onPlaced:()=>G(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Pe(R.onKeyDown,_e=>{const Me=_e.ctrlKey||_e.altKey||_e.metaKey;if(_e.key==="Tab"&&_e.preventDefault(),!Me&&_e.key.length===1&&Ee(_e.key),["ArrowUp","ArrowDown","Home","End"].includes(_e.key)){let Xe=K().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(_e.key)&&(Xe=Xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(_e.key)){const je=_e.target,Je=Xe.indexOf(je);Xe=Xe.slice(Je+1)}setTimeout(()=>re(Xe)),_e.preventDefault()}})})})})})})});b3.displayName=Y7;var q7="SelectItemAlignedPosition",E3=I.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...s}=t,o=Wo(Ua,r),l=$o(Ua,r),[u,p]=I.useState(null),[h,x]=I.useState(null),w=xt(e,L=>x(L)),_=y0(r),b=I.useRef(!1),T=I.useRef(!0),{viewport:E,selectedItem:N,selectedItemText:R,focusSelectedItem:S}=l,A=I.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&h&&E&&N&&R){const L=o.trigger.getBoundingClientRect(),V=h.getBoundingClientRect(),U=o.valueNode.getBoundingClientRect(),J=R.getBoundingClientRect();if(o.dir!=="rtl"){const je=J.left-V.left,Je=U.left-je,Be=L.left-Je,cr=L.width+Be,yr=Math.max(cr,V.width),Ar=window.innerWidth-bs,ce=l2(Je,[bs,Math.max(bs,Ar-yr)]);u.style.minWidth=cr+"px",u.style.left=ce+"px"}else{const je=V.right-J.right,Je=window.innerWidth-U.right-je,Be=window.innerWidth-L.right-Je,cr=L.width+Be,yr=Math.max(cr,V.width),Ar=window.innerWidth-bs,ce=l2(Je,[bs,Math.max(bs,Ar-yr)]);u.style.minWidth=cr+"px",u.style.right=ce+"px"}const ne=_(),K=window.innerHeight-bs*2,se=E.scrollHeight,G=window.getComputedStyle(h),H=parseInt(G.borderTopWidth,10),re=parseInt(G.paddingTop,10),X=parseInt(G.borderBottomWidth,10),Y=parseInt(G.paddingBottom,10),Z=H+re+se+Y+X,oe=Math.min(N.offsetHeight*5,Z),Ee=window.getComputedStyle(E),de=parseInt(Ee.paddingTop,10),ae=parseInt(Ee.paddingBottom,10),fe=L.top+L.height/2-bs,Ue=K-fe,ve=N.offsetHeight/2,_e=N.offsetTop+ve,Me=H+re+_e,ut=Z-Me;if(Me<=fe){const je=ne.length>0&&N===ne[ne.length-1].ref.current;u.style.bottom="0px";const Je=h.clientHeight-E.offsetTop-E.offsetHeight,Be=Math.max(Ue,ve+(je?ae:0)+Je+X),cr=Me+Be;u.style.height=cr+"px"}else{const je=ne.length>0&&N===ne[0].ref.current;u.style.top="0px";const Be=Math.max(fe,H+E.offsetTop+(je?de:0)+ve)+ut;u.style.height=Be+"px",E.scrollTop=Me-fe+E.offsetTop}u.style.margin=`${bs}px 0`,u.style.minHeight=oe+"px",u.style.maxHeight=K+"px",n==null||n(),requestAnimationFrame(()=>b.current=!0)}},[_,o.trigger,o.valueNode,u,h,E,N,R,o.dir,n]);zr(()=>A(),[A]);const[M,k]=I.useState();zr(()=>{h&&k(window.getComputedStyle(h).zIndex)},[h]);const B=I.useCallback(L=>{L&&T.current===!0&&(A(),S==null||S(),T.current=!1)},[A,S]);return m.jsx(Q7,{scope:r,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:B,children:m.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:m.jsx(We.div,{...s,ref:w,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});E3.displayName=q7;var K7="SelectPopperPosition",Og=I.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:s=bs,...o}=t,l=w0(r);return m.jsx(cC,{...l,...o,ref:e,align:n,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Og.displayName=K7;var[Q7,$x]=Rc(Ua,{}),Mg="SelectViewport",C3=I.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...s}=t,o=$o(Mg,r),l=$x(Mg,r),u=xt(e,o.onViewportChange),p=I.useRef(0);return m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),m.jsx(x0.Slot,{scope:r,children:m.jsx(We.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Pe(s.onScroll,h=>{const x=h.currentTarget,{contentWrapper:w,shouldExpandOnScrollRef:_}=l;if(_!=null&&_.current&&w){const b=Math.abs(p.current-x.scrollTop);if(b>0){const T=window.innerHeight-bs*2,E=parseFloat(w.style.minHeight),N=parseFloat(w.style.height),R=Math.max(E,N);if(R<T){const S=R+b,A=Math.min(T,S),M=S-A;w.style.height=A+"px",w.style.bottom==="0px"&&(x.scrollTop=M>0?M:0,w.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});C3.displayName=Mg;var S3="SelectGroup",[Z7,J7]=Rc(S3),e9=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=bo();return m.jsx(Z7,{scope:r,id:s,children:m.jsx(We.div,{role:"group","aria-labelledby":s,...n,ref:e})})});e9.displayName=S3;var A3="SelectLabel",T3=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=J7(A3,r);return m.jsx(We.div,{id:s.id,...n,ref:e})});T3.displayName=A3;var Af="SelectItem",[t9,N3]=Rc(Af),I3=I.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:s=!1,textValue:o,...l}=t,u=Wo(Af,r),p=$o(Af,r),h=u.value===n,[x,w]=I.useState(o??""),[_,b]=I.useState(!1),T=xt(e,S=>{var A;return(A=p.itemRefCallback)==null?void 0:A.call(p,S,n,s)}),E=bo(),N=I.useRef("touch"),R=()=>{s||(u.onValueChange(n),u.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return m.jsx(t9,{scope:r,value:n,disabled:s,textId:E,isSelected:h,onItemTextChange:I.useCallback(S=>{w(A=>A||((S==null?void 0:S.textContent)??"").trim())},[]),children:m.jsx(x0.ItemSlot,{scope:r,value:n,disabled:s,textValue:x,children:m.jsx(We.div,{role:"option","aria-labelledby":E,"data-highlighted":_?"":void 0,"aria-selected":h&&_,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:T,onFocus:Pe(l.onFocus,()=>b(!0)),onBlur:Pe(l.onBlur,()=>b(!1)),onClick:Pe(l.onClick,()=>{N.current!=="mouse"&&R()}),onPointerUp:Pe(l.onPointerUp,()=>{N.current==="mouse"&&R()}),onPointerDown:Pe(l.onPointerDown,S=>{N.current=S.pointerType}),onPointerMove:Pe(l.onPointerMove,S=>{var A;N.current=S.pointerType,s?(A=p.onItemLeave)==null||A.call(p):N.current==="mouse"&&S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Pe(l.onPointerLeave,S=>{var A;S.currentTarget===document.activeElement&&((A=p.onItemLeave)==null||A.call(p))}),onKeyDown:Pe(l.onKeyDown,S=>{var M;((M=p.searchRef)==null?void 0:M.current)!==""&&S.key===" "||(U7.includes(S.key)&&R(),S.key===" "&&S.preventDefault())})})})})});I3.displayName=Af;var ou="SelectItemText",R3=I.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:s,...o}=t,l=Wo(ou,r),u=$o(ou,r),p=N3(ou,r),h=W7(ou,r),[x,w]=I.useState(null),_=xt(e,R=>w(R),p.onItemTextChange,R=>{var S;return(S=u.itemTextRefCallback)==null?void 0:S.call(u,R,p.value,p.disabled)}),b=x==null?void 0:x.textContent,T=I.useMemo(()=>m.jsx("option",{value:p.value,disabled:p.disabled,children:b},p.value),[p.disabled,p.value,b]),{onNativeOptionAdd:E,onNativeOptionRemove:N}=h;return zr(()=>(E(T),()=>N(T)),[E,N,T]),m.jsxs(m.Fragment,{children:[m.jsx(We.span,{id:p.textId,...o,ref:_}),p.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Ha.createPortal(o.children,l.valueNode):null]})});R3.displayName=ou;var O3="SelectItemIndicator",M3=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return N3(O3,r).isSelected?m.jsx(We.span,{"aria-hidden":!0,...n,ref:e}):null});M3.displayName=O3;var kg="SelectScrollUpButton",k3=I.forwardRef((t,e)=>{const r=$o(kg,t.__scopeSelect),n=$x(kg,t.__scopeSelect),[s,o]=I.useState(!1),l=xt(e,n.onScrollButtonChange);return zr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=p.scrollTop>0;o(h)};const p=r.viewport;return u(),p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?m.jsx(D3,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:p}=r;u&&p&&(u.scrollTop=u.scrollTop-p.offsetHeight)}}):null});k3.displayName=kg;var Pg="SelectScrollDownButton",P3=I.forwardRef((t,e)=>{const r=$o(Pg,t.__scopeSelect),n=$x(Pg,t.__scopeSelect),[s,o]=I.useState(!1),l=xt(e,n.onScrollButtonChange);return zr(()=>{if(r.viewport&&r.isPositioned){let u=function(){const h=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<h;o(x)};const p=r.viewport;return u(),p.addEventListener("scroll",u),()=>p.removeEventListener("scroll",u)}},[r.viewport,r.isPositioned]),s?m.jsx(D3,{...t,ref:l,onAutoScroll:()=>{const{viewport:u,selectedItem:p}=r;u&&p&&(u.scrollTop=u.scrollTop+p.offsetHeight)}}):null});P3.displayName=Pg;var D3=I.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...s}=t,o=$o("SelectScrollButton",r),l=I.useRef(null),u=y0(r),p=I.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return I.useEffect(()=>()=>p(),[p]),zr(()=>{var x;const h=u().find(w=>w.ref.current===document.activeElement);(x=h==null?void 0:h.ref.current)==null||x.scrollIntoView({block:"nearest"})},[u]),m.jsx(We.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Pe(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:Pe(s.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:Pe(s.onPointerLeave,()=>{p()})})}),r9="SelectSeparator",j3=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return m.jsx(We.div,{"aria-hidden":!0,...n,ref:e})});j3.displayName=r9;var Dg="SelectArrow",n9=I.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,s=w0(r),o=Wo(Dg,r),l=$o(Dg,r);return o.open&&l.position==="popper"?m.jsx(uC,{...s,...n,ref:e}):null});n9.displayName=Dg;var s9="SelectBubbleInput",L3=I.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const s=I.useRef(null),o=xt(n,s),l=Lx(e);return I.useEffect(()=>{const u=s.current;if(!u)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(l!==e&&x){const w=new Event("change",{bubbles:!0});x.call(u,e),u.dispatchEvent(w)}},[l,e]),m.jsx(We.select,{...r,style:{...Jb,...r.style},ref:o,defaultValue:e})});L3.displayName=s9;function B3(t){return t===""||t===void 0}function F3(t){const e=fs(t),r=I.useRef(""),n=I.useRef(0),s=I.useCallback(l=>{const u=r.current+l;e(u),function p(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>p(""),1e3))}(u)},[e]),o=I.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return I.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,s,o]}function U3(t,e,r){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,o=r?t.indexOf(r):-1;let l=i9(t,Math.max(o,0));s.length===1&&(l=l.filter(h=>h!==r));const p=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return p!==r?p:void 0}function i9(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var o9=f3,z3=g3,a9=x3,l9=y3,c9=w3,V3=v3,u9=C3,H3=T3,W3=I3,d9=R3,h9=M3,$3=k3,G3=P3,Y3=j3;const Ms=o9,ks=a9,ss=I.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(z3,{ref:n,className:He("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,m.jsx(l9,{asChild:!0,children:m.jsx(bE,{className:"h-4 w-4 opacity-50"})})]}));ss.displayName=z3.displayName;const X3=I.forwardRef(({className:t,...e},r)=>m.jsx($3,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(hO,{className:"h-4 w-4"})}));X3.displayName=$3.displayName;const q3=I.forwardRef(({className:t,...e},r)=>m.jsx(G3,{ref:r,className:He("flex cursor-default items-center justify-center py-1",t),...e,children:m.jsx(bE,{className:"h-4 w-4"})}));q3.displayName=G3.displayName;const is=I.forwardRef(({className:t,children:e,position:r="popper",...n},s)=>m.jsx(c9,{children:m.jsxs(V3,{ref:s,className:He("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[m.jsx(X3,{}),m.jsx(u9,{className:He("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),m.jsx(q3,{})]})}));is.displayName=V3.displayName;const f9=I.forwardRef(({className:t,...e},r)=>m.jsx(H3,{ref:r,className:He("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));f9.displayName=H3.displayName;const wt=I.forwardRef(({className:t,children:e,...r},n)=>m.jsxs(W3,{ref:n,className:He("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...r,children:[m.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:m.jsx(h9,{children:m.jsx(uO,{className:"h-4 w-4"})})}),m.jsx(d9,{children:e})]}));wt.displayName=W3.displayName;const p9=I.forwardRef(({className:t,...e},r)=>m.jsx(Y3,{ref:r,className:He("-mx-1 my-1 h-px bg-muted",t),...e}));p9.displayName=Y3.displayName;const g9=()=>{const{user:t}=ps(),[e,r]=I.useState([]),[n,s]=I.useState(!0);I.useEffect(()=>{t&&o()},[t]);const o=async()=>{try{const{data:h,error:x}=await Ce.from("restaurants").select("id").eq("owner_id",t==null?void 0:t.id).single();if(x)throw x;const{data:w,error:_}=await Ce.from("orders").select("*").eq("restaurant_id",h.id).order("created_at",{ascending:!1});if(_)throw _;const b=[...new Set((w||[]).map(S=>S.customer_id))];console.log(" Fetching profiles for customer IDs:",b.map(S=>S.substring(0,8)));const{data:T,error:E}=await Ce.from("profiles").select("id, full_name, phone").in("id",b);E&&(console.error(" Error fetching customer profiles:",E),ye.error("Failed to load customer profiles")),console.log(" Customer profiles loaded:",{found:(T==null?void 0:T.length)||0,expected:b.length,profiles:T==null?void 0:T.map(S=>({id:S.id.substring(0,8),name:S.full_name,phone:S.phone}))});const N=b.filter(S=>!(T!=null&&T.some(A=>A.id===S)));if(N.length>0){console.log(" Missing profiles for customers:",N.map(S=>S.substring(0,8)));for(const S of N)try{const{data:A,error:M}=await Ce.from("profiles").upsert({id:S,full_name:`Customer ${S.substring(0,8)}`,phone:null,updated_at:new Date().toISOString()}).select("id, full_name, phone").single();!M&&A&&(console.log(` Created profile for customer ${S.substring(0,8)}`),T&&T.push(A))}catch(A){console.error(` Error creating profile for ${S.substring(0,8)}:`,A)}}const R=(w||[]).map(S=>{const A=T==null?void 0:T.find(M=>M.id===S.customer_id);return{...S,profiles:A?{full_name:A.full_name,phone:A.phone}:null}});r(R)}catch(h){console.error("Error fetching orders:",h),ye.error("Failed to load orders")}finally{s(!1)}},l=async(h,x)=>{try{const{error:w}=await Ce.from("orders").update({status:x}).eq("id",h);if(w)throw w;r(e.map(_=>_.id===h?{..._,status:x}:_)),ye.success("Order status updated")}catch(w){console.error("Error updating order:",w),ye.error("Failed to update order status")}},u=h=>{const x={paid:{label:"Paid",className:"bg-purple-500/20 text-purple-700 dark:text-purple-400"},preparing:{label:"Preparing",className:"bg-blue-500/20 text-blue-700 dark:text-blue-400"},ready:{label:"Ready",className:"bg-green-500/20 text-green-700 dark:text-green-400"},completed:{label:"Completed",className:"bg-gray-500/20 text-gray-700 dark:text-gray-400"},cancelled:{label:"Cancelled",className:"bg-red-500/20 text-red-700 dark:text-red-400"},served:{label:"Served",className:"bg-emerald-500/20 text-emerald-700 dark:text-emerald-400"}};return x[h]||x.paid},p=h=>{const x=new Date(h),_=Math.floor((new Date().getTime()-x.getTime())/6e4);return _<60?`${_} mins ago`:_<1440?`${Math.floor(_/60)} hours ago`:`${Math.floor(_/1440)} days ago`};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Orders"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage incoming orders and update their status"})]}),n?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ec,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?m.jsx(Ge,{children:m.jsx(bt,{className:"py-12 text-center text-muted-foreground",children:"No orders yet"})}):m.jsx("div",{className:"grid gap-4",children:e.map(h=>{var x,w;return m.jsxs(Ge,{className:"border-border/50 luxury-shadow",children:[m.jsx(or,{children:m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs(ar,{className:"text-lg",children:["Order #",h.id.substring(0,8)]}),m.jsx(ko,{className:u(h.status).className,children:u(h.status).label})]})}),m.jsxs(bt,{className:"space-y-4",children:[m.jsx("div",{className:"flex items-start justify-between",children:m.jsxs("div",{className:"space-y-2 flex-1",children:[m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[m.jsx(lo,{className:"h-4 w-4"}),m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{children:((x=h.profiles)==null?void 0:x.full_name)||`Customer ${h.customer_id.substring(0,8)}`}),((w=h.profiles)==null?void 0:w.phone)&&m.jsx("span",{className:"text-xs text-muted-foreground",children:h.profiles.phone})]})]}),m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[h.order_type==="dine_in"?m.jsx(zm,{className:"h-4 w-4"}):m.jsx(sf,{className:"h-4 w-4"}),m.jsx("span",{children:h.order_type==="dine_in"?"Dine In":"Takeaway"})]}),m.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[m.jsx(Fm,{className:"h-4 w-4"}),m.jsx("span",{children:p(h.created_at)})]})]})}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-semibold",children:"Items:"}),m.jsx("ul",{className:"space-y-1",children:h.order_items.map((_,b)=>m.jsxs("li",{className:"text-sm text-muted-foreground",children:[_.quantity,"x ",_.name]},b))})]}),m.jsxs("div",{className:"flex items-center justify-between pt-4 border-t",children:[m.jsxs("span",{className:"font-semibold text-lg",children:["Total: ",h.total_amount.toLocaleString()," MMK"]}),m.jsxs(Ms,{value:h.status,onValueChange:_=>l(h.id,_),children:[m.jsx(ss,{className:"w-40",children:m.jsx(ks,{})}),m.jsxs(is,{children:[m.jsx(wt,{value:"paid",children:"Paid"}),m.jsx(wt,{value:"preparing",children:"Preparing"}),m.jsx(wt,{value:"ready",children:"Ready"}),m.jsx(wt,{value:"completed",children:"Completed"})]})]})]})]})]},h.id)})})]})};var Ae;(function(t){t[t.QR_CODE=0]="QR_CODE",t[t.AZTEC=1]="AZTEC",t[t.CODABAR=2]="CODABAR",t[t.CODE_39=3]="CODE_39",t[t.CODE_93=4]="CODE_93",t[t.CODE_128=5]="CODE_128",t[t.DATA_MATRIX=6]="DATA_MATRIX",t[t.MAXICODE=7]="MAXICODE",t[t.ITF=8]="ITF",t[t.EAN_13=9]="EAN_13",t[t.EAN_8=10]="EAN_8",t[t.PDF_417=11]="PDF_417",t[t.RSS_14=12]="RSS_14",t[t.RSS_EXPANDED=13]="RSS_EXPANDED",t[t.UPC_A=14]="UPC_A",t[t.UPC_E=15]="UPC_E",t[t.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ae||(Ae={}));var c2=new Map([[Ae.QR_CODE,"QR_CODE"],[Ae.AZTEC,"AZTEC"],[Ae.CODABAR,"CODABAR"],[Ae.CODE_39,"CODE_39"],[Ae.CODE_93,"CODE_93"],[Ae.CODE_128,"CODE_128"],[Ae.DATA_MATRIX,"DATA_MATRIX"],[Ae.MAXICODE,"MAXICODE"],[Ae.ITF,"ITF"],[Ae.EAN_13,"EAN_13"],[Ae.EAN_8,"EAN_8"],[Ae.PDF_417,"PDF_417"],[Ae.RSS_14,"RSS_14"],[Ae.RSS_EXPANDED,"RSS_EXPANDED"],[Ae.UPC_A,"UPC_A"],[Ae.UPC_E,"UPC_E"],[Ae.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),u2;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.URL=1]="URL"})(u2||(u2={}));function m9(t){return Object.values(Ae).includes(t)}var Po;(function(t){t[t.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",t[t.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(Po||(Po={}));var Rs=function(){function t(){}return t.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",t.SCAN_DEFAULT_FPS=2,t.DEFAULT_DISABLE_FLIP=!1,t.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,t.DEFAULT_SUPPORTED_SCAN_TYPE=[Po.SCAN_TYPE_CAMERA,Po.SCAN_TYPE_FILE],t}(),K3=function(){function t(e,r){this.format=e,this.formatName=r}return t.prototype.toString=function(){return this.formatName},t.create=function(e){if(!c2.has(e))throw"".concat(e," not in html5QrcodeSupportedFormatsTextMap");return new t(e,c2.get(e))},t}(),d2=function(){function t(){}return t.createFromText=function(e){var r={text:e};return{decodedText:e,result:r}},t.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},t}(),jg;(function(t){t[t.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",t[t.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",t[t.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(jg||(jg={}));var Q3=function(){function t(){}return t.createFrom=function(e){return{errorMessage:e,type:jg.UNKWOWN_ERROR}},t}(),Z3=function(){function t(e){this.verbose=e}return t.prototype.log=function(e){this.verbose&&console.log(e)},t.prototype.warn=function(e){this.verbose&&console.warn(e)},t.prototype.logError=function(e,r){(this.verbose||r===!0)&&console.error(e)},t.prototype.logErrors=function(e){if(e.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(e)},t}();function qs(t){return typeof t>"u"||t===null}function x9(t,e,r){return t>r?r:t<e?e:t}var Ol=function(){function t(){}return t.codeParseError=function(e){return"QR code parse error, error = ".concat(e)},t.errorGettingUserMedia=function(e){return"Error getting userMedia, error = ".concat(e)},t.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},t.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},t.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},t.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},t.scannerPaused=function(){return"Scanner paused"},t}(),_t=function(){function t(){}return t.scanningStatus=function(){return"Scanning"},t.idleStatus=function(){return"Idle"},t.errorStatus=function(){return"Error"},t.permissionStatus=function(){return"Permission"},t.noCameraFoundErrorStatus=function(){return"No Cameras"},t.lastMatch=function(e){return"Last Match: ".concat(e)},t.codeScannerTitle=function(){return"Code Scanner"},t.cameraPermissionTitle=function(){return"Request Camera Permissions"},t.cameraPermissionRequesting=function(){return"Requesting camera permissions..."},t.noCameraFound=function(){return"No camera found"},t.scanButtonStopScanningText=function(){return"Stop Scanning"},t.scanButtonStartScanningText=function(){return"Start Scanning"},t.torchOnButton=function(){return"Switch On Torch"},t.torchOffButton=function(){return"Switch Off Torch"},t.torchOnFailedMessage=function(){return"Failed to turn on torch"},t.torchOffFailedMessage=function(){return"Failed to turn off torch"},t.scanButtonScanningStarting=function(){return"Launching Camera..."},t.textIfCameraScanSelected=function(){return"Scan an Image File"},t.textIfFileScanSelected=function(){return"Scan using camera directly"},t.selectCamera=function(){return"Select Camera"},t.fileSelectionChooseImage=function(){return"Choose Image"},t.fileSelectionChooseAnother=function(){return"Choose Another"},t.fileSelectionNoImageSelected=function(){return"No image choosen"},t.anonymousCameraPrefix=function(){return"Anonymous Camera"},t.dragAndDropMessage=function(){return"Or drop an image to scan"},t.dragAndDropMessageOnlyImages=function(){return"Or drop an image to scan (other files not supported)"},t.zoom=function(){return"zoom"},t.loadingImage=function(){return"Loading image..."},t.cameraScanAltText=function(){return"Camera based scan"},t.fileScanAltText=function(){return"Fule based scan"},t}(),h2=function(){function t(){}return t.poweredBy=function(){return"Powered by "},t.reportIssues=function(){return"Report issues"},t}(),J3=function(){function t(){}return t.isMediaStreamConstraintsValid=function(e,r){if(typeof e!="object"){var n=typeof e;return r.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(n,"."),!0),!1}for(var s=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],o=new Set(s),l=Object.keys(e),u=0,p=l;u<p.length;u++){var h=p[u];if(o.has(h))return r.logError("".concat(h," is not supported videoConstaints."),!0),!1}return!0},t}(),Lg={exports:{}};(function(t,e){(function(r,n){n(e)})(Uc,function(r){function n(P){return P==null}var s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,i){P.__proto__=i}||function(P,i){for(var a in i)i.hasOwnProperty(a)&&(P[a]=i[a])};function o(P,i){s(P,i);function a(){this.constructor=P}P.prototype=i===null?Object.create(i):(a.prototype=i.prototype,new a)}function l(P,i){var a=Object.setPrototypeOf;a?a(P,i):P.__proto__=i}function u(P,i){i===void 0&&(i=P.constructor);var a=Error.captureStackTrace;a&&a(P,i)}var p=function(P){o(i,P);function i(a){var c=this.constructor,d=P.call(this,a)||this;return Object.defineProperty(d,"name",{value:c.name,enumerable:!1}),l(d,c.prototype),u(d),d}return i}(Error);class h extends p{constructor(i=void 0){super(i),this.message=i}getKind(){return this.constructor.kind}}h.kind="Exception";class x extends h{}x.kind="ArgumentException";class w extends h{}w.kind="IllegalArgumentException";class _{constructor(i){if(this.binarizer=i,i===null)throw new w("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(i,a){return this.binarizer.getBlackRow(i,a)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(i,a,c,d){const f=this.binarizer.getLuminanceSource().crop(i,a,c,d);return new _(this.binarizer.createBinarizer(f))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new _(this.binarizer.createBinarizer(i))}rotateCounterClockwise45(){const i=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new _(this.binarizer.createBinarizer(i))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends h{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class T{constructor(i){this.source=i}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class E{static arraycopy(i,a,c,d,f){for(;f--;)c[d++]=i[a++]}static currentTimeMillis(){return Date.now()}}class N extends h{}N.kind="IndexOutOfBoundsException";class R extends N{constructor(i=void 0,a=void 0){super(a),this.index=i,this.message=a}}R.kind="ArrayIndexOutOfBoundsException";class S{static fill(i,a){for(let c=0,d=i.length;c<d;c++)i[c]=a}static fillWithin(i,a,c,d){S.rangeCheck(i.length,a,c);for(let f=a;f<c;f++)i[f]=d}static rangeCheck(i,a,c){if(a>c)throw new w("fromIndex("+a+") > toIndex("+c+")");if(a<0)throw new R(a);if(c>i)throw new R(c)}static asList(...i){return i}static create(i,a,c){return Array.from({length:i}).map(f=>Array.from({length:a}).fill(c))}static createInt32Array(i,a,c){return Array.from({length:i}).map(f=>Int32Array.from({length:a}).fill(c))}static equals(i,a){if(!i||!a||!i.length||!a.length||i.length!==a.length)return!1;for(let c=0,d=i.length;c<d;c++)if(i[c]!==a[c])return!1;return!0}static hashCode(i){if(i===null)return 0;let a=1;for(const c of i)a=31*a+c;return a}static fillUint8Array(i,a){for(let c=0;c!==i.length;c++)i[c]=a}static copyOf(i,a){return i.slice(0,a)}static copyOfUint8Array(i,a){if(i.length<=a){const c=new Uint8Array(a);return c.set(i),c}return i.slice(0,a)}static copyOfRange(i,a,c){const d=c-a,f=new Int32Array(d);return E.arraycopy(i,a,f,0,d),f}static binarySearch(i,a,c){c===void 0&&(c=S.numberComparator);let d=0,f=i.length-1;for(;d<=f;){const g=f+d>>1,y=c(a,i[g]);if(y>0)d=g+1;else if(y<0)f=g-1;else return g}return-d-1}static numberComparator(i,a){return i-a}}class A{static numberOfTrailingZeros(i){let a;if(i===0)return 32;let c=31;return a=i<<16,a!==0&&(c-=16,i=a),a=i<<8,a!==0&&(c-=8,i=a),a=i<<4,a!==0&&(c-=4,i=a),a=i<<2,a!==0&&(c-=2,i=a),c-(i<<1>>>31)}static numberOfLeadingZeros(i){if(i===0)return 32;let a=1;return i>>>16||(a+=16,i<<=16),i>>>24||(a+=8,i<<=8),i>>>28||(a+=4,i<<=4),i>>>30||(a+=2,i<<=2),a-=i>>>31,a}static toHexString(i){return i.toString(16)}static toBinaryString(i){return String(parseInt(String(i),2))}static bitCount(i){return i=i-(i>>>1&1431655765),i=(i&858993459)+(i>>>2&858993459),i=i+(i>>>4)&252645135,i=i+(i>>>8),i=i+(i>>>16),i&63}static truncDivision(i,a){return Math.trunc(i/a)}static parseInt(i,a=void 0){return parseInt(i,a)}}A.MIN_VALUE_32_BITS=-2147483648,A.MAX_VALUE=Number.MAX_SAFE_INTEGER;class M{constructor(i,a){i===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=i,a==null?this.bits=M.makeArray(i):this.bits=a)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(i){if(i>this.bits.length*32){const a=M.makeArray(i);E.arraycopy(this.bits,0,a,0,this.bits.length),this.bits=a}}get(i){return(this.bits[Math.floor(i/32)]&1<<(i&31))!==0}set(i){this.bits[Math.floor(i/32)]|=1<<(i&31)}flip(i){this.bits[Math.floor(i/32)]^=1<<(i&31)}getNextSet(i){const a=this.size;if(i>=a)return a;const c=this.bits;let d=Math.floor(i/32),f=c[d];f&=~((1<<(i&31))-1);const g=c.length;for(;f===0;){if(++d===g)return a;f=c[d]}const y=d*32+A.numberOfTrailingZeros(f);return y>a?a:y}getNextUnset(i){const a=this.size;if(i>=a)return a;const c=this.bits;let d=Math.floor(i/32),f=~c[d];f&=~((1<<(i&31))-1);const g=c.length;for(;f===0;){if(++d===g)return a;f=~c[d]}const y=d*32+A.numberOfTrailingZeros(f);return y>a?a:y}setBulk(i,a){this.bits[Math.floor(i/32)]=a}setRange(i,a){if(a<i||i<0||a>this.size)throw new w;if(a===i)return;a--;const c=Math.floor(i/32),d=Math.floor(a/32),f=this.bits;for(let g=c;g<=d;g++){const y=g>c?0:i&31,C=(2<<(g<d?31:a&31))-(1<<y);f[g]|=C}}clear(){const i=this.bits.length,a=this.bits;for(let c=0;c<i;c++)a[c]=0}isRange(i,a,c){if(a<i||i<0||a>this.size)throw new w;if(a===i)return!0;a--;const d=Math.floor(i/32),f=Math.floor(a/32),g=this.bits;for(let y=d;y<=f;y++){const v=y>d?0:i&31,O=(2<<(y<f?31:a&31))-(1<<v)&4294967295;if((g[y]&O)!==(c?O:0))return!1}return!0}appendBit(i){this.ensureCapacity(this.size+1),i&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(i,a){if(a<0||a>32)throw new w("Num bits must be between 0 and 32");this.ensureCapacity(this.size+a);for(let c=a;c>0;c--)this.appendBit((i>>c-1&1)===1)}appendBitArray(i){const a=i.size;this.ensureCapacity(this.size+a);for(let c=0;c<a;c++)this.appendBit(i.get(c))}xor(i){if(this.size!==i.size)throw new w("Sizes don't match");const a=this.bits;for(let c=0,d=a.length;c<d;c++)a[c]^=i.bits[c]}toBytes(i,a,c,d){for(let f=0;f<d;f++){let g=0;for(let y=0;y<8;y++)this.get(i)&&(g|=1<<7-y),i++;a[c+f]=g}}getBitArray(){return this.bits}reverse(){const i=new Int32Array(this.bits.length),a=Math.floor((this.size-1)/32),c=a+1,d=this.bits;for(let f=0;f<c;f++){let g=d[f];g=g>>1&1431655765|(g&1431655765)<<1,g=g>>2&858993459|(g&858993459)<<2,g=g>>4&252645135|(g&252645135)<<4,g=g>>8&16711935|(g&16711935)<<8,g=g>>16&65535|(g&65535)<<16,i[a-f]=g}if(this.size!==c*32){const f=c*32-this.size;let g=i[0]>>>f;for(let y=1;y<c;y++){const v=i[y];g|=v<<32-f,i[y-1]=g,g=v>>>f}i[c-1]=g}this.bits=i}static makeArray(i){return new Int32Array(Math.floor((i+31)/32))}equals(i){if(!(i instanceof M))return!1;const a=i;return this.size===a.size&&S.equals(this.bits,a.bits)}hashCode(){return 31*this.size+S.hashCode(this.bits)}toString(){let i="";for(let a=0,c=this.size;a<c;a++)a&7||(i+=" "),i+=this.get(a)?"X":".";return i}clone(){return new M(this.size,this.bits.slice())}}var k;(function(P){P[P.OTHER=0]="OTHER",P[P.PURE_BARCODE=1]="PURE_BARCODE",P[P.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",P[P.TRY_HARDER=3]="TRY_HARDER",P[P.CHARACTER_SET=4]="CHARACTER_SET",P[P.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",P[P.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",P[P.ASSUME_GS1=7]="ASSUME_GS1",P[P.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",P[P.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",P[P.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(k||(k={}));var B=k;class L extends h{static getFormatInstance(){return new L}}L.kind="FormatException";var V;(function(P){P[P.Cp437=0]="Cp437",P[P.ISO8859_1=1]="ISO8859_1",P[P.ISO8859_2=2]="ISO8859_2",P[P.ISO8859_3=3]="ISO8859_3",P[P.ISO8859_4=4]="ISO8859_4",P[P.ISO8859_5=5]="ISO8859_5",P[P.ISO8859_6=6]="ISO8859_6",P[P.ISO8859_7=7]="ISO8859_7",P[P.ISO8859_8=8]="ISO8859_8",P[P.ISO8859_9=9]="ISO8859_9",P[P.ISO8859_10=10]="ISO8859_10",P[P.ISO8859_11=11]="ISO8859_11",P[P.ISO8859_13=12]="ISO8859_13",P[P.ISO8859_14=13]="ISO8859_14",P[P.ISO8859_15=14]="ISO8859_15",P[P.ISO8859_16=15]="ISO8859_16",P[P.SJIS=16]="SJIS",P[P.Cp1250=17]="Cp1250",P[P.Cp1251=18]="Cp1251",P[P.Cp1252=19]="Cp1252",P[P.Cp1256=20]="Cp1256",P[P.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",P[P.UTF8=22]="UTF8",P[P.ASCII=23]="ASCII",P[P.Big5=24]="Big5",P[P.GB18030=25]="GB18030",P[P.EUC_KR=26]="EUC_KR"})(V||(V={}));class U{constructor(i,a,c,...d){this.valueIdentifier=i,this.name=c,typeof a=="number"?this.values=Int32Array.from([a]):this.values=a,this.otherEncodingNames=d,U.VALUE_IDENTIFIER_TO_ECI.set(i,this),U.NAME_TO_ECI.set(c,this);const f=this.values;for(let g=0,y=f.length;g!==y;g++){const v=f[g];U.VALUES_TO_ECI.set(v,this)}for(const g of d)U.NAME_TO_ECI.set(g,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(i){if(i<0||i>=900)throw new L("incorect value");const a=U.VALUES_TO_ECI.get(i);if(a===void 0)throw new L("incorect value");return a}static getCharacterSetECIByName(i){const a=U.NAME_TO_ECI.get(i);if(a===void 0)throw new L("incorect value");return a}equals(i){if(!(i instanceof U))return!1;const a=i;return this.getName()===a.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(V.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(V.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(V.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(V.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(V.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(V.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(V.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(V.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(V.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(V.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(V.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(V.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(V.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(V.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(V.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(V.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(V.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(V.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(V.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(V.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(V.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(V.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(V.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(V.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(V.Big5,28,"Big5"),U.GB18030=new U(V.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(V.EUC_KR,30,"EUC_KR","EUC-KR");class J extends h{}J.kind="UnsupportedOperationException";class ne{static decode(i,a){const c=this.encodingName(a);return this.customDecoder?this.customDecoder(i,c):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(c)?this.decodeFallback(i,c):new TextDecoder(c).decode(i)}static shouldDecodeOnFallback(i){return!ne.isBrowser()&&i==="ISO-8859-1"}static encode(i,a){const c=this.encodingName(a);return this.customEncoder?this.customEncoder(i,c):typeof TextEncoder>"u"?this.encodeFallback(i):new TextEncoder().encode(i)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(i){return typeof i=="string"?i:i.getName()}static encodingCharacterSet(i){return i instanceof U?i:U.getCharacterSetECIByName(i)}static decodeFallback(i,a){const c=this.encodingCharacterSet(a);if(ne.isDecodeFallbackSupported(c)){let d="";for(let f=0,g=i.length;f<g;f++){let y=i[f].toString(16);y.length<2&&(y="0"+y),d+="%"+y}return decodeURIComponent(d)}if(c.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(i.buffer));throw new J(`Encoding ${this.encodingName(a)} not supported by fallback.`)}static isDecodeFallbackSupported(i){return i.equals(U.UTF8)||i.equals(U.ISO8859_1)||i.equals(U.ASCII)}static encodeFallback(i){const c=btoa(unescape(encodeURIComponent(i))).split(""),d=[];for(let f=0;f<c.length;f++)d.push(c[f].charCodeAt(0));return new Uint8Array(d)}}class K{static castAsNonUtf8Char(i,a=null){const c=a?a.getName():this.ISO88591;return ne.decode(new Uint8Array([i]),c)}static guessEncoding(i,a){if(a!=null&&a.get(B.CHARACTER_SET)!==void 0)return a.get(B.CHARACTER_SET).toString();const c=i.length;let d=!0,f=!0,g=!0,y=0,v=0,C=0,O=0,D=0,j=0,z=0,W=0,$=0,q=0,te=0;const ge=i.length>3&&i[0]===239&&i[1]===187&&i[2]===191;for(let me=0;me<c&&(d||f||g);me++){const he=i[me]&255;g&&(y>0?he&128?y--:g=!1:he&128&&(he&64?(y++,he&32?(y++,he&16?(y++,he&8?g=!1:O++):C++):v++):g=!1)),d&&(he>127&&he<160?d=!1:he>159&&(he<192||he===215||he===247)&&te++),f&&(D>0?he<64||he===127||he>252?f=!1:D--:he===128||he===160||he>239?f=!1:he>160&&he<224?(j++,W=0,z++,z>$&&($=z)):he>127?(D++,z=0,W++,W>q&&(q=W)):(z=0,W=0))}return g&&y>0&&(g=!1),f&&D>0&&(f=!1),g&&(ge||v+C+O>0)?K.UTF8:f&&(K.ASSUME_SHIFT_JIS||$>=3||q>=3)?K.SHIFT_JIS:d&&f?$===2&&j===2||te*10>=c?K.SHIFT_JIS:K.ISO88591:d?K.ISO88591:f?K.SHIFT_JIS:g?K.UTF8:K.PLATFORM_DEFAULT_ENCODING}static format(i,...a){let c=-1;function d(g,y,v,C,O,D){if(g==="%%")return"%";if(a[++c]===void 0)return;g=C?parseInt(C.substr(1)):void 0;let j=O?parseInt(O.substr(1)):void 0,z;switch(D){case"s":z=a[c];break;case"c":z=a[c][0];break;case"f":z=parseFloat(a[c]).toFixed(g);break;case"p":z=parseFloat(a[c]).toPrecision(g);break;case"e":z=parseFloat(a[c]).toExponential(g);break;case"x":z=parseInt(a[c]).toString(j||16);break;case"d":z=parseFloat(parseInt(a[c],j||10).toPrecision(g)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(j);let W=parseInt(v),$=v&&v[0]+""=="0"?"0":" ";for(;z.length<W;)z=y!==void 0?z+$:$+z;return z}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,d)}static getBytes(i,a){return ne.encode(i,a)}static getCharCode(i,a=0){return i.charCodeAt(a)}static getCharAt(i){return String.fromCharCode(i)}}K.SHIFT_JIS=U.SJIS.getName(),K.GB2312="GB2312",K.ISO88591=U.ISO8859_1.getName(),K.EUC_JP="EUC_JP",K.UTF8=U.UTF8.getName(),K.PLATFORM_DEFAULT_ENCODING=K.UTF8,K.ASSUME_SHIFT_JIS=!1;class se{constructor(i=""){this.value=i}enableDecoding(i){return this.encoding=i,this}append(i){return typeof i=="string"?this.value+=i.toString():this.encoding?this.value+=K.castAsNonUtf8Char(i,this.encoding):this.value+=String.fromCharCode(i),this}appendChars(i,a,c){for(let d=a;a<a+c;d++)this.append(i[d]);return this}length(){return this.value.length}charAt(i){return this.value.charAt(i)}deleteCharAt(i){this.value=this.value.substr(0,i)+this.value.substring(i+1)}setCharAt(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+1)}substring(i,a){return this.value.substring(i,a)}setLengthToZero(){this.value=""}toString(){return this.value}insert(i,a){this.value=this.value.substr(0,i)+a+this.value.substr(i+a.length)}}class G{constructor(i,a,c,d){if(this.width=i,this.height=a,this.rowSize=c,this.bits=d,a==null&&(a=i),this.height=a,i<1||a<1)throw new w("Both dimensions must be greater than 0");c==null&&(c=Math.floor((i+31)/32)),this.rowSize=c,d==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(i){const a=i.length,c=i[0].length,d=new G(c,a);for(let f=0;f<a;f++){const g=i[f];for(let y=0;y<c;y++)g[y]&&d.set(y,f)}return d}static parseFromString(i,a,c){if(i===null)throw new w("stringRepresentation cannot be null");const d=new Array(i.length);let f=0,g=0,y=-1,v=0,C=0;for(;C<i.length;)if(i.charAt(C)===`
`||i.charAt(C)==="\r"){if(f>g){if(y===-1)y=f-g;else if(f-g!==y)throw new w("row lengths do not match");g=f,v++}C++}else if(i.substring(C,C+a.length)===a)C+=a.length,d[f]=!0,f++;else if(i.substring(C,C+c.length)===c)C+=c.length,d[f]=!1,f++;else throw new w("illegal character encountered: "+i.substring(C));if(f>g){if(y===-1)y=f-g;else if(f-g!==y)throw new w("row lengths do not match");v++}const O=new G(y,v);for(let D=0;D<f;D++)d[D]&&O.set(Math.floor(D%y),Math.floor(D/y));return O}get(i,a){const c=a*this.rowSize+Math.floor(i/32);return(this.bits[c]>>>(i&31)&1)!==0}set(i,a){const c=a*this.rowSize+Math.floor(i/32);this.bits[c]|=1<<(i&31)&4294967295}unset(i,a){const c=a*this.rowSize+Math.floor(i/32);this.bits[c]&=~(1<<(i&31)&4294967295)}flip(i,a){const c=a*this.rowSize+Math.floor(i/32);this.bits[c]^=1<<(i&31)&4294967295}xor(i){if(this.width!==i.getWidth()||this.height!==i.getHeight()||this.rowSize!==i.getRowSize())throw new w("input matrix dimensions do not match");const a=new M(Math.floor(this.width/32)+1),c=this.rowSize,d=this.bits;for(let f=0,g=this.height;f<g;f++){const y=f*c,v=i.getRow(f,a).getBitArray();for(let C=0;C<c;C++)d[y+C]^=v[C]}}clear(){const i=this.bits,a=i.length;for(let c=0;c<a;c++)i[c]=0}setRegion(i,a,c,d){if(a<0||i<0)throw new w("Left and top must be nonnegative");if(d<1||c<1)throw new w("Height and width must be at least 1");const f=i+c,g=a+d;if(g>this.height||f>this.width)throw new w("The region must fit inside the matrix");const y=this.rowSize,v=this.bits;for(let C=a;C<g;C++){const O=C*y;for(let D=i;D<f;D++)v[O+Math.floor(D/32)]|=1<<(D&31)&4294967295}}getRow(i,a){a==null||a.getSize()<this.width?a=new M(this.width):a.clear();const c=this.rowSize,d=this.bits,f=i*c;for(let g=0;g<c;g++)a.setBulk(g*32,d[f+g]);return a}setRow(i,a){E.arraycopy(a.getBitArray(),0,this.bits,i*this.rowSize,this.rowSize)}rotate180(){const i=this.getWidth(),a=this.getHeight();let c=new M(i),d=new M(i);for(let f=0,g=Math.floor((a+1)/2);f<g;f++)c=this.getRow(f,c),d=this.getRow(a-1-f,d),c.reverse(),d.reverse(),this.setRow(f,d),this.setRow(a-1-f,c)}getEnclosingRectangle(){const i=this.width,a=this.height,c=this.rowSize,d=this.bits;let f=i,g=a,y=-1,v=-1;for(let C=0;C<a;C++)for(let O=0;O<c;O++){const D=d[C*c+O];if(D!==0){if(C<g&&(g=C),C>v&&(v=C),O*32<f){let j=0;for(;!(D<<31-j&4294967295);)j++;O*32+j<f&&(f=O*32+j)}if(O*32+31>y){let j=31;for(;!(D>>>j);)j--;O*32+j>y&&(y=O*32+j)}}}return y<f||v<g?null:Int32Array.from([f,g,y-f+1,v-g+1])}getTopLeftOnBit(){const i=this.rowSize,a=this.bits;let c=0;for(;c<a.length&&a[c]===0;)c++;if(c===a.length)return null;const d=c/i;let f=c%i*32;const g=a[c];let y=0;for(;!(g<<31-y&4294967295);)y++;return f+=y,Int32Array.from([f,d])}getBottomRightOnBit(){const i=this.rowSize,a=this.bits;let c=a.length-1;for(;c>=0&&a[c]===0;)c--;if(c<0)return null;const d=Math.floor(c/i);let f=Math.floor(c%i)*32;const g=a[c];let y=31;for(;!(g>>>y);)y--;return f+=y,Int32Array.from([f,d])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(i){if(!(i instanceof G))return!1;const a=i;return this.width===a.width&&this.height===a.height&&this.rowSize===a.rowSize&&S.equals(this.bits,a.bits)}hashCode(){let i=this.width;return i=31*i+this.width,i=31*i+this.height,i=31*i+this.rowSize,i=31*i+S.hashCode(this.bits),i}toString(i="X ",a="  ",c=`
`){return this.buildToString(i,a,c)}buildToString(i,a,c){let d=new se;for(let f=0,g=this.height;f<g;f++){for(let y=0,v=this.width;y<v;y++)d.append(this.get(y,f)?i:a);d.append(c)}return d.toString()}clone(){return new G(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends h{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class re extends T{constructor(i){super(i),this.luminances=re.EMPTY,this.buckets=new Int32Array(re.LUMINANCE_BUCKETS)}getBlackRow(i,a){const c=this.getLuminanceSource(),d=c.getWidth();a==null||a.getSize()<d?a=new M(d):a.clear(),this.initArrays(d);const f=c.getRow(i,this.luminances),g=this.buckets;for(let v=0;v<d;v++)g[(f[v]&255)>>re.LUMINANCE_SHIFT]++;const y=re.estimateBlackPoint(g);if(d<3)for(let v=0;v<d;v++)(f[v]&255)<y&&a.set(v);else{let v=f[0]&255,C=f[1]&255;for(let O=1;O<d-1;O++){const D=f[O+1]&255;(C*4-v-D)/2<y&&a.set(O),v=C,C=D}}return a}getBlackMatrix(){const i=this.getLuminanceSource(),a=i.getWidth(),c=i.getHeight(),d=new G(a,c);this.initArrays(a);const f=this.buckets;for(let v=1;v<5;v++){const C=Math.floor(c*v/5),O=i.getRow(C,this.luminances),D=Math.floor(a*4/5);for(let j=Math.floor(a/5);j<D;j++){const z=O[j]&255;f[z>>re.LUMINANCE_SHIFT]++}}const g=re.estimateBlackPoint(f),y=i.getMatrix();for(let v=0;v<c;v++){const C=v*a;for(let O=0;O<a;O++)(y[C+O]&255)<g&&d.set(O,v)}return d}createBinarizer(i){return new re(i)}initArrays(i){this.luminances.length<i&&(this.luminances=new Uint8ClampedArray(i));const a=this.buckets;for(let c=0;c<re.LUMINANCE_BUCKETS;c++)a[c]=0}static estimateBlackPoint(i){const a=i.length;let c=0,d=0,f=0;for(let O=0;O<a;O++)i[O]>f&&(d=O,f=i[O]),i[O]>c&&(c=i[O]);let g=0,y=0;for(let O=0;O<a;O++){const D=O-d,j=i[O]*D*D;j>y&&(g=O,y=j)}if(d>g){const O=d;d=g,g=O}if(g-d<=a/16)throw new H;let v=g-1,C=-1;for(let O=g-1;O>d;O--){const D=O-d,j=D*D*(g-O)*(c-i[O]);j>C&&(v=O,C=j)}return v<<re.LUMINANCE_SHIFT}}re.LUMINANCE_BITS=5,re.LUMINANCE_SHIFT=8-re.LUMINANCE_BITS,re.LUMINANCE_BUCKETS=1<<re.LUMINANCE_BITS,re.EMPTY=Uint8ClampedArray.from([0]);class X extends re{constructor(i){super(i),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const i=this.getLuminanceSource(),a=i.getWidth(),c=i.getHeight();if(a>=X.MINIMUM_DIMENSION&&c>=X.MINIMUM_DIMENSION){const d=i.getMatrix();let f=a>>X.BLOCK_SIZE_POWER;a&X.BLOCK_SIZE_MASK&&f++;let g=c>>X.BLOCK_SIZE_POWER;c&X.BLOCK_SIZE_MASK&&g++;const y=X.calculateBlackPoints(d,f,g,a,c),v=new G(a,c);X.calculateThresholdForBlock(d,f,g,a,c,y,v),this.matrix=v}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(i){return new X(i)}static calculateThresholdForBlock(i,a,c,d,f,g,y){const v=f-X.BLOCK_SIZE,C=d-X.BLOCK_SIZE;for(let O=0;O<c;O++){let D=O<<X.BLOCK_SIZE_POWER;D>v&&(D=v);const j=X.cap(O,2,c-3);for(let z=0;z<a;z++){let W=z<<X.BLOCK_SIZE_POWER;W>C&&(W=C);const $=X.cap(z,2,a-3);let q=0;for(let ge=-2;ge<=2;ge++){const me=g[j+ge];q+=me[$-2]+me[$-1]+me[$]+me[$+1]+me[$+2]}const te=q/25;X.thresholdBlock(i,W,D,te,d,y)}}}static cap(i,a,c){return i<a?a:i>c?c:i}static thresholdBlock(i,a,c,d,f,g){for(let y=0,v=c*f+a;y<X.BLOCK_SIZE;y++,v+=f)for(let C=0;C<X.BLOCK_SIZE;C++)(i[v+C]&255)<=d&&g.set(a+C,c+y)}static calculateBlackPoints(i,a,c,d,f){const g=f-X.BLOCK_SIZE,y=d-X.BLOCK_SIZE,v=new Array(c);for(let C=0;C<c;C++){v[C]=new Int32Array(a);let O=C<<X.BLOCK_SIZE_POWER;O>g&&(O=g);for(let D=0;D<a;D++){let j=D<<X.BLOCK_SIZE_POWER;j>y&&(j=y);let z=0,W=255,$=0;for(let te=0,ge=O*d+j;te<X.BLOCK_SIZE;te++,ge+=d){for(let me=0;me<X.BLOCK_SIZE;me++){const he=i[ge+me]&255;z+=he,he<W&&(W=he),he>$&&($=he)}if($-W>X.MIN_DYNAMIC_RANGE)for(te++,ge+=d;te<X.BLOCK_SIZE;te++,ge+=d)for(let me=0;me<X.BLOCK_SIZE;me++)z+=i[ge+me]&255}let q=z>>X.BLOCK_SIZE_POWER*2;if($-W<=X.MIN_DYNAMIC_RANGE&&(q=W/2,C>0&&D>0)){const te=(v[C-1][D]+2*v[C][D-1]+v[C-1][D-1])/4;W<te&&(q=te)}v[C][D]=q}}return v}}X.BLOCK_SIZE_POWER=3,X.BLOCK_SIZE=1<<X.BLOCK_SIZE_POWER,X.BLOCK_SIZE_MASK=X.BLOCK_SIZE-1,X.MINIMUM_DIMENSION=X.BLOCK_SIZE*5,X.MIN_DYNAMIC_RANGE=24;class Y{constructor(i,a){this.width=i,this.height=a}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(i,a,c,d){throw new J("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new J("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new J("This luminance source does not support rotation by 45 degrees.")}toString(){const i=new Uint8ClampedArray(this.width);let a=new se;for(let c=0;c<this.height;c++){const d=this.getRow(c,i);for(let f=0;f<this.width;f++){const g=d[f]&255;let y;g<64?y="#":g<128?y="+":g<192?y=".":y=" ",a.append(y)}a.append(`
`)}return a.toString()}}class Z extends Y{constructor(i){super(i.getWidth(),i.getHeight()),this.delegate=i}getRow(i,a){const c=this.delegate.getRow(i,a),d=this.getWidth();for(let f=0;f<d;f++)c[f]=255-(c[f]&255);return c}getMatrix(){const i=this.delegate.getMatrix(),a=this.getWidth()*this.getHeight(),c=new Uint8ClampedArray(a);for(let d=0;d<a;d++)c[d]=255-(i[d]&255);return c}isCropSupported(){return this.delegate.isCropSupported()}crop(i,a,c,d){return new Z(this.delegate.crop(i,a,c,d))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Z(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Z(this.delegate.rotateCounterClockwise45())}}class oe extends Y{constructor(i){super(i.width,i.height),this.canvas=i,this.tempCanvasElement=null,this.buffer=oe.makeBufferFromCanvasImageData(i)}static makeBufferFromCanvasImageData(i){const a=i.getContext("2d").getImageData(0,0,i.width,i.height);return oe.toGrayscaleBuffer(a.data,i.width,i.height)}static toGrayscaleBuffer(i,a,c){const d=new Uint8ClampedArray(a*c);for(let f=0,g=0,y=i.length;f<y;f+=4,g++){let v;if(i[f+3]===0)v=255;else{const O=i[f],D=i[f+1],j=i[f+2];v=306*O+601*D+117*j+512>>10}d[g]=v}return d}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const c=this.getWidth(),d=i*c;return a===null?a=this.buffer.slice(d,d+c):(a.length<c&&(a=new Uint8ClampedArray(c)),a.set(this.buffer.slice(d,d+c))),a}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(i,a,c,d){return super.crop(i,a,c,d),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const i=this.canvas.ownerDocument.createElement("canvas");i.width=this.canvas.width,i.height=this.canvas.height,this.tempCanvasElement=i}return this.tempCanvasElement}rotate(i){const a=this.getTempCanvasElement(),c=a.getContext("2d"),d=i*oe.DEGREE_TO_RADIANS,f=this.canvas.width,g=this.canvas.height,y=Math.ceil(Math.abs(Math.cos(d))*f+Math.abs(Math.sin(d))*g),v=Math.ceil(Math.abs(Math.sin(d))*f+Math.abs(Math.cos(d))*g);return a.width=y,a.height=v,c.translate(y/2,v/2),c.rotate(d),c.drawImage(this.canvas,f/-2,g/-2),this.buffer=oe.makeBufferFromCanvasImageData(a),this}invert(){return new Z(this)}}oe.DEGREE_TO_RADIANS=Math.PI/180;class Ee{constructor(i,a,c){this.deviceId=i,this.label=a,this.kind="videoinput",this.groupId=c||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var de=(globalThis||Uc||self||window||void 0)&&(globalThis||Uc||self||window||void 0).__awaiter||function(P,i,a,c){function d(f){return f instanceof a?f:new a(function(g){g(f)})}return new(a||(a=Promise))(function(f,g){function y(O){try{C(c.next(O))}catch(D){g(D)}}function v(O){try{C(c.throw(O))}catch(D){g(D)}}function C(O){O.done?f(O.value):d(O.value).then(y,v)}C((c=c.apply(P,i||[])).next())})};class ae{constructor(i,a=500,c){this.reader=i,this.timeBetweenScansMillis=a,this._hints=c,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(i){this._timeBetweenDecodingAttempts=i<0?0:i}set hints(i){this._hints=i||null}get hints(){return this._hints}listVideoInputDevices(){return de(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const i=yield navigator.mediaDevices.enumerateDevices(),a=[];for(const c of i){const d=c.kind==="video"?"videoinput":c.kind;if(d!=="videoinput")continue;const f=c.deviceId||c.id,g=c.label||`Video device ${a.length+1}`,y=c.groupId,v={deviceId:f,label:g,kind:d,groupId:y};a.push(v)}return a})}getVideoInputDevices(){return de(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(a=>new Ee(a.deviceId,a.label))})}findDeviceById(i){return de(this,void 0,void 0,function*(){const a=yield this.listVideoInputDevices();return a?a.find(c=>c.deviceId===i):null})}decodeFromInputVideoDevice(i,a){return de(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(i,a)})}decodeOnceFromVideoDevice(i,a){return de(this,void 0,void 0,function*(){this.reset();let c;i?c={deviceId:{exact:i}}:c={facingMode:"environment"};const d={video:c};return yield this.decodeOnceFromConstraints(d,a)})}decodeOnceFromConstraints(i,a){return de(this,void 0,void 0,function*(){const c=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeOnceFromStream(c,a)})}decodeOnceFromStream(i,a){return de(this,void 0,void 0,function*(){this.reset();const c=yield this.attachStreamToVideo(i,a);return yield this.decodeOnce(c)})}decodeFromInputVideoDeviceContinuously(i,a,c){return de(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(i,a,c)})}decodeFromVideoDevice(i,a,c){return de(this,void 0,void 0,function*(){let d;i?d={deviceId:{exact:i}}:d={facingMode:"environment"};const f={video:d};return yield this.decodeFromConstraints(f,a,c)})}decodeFromConstraints(i,a,c){return de(this,void 0,void 0,function*(){const d=yield navigator.mediaDevices.getUserMedia(i);return yield this.decodeFromStream(d,a,c)})}decodeFromStream(i,a,c){return de(this,void 0,void 0,function*(){this.reset();const d=yield this.attachStreamToVideo(i,a);return yield this.decodeContinuously(d,c)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(i,a){return de(this,void 0,void 0,function*(){const c=this.prepareVideoElement(a);return this.addVideoSource(c,i),this.videoElement=c,this.stream=i,yield this.playVideoOnLoadAsync(c),c})}playVideoOnLoadAsync(i){return new Promise((a,c)=>this.playVideoOnLoad(i,()=>a()))}playVideoOnLoad(i,a){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(i),i.addEventListener("ended",this.videoEndedListener),i.addEventListener("canplay",this.videoCanPlayListener),i.addEventListener("playing",a),this.tryPlayVideo(i)}isVideoPlaying(i){return i.currentTime>0&&!i.paused&&!i.ended&&i.readyState>2}tryPlayVideo(i){return de(this,void 0,void 0,function*(){if(this.isVideoPlaying(i)){console.warn("Trying to play video that is already playing.");return}try{yield i.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(i,a){const c=document.getElementById(i);if(!c)throw new x(`element with id '${i}' not found`);if(c.nodeName.toLowerCase()!==a.toLowerCase())throw new x(`element with id '${i}' must be an ${a} element`);return c}decodeFromImage(i,a){if(!i&&!a)throw new x("either imageElement with a src set or an url must be provided");return a&&!i?this.decodeFromImageUrl(a):this.decodeFromImageElement(i)}decodeFromVideo(i,a){if(!i&&!a)throw new x("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrl(a):this.decodeFromVideoElement(i)}decodeFromVideoContinuously(i,a,c){if(i===void 0&&a===void 0)throw new x("Either an element with a src set or an URL must be provided");return a&&!i?this.decodeFromVideoUrlContinuously(a,c):this.decodeFromVideoElementContinuously(i,c)}decodeFromImageElement(i){if(!i)throw new x("An image element must be provided.");this.reset();const a=this.prepareImageElement(i);this.imageElement=a;let c;return this.isImageLoaded(a)?c=this.decodeOnce(a,!1,!0):c=this._decodeOnLoadImage(a),c}decodeFromVideoElement(i){const a=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideo(a)}decodeFromVideoElementContinuously(i,a){const c=this._decodeFromVideoElementSetup(i);return this._decodeOnLoadVideoContinuously(c,a)}_decodeFromVideoElementSetup(i){if(!i)throw new x("A video element must be provided.");this.reset();const a=this.prepareVideoElement(i);return this.videoElement=a,a}decodeFromImageUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();const a=this.prepareImageElement();this.imageElement=a;const c=this._decodeOnLoadImage(a);return a.src=i,c}decodeFromVideoUrl(i){if(!i)throw new x("An URL must be provided.");this.reset();const a=this.prepareVideoElement(),c=this.decodeFromVideoElement(a);return a.src=i,c}decodeFromVideoUrlContinuously(i,a){if(!i)throw new x("An URL must be provided.");this.reset();const c=this.prepareVideoElement(),d=this.decodeFromVideoElementContinuously(c,a);return c.src=i,d}_decodeOnLoadImage(i){return new Promise((a,c)=>{this.imageLoadedListener=()=>this.decodeOnce(i,!1,!0).then(a,c),i.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(i){return de(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(i),yield this.decodeOnce(i)})}_decodeOnLoadVideoContinuously(i,a){return de(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(i),this.decodeContinuously(i,a)})}isImageLoaded(i){return!(!i.complete||i.naturalWidth===0)}prepareImageElement(i){let a;return typeof i>"u"&&(a=document.createElement("img"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"img")),i instanceof HTMLImageElement&&(a=i),a}prepareVideoElement(i){let a;return!i&&typeof document<"u"&&(a=document.createElement("video"),a.width=200,a.height=200),typeof i=="string"&&(a=this.getMediaElement(i,"video")),i instanceof HTMLVideoElement&&(a=i),a.setAttribute("autoplay","true"),a.setAttribute("muted","true"),a.setAttribute("playsinline","true"),a}decodeOnce(i,a=!0,c=!0){this._stopAsyncDecode=!1;const d=(f,g)=>{if(this._stopAsyncDecode){g(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const y=this.decode(i);f(y)}catch(y){const v=a&&y instanceof H,O=(y instanceof b||y instanceof L)&&c;if(v||O)return setTimeout(d,this._timeBetweenDecodingAttempts,f,g);g(y)}};return new Promise((f,g)=>d(f,g))}decodeContinuously(i,a){this._stopContinuousDecode=!1;const c=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const d=this.decode(i);a(d,null),setTimeout(c,this.timeBetweenScansMillis)}catch(d){a(null,d);const f=d instanceof b||d instanceof L,g=d instanceof H;(f||g)&&setTimeout(c,this._timeBetweenDecodingAttempts)}};c()}decode(i){const a=this.createBinaryBitmap(i);return this.decodeBitmap(a)}_isHTMLVideoElement(i){return i.videoWidth!==0}drawFrameOnCanvas(i,a,c){a||(a={sx:0,sy:0,sWidth:i.videoWidth,sHeight:i.videoHeight,dx:0,dy:0,dWidth:i.videoWidth,dHeight:i.videoHeight}),c||(c=this.captureCanvasContext),c.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}drawImageOnCanvas(i,a,c=this.captureCanvasContext){a||(a={sx:0,sy:0,sWidth:i.naturalWidth,sHeight:i.naturalHeight,dx:0,dy:0,dWidth:i.naturalWidth,dHeight:i.naturalHeight}),c||(c=this.captureCanvasContext),c.drawImage(i,a.sx,a.sy,a.sWidth,a.sHeight,a.dx,a.dy,a.dWidth,a.dHeight)}createBinaryBitmap(i){this.getCaptureCanvasContext(i),this._isHTMLVideoElement(i)?this.drawFrameOnCanvas(i):this.drawImageOnCanvas(i);const a=this.getCaptureCanvas(i),c=new oe(a),d=new X(c);return new _(d)}getCaptureCanvasContext(i){if(!this.captureCanvasContext){const c=this.getCaptureCanvas(i).getContext("2d");this.captureCanvasContext=c}return this.captureCanvasContext}getCaptureCanvas(i){if(!this.captureCanvas){const a=this.createCaptureCanvas(i);this.captureCanvas=a}return this.captureCanvas}decodeBitmap(i){return this.reader.decode(i,this._hints)}createCaptureCanvas(i){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const a=document.createElement("canvas");let c,d;return typeof i<"u"&&(i instanceof HTMLVideoElement?(c=i.videoWidth,d=i.videoHeight):i instanceof HTMLImageElement&&(c=i.naturalWidth||i.width,d=i.naturalHeight||i.height)),a.style.width=c+"px",a.style.height=d+"px",a.width=c,a.height=d,a}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(i=>i.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(i,a){try{i.srcObject=a}catch{i.src=URL.createObjectURL(a)}}cleanVideoSource(i){try{i.srcObject=null}catch{i.src=""}this.videoElement.removeAttribute("src")}}class fe{constructor(i,a,c=a==null?0:8*a.length,d,f,g=E.currentTimeMillis()){this.text=i,this.rawBytes=a,this.numBits=c,this.resultPoints=d,this.format=f,this.timestamp=g,this.text=i,this.rawBytes=a,c==null?this.numBits=a==null?0:8*a.length:this.numBits=c,this.resultPoints=d,this.format=f,this.resultMetadata=null,g==null?this.timestamp=E.currentTimeMillis():this.timestamp=g}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(i,a){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(i,a)}putAllMetadata(i){i!==null&&(this.resultMetadata===null?this.resultMetadata=i:this.resultMetadata=new Map(i))}addResultPoints(i){const a=this.resultPoints;if(a===null)this.resultPoints=i;else if(i!==null&&i.length>0){const c=new Array(a.length+i.length);E.arraycopy(a,0,c,0,a.length),E.arraycopy(i,0,c,a.length,i.length),this.resultPoints=c}}getTimestamp(){return this.timestamp}toString(){return this.text}}var Ue;(function(P){P[P.AZTEC=0]="AZTEC",P[P.CODABAR=1]="CODABAR",P[P.CODE_39=2]="CODE_39",P[P.CODE_93=3]="CODE_93",P[P.CODE_128=4]="CODE_128",P[P.DATA_MATRIX=5]="DATA_MATRIX",P[P.EAN_8=6]="EAN_8",P[P.EAN_13=7]="EAN_13",P[P.ITF=8]="ITF",P[P.MAXICODE=9]="MAXICODE",P[P.PDF_417=10]="PDF_417",P[P.QR_CODE=11]="QR_CODE",P[P.RSS_14=12]="RSS_14",P[P.RSS_EXPANDED=13]="RSS_EXPANDED",P[P.UPC_A=14]="UPC_A",P[P.UPC_E=15]="UPC_E",P[P.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Ue||(Ue={}));var ve=Ue,_e;(function(P){P[P.OTHER=0]="OTHER",P[P.ORIENTATION=1]="ORIENTATION",P[P.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",P[P.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",P[P.ISSUE_NUMBER=4]="ISSUE_NUMBER",P[P.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",P[P.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",P[P.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",P[P.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",P[P.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",P[P.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(_e||(_e={}));var Me=_e;class ut{constructor(i,a,c,d,f=-1,g=-1){this.rawBytes=i,this.text=a,this.byteSegments=c,this.ecLevel=d,this.structuredAppendSequenceNumber=f,this.structuredAppendParity=g,this.numBits=i==null?0:8*i.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(i){this.numBits=i}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(i){this.errorsCorrected=i}getErasures(){return this.erasures}setErasures(i){this.erasures=i}getOther(){return this.other}setOther(i){this.other=i}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Xe{exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}static addOrSubtract(i,a){return i^a}}class je{constructor(i,a){if(a.length===0)throw new w;this.field=i;const c=a.length;if(c>1&&a[0]===0){let d=1;for(;d<c&&a[d]===0;)d++;d===c?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(c-d),E.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);const a=this.coefficients;let c;if(i===1){c=0;for(let g=0,y=a.length;g!==y;g++){const v=a[g];c=Xe.addOrSubtract(c,v)}return c}c=a[0];const d=a.length,f=this.field;for(let g=1;g<d;g++)c=Xe.addOrSubtract(f.multiply(i,c),a[g]);return c}addOrSubtract(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,c=i.coefficients;if(a.length>c.length){const g=a;a=c,c=g}let d=new Int32Array(c.length);const f=c.length-a.length;E.arraycopy(c,0,d,0,f);for(let g=f;g<c.length;g++)d[g]=Xe.addOrSubtract(a[g-f],c[g]);return new je(this.field,d)}multiply(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(this.isZero()||i.isZero())return this.field.getZero();const a=this.coefficients,c=a.length,d=i.coefficients,f=d.length,g=new Int32Array(c+f-1),y=this.field;for(let v=0;v<c;v++){const C=a[v];for(let O=0;O<f;O++)g[v+O]=Xe.addOrSubtract(g[v+O],y.multiply(C,d[O]))}return new je(y,g)}multiplyScalar(i){if(i===0)return this.field.getZero();if(i===1)return this;const a=this.coefficients.length,c=this.field,d=new Int32Array(a),f=this.coefficients;for(let g=0;g<a;g++)d[g]=c.multiply(f[g],i);return new je(c,d)}multiplyByMonomial(i,a){if(i<0)throw new w;if(a===0)return this.field.getZero();const c=this.coefficients,d=c.length,f=new Int32Array(d+i),g=this.field;for(let y=0;y<d;y++)f[y]=g.multiply(c[y],a);return new je(g,f)}divide(i){if(!this.field.equals(i.field))throw new w("GenericGFPolys do not have same GenericGF field");if(i.isZero())throw new w("Divide by 0");const a=this.field;let c=a.getZero(),d=this;const f=i.getCoefficient(i.getDegree()),g=a.inverse(f);for(;d.getDegree()>=i.getDegree()&&!d.isZero();){const y=d.getDegree()-i.getDegree(),v=a.multiply(d.getCoefficient(d.getDegree()),g),C=i.multiplyByMonomial(y,v),O=a.buildMonomial(y,v);c=c.addOrSubtract(O),d=d.addOrSubtract(C)}return[c,d]}toString(){let i="";for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);if(c!==0){if(c<0?(i+=" - ",c=-c):i.length>0&&(i+=" + "),a===0||c!==1){const d=this.field.log(c);d===0?i+="1":d===1?i+="a":(i+="a^",i+=d)}a!==0&&(a===1?i+="x":(i+="x^",i+=a))}}return i}}class Je extends h{}Je.kind="ArithmeticException";class Be extends Xe{constructor(i,a,c){super(),this.primitive=i,this.size=a,this.generatorBase=c;const d=new Int32Array(a);let f=1;for(let y=0;y<a;y++)d[y]=f,f*=2,f>=a&&(f^=i,f&=a-1);this.expTable=d;const g=new Int32Array(a);for(let y=0;y<a-1;y++)g[d[y]]=y;this.logTable=g,this.zero=new je(this,Int32Array.from([0])),this.one=new je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new w;if(a===0)return this.zero;const c=new Int32Array(i+1);return c[0]=a,new je(this,c)}inverse(i){if(i===0)throw new Je;return this.expTable[this.size-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+A.toHexString(this.primitive)+","+this.size+")"}equals(i){return i===this}}Be.AZTEC_DATA_12=new Be(4201,4096,1),Be.AZTEC_DATA_10=new Be(1033,1024,1),Be.AZTEC_DATA_6=new Be(67,64,1),Be.AZTEC_PARAM=new Be(19,16,1),Be.QR_CODE_FIELD_256=new Be(285,256,0),Be.DATA_MATRIX_FIELD_256=new Be(301,256,1),Be.AZTEC_DATA_8=Be.DATA_MATRIX_FIELD_256,Be.MAXICODE_FIELD_64=Be.AZTEC_DATA_6;class cr extends h{}cr.kind="ReedSolomonException";class yr extends h{}yr.kind="IllegalStateException";class Ar{constructor(i){this.field=i}decode(i,a){const c=this.field,d=new je(c,i),f=new Int32Array(a);let g=!0;for(let z=0;z<a;z++){const W=d.evaluateAt(c.exp(z+c.getGeneratorBase()));f[f.length-1-z]=W,W!==0&&(g=!1)}if(g)return;const y=new je(c,f),v=this.runEuclideanAlgorithm(c.buildMonomial(a,1),y,a),C=v[0],O=v[1],D=this.findErrorLocations(C),j=this.findErrorMagnitudes(O,D);for(let z=0;z<D.length;z++){const W=i.length-1-c.log(D[z]);if(W<0)throw new cr("Bad error location");i[W]=Be.addOrSubtract(i[W],j[z])}}runEuclideanAlgorithm(i,a,c){if(i.getDegree()<a.getDegree()){const z=i;i=a,a=z}const d=this.field;let f=i,g=a,y=d.getZero(),v=d.getOne();for(;g.getDegree()>=(c/2|0);){let z=f,W=y;if(f=g,y=v,f.isZero())throw new cr("r_{i-1} was zero");g=z;let $=d.getZero();const q=f.getCoefficient(f.getDegree()),te=d.inverse(q);for(;g.getDegree()>=f.getDegree()&&!g.isZero();){const ge=g.getDegree()-f.getDegree(),me=d.multiply(g.getCoefficient(g.getDegree()),te);$=$.addOrSubtract(d.buildMonomial(ge,me)),g=g.addOrSubtract(f.multiplyByMonomial(ge,me))}if(v=$.multiply(y).addOrSubtract(W),g.getDegree()>=f.getDegree())throw new yr("Division algorithm failed to reduce polynomial?")}const C=v.getCoefficient(0);if(C===0)throw new cr("sigmaTilde(0) was zero");const O=d.inverse(C),D=v.multiplyScalar(O),j=g.multiplyScalar(O);return[D,j]}findErrorLocations(i){const a=i.getDegree();if(a===1)return Int32Array.from([i.getCoefficient(1)]);const c=new Int32Array(a);let d=0;const f=this.field;for(let g=1;g<f.getSize()&&d<a;g++)i.evaluateAt(g)===0&&(c[d]=f.inverse(g),d++);if(d!==a)throw new cr("Error locator degree does not match number of roots");return c}findErrorMagnitudes(i,a){const c=a.length,d=new Int32Array(c),f=this.field;for(let g=0;g<c;g++){const y=f.inverse(a[g]);let v=1;for(let C=0;C<c;C++)if(g!==C){const O=f.multiply(a[C],y),D=O&1?O&-2:O|1;v=f.multiply(v,D)}d[g]=f.multiply(i.evaluateAt(y),f.inverse(v)),f.getGeneratorBase()!==0&&(d[g]=f.multiply(d[g],y))}return d}}var ce;(function(P){P[P.UPPER=0]="UPPER",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.DIGIT=3]="DIGIT",P[P.PUNCT=4]="PUNCT",P[P.BINARY=5]="BINARY"})(ce||(ce={}));class Ie{decode(i){this.ddata=i;let a=i.getBits(),c=this.extractBits(a),d=this.correctBits(c),f=Ie.convertBoolArrayToByteArray(d),g=Ie.getEncodedData(d),y=new ut(f,g,null,null);return y.setNumBits(d.length),y}static highLevelDecode(i){return this.getEncodedData(i)}static getEncodedData(i){let a=i.length,c=ce.UPPER,d=ce.UPPER,f="",g=0;for(;g<a;)if(d===ce.BINARY){if(a-g<5)break;let y=Ie.readCode(i,g,5);if(g+=5,y===0){if(a-g<11)break;y=Ie.readCode(i,g,11)+31,g+=11}for(let v=0;v<y;v++){if(a-g<8){g=a;break}const C=Ie.readCode(i,g,8);f+=K.castAsNonUtf8Char(C),g+=8}d=c}else{let y=d===ce.DIGIT?4:5;if(a-g<y)break;let v=Ie.readCode(i,g,y);g+=y;let C=Ie.getCharacter(d,v);C.startsWith("CTRL_")?(c=d,d=Ie.getTable(C.charAt(5)),C.charAt(6)==="L"&&(c=d)):(f+=C,d=c)}return f}static getTable(i){switch(i){case"L":return ce.LOWER;case"P":return ce.PUNCT;case"M":return ce.MIXED;case"D":return ce.DIGIT;case"B":return ce.BINARY;case"U":default:return ce.UPPER}}static getCharacter(i,a){switch(i){case ce.UPPER:return Ie.UPPER_TABLE[a];case ce.LOWER:return Ie.LOWER_TABLE[a];case ce.MIXED:return Ie.MIXED_TABLE[a];case ce.PUNCT:return Ie.PUNCT_TABLE[a];case ce.DIGIT:return Ie.DIGIT_TABLE[a];default:throw new yr("Bad table")}}correctBits(i){let a,c;this.ddata.getNbLayers()<=2?(c=6,a=Be.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(c=8,a=Be.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(c=10,a=Be.AZTEC_DATA_10):(c=12,a=Be.AZTEC_DATA_12);let d=this.ddata.getNbDatablocks(),f=i.length/c;if(f<d)throw new L;let g=i.length%c,y=new Int32Array(f);for(let j=0;j<f;j++,g+=c)y[j]=Ie.readCode(i,g,c);try{new Ar(a).decode(y,f-d)}catch(j){throw new L(j)}let v=(1<<c)-1,C=0;for(let j=0;j<d;j++){let z=y[j];if(z===0||z===v)throw new L;(z===1||z===v-1)&&C++}let O=new Array(d*c-C),D=0;for(let j=0;j<d;j++){let z=y[j];if(z===1||z===v-1)O.fill(z>1,D,D+c-1),D+=c-1;else for(let W=c-1;W>=0;--W)O[D++]=(z&1<<W)!==0}return O}extractBits(i){let a=this.ddata.isCompact(),c=this.ddata.getNbLayers(),d=(a?11:14)+c*4,f=new Int32Array(d),g=new Array(this.totalBitsInLayer(c,a));if(a)for(let y=0;y<f.length;y++)f[y]=y;else{let y=d+1+2*A.truncDivision(A.truncDivision(d,2)-1,15),v=d/2,C=A.truncDivision(y,2);for(let O=0;O<v;O++){let D=O+A.truncDivision(O,15);f[v-O-1]=C-D-1,f[v+O]=C+D+1}}for(let y=0,v=0;y<c;y++){let C=(c-y)*4+(a?9:12),O=y*2,D=d-1-O;for(let j=0;j<C;j++){let z=j*2;for(let W=0;W<2;W++)g[v+z+W]=i.get(f[O+W],f[O+j]),g[v+2*C+z+W]=i.get(f[O+j],f[D-W]),g[v+4*C+z+W]=i.get(f[D-W],f[D-j]),g[v+6*C+z+W]=i.get(f[D-j],f[O+W])}v+=C*8}return g}static readCode(i,a,c){let d=0;for(let f=a;f<a+c;f++)d<<=1,i[f]&&(d|=1);return d}static readByte(i,a){let c=i.length-a;return c>=8?Ie.readCode(i,a,8):Ie.readCode(i,a,c)<<8-c}static convertBoolArrayToByteArray(i){let a=new Uint8Array((i.length+7)/8);for(let c=0;c<a.length;c++)a[c]=Ie.readByte(i,8*c);return a}totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}Ie.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ie.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ie.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ie.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ie.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class be{constructor(){}static round(i){return i===NaN?0:i<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:i>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:i+(i<0?-.5:.5)|0}static distance(i,a,c,d){const f=i-c,g=a-d;return Math.sqrt(f*f+g*g)}static sum(i){let a=0;for(let c=0,d=i.length;c!==d;c++){const f=i[c];a+=f}return a}}class vt{static floatToIntBits(i){return i}}vt.MAX_VALUE=Number.MAX_SAFE_INTEGER;class we{constructor(i,a){this.x=i,this.y=a}getX(){return this.x}getY(){return this.y}equals(i){if(i instanceof we){const a=i;return this.x===a.x&&this.y===a.y}return!1}hashCode(){return 31*vt.floatToIntBits(this.x)+vt.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(i){const a=this.distance(i[0],i[1]),c=this.distance(i[1],i[2]),d=this.distance(i[0],i[2]);let f,g,y;if(c>=a&&c>=d?(g=i[0],f=i[1],y=i[2]):d>=c&&d>=a?(g=i[1],f=i[0],y=i[2]):(g=i[2],f=i[0],y=i[1]),this.crossProductZ(f,g,y)<0){const v=f;f=y,y=v}i[0]=f,i[1]=g,i[2]=y}static distance(i,a){return be.distance(i.x,i.y,a.x,a.y)}static crossProductZ(i,a,c){const d=a.x,f=a.y;return(c.x-d)*(i.y-f)-(c.y-f)*(i.x-d)}}class Jr{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class tt extends Jr{constructor(i,a,c,d,f){super(i,a),this.compact=c,this.nbDatablocks=d,this.nbLayers=f}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Zt{constructor(i,a,c,d){this.image=i,this.height=i.getHeight(),this.width=i.getWidth(),a==null&&(a=Zt.INIT_SIZE),c==null&&(c=i.getWidth()/2|0),d==null&&(d=i.getHeight()/2|0);const f=a/2|0;if(this.leftInit=c-f,this.rightInit=c+f,this.upInit=d-f,this.downInit=d+f,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let i=this.leftInit,a=this.rightInit,c=this.upInit,d=this.downInit,f=!1,g=!0,y=!1,v=!1,C=!1,O=!1,D=!1;const j=this.width,z=this.height;for(;g;){g=!1;let W=!0;for(;(W||!v)&&a<j;)W=this.containsBlackPoint(c,d,a,!1),W?(a++,g=!0,v=!0):v||a++;if(a>=j){f=!0;break}let $=!0;for(;($||!C)&&d<z;)$=this.containsBlackPoint(i,a,d,!0),$?(d++,g=!0,C=!0):C||d++;if(d>=z){f=!0;break}let q=!0;for(;(q||!O)&&i>=0;)q=this.containsBlackPoint(c,d,i,!1),q?(i--,g=!0,O=!0):O||i--;if(i<0){f=!0;break}let te=!0;for(;(te||!D)&&c>=0;)te=this.containsBlackPoint(i,a,c,!0),te?(c--,g=!0,D=!0):D||c--;if(c<0){f=!0;break}g&&(y=!0)}if(!f&&y){const W=a-i;let $=null;for(let me=1;$===null&&me<W;me++)$=this.getBlackPointOnSegment(i,d-me,i+me,d);if($==null)throw new H;let q=null;for(let me=1;q===null&&me<W;me++)q=this.getBlackPointOnSegment(i,c+me,i+me,c);if(q==null)throw new H;let te=null;for(let me=1;te===null&&me<W;me++)te=this.getBlackPointOnSegment(a,c+me,a-me,c);if(te==null)throw new H;let ge=null;for(let me=1;ge===null&&me<W;me++)ge=this.getBlackPointOnSegment(a,d-me,a-me,d);if(ge==null)throw new H;return this.centerEdges(ge,$,te,q)}else throw new H}getBlackPointOnSegment(i,a,c,d){const f=be.round(be.distance(i,a,c,d)),g=(c-i)/f,y=(d-a)/f,v=this.image;for(let C=0;C<f;C++){const O=be.round(i+C*g),D=be.round(a+C*y);if(v.get(O,D))return new we(O,D)}return null}centerEdges(i,a,c,d){const f=i.getX(),g=i.getY(),y=a.getX(),v=a.getY(),C=c.getX(),O=c.getY(),D=d.getX(),j=d.getY(),z=Zt.CORR;return f<this.width/2?[new we(D-z,j+z),new we(y+z,v+z),new we(C-z,O-z),new we(f+z,g-z)]:[new we(D+z,j+z),new we(y+z,v-z),new we(C-z,O+z),new we(f-z,g-z)]}containsBlackPoint(i,a,c,d){const f=this.image;if(d){for(let g=i;g<=a;g++)if(f.get(g,c))return!0}else for(let g=i;g<=a;g++)if(f.get(c,g))return!0;return!1}}Zt.INIT_SIZE=10,Zt.CORR=1;class Go{static checkAndNudgePoints(i,a){const c=i.getWidth(),d=i.getHeight();let f=!0;for(let g=0;g<a.length&&f;g+=2){const y=Math.floor(a[g]),v=Math.floor(a[g+1]);if(y<-1||y>c||v<-1||v>d)throw new H;f=!1,y===-1?(a[g]=0,f=!0):y===c&&(a[g]=c-1,f=!0),v===-1?(a[g+1]=0,f=!0):v===d&&(a[g+1]=d-1,f=!0)}f=!0;for(let g=a.length-2;g>=0&&f;g-=2){const y=Math.floor(a[g]),v=Math.floor(a[g+1]);if(y<-1||y>c||v<-1||v>d)throw new H;f=!1,y===-1?(a[g]=0,f=!0):y===c&&(a[g]=c-1,f=!0),v===-1?(a[g+1]=0,f=!0):v===d&&(a[g+1]=d-1,f=!0)}}}class St{constructor(i,a,c,d,f,g,y,v,C){this.a11=i,this.a21=a,this.a31=c,this.a12=d,this.a22=f,this.a32=g,this.a13=y,this.a23=v,this.a33=C}static quadrilateralToQuadrilateral(i,a,c,d,f,g,y,v,C,O,D,j,z,W,$,q){const te=St.quadrilateralToSquare(i,a,c,d,f,g,y,v);return St.squareToQuadrilateral(C,O,D,j,z,W,$,q).times(te)}transformPoints(i){const a=i.length,c=this.a11,d=this.a12,f=this.a13,g=this.a21,y=this.a22,v=this.a23,C=this.a31,O=this.a32,D=this.a33;for(let j=0;j<a;j+=2){const z=i[j],W=i[j+1],$=f*z+v*W+D;i[j]=(c*z+g*W+C)/$,i[j+1]=(d*z+y*W+O)/$}}transformPointsWithValues(i,a){const c=this.a11,d=this.a12,f=this.a13,g=this.a21,y=this.a22,v=this.a23,C=this.a31,O=this.a32,D=this.a33,j=i.length;for(let z=0;z<j;z++){const W=i[z],$=a[z],q=f*W+v*$+D;i[z]=(c*W+g*$+C)/q,a[z]=(d*W+y*$+O)/q}}static squareToQuadrilateral(i,a,c,d,f,g,y,v){const C=i-c+f-y,O=a-d+g-v;if(C===0&&O===0)return new St(c-i,f-c,i,d-a,g-d,a,0,0,1);{const D=c-f,j=y-f,z=d-g,W=v-g,$=D*W-j*z,q=(C*W-j*O)/$,te=(D*O-C*z)/$;return new St(c-i+q*c,y-i+te*y,i,d-a+q*d,v-a+te*v,a,q,te,1)}}static quadrilateralToSquare(i,a,c,d,f,g,y,v){return St.squareToQuadrilateral(i,a,c,d,f,g,y,v).buildAdjoint()}buildAdjoint(){return new St(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(i){return new St(this.a11*i.a11+this.a21*i.a12+this.a31*i.a13,this.a11*i.a21+this.a21*i.a22+this.a31*i.a23,this.a11*i.a31+this.a21*i.a32+this.a31*i.a33,this.a12*i.a11+this.a22*i.a12+this.a32*i.a13,this.a12*i.a21+this.a22*i.a22+this.a32*i.a23,this.a12*i.a31+this.a22*i.a32+this.a32*i.a33,this.a13*i.a11+this.a23*i.a12+this.a33*i.a13,this.a13*i.a21+this.a23*i.a22+this.a33*i.a23,this.a13*i.a31+this.a23*i.a32+this.a33*i.a33)}}class di extends Go{sampleGrid(i,a,c,d,f,g,y,v,C,O,D,j,z,W,$,q,te,ge,me){const he=St.quadrilateralToQuadrilateral(d,f,g,y,v,C,O,D,j,z,W,$,q,te,ge,me);return this.sampleGridWithTransform(i,a,c,he)}sampleGridWithTransform(i,a,c,d){if(a<=0||c<=0)throw new H;const f=new G(a,c),g=new Float32Array(2*a);for(let y=0;y<c;y++){const v=g.length,C=y+.5;for(let O=0;O<v;O+=2)g[O]=O/2+.5,g[O+1]=C;d.transformPoints(g),Go.checkAndNudgePoints(i,g);try{for(let O=0;O<v;O+=2)i.get(Math.floor(g[O]),Math.floor(g[O+1]))&&f.set(O/2,y)}catch{throw new H}}return f}}class zs{static setGridSampler(i){zs.gridSampler=i}static getInstance(){return zs.gridSampler}}zs.gridSampler=new di;class kr{constructor(i,a){this.x=i,this.y=a}toResultPoint(){return new we(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class Yo{constructor(i){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=i}detect(){return this.detectMirror(!1)}detectMirror(i){let a=this.getMatrixCenter(),c=this.getBullsEyeCorners(a);if(i){let g=c[0];c[0]=c[2],c[2]=g}this.extractParameters(c);let d=this.sampleGrid(this.image,c[this.shift%4],c[(this.shift+1)%4],c[(this.shift+2)%4],c[(this.shift+3)%4]),f=this.getMatrixCornerPoints(c);return new tt(d,f,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(i){if(!this.isValidPoint(i[0])||!this.isValidPoint(i[1])||!this.isValidPoint(i[2])||!this.isValidPoint(i[3]))throw new H;let a=2*this.nbCenterLayers,c=new Int32Array([this.sampleLine(i[0],i[1],a),this.sampleLine(i[1],i[2],a),this.sampleLine(i[2],i[3],a),this.sampleLine(i[3],i[0],a)]);this.shift=this.getRotation(c,a);let d=0;for(let g=0;g<4;g++){let y=c[(this.shift+g)%4];this.compact?(d<<=7,d+=y>>1&127):(d<<=10,d+=(y>>2&992)+(y>>1&31))}let f=this.getCorrectedParameterData(d,this.compact);this.compact?(this.nbLayers=(f>>6)+1,this.nbDataBlocks=(f&63)+1):(this.nbLayers=(f>>11)+1,this.nbDataBlocks=(f&2047)+1)}getRotation(i,a){let c=0;i.forEach((d,f,g)=>{let y=(d>>a-2<<1)+(d&1);c=(c<<3)+y}),c=((c&1)<<11)+(c>>1);for(let d=0;d<4;d++)if(A.bitCount(c^this.EXPECTED_CORNER_BITS[d])<=2)return d;throw new H}getCorrectedParameterData(i,a){let c,d;a?(c=7,d=2):(c=10,d=4);let f=c-d,g=new Int32Array(c);for(let v=c-1;v>=0;--v)g[v]=i&15,i>>=4;try{new Ar(Be.AZTEC_PARAM).decode(g,f)}catch{throw new H}let y=0;for(let v=0;v<d;v++)y=(y<<4)+g[v];return y}getBullsEyeCorners(i){let a=i,c=i,d=i,f=i,g=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let D=this.getFirstDifferent(a,g,1,-1),j=this.getFirstDifferent(c,g,1,1),z=this.getFirstDifferent(d,g,-1,1),W=this.getFirstDifferent(f,g,-1,-1);if(this.nbCenterLayers>2){let $=this.distancePoint(W,D)*this.nbCenterLayers/(this.distancePoint(f,a)*(this.nbCenterLayers+2));if($<.75||$>1.25||!this.isWhiteOrBlackRectangle(D,j,z,W))break}a=D,c=j,d=z,f=W,g=!g}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let y=new we(a.getX()+.5,a.getY()-.5),v=new we(c.getX()+.5,c.getY()+.5),C=new we(d.getX()-.5,d.getY()+.5),O=new we(f.getX()-.5,f.getY()-.5);return this.expandSquare([y,v,C,O],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let i,a,c,d;try{let y=new Zt(this.image).detect();i=y[0],a=y[1],c=y[2],d=y[3]}catch{let v=this.image.getWidth()/2,C=this.image.getHeight()/2;i=this.getFirstDifferent(new kr(v+7,C-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new kr(v+7,C+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new kr(v-7,C+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new kr(v-7,C-7),!1,-1,-1).toResultPoint()}let f=be.round((i.getX()+d.getX()+a.getX()+c.getX())/4),g=be.round((i.getY()+d.getY()+a.getY()+c.getY())/4);try{let y=new Zt(this.image,15,f,g).detect();i=y[0],a=y[1],c=y[2],d=y[3]}catch{i=this.getFirstDifferent(new kr(f+7,g-7),!1,1,-1).toResultPoint(),a=this.getFirstDifferent(new kr(f+7,g+7),!1,1,1).toResultPoint(),c=this.getFirstDifferent(new kr(f-7,g+7),!1,-1,1).toResultPoint(),d=this.getFirstDifferent(new kr(f-7,g-7),!1,-1,-1).toResultPoint()}return f=be.round((i.getX()+d.getX()+a.getX()+c.getX())/4),g=be.round((i.getY()+d.getY()+a.getY()+c.getY())/4),new kr(f,g)}getMatrixCornerPoints(i){return this.expandSquare(i,2*this.nbCenterLayers,this.getDimension())}sampleGrid(i,a,c,d,f){let g=zs.getInstance(),y=this.getDimension(),v=y/2-this.nbCenterLayers,C=y/2+this.nbCenterLayers;return g.sampleGrid(i,y,y,v,v,C,v,C,C,v,C,a.getX(),a.getY(),c.getX(),c.getY(),d.getX(),d.getY(),f.getX(),f.getY())}sampleLine(i,a,c){let d=0,f=this.distanceResultPoint(i,a),g=f/c,y=i.getX(),v=i.getY(),C=g*(a.getX()-i.getX())/f,O=g*(a.getY()-i.getY())/f;for(let D=0;D<c;D++)this.image.get(be.round(y+D*C),be.round(v+D*O))&&(d|=1<<c-D-1);return d}isWhiteOrBlackRectangle(i,a,c,d){let f=3;i=new kr(i.getX()-f,i.getY()+f),a=new kr(a.getX()-f,a.getY()-f),c=new kr(c.getX()+f,c.getY()-f),d=new kr(d.getX()+f,d.getY()+f);let g=this.getColor(d,i);if(g===0)return!1;let y=this.getColor(i,a);return y!==g||(y=this.getColor(a,c),y!==g)?!1:(y=this.getColor(c,d),y===g)}getColor(i,a){let c=this.distancePoint(i,a),d=(a.getX()-i.getX())/c,f=(a.getY()-i.getY())/c,g=0,y=i.getX(),v=i.getY(),C=this.image.get(i.getX(),i.getY()),O=Math.ceil(c);for(let j=0;j<O;j++)y+=d,v+=f,this.image.get(be.round(y),be.round(v))!==C&&g++;let D=g/c;return D>.1&&D<.9?0:D<=.1===C?1:-1}getFirstDifferent(i,a,c,d){let f=i.getX()+c,g=i.getY()+d;for(;this.isValid(f,g)&&this.image.get(f,g)===a;)f+=c,g+=d;for(f-=c,g-=d;this.isValid(f,g)&&this.image.get(f,g)===a;)f+=c;for(f-=c;this.isValid(f,g)&&this.image.get(f,g)===a;)g+=d;return g-=d,new kr(f,g)}expandSquare(i,a,c){let d=c/(2*a),f=i[0].getX()-i[2].getX(),g=i[0].getY()-i[2].getY(),y=(i[0].getX()+i[2].getX())/2,v=(i[0].getY()+i[2].getY())/2,C=new we(y+d*f,v+d*g),O=new we(y-d*f,v-d*g);f=i[1].getX()-i[3].getX(),g=i[1].getY()-i[3].getY(),y=(i[1].getX()+i[3].getX())/2,v=(i[1].getY()+i[3].getY())/2;let D=new we(y+d*f,v+d*g),j=new we(y-d*f,v-d*g);return[C,D,O,j]}isValid(i,a){return i>=0&&i<this.image.getWidth()&&a>0&&a<this.image.getHeight()}isValidPoint(i){let a=be.round(i.getX()),c=be.round(i.getY());return this.isValid(a,c)}distancePoint(i,a){return be.distance(i.getX(),i.getY(),a.getX(),a.getY())}distanceResultPoint(i,a){return be.distance(i.getX(),i.getY(),a.getX(),a.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(A.truncDivision(this.nbLayers-4,8)+1)+15}}class Xa{decode(i,a=null){let c=null,d=new Yo(i.getBlackMatrix()),f=null,g=null;try{let O=d.detectMirror(!1);f=O.getPoints(),this.reportFoundResultPoints(a,f),g=new Ie().decode(O)}catch(O){c=O}if(g==null)try{let O=d.detectMirror(!0);f=O.getPoints(),this.reportFoundResultPoints(a,f),g=new Ie().decode(O)}catch(O){throw c??O}let y=new fe(g.getText(),g.getRawBytes(),g.getNumBits(),f,ve.AZTEC,E.currentTimeMillis()),v=g.getByteSegments();v!=null&&y.putMetadata(Me.BYTE_SEGMENTS,v);let C=g.getECLevel();return C!=null&&y.putMetadata(Me.ERROR_CORRECTION_LEVEL,C),y}reportFoundResultPoints(i,a){if(i!=null){let c=i.get(B.NEED_RESULT_POINT_CALLBACK);c!=null&&a.forEach((d,f,g)=>{c.foundPossibleResultPoint(d)})}}reset(){}}class vd extends ae{constructor(i=500){super(new Xa,i)}}class Bt{decode(i,a){try{return this.doDecode(i,a)}catch{if(a&&a.get(B.TRY_HARDER)===!0&&i.isRotateSupported()){const f=i.rotateCounterClockwise(),g=this.doDecode(f,a),y=g.getResultMetadata();let v=270;y!==null&&y.get(Me.ORIENTATION)===!0&&(v=v+y.get(Me.ORIENTATION)%360),g.putMetadata(Me.ORIENTATION,v);const C=g.getResultPoints();if(C!==null){const O=f.getHeight();for(let D=0;D<C.length;D++)C[D]=new we(O-C[D].getY()-1,C[D].getX())}return g}else throw new H}}reset(){}doDecode(i,a){const c=i.getWidth(),d=i.getHeight();let f=new M(c);const g=a&&a.get(B.TRY_HARDER)===!0,y=Math.max(1,d>>(g?8:5));let v;g?v=d:v=15;const C=Math.trunc(d/2);for(let O=0;O<v;O++){const D=Math.trunc((O+1)/2),j=(O&1)===0,z=C+y*(j?D:-D);if(z<0||z>=d)break;try{f=i.getBlackRow(z,f)}catch{continue}for(let W=0;W<2;W++){if(W===1&&(f.reverse(),a&&a.get(B.NEED_RESULT_POINT_CALLBACK)===!0)){const $=new Map;a.forEach((q,te)=>$.set(te,q)),$.delete(B.NEED_RESULT_POINT_CALLBACK),a=$}try{const $=this.decodeRow(z,f,a);if(W===1){$.putMetadata(Me.ORIENTATION,180);const q=$.getResultPoints();q!==null&&(q[0]=new we(c-q[0].getX()-1,q[0].getY()),q[1]=new we(c-q[1].getX()-1,q[1].getY()))}return $}catch{}}}throw new H}static recordPattern(i,a,c){const d=c.length;for(let C=0;C<d;C++)c[C]=0;const f=i.getSize();if(a>=f)throw new H;let g=!i.get(a),y=0,v=a;for(;v<f;){if(i.get(v)!==g)c[y]++;else{if(++y===d)break;c[y]=1,g=!g}v++}if(!(y===d||y===d-1&&v===f))throw new H}static recordPatternInReverse(i,a,c){let d=c.length,f=i.get(a);for(;a>0&&d>=0;)i.get(--a)!==f&&(d--,f=!f);if(d>=0)throw new H;Bt.recordPattern(i,a+1,c)}static patternMatchVariance(i,a,c){const d=i.length;let f=0,g=0;for(let C=0;C<d;C++)f+=i[C],g+=a[C];if(f<g)return Number.POSITIVE_INFINITY;const y=f/g;c*=y;let v=0;for(let C=0;C<d;C++){const O=i[C],D=a[C]*y,j=O>D?O-D:D-O;if(j>c)return Number.POSITIVE_INFINITY;v+=j}return v/f}}class xe extends Bt{static findStartPattern(i){const a=i.getSize(),c=i.getNextSet(0);let d=0,f=Int32Array.from([0,0,0,0,0,0]),g=c,y=!1;const v=6;for(let C=c;C<a;C++)if(i.get(C)!==y)f[d]++;else{if(d===v-1){let O=xe.MAX_AVG_VARIANCE,D=-1;for(let j=xe.CODE_START_A;j<=xe.CODE_START_C;j++){const z=Bt.patternMatchVariance(f,xe.CODE_PATTERNS[j],xe.MAX_INDIVIDUAL_VARIANCE);z<O&&(O=z,D=j)}if(D>=0&&i.isRange(Math.max(0,g-(C-g)/2),g,!1))return Int32Array.from([g,C,D]);g+=f[0]+f[1],f=f.slice(2,f.length-1),f[d-1]=0,f[d]=0,d--}else d++;f[d]=1,y=!y}throw new H}static decodeCode(i,a,c){Bt.recordPattern(i,c,a);let d=xe.MAX_AVG_VARIANCE,f=-1;for(let g=0;g<xe.CODE_PATTERNS.length;g++){const y=xe.CODE_PATTERNS[g],v=this.patternMatchVariance(a,y,xe.MAX_INDIVIDUAL_VARIANCE);v<d&&(d=v,f=g)}if(f>=0)return f;throw new H}decodeRow(i,a,c){const d=c&&c.get(B.ASSUME_GS1)===!0,f=xe.findStartPattern(a),g=f[2];let y=0;const v=new Uint8Array(20);v[y++]=g;let C;switch(g){case xe.CODE_START_A:C=xe.CODE_CODE_A;break;case xe.CODE_START_B:C=xe.CODE_CODE_B;break;case xe.CODE_START_C:C=xe.CODE_CODE_C;break;default:throw new L}let O=!1,D=!1,j="",z=f[0],W=f[1];const $=Int32Array.from([0,0,0,0,0,0]);let q=0,te=0,ge=g,me=0,he=!0,it=!1,Ye=!1;for(;!O;){const nl=D;switch(D=!1,q=te,te=xe.decodeCode(a,$,W),v[y++]=te,te!==xe.CODE_STOP&&(he=!0),te!==xe.CODE_STOP&&(me++,ge+=me*te),z=W,W+=$.reduce((LN,BN)=>LN+BN,0),te){case xe.CODE_START_A:case xe.CODE_START_B:case xe.CODE_START_C:throw new L}switch(C){case xe.CODE_CODE_A:if(te<64)Ye===it?j+=String.fromCharCode(32+te):j+=String.fromCharCode(32+te+128),Ye=!1;else if(te<96)Ye===it?j+=String.fromCharCode(te-64):j+=String.fromCharCode(te+64),Ye=!1;else switch(te!==xe.CODE_STOP&&(he=!1),te){case xe.CODE_FNC_1:d&&(j.length===0?j+="]C1":j+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_A:!it&&Ye?(it=!0,Ye=!1):it&&Ye?(it=!1,Ye=!1):Ye=!0;break;case xe.CODE_SHIFT:D=!0,C=xe.CODE_CODE_B;break;case xe.CODE_CODE_B:C=xe.CODE_CODE_B;break;case xe.CODE_CODE_C:C=xe.CODE_CODE_C;break;case xe.CODE_STOP:O=!0;break}break;case xe.CODE_CODE_B:if(te<96)Ye===it?j+=String.fromCharCode(32+te):j+=String.fromCharCode(32+te+128),Ye=!1;else switch(te!==xe.CODE_STOP&&(he=!1),te){case xe.CODE_FNC_1:d&&(j.length===0?j+="]C1":j+="");break;case xe.CODE_FNC_2:case xe.CODE_FNC_3:break;case xe.CODE_FNC_4_B:!it&&Ye?(it=!0,Ye=!1):it&&Ye?(it=!1,Ye=!1):Ye=!0;break;case xe.CODE_SHIFT:D=!0,C=xe.CODE_CODE_A;break;case xe.CODE_CODE_A:C=xe.CODE_CODE_A;break;case xe.CODE_CODE_C:C=xe.CODE_CODE_C;break;case xe.CODE_STOP:O=!0;break}break;case xe.CODE_CODE_C:if(te<100)te<10&&(j+="0"),j+=te;else switch(te!==xe.CODE_STOP&&(he=!1),te){case xe.CODE_FNC_1:d&&(j.length===0?j+="]C1":j+="");break;case xe.CODE_CODE_A:C=xe.CODE_CODE_A;break;case xe.CODE_CODE_B:C=xe.CODE_CODE_B;break;case xe.CODE_STOP:O=!0;break}break}nl&&(C=C===xe.CODE_CODE_A?xe.CODE_CODE_B:xe.CODE_CODE_A)}const pn=W-z;if(W=a.getNextUnset(W),!a.isRange(W,Math.min(a.getSize(),W+(W-z)/2),!1))throw new H;if(ge-=me*q,ge%103!==q)throw new b;const xs=j.length;if(xs===0)throw new H;xs>0&&he&&(C===xe.CODE_CODE_C?j=j.substring(0,xs-2):j=j.substring(0,xs-1));const gn=(f[1]+f[0])/2,Tt=z+pn/2,jr=v.length,Nn=new Uint8Array(jr);for(let nl=0;nl<jr;nl++)Nn[nl]=v[nl];const rl=[new we(gn,i),new we(Tt,i)];return new fe(j,Nn,0,rl,ve.CODE_128,new Date().getTime())}}xe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],xe.MAX_AVG_VARIANCE=.25,xe.MAX_INDIVIDUAL_VARIANCE=.7,xe.CODE_SHIFT=98,xe.CODE_CODE_C=99,xe.CODE_CODE_B=100,xe.CODE_CODE_A=101,xe.CODE_FNC_1=102,xe.CODE_FNC_2=97,xe.CODE_FNC_3=96,xe.CODE_FNC_4_A=101,xe.CODE_FNC_4_B=100,xe.CODE_START_A=103,xe.CODE_START_B=104,xe.CODE_START_C=105,xe.CODE_STOP=106;class Jt extends Bt{constructor(i=!1,a=!1){super(),this.usingCheckDigit=i,this.extendedMode=a,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(i,a,c){let d=this.counters;d.fill(0),this.decodeRowResult="";let f=Jt.findAsteriskPattern(a,d),g=a.getNextSet(f[1]),y=a.getSize(),v,C;do{Jt.recordPattern(a,g,d);let $=Jt.toNarrowWidePattern(d);if($<0)throw new H;v=Jt.patternToChar($),this.decodeRowResult+=v,C=g;for(let q of d)g+=q;g=a.getNextSet(g)}while(v!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let O=0;for(let $ of d)O+=$;let D=g-C-O;if(g!==y&&D*2<O)throw new H;if(this.usingCheckDigit){let $=this.decodeRowResult.length-1,q=0;for(let te=0;te<$;te++)q+=Jt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(te));if(this.decodeRowResult.charAt($)!==Jt.ALPHABET_STRING.charAt(q%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,$)}if(this.decodeRowResult.length===0)throw new H;let j;this.extendedMode?j=Jt.decodeExtended(this.decodeRowResult):j=this.decodeRowResult;let z=(f[1]+f[0])/2,W=C+O/2;return new fe(j,null,0,[new we(z,i),new we(W,i)],ve.CODE_39,new Date().getTime())}static findAsteriskPattern(i,a){let c=i.getSize(),d=i.getNextSet(0),f=0,g=d,y=!1,v=a.length;for(let C=d;C<c;C++)if(i.get(C)!==y)a[f]++;else{if(f===v-1){if(this.toNarrowWidePattern(a)===Jt.ASTERISK_ENCODING&&i.isRange(Math.max(0,g-Math.floor((C-g)/2)),g,!1))return[g,C];g+=a[0]+a[1],a.copyWithin(0,2,2+f-1),a[f-1]=0,a[f]=0,f--}else f++;a[f]=1,y=!y}throw new H}static toNarrowWidePattern(i){let a=i.length,c=0,d;do{let f=2147483647;for(let v of i)v<f&&v>c&&(f=v);c=f,d=0;let g=0,y=0;for(let v=0;v<a;v++){let C=i[v];C>c&&(y|=1<<a-1-v,d++,g+=C)}if(d===3){for(let v=0;v<a&&d>0;v++){let C=i[v];if(C>c&&(d--,C*2>=g))return-1}return y}}while(d>3);return-1}static patternToChar(i){for(let a=0;a<Jt.CHARACTER_ENCODINGS.length;a++)if(Jt.CHARACTER_ENCODINGS[a]===i)return Jt.ALPHABET_STRING.charAt(a);if(i===Jt.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(i){let a=i.length,c="";for(let d=0;d<a;d++){let f=i.charAt(d);if(f==="+"||f==="$"||f==="%"||f==="/"){let g=i.charAt(d+1),y="\0";switch(f){case"+":if(g>="A"&&g<="Z")y=String.fromCharCode(g.charCodeAt(0)+32);else throw new L;break;case"$":if(g>="A"&&g<="Z")y=String.fromCharCode(g.charCodeAt(0)-64);else throw new L;break;case"%":if(g>="A"&&g<="E")y=String.fromCharCode(g.charCodeAt(0)-38);else if(g>="F"&&g<="J")y=String.fromCharCode(g.charCodeAt(0)-11);else if(g>="K"&&g<="O")y=String.fromCharCode(g.charCodeAt(0)+16);else if(g>="P"&&g<="T")y=String.fromCharCode(g.charCodeAt(0)+43);else if(g==="U")y="\0";else if(g==="V")y="@";else if(g==="W")y="`";else if(g==="X"||g==="Y"||g==="Z")y="";else throw new L;break;case"/":if(g>="A"&&g<="O")y=String.fromCharCode(g.charCodeAt(0)-32);else if(g==="Z")y=":";else throw new L;break}c+=y,d++}else c+=f}return c}}Jt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Jt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Jt.ASTERISK_ENCODING=148;class ct extends Bt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(i,a,c){let d=this.decodeStart(a),f=this.decodeEnd(a),g=new se;ct.decodeMiddle(a,d[1],f[0],g);let y=g.toString(),v=null;c!=null&&(v=c.get(B.ALLOWED_LENGTHS)),v==null&&(v=ct.DEFAULT_ALLOWED_LENGTHS);let C=y.length,O=!1,D=0;for(let W of v){if(C===W){O=!0;break}W>D&&(D=W)}if(!O&&C>D&&(O=!0),!O)throw new L;const j=[new we(d[1],i),new we(f[0],i)];return new fe(y,null,0,j,ve.ITF,new Date().getTime())}static decodeMiddle(i,a,c,d){let f=new Int32Array(10),g=new Int32Array(5),y=new Int32Array(5);for(f.fill(0),g.fill(0),y.fill(0);a<c;){Bt.recordPattern(i,a,f);for(let C=0;C<5;C++){let O=2*C;g[C]=f[O],y[C]=f[O+1]}let v=ct.decodeDigit(g);d.append(v.toString()),v=this.decodeDigit(y),d.append(v.toString()),f.forEach(function(C){a+=C})}}decodeStart(i){let a=ct.skipWhiteSpace(i),c=ct.findGuardPattern(i,a,ct.START_PATTERN);return this.narrowLineWidth=(c[1]-c[0])/4,this.validateQuietZone(i,c[0]),c}validateQuietZone(i,a){let c=this.narrowLineWidth*10;c=c<a?c:a;for(let d=a-1;c>0&&d>=0&&!i.get(d);d--)c--;if(c!==0)throw new H}static skipWhiteSpace(i){const a=i.getSize(),c=i.getNextSet(0);if(c===a)throw new H;return c}decodeEnd(i){i.reverse();try{let a=ct.skipWhiteSpace(i),c;try{c=ct.findGuardPattern(i,a,ct.END_PATTERN_REVERSED[0])}catch(f){f instanceof H&&(c=ct.findGuardPattern(i,a,ct.END_PATTERN_REVERSED[1]))}this.validateQuietZone(i,c[0]);let d=c[0];return c[0]=i.getSize()-c[1],c[1]=i.getSize()-d,c}finally{i.reverse()}}static findGuardPattern(i,a,c){let d=c.length,f=new Int32Array(d),g=i.getSize(),y=!1,v=0,C=a;f.fill(0);for(let O=a;O<g;O++)if(i.get(O)!==y)f[v]++;else{if(v===d-1){if(Bt.patternMatchVariance(f,c,ct.MAX_INDIVIDUAL_VARIANCE)<ct.MAX_AVG_VARIANCE)return[C,O];C+=f[0]+f[1],E.arraycopy(f,2,f,0,v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,y=!y}throw new H}static decodeDigit(i){let a=ct.MAX_AVG_VARIANCE,c=-1,d=ct.PATTERNS.length;for(let f=0;f<d;f++){let g=ct.PATTERNS[f],y=Bt.patternMatchVariance(i,g,ct.MAX_INDIVIDUAL_VARIANCE);y<a?(a=y,c=f):y===a&&(c=-1)}if(c>=0)return c%10;throw new H}}ct.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],ct.MAX_AVG_VARIANCE=.38,ct.MAX_INDIVIDUAL_VARIANCE=.5,ct.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],ct.START_PATTERN=Int32Array.from([1,1,1,1]),ct.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Ft extends Bt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(i){let a=!1,c,d=0,f=Int32Array.from([0,0,0]);for(;!a;){f=Int32Array.from([0,0,0]),c=Ft.findGuardPattern(i,d,!1,this.START_END_PATTERN,f);let g=c[0];d=c[1];let y=g-(d-g);y>=0&&(a=i.isRange(y,g,!1))}return c}static checkChecksum(i){return Ft.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let c=parseInt(i.charAt(a-1),10);return Ft.getStandardUPCEANChecksum(i.substring(0,a-1))===c}static getStandardUPCEANChecksum(i){let a=i.length,c=0;for(let d=a-1;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new L;c+=f}c*=3;for(let d=a-2;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new L;c+=f}return(1e3-c)%10}static decodeEnd(i,a){return Ft.findGuardPattern(i,a,!1,Ft.START_END_PATTERN,new Int32Array(Ft.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(i,a,c,d){return this.findGuardPattern(i,a,c,d,new Int32Array(d.length))}static findGuardPattern(i,a,c,d,f){let g=i.getSize();a=c?i.getNextUnset(a):i.getNextSet(a);let y=0,v=a,C=d.length,O=c;for(let D=a;D<g;D++)if(i.get(D)!==O)f[y]++;else{if(y===C-1){if(Bt.patternMatchVariance(f,d,Ft.MAX_INDIVIDUAL_VARIANCE)<Ft.MAX_AVG_VARIANCE)return Int32Array.from([v,D]);v+=f[0]+f[1];let j=f.slice(2,f.length-1);for(let z=0;z<y-1;z++)f[z]=j[z];f[y-1]=0,f[y]=0,y--}else y++;f[y]=1,O=!O}throw new H}static decodeDigit(i,a,c,d){this.recordPattern(i,c,a);let f=this.MAX_AVG_VARIANCE,g=-1,y=d.length;for(let v=0;v<y;v++){let C=d[v],O=Bt.patternMatchVariance(a,C,Ft.MAX_INDIVIDUAL_VARIANCE);O<f&&(f=O,g=v)}if(g>=0)return g;throw new H}}Ft.MAX_AVG_VARIANCE=.48,Ft.MAX_INDIVIDUAL_VARIANCE=.7,Ft.START_END_PATTERN=Int32Array.from([1,1,1]),Ft.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Ft.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Ft.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Xo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,c){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(a,c,d),g=d.toString(),y=Xo.parseExtensionString(g),v=[new we((c[0]+c[1])/2,i),new we(f,i)],C=new fe(g,null,0,v,ve.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&C.putAllMetadata(y),C}decodeMiddle(i,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g=a[1],y=0;for(let C=0;C<5&&g<f;C++){let O=Ft.decodeDigit(i,d,g,Ft.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let D of d)g+=D;O>=10&&(y|=1<<4-C),C!==4&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(c.length!==5)throw new H;let v=this.determineCheckDigit(y);if(Xo.extensionChecksum(c.toString())!==v)throw new H;return g}static extensionChecksum(i){let a=i.length,c=0;for(let d=a-2;d>=0;d-=2)c+=i.charAt(d).charCodeAt(0)-48;c*=3;for(let d=a-1;d>=0;d-=2)c+=i.charAt(d).charCodeAt(0)-48;return c*=3,c%10}determineCheckDigit(i){for(let a=0;a<10;a++)if(i===this.CHECK_DIGIT_ENCODINGS[a])return a;throw new H}static parseExtensionString(i){if(i.length!==5)return null;let a=Xo.parseExtension5String(i);return a==null?null:new Map([[Me.SUGGESTED_PRICE,a]])}static parseExtension5String(i){let a;switch(i.charAt(0)){case"0":a="";break;case"5":a="$";break;case"9":switch(i){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}a="";break;default:a="";break}let c=parseInt(i.substring(1)),d=(c/100).toString(),f=c%100,g=f<10?"0"+f:f.toString();return a+d+"."+g}}class qa{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(i,a,c){let d=this.decodeRowStringBuffer,f=this.decodeMiddle(a,c,d),g=d.toString(),y=qa.parseExtensionString(g),v=[new we((c[0]+c[1])/2,i),new we(f,i)],C=new fe(g,null,0,v,ve.UPC_EAN_EXTENSION,new Date().getTime());return y!=null&&C.putAllMetadata(y),C}decodeMiddle(i,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g=a[1],y=0;for(let v=0;v<2&&g<f;v++){let C=Ft.decodeDigit(i,d,g,Ft.L_AND_G_PATTERNS);c+=String.fromCharCode(48+C%10);for(let O of d)g+=O;C>=10&&(y|=1<<1-v),v!==1&&(g=i.getNextSet(g),g=i.getNextUnset(g))}if(c.length!==2)throw new H;if(parseInt(c.toString())%4!==y)throw new H;return g}static parseExtensionString(i){return i.length!==2?null:new Map([[Me.ISSUE_NUMBER,parseInt(i)]])}}class Oc{static decodeRow(i,a,c){let d=Ft.findGuardPattern(a,c,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Xo().decodeRow(i,a,d)}catch{return new qa().decodeRow(i,a,d)}}}Oc.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class dt extends Ft{constructor(){super(),this.decodeRowStringBuffer="",dt.L_AND_G_PATTERNS=dt.L_PATTERNS.map(i=>Int32Array.from(i));for(let i=10;i<20;i++){let a=dt.L_PATTERNS[i-10],c=new Int32Array(a.length);for(let d=0;d<a.length;d++)c[d]=a[a.length-d-1];dt.L_AND_G_PATTERNS[i]=c}}decodeRow(i,a,c){let d=dt.findStartGuardPattern(a),f=c==null?null:c.get(B.NEED_RESULT_POINT_CALLBACK);if(f!=null){const he=new we((d[0]+d[1])/2,i);f.foundPossibleResultPoint(he)}let g=this.decodeMiddle(a,d,this.decodeRowStringBuffer),y=g.rowOffset,v=g.resultString;if(f!=null){const he=new we(y,i);f.foundPossibleResultPoint(he)}let C=this.decodeEnd(a,y);if(f!=null){const he=new we((C[0]+C[1])/2,i);f.foundPossibleResultPoint(he)}let O=C[1],D=O+(O-C[0]);if(D>=a.getSize()||!a.isRange(O,D,!1))throw new H;let j=v.toString();if(j.length<8)throw new L;if(!dt.checkChecksum(j))throw new b;let z=(d[1]+d[0])/2,W=(C[1]+C[0])/2,$=this.getBarcodeFormat(),q=[new we(z,i),new we(W,i)],te=new fe(j,null,0,q,$,new Date().getTime()),ge=0;try{let he=Oc.decodeRow(i,a,C[1]);te.putMetadata(Me.UPC_EAN_EXTENSION,he.getText()),te.putAllMetadata(he.getResultMetadata()),te.addResultPoints(he.getResultPoints()),ge=he.getText().length}catch{}let me=c==null?null:c.get(B.ALLOWED_EAN_EXTENSIONS);if(me!=null){let he=!1;for(let it in me)if(ge.toString()===it){he=!0;break}if(!he)throw new H}return te}decodeEnd(i,a){return dt.findGuardPattern(i,a,!1,dt.START_END_PATTERN,new Int32Array(dt.START_END_PATTERN.length).fill(0))}static checkChecksum(i){return dt.checkStandardUPCEANChecksum(i)}static checkStandardUPCEANChecksum(i){let a=i.length;if(a===0)return!1;let c=parseInt(i.charAt(a-1),10);return dt.getStandardUPCEANChecksum(i.substring(0,a-1))===c}static getStandardUPCEANChecksum(i){let a=i.length,c=0;for(let d=a-1;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new L;c+=f}c*=3;for(let d=a-2;d>=0;d-=2){let f=i.charAt(d).charCodeAt(0)-48;if(f<0||f>9)throw new L;c+=f}return(1e3-c)%10}}class gs extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,c){let d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g=a[1],y=0;for(let C=0;C<6&&g<f;C++){let O=dt.decodeDigit(i,d,g,dt.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let D of d)g+=D;O>=10&&(y|=1<<5-C)}c=gs.determineFirstDigit(c,y),g=dt.findGuardPattern(i,g,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let C=0;C<6&&g<f;C++){let O=dt.decodeDigit(i,d,g,dt.L_PATTERNS);c+=String.fromCharCode(48+O);for(let D of d)g+=D}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return ve.EAN_13}static determineFirstDigit(i,a){for(let c=0;c<10;c++)if(a===this.FIRST_DIGIT_ENCODINGS[c])return i=String.fromCharCode(48+c)+i,i;throw new H}}gs.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ms extends dt{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(i,a,c){const d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g=a[1];for(let v=0;v<4&&g<f;v++){let C=dt.decodeDigit(i,d,g,dt.L_PATTERNS);c+=String.fromCharCode(48+C);for(let O of d)g+=O}g=dt.findGuardPattern(i,g,!0,dt.MIDDLE_PATTERN,new Int32Array(dt.MIDDLE_PATTERN.length).fill(0))[1];for(let v=0;v<4&&g<f;v++){let C=dt.decodeDigit(i,d,g,dt.L_PATTERNS);c+=String.fromCharCode(48+C);for(let O of d)g+=O}return{rowOffset:g,resultString:c}}getBarcodeFormat(){return ve.EAN_8}}class _d extends dt{constructor(){super(...arguments),this.ean13Reader=new gs}getBarcodeFormat(){return ve.UPC_A}decode(i,a){return this.maybeReturnResult(this.ean13Reader.decode(i))}decodeRow(i,a,c){return this.maybeReturnResult(this.ean13Reader.decodeRow(i,a,c))}decodeMiddle(i,a,c){return this.ean13Reader.decodeMiddle(i,a,c)}maybeReturnResult(i){let a=i.getText();if(a.charAt(0)==="0"){let c=new fe(a.substring(1),null,null,i.getResultPoints(),ve.UPC_A);return i.getResultMetadata()!=null&&c.putAllMetadata(i.getResultMetadata()),c}else throw new H}reset(){this.ean13Reader.reset()}}class ke extends dt{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(i,a,c){const d=this.decodeMiddleCounters.map(C=>C);d[0]=0,d[1]=0,d[2]=0,d[3]=0;const f=i.getSize();let g=a[1],y=0;for(let C=0;C<6&&g<f;C++){const O=ke.decodeDigit(i,d,g,ke.L_AND_G_PATTERNS);c+=String.fromCharCode(48+O%10);for(let D of d)g+=D;O>=10&&(y|=1<<5-C)}let v=ke.determineNumSysAndCheckDigit(c,y);return{rowOffset:g,resultString:v}}decodeEnd(i,a){return ke.findGuardPatternWithoutCounters(i,a,!0,ke.MIDDLE_END_PATTERN)}checkChecksum(i){return dt.checkChecksum(ke.convertUPCEtoUPCA(i))}static determineNumSysAndCheckDigit(i,a){for(let c=0;c<=1;c++)for(let d=0;d<10;d++)if(a===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[c][d]){let f=String.fromCharCode(48+c),g=String.fromCharCode(48+d);return f+i+g}throw H.getNotFoundInstance()}getBarcodeFormat(){return ve.UPC_E}static convertUPCEtoUPCA(i){const a=i.slice(1,7).split("").map(f=>f.charCodeAt(0)),c=new se;c.append(i.charAt(0));let d=a[5];switch(d){case 0:case 1:case 2:c.appendChars(a,0,2),c.append(d),c.append("0000"),c.appendChars(a,2,3);break;case 3:c.appendChars(a,0,3),c.append("00000"),c.appendChars(a,3,2);break;case 4:c.appendChars(a,0,4),c.append("00000"),c.append(a[4]);break;default:c.appendChars(a,0,5),c.append("0000"),c.append(d);break}return i.length>=8&&c.append(i.charAt(7)),c.toString()}}ke.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ke.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class pt extends Bt{constructor(i){super();let a=i==null?null:i.get(B.POSSIBLE_FORMATS),c=[];n(a)?(c.push(new gs),c.push(new _d),c.push(new ms),c.push(new ke)):(a.indexOf(ve.EAN_13)>-1&&c.push(new gs),a.indexOf(ve.UPC_A)>-1&&c.push(new _d),a.indexOf(ve.EAN_8)>-1&&c.push(new ms),a.indexOf(ve.UPC_E)>-1&&c.push(new ke)),this.readers=c}decodeRow(i,a,c){for(let d of this.readers)try{const f=d.decodeRow(i,a,c),g=f.getBarcodeFormat()===ve.EAN_13&&f.getText().charAt(0)==="0",y=c==null?null:c.get(B.POSSIBLE_FORMATS),v=y==null||y.includes(ve.UPC_A);if(g&&v){const C=f.getRawBytes(),O=new fe(f.getText().substring(1),C,C?C.length:null,f.getResultPoints(),ve.UPC_A);return O.putAllMetadata(f.getResultMetadata()),O}return f}catch{}throw new H}reset(){for(let i of this.readers)i.reset()}}class qe extends Bt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(i,a){for(let c=0;c<a.length;c++)if(Bt.patternMatchVariance(i,a[c],qe.MAX_INDIVIDUAL_VARIANCE)<qe.MAX_AVG_VARIANCE)return c;throw new H}static count(i){return be.sum(new Int32Array(i))}static increment(i,a){let c=0,d=a[0];for(let f=1;f<i.length;f++)a[f]>d&&(d=a[f],c=f);i[c]++}static decrement(i,a){let c=0,d=a[0];for(let f=1;f<i.length;f++)a[f]<d&&(d=a[f],c=f);i[c]--}static isFinderPattern(i){let a=i[0]+i[1],c=a+i[2]+i[3],d=a/c;if(d>=qe.MIN_FINDER_PATTERN_RATIO&&d<=qe.MAX_FINDER_PATTERN_RATIO){let f=Number.MAX_SAFE_INTEGER,g=Number.MIN_SAFE_INTEGER;for(let y of i)y>g&&(g=y),y<f&&(f=y);return g<10*f}return!1}}qe.MAX_AVG_VARIANCE=.2,qe.MAX_INDIVIDUAL_VARIANCE=.45,qe.MIN_FINDER_PATTERN_RATIO=9.5/12,qe.MAX_FINDER_PATTERN_RATIO=12.5/14;class Tr{constructor(i,a){this.value=i,this.checksumPortion=a}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(i){if(!(i instanceof Tr))return!1;const a=i;return this.value===a.value&&this.checksumPortion===a.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Vr{constructor(i,a,c,d,f){this.value=i,this.startEnd=a,this.value=i,this.startEnd=a,this.resultPoints=new Array,this.resultPoints.push(new we(c,f)),this.resultPoints.push(new we(d,f))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(i){if(!(i instanceof Vr))return!1;const a=i;return this.value===a.value}hashCode(){return this.value}}class wr{constructor(){}static getRSSvalue(i,a,c){let d=0;for(let v of i)d+=v;let f=0,g=0,y=i.length;for(let v=0;v<y-1;v++){let C;for(C=1,g|=1<<v;C<i[v];C++,g&=~(1<<v)){let O=wr.combins(d-C-1,y-v-2);if(c&&g===0&&d-C-(y-v-1)>=y-v-1&&(O-=wr.combins(d-C-(y-v),y-v-2)),y-v-1>1){let D=0;for(let j=d-C-(y-v-2);j>a;j--)D+=wr.combins(d-C-j-1,y-v-3);O-=D*(y-1-v)}else d-C>a&&O--;f+=O}d-=C}return f}static combins(i,a){let c,d;i-a>a?(d=a,c=i-a):(d=i-a,c=a);let f=1,g=1;for(let y=i;y>c;y--)f*=y,g<=d&&(f/=g,g++);for(;g<=d;)f/=g,g++;return f}}class hi{static buildBitArray(i){let a=i.length*2-1;i[i.length-1].getRightChar()==null&&(a-=1);let c=12*a,d=new M(c),f=0,y=i[0].getRightChar().getValue();for(let v=11;v>=0;--v)y&1<<v&&d.set(f),f++;for(let v=1;v<i.length;++v){let C=i[v],O=C.getLeftChar().getValue();for(let D=11;D>=0;--D)O&1<<D&&d.set(f),f++;if(C.getRightChar()!=null){let D=C.getRightChar().getValue();for(let j=11;j>=0;--j)D&1<<j&&d.set(f),f++}}return d}}class vr{constructor(i,a){a?this.decodedInformation=null:(this.finished=i,this.decodedInformation=a)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Xn{constructor(i){this.newPosition=i}getNewPosition(){return this.newPosition}}class dn extends Xn{constructor(i,a){super(i),this.value=a}getValue(){return this.value}isFNC1(){return this.value===dn.FNC1}}dn.FNC1="$";class qo extends Xn{constructor(i,a,c){super(i),c?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=a}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class qn extends Xn{constructor(i,a,c){if(super(i),a<0||a>10||c<0||c>10)throw new L;this.firstDigit=a,this.secondDigit=c}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===qn.FNC1}isSecondDigitFNC1(){return this.secondDigit===qn.FNC1}isAnyFNC1(){return this.firstDigit===qn.FNC1||this.secondDigit===qn.FNC1}}qn.FNC1=10;class Se{constructor(){}static parseFieldsInGeneralPurpose(i){if(!i)return null;if(i.length<2)throw new H;let a=i.substring(0,2);for(let f of Se.TWO_DIGIT_DATA_LENGTH)if(f[0]===a)return f[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(2,f[2],i):Se.processFixedAI(2,f[1],i);if(i.length<3)throw new H;let c=i.substring(0,3);for(let f of Se.THREE_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(3,f[2],i):Se.processFixedAI(3,f[1],i);for(let f of Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(f[0]===c)return f[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,f[2],i):Se.processFixedAI(4,f[1],i);if(i.length<4)throw new H;let d=i.substring(0,4);for(let f of Se.FOUR_DIGIT_DATA_LENGTH)if(f[0]===d)return f[1]===Se.VARIABLE_LENGTH?Se.processVariableAI(4,f[2],i):Se.processFixedAI(4,f[1],i);throw new H}static processFixedAI(i,a,c){if(c.length<i)throw new H;let d=c.substring(0,i);if(c.length<i+a)throw new H;let f=c.substring(i,i+a),g=c.substring(i+a),y="("+d+")"+f,v=Se.parseFieldsInGeneralPurpose(g);return v==null?y:y+v}static processVariableAI(i,a,c){let d=c.substring(0,i),f;c.length<i+a?f=c.length:f=i+a;let g=c.substring(i,f),y=c.substring(f),v="("+d+")"+g,C=Se.parseFieldsInGeneralPurpose(y);return C==null?v:v+C}}Se.VARIABLE_LENGTH=[],Se.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",Se.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",Se.VARIABLE_LENGTH,20],["22",Se.VARIABLE_LENGTH,29],["30",Se.VARIABLE_LENGTH,8],["37",Se.VARIABLE_LENGTH,8],["90",Se.VARIABLE_LENGTH,30],["91",Se.VARIABLE_LENGTH,30],["92",Se.VARIABLE_LENGTH,30],["93",Se.VARIABLE_LENGTH,30],["94",Se.VARIABLE_LENGTH,30],["95",Se.VARIABLE_LENGTH,30],["96",Se.VARIABLE_LENGTH,30],["97",Se.VARIABLE_LENGTH,3],["98",Se.VARIABLE_LENGTH,30],["99",Se.VARIABLE_LENGTH,30]],Se.THREE_DIGIT_DATA_LENGTH=[["240",Se.VARIABLE_LENGTH,30],["241",Se.VARIABLE_LENGTH,30],["242",Se.VARIABLE_LENGTH,6],["250",Se.VARIABLE_LENGTH,30],["251",Se.VARIABLE_LENGTH,30],["253",Se.VARIABLE_LENGTH,17],["254",Se.VARIABLE_LENGTH,20],["400",Se.VARIABLE_LENGTH,30],["401",Se.VARIABLE_LENGTH,30],["402",17],["403",Se.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",Se.VARIABLE_LENGTH,20],["421",Se.VARIABLE_LENGTH,15],["422",3],["423",Se.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],Se.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",Se.VARIABLE_LENGTH,15],["391",Se.VARIABLE_LENGTH,18],["392",Se.VARIABLE_LENGTH,15],["393",Se.VARIABLE_LENGTH,18],["703",Se.VARIABLE_LENGTH,30]],Se.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",Se.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",Se.VARIABLE_LENGTH,20],["8003",Se.VARIABLE_LENGTH,30],["8004",Se.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",Se.VARIABLE_LENGTH,30],["8008",Se.VARIABLE_LENGTH,12],["8018",18],["8020",Se.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",Se.VARIABLE_LENGTH,70],["8200",Se.VARIABLE_LENGTH,70]];class Ka{constructor(i){this.buffer=new se,this.information=i}decodeAllCodes(i,a){let c=a,d=null;do{let f=this.decodeGeneralPurposeField(c,d),g=Se.parseFieldsInGeneralPurpose(f.getNewString());if(g!=null&&i.append(g),f.isRemaining()?d=""+f.getRemainingValue():d=null,c===f.getNewPosition())break;c=f.getNewPosition()}while(!0);return i.toString()}isStillNumeric(i){if(i+7>this.information.getSize())return i+4<=this.information.getSize();for(let a=i;a<i+3;++a)if(this.information.get(a))return!0;return this.information.get(i+3)}decodeNumeric(i){if(i+7>this.information.getSize()){let f=this.extractNumericValueFromBitArray(i,4);return f===0?new qn(this.information.getSize(),qn.FNC1,qn.FNC1):new qn(this.information.getSize(),f-1,qn.FNC1)}let a=this.extractNumericValueFromBitArray(i,7),c=(a-8)/11,d=(a-8)%11;return new qn(i+7,c,d)}extractNumericValueFromBitArray(i,a){return Ka.extractNumericValueFromBitArray(this.information,i,a)}static extractNumericValueFromBitArray(i,a,c){let d=0;for(let f=0;f<c;++f)i.get(a+f)&&(d|=1<<c-f-1);return d}decodeGeneralPurposeField(i,a){this.buffer.setLengthToZero(),a!=null&&this.buffer.append(a),this.current.setPosition(i);let c=this.parseBlocks();return c!=null&&c.isRemaining()?new qo(this.current.getPosition(),this.buffer.toString(),c.getRemainingValue()):new qo(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let i,a;do{let c=this.current.getPosition();if(this.current.isAlpha()?(a=this.parseAlphaBlock(),i=a.isFinished()):this.current.isIsoIec646()?(a=this.parseIsoIec646Block(),i=a.isFinished()):(a=this.parseNumericBlock(),i=a.isFinished()),!(c!==this.current.getPosition())&&!i)break}while(!i);return a.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let i=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFirstDigitFNC1()){let a;return i.isSecondDigitFNC1()?a=new qo(this.current.getPosition(),this.buffer.toString()):a=new qo(this.current.getPosition(),this.buffer.toString(),i.getSecondDigit()),new vr(!0,a)}if(this.buffer.append(i.getFirstDigit()),i.isSecondDigitFNC1()){let a=new qo(this.current.getPosition(),this.buffer.toString());return new vr(!0,a)}this.buffer.append(i.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new vr(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let i=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new qo(this.current.getPosition(),this.buffer.toString());return new vr(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new vr(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let i=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(i.getNewPosition()),i.isFNC1()){let a=new qo(this.current.getPosition(),this.buffer.toString());return new vr(!0,a)}this.buffer.append(i.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new vr(!1)}isStillIsoIec646(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+7>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,7);if(c>=64&&c<116)return!0;if(i+8>this.information.getSize())return!1;let d=this.extractNumericValueFromBitArray(i,8);return d>=232&&d<253}decodeIsoIec646(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new dn(i+5,dn.FNC1);if(a>=5&&a<15)return new dn(i+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(i,7);if(c>=64&&c<90)return new dn(i+7,""+(c+1));if(c>=90&&c<116)return new dn(i+7,""+(c+7));let d=this.extractNumericValueFromBitArray(i,8),f;switch(d){case 232:f="!";break;case 233:f='"';break;case 234:f="%";break;case 235:f="&";break;case 236:f="'";break;case 237:f="(";break;case 238:f=")";break;case 239:f="*";break;case 240:f="+";break;case 241:f=",";break;case 242:f="-";break;case 243:f=".";break;case 244:f="/";break;case 245:f=":";break;case 246:f=";";break;case 247:f="<";break;case 248:f="=";break;case 249:f=">";break;case 250:f="?";break;case 251:f="_";break;case 252:f=" ";break;default:throw new L}return new dn(i+8,f)}isStillAlpha(i){if(i+5>this.information.getSize())return!1;let a=this.extractNumericValueFromBitArray(i,5);if(a>=5&&a<16)return!0;if(i+6>this.information.getSize())return!1;let c=this.extractNumericValueFromBitArray(i,6);return c>=16&&c<63}decodeAlphanumeric(i){let a=this.extractNumericValueFromBitArray(i,5);if(a===15)return new dn(i+5,dn.FNC1);if(a>=5&&a<15)return new dn(i+5,"0"+(a-5));let c=this.extractNumericValueFromBitArray(i,6);if(c>=32&&c<58)return new dn(i+6,""+(c+33));let d;switch(c){case 58:d="*";break;case 59:d=",";break;case 60:d="-";break;case 61:d=".";break;case 62:d="/";break;default:throw new yr("Decoding invalid alphanumeric value: "+c)}return new dn(i+6,d)}isAlphaTo646ToAlphaLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<5&&a+i<this.information.getSize();++a)if(a===2){if(!this.information.get(i+2))return!1}else if(this.information.get(i+a))return!1;return!0}isAlphaOr646ToNumericLatch(i){if(i+3>this.information.getSize())return!1;for(let a=i;a<i+3;++a)if(this.information.get(a))return!1;return!0}isNumericToAlphaNumericLatch(i){if(i+1>this.information.getSize())return!1;for(let a=0;a<4&&a+i<this.information.getSize();++a)if(this.information.get(i+a))return!1;return!0}}class _0{constructor(i){this.information=i,this.generalDecoder=new Ka(i)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class hn extends _0{constructor(i){super(i)}encodeCompressedGtin(i,a){i.append("(01)");let c=i.length();i.append("9"),this.encodeCompressedGtinWithoutAI(i,a,c)}encodeCompressedGtinWithoutAI(i,a,c){for(let d=0;d<4;++d){let f=this.getGeneralDecoder().extractNumericValueFromBitArray(a+10*d,10);f/100===0&&i.append("0"),f/10===0&&i.append("0"),i.append(f)}hn.appendCheckDigit(i,c)}static appendCheckDigit(i,a){let c=0;for(let d=0;d<13;d++){let f=i.charAt(d+a).charCodeAt(0)-48;c+=d&1?f:3*f}c=10-c%10,c===10&&(c=0),i.append(c)}}hn.GTIN_SIZE=40;class Qa extends hn{constructor(i){super(i)}parseInformation(){let i=new se;i.append("(01)");let a=i.length(),c=this.getGeneralDecoder().extractNumericValueFromBitArray(Qa.HEADER_SIZE,4);return i.append(c),this.encodeCompressedGtinWithoutAI(i,Qa.HEADER_SIZE+4,a),this.getGeneralDecoder().decodeAllCodes(i,Qa.HEADER_SIZE+44)}}Qa.HEADER_SIZE=4;class bd extends _0{constructor(i){super(i)}parseInformation(){let i=new se;return this.getGeneralDecoder().decodeAllCodes(i,bd.HEADER_SIZE)}}bd.HEADER_SIZE=5;class Ed extends hn{constructor(i){super(i)}encodeCompressedWeight(i,a,c){let d=this.getGeneralDecoder().extractNumericValueFromBitArray(a,c);this.addWeightCode(i,d);let f=this.checkWeight(d),g=1e5;for(let y=0;y<5;++y)f/g===0&&i.append("0"),g/=10;i.append(f)}}class Vs extends Ed{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()!=Vs.HEADER_SIZE+Ed.GTIN_SIZE+Vs.WEIGHT_SIZE)throw new H;let i=new se;return this.encodeCompressedGtin(i,Vs.HEADER_SIZE),this.encodeCompressedWeight(i,Vs.HEADER_SIZE+Ed.GTIN_SIZE,Vs.WEIGHT_SIZE),i.toString()}}Vs.HEADER_SIZE=5,Vs.WEIGHT_SIZE=15;class uN extends Vs{constructor(i){super(i)}addWeightCode(i,a){i.append("(3103)")}checkWeight(i){return i}}class dN extends Vs{constructor(i){super(i)}addWeightCode(i,a){a<1e4?i.append("(3202)"):i.append("(3203)")}checkWeight(i){return i<1e4?i:i-1e4}}class Hs extends hn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<Hs.HEADER_SIZE+hn.GTIN_SIZE)throw new H;let i=new se;this.encodeCompressedGtin(i,Hs.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(Hs.HEADER_SIZE+hn.GTIN_SIZE,Hs.LAST_DIGIT_SIZE);i.append("(392"),i.append(a),i.append(")");let c=this.getGeneralDecoder().decodeGeneralPurposeField(Hs.HEADER_SIZE+hn.GTIN_SIZE+Hs.LAST_DIGIT_SIZE,null);return i.append(c.getNewString()),i.toString()}}Hs.HEADER_SIZE=8,Hs.LAST_DIGIT_SIZE=2;class en extends hn{constructor(i){super(i)}parseInformation(){if(this.getInformation().getSize()<en.HEADER_SIZE+hn.GTIN_SIZE)throw new H;let i=new se;this.encodeCompressedGtin(i,en.HEADER_SIZE);let a=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+hn.GTIN_SIZE,en.LAST_DIGIT_SIZE);i.append("(393"),i.append(a),i.append(")");let c=this.getGeneralDecoder().extractNumericValueFromBitArray(en.HEADER_SIZE+hn.GTIN_SIZE+en.LAST_DIGIT_SIZE,en.FIRST_THREE_DIGITS_SIZE);c/100==0&&i.append("0"),c/10==0&&i.append("0"),i.append(c);let d=this.getGeneralDecoder().decodeGeneralPurposeField(en.HEADER_SIZE+hn.GTIN_SIZE+en.LAST_DIGIT_SIZE+en.FIRST_THREE_DIGITS_SIZE,null);return i.append(d.getNewString()),i.toString()}}en.HEADER_SIZE=8,en.LAST_DIGIT_SIZE=2,en.FIRST_THREE_DIGITS_SIZE=10;class Ut extends Ed{constructor(i,a,c){super(i),this.dateCode=c,this.firstAIdigits=a}parseInformation(){if(this.getInformation().getSize()!=Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE+Ut.DATE_SIZE)throw new H;let i=new se;return this.encodeCompressedGtin(i,Ut.HEADER_SIZE),this.encodeCompressedWeight(i,Ut.HEADER_SIZE+Ut.GTIN_SIZE,Ut.WEIGHT_SIZE),this.encodeCompressedDate(i,Ut.HEADER_SIZE+Ut.GTIN_SIZE+Ut.WEIGHT_SIZE),i.toString()}encodeCompressedDate(i,a){let c=this.getGeneralDecoder().extractNumericValueFromBitArray(a,Ut.DATE_SIZE);if(c==38400)return;i.append("("),i.append(this.dateCode),i.append(")");let d=c%32;c/=32;let f=c%12+1;c/=12;let g=c;g/10==0&&i.append("0"),i.append(g),f/10==0&&i.append("0"),i.append(f),d/10==0&&i.append("0"),i.append(d)}addWeightCode(i,a){i.append("("),i.append(this.firstAIdigits),i.append(a/1e5),i.append(")")}checkWeight(i){return i%1e5}}Ut.HEADER_SIZE=8,Ut.WEIGHT_SIZE=20,Ut.DATE_SIZE=16;function qx(P){try{if(P.get(1))return new Qa(P);if(!P.get(2))return new bd(P);switch(Ka.extractNumericValueFromBitArray(P,1,4)){case 4:return new uN(P);case 5:return new dN(P)}switch(Ka.extractNumericValueFromBitArray(P,1,5)){case 12:return new Hs(P);case 13:return new en(P)}switch(Ka.extractNumericValueFromBitArray(P,1,7)){case 56:return new Ut(P,"310","11");case 57:return new Ut(P,"320","11");case 58:return new Ut(P,"310","13");case 59:return new Ut(P,"320","13");case 60:return new Ut(P,"310","15");case 61:return new Ut(P,"320","15");case 62:return new Ut(P,"310","17");case 63:return new Ut(P,"320","17")}}catch(i){throw console.log(i),new yr("unknown decoder: "+P)}}class Li{constructor(i,a,c,d){this.leftchar=i,this.rightchar=a,this.finderpattern=c,this.maybeLast=d}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(i,a){return i instanceof Li?Li.equalsOrNull(i.leftchar,a.leftchar)&&Li.equalsOrNull(i.rightchar,a.rightchar)&&Li.equalsOrNull(i.finderpattern,a.finderpattern):!1}static equalsOrNull(i,a){return i===null?a===null:Li.equals(i,a)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class b0{constructor(i,a,c){this.pairs=i,this.rowNumber=a,this.wasReversed=c}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(i){return this.checkEqualitity(this,i)}toString(){return"{ "+this.pairs+" }"}equals(i,a){return i instanceof b0?this.checkEqualitity(i,a)&&i.wasReversed===a.wasReversed:!1}checkEqualitity(i,a){if(!i||!a)return;let c;return i.forEach((d,f)=>{a.forEach(g=>{d.getLeftChar().getValue()===g.getLeftChar().getValue()&&d.getRightChar().getValue()===g.getRightChar().getValue()&&d.getFinderPatter().getValue()===g.getFinderPatter().getValue()&&(c=!0)})}),c}}class le extends qe{constructor(i){super(...arguments),this.pairs=new Array(le.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=i===!0}decodeRow(i,a,c){this.pairs.length=0,this.startFromEven=!1;try{return le.constructResult(this.decodeRow2pairs(i,a))}catch(d){this.verbose&&console.log(d)}return this.pairs.length=0,this.startFromEven=!0,le.constructResult(this.decodeRow2pairs(i,a))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(i,a){let c=!1;for(;!c;)try{this.pairs.push(this.retrieveNextPair(a,this.pairs,i))}catch(f){if(f instanceof H){if(!this.pairs.length)throw new H;c=!0}}if(this.checkChecksum())return this.pairs;let d;if(this.rows.length?d=!0:d=!1,this.storeRow(i,!1),d){let f=this.checkRowsBoolean(!1);if(f!=null||(f=this.checkRowsBoolean(!0),f!=null))return f}throw new H}checkRowsBoolean(i){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,i&&(this.rows=this.rows.reverse());let a=null;try{a=this.checkRows(new Array,0)}catch(c){this.verbose&&console.log(c)}return i&&(this.rows=this.rows.reverse()),a}checkRows(i,a){for(let c=a;c<this.rows.length;c++){let d=this.rows[c];this.pairs.length=0;for(let g of i)this.pairs.push(g.getPairs());if(this.pairs.push(d.getPairs()),!le.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let f=new Array(i);f.push(d);try{return this.checkRows(f,c+1)}catch(g){this.verbose&&console.log(g)}}throw new H}static isValidSequence(i){for(let a of le.FINDER_PATTERN_SEQUENCES){if(i.length>a.length)continue;let c=!0;for(let d=0;d<i.length;d++)if(i[d].getFinderPattern().getValue()!=a[d]){c=!1;break}if(c)return!0}return!1}storeRow(i,a){let c=0,d=!1,f=!1;for(;c<this.rows.length;){let g=this.rows[c];if(g.getRowNumber()>i){f=g.isEquivalent(this.pairs);break}d=g.isEquivalent(this.pairs),c++}f||d||le.isPartialRow(this.pairs,this.rows)||(this.rows.push(c,new b0(this.pairs,i,a)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(i,a){for(let c of a)if(c.getPairs().length!==i.length){for(let d of c.getPairs())for(let f of i)if(Li.equals(d,f))break}}static isPartialRow(i,a){for(let c of a){let d=!0;for(let f of i){let g=!1;for(let y of c.getPairs())if(f.equals(y)){g=!0;break}if(!g){d=!1;break}}if(d)return!0}return!1}getRows(){return this.rows}static constructResult(i){let a=hi.buildBitArray(i),d=qx(a).parseInformation(),f=i[0].getFinderPattern().getResultPoints(),g=i[i.length-1].getFinderPattern().getResultPoints(),y=[f[0],f[1],g[0],g[1]];return new fe(d,null,null,y,ve.RSS_EXPANDED,null)}checkChecksum(){let i=this.pairs.get(0),a=i.getLeftChar(),c=i.getRightChar();if(c==null)return!1;let d=c.getChecksumPortion(),f=2;for(let y=1;y<this.pairs.size();++y){let v=this.pairs.get(y);d+=v.getLeftChar().getChecksumPortion(),f++;let C=v.getRightChar();C!=null&&(d+=C.getChecksumPortion(),f++)}return d%=211,211*(f-4)+d==a.getValue()}static getNextSecondBar(i,a){let c;return i.get(a)?(c=i.getNextUnset(a),c=i.getNextSet(c)):(c=i.getNextSet(a),c=i.getNextUnset(c)),c}retrieveNextPair(i,a,c){let d=a.length%2==0;this.startFromEven&&(d=!d);let f,g=!0,y=-1;do this.findNextPair(i,a,y),f=this.parseFoundFinderPattern(i,c,d),f==null?y=le.getNextSecondBar(i,this.startEnd[0]):g=!1;while(g);let v=this.decodeDataCharacter(i,f,d,!0);if(!this.isEmptyPair(a)&&a[a.length-1].mustBeLast())throw new H;let C;try{C=this.decodeDataCharacter(i,f,d,!1)}catch(O){C=null,this.verbose&&console.log(O)}return new Li(v,C,f,!0)}isEmptyPair(i){return i.length===0}findNextPair(i,a,c){let d=this.getDecodeFinderCounters();d[0]=0,d[1]=0,d[2]=0,d[3]=0;let f=i.getSize(),g;c>=0?g=c:this.isEmptyPair(a)?g=0:g=a[a.length-1].getFinderPattern().getStartEnd()[1];let y=a.length%2!=0;this.startFromEven&&(y=!y);let v=!1;for(;g<f&&(v=!i.get(g),!!v);)g++;let C=0,O=g;for(let D=g;D<f;D++)if(i.get(D)!=v)d[C]++;else{if(C==3){if(y&&le.reverseCounters(d),le.isFinderPattern(d)){this.startEnd[0]=O,this.startEnd[1]=D;return}y&&le.reverseCounters(d),O+=d[0]+d[1],d[0]=d[2],d[1]=d[3],d[2]=0,d[3]=0,C--}else C++;d[C]=1,v=!v}throw new H}static reverseCounters(i){let a=i.length;for(let c=0;c<a/2;++c){let d=i[c];i[c]=i[a-c-1],i[a-c-1]=d}}parseFoundFinderPattern(i,a,c){let d,f,g;if(c){let C=this.startEnd[0]-1;for(;C>=0&&!i.get(C);)C--;C++,d=this.startEnd[0]-C,f=C,g=this.startEnd[1]}else f=this.startEnd[0],g=i.getNextUnset(this.startEnd[1]+1),d=g-this.startEnd[1];let y=this.getDecodeFinderCounters();E.arraycopy(y,0,y,1,y.length-1),y[0]=d;let v;try{v=this.parseFinderValue(y,le.FINDER_PATTERNS)}catch{return null}return new Vr(v,[f,g],f,g,a)}decodeDataCharacter(i,a,c,d){let f=this.getDataCharacterCounters();for(let Tt=0;Tt<f.length;Tt++)f[Tt]=0;if(d)le.recordPatternInReverse(i,a.getStartEnd()[0],f);else{le.recordPattern(i,a.getStartEnd()[1],f);for(let Tt=0,jr=f.length-1;Tt<jr;Tt++,jr--){let Nn=f[Tt];f[Tt]=f[jr],f[jr]=Nn}}let g=17,y=be.sum(new Int32Array(f))/g,v=(a.getStartEnd()[1]-a.getStartEnd()[0])/15;if(Math.abs(y-v)/v>.3)throw new H;let C=this.getOddCounts(),O=this.getEvenCounts(),D=this.getOddRoundingErrors(),j=this.getEvenRoundingErrors();for(let Tt=0;Tt<f.length;Tt++){let jr=1*f[Tt]/y,Nn=jr+.5;if(Nn<1){if(jr<.3)throw new H;Nn=1}else if(Nn>8){if(jr>8.7)throw new H;Nn=8}let rl=Tt/2;Tt&1?(O[rl]=Nn,j[rl]=jr-Nn):(C[rl]=Nn,D[rl]=jr-Nn)}this.adjustOddEvenCounts(g);let z=4*a.getValue()+(c?0:2)+(d?0:1)-1,W=0,$=0;for(let Tt=C.length-1;Tt>=0;Tt--){if(le.isNotA1left(a,c,d)){let jr=le.WEIGHTS[z][2*Tt];$+=C[Tt]*jr}W+=C[Tt]}let q=0;for(let Tt=O.length-1;Tt>=0;Tt--)if(le.isNotA1left(a,c,d)){let jr=le.WEIGHTS[z][2*Tt+1];q+=O[Tt]*jr}let te=$+q;if(W&1||W>13||W<4)throw new H;let ge=(13-W)/2,me=le.SYMBOL_WIDEST[ge],he=9-me,it=wr.getRSSvalue(C,me,!0),Ye=wr.getRSSvalue(O,he,!1),pn=le.EVEN_TOTAL_SUBSET[ge],xs=le.GSUM[ge],gn=it*pn+Ye+xs;return new Tr(gn,te)}static isNotA1left(i,a,c){return!(i.getValue()==0&&a&&c)}adjustOddEvenCounts(i){let a=be.sum(new Int32Array(this.getOddCounts())),c=be.sum(new Int32Array(this.getEvenCounts())),d=!1,f=!1;a>13?f=!0:a<4&&(d=!0);let g=!1,y=!1;c>13?y=!0:c<4&&(g=!0);let v=a+c-i,C=(a&1)==1,O=(c&1)==0;if(v==1)if(C){if(O)throw new H;f=!0}else{if(!O)throw new H;y=!0}else if(v==-1)if(C){if(O)throw new H;d=!0}else{if(!O)throw new H;g=!0}else if(v==0){if(C){if(!O)throw new H;a<c?(d=!0,y=!0):(f=!0,g=!0)}else if(O)throw new H}else throw new H;if(d){if(f)throw new H;le.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(f&&le.decrement(this.getOddCounts(),this.getOddRoundingErrors()),g){if(y)throw new H;le.increment(this.getEvenCounts(),this.getOddRoundingErrors())}y&&le.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}le.SYMBOL_WIDEST=[7,5,4,3,1],le.EVEN_TOTAL_SUBSET=[4,20,52,104,204],le.GSUM=[0,348,1388,2948,3988],le.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],le.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],le.FINDER_PAT_A=0,le.FINDER_PAT_B=1,le.FINDER_PAT_C=2,le.FINDER_PAT_D=3,le.FINDER_PAT_E=4,le.FINDER_PAT_F=5,le.FINDER_PATTERN_SEQUENCES=[[le.FINDER_PAT_A,le.FINDER_PAT_A],[le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B],[le.FINDER_PAT_A,le.FINDER_PAT_C,le.FINDER_PAT_B,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_C],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_E,le.FINDER_PAT_B,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F],[le.FINDER_PAT_A,le.FINDER_PAT_A,le.FINDER_PAT_B,le.FINDER_PAT_B,le.FINDER_PAT_C,le.FINDER_PAT_D,le.FINDER_PAT_D,le.FINDER_PAT_E,le.FINDER_PAT_E,le.FINDER_PAT_F,le.FINDER_PAT_F]],le.MAX_PAIRS=11;class hN extends Tr{constructor(i,a,c){super(i,a),this.count=0,this.finderPattern=c}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class er extends qe{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(i,a,c){const d=this.decodePair(a,!1,i,c);er.addOrTally(this.possibleLeftPairs,d),a.reverse();let f=this.decodePair(a,!0,i,c);er.addOrTally(this.possibleRightPairs,f),a.reverse();for(let g of this.possibleLeftPairs)if(g.getCount()>1){for(let y of this.possibleRightPairs)if(y.getCount()>1&&er.checkChecksum(g,y))return er.constructResult(g,y)}throw new H}static addOrTally(i,a){if(a==null)return;let c=!1;for(let d of i)if(d.getValue()===a.getValue()){d.incrementCount(),c=!0;break}c||i.push(a)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(i,a){let c=4537077*i.getValue()+a.getValue(),d=new String(c).toString(),f=new se;for(let C=13-d.length;C>0;C--)f.append("0");f.append(d);let g=0;for(let C=0;C<13;C++){let O=f.charAt(C).charCodeAt(0)-48;g+=C&1?O:3*O}g=10-g%10,g===10&&(g=0),f.append(g.toString());let y=i.getFinderPattern().getResultPoints(),v=a.getFinderPattern().getResultPoints();return new fe(f.toString(),null,0,[y[0],y[1],v[0],v[1]],ve.RSS_14,new Date().getTime())}static checkChecksum(i,a){let c=(i.getChecksumPortion()+16*a.getChecksumPortion())%79,d=9*i.getFinderPattern().getValue()+a.getFinderPattern().getValue();return d>72&&d--,d>8&&d--,c===d}decodePair(i,a,c,d){try{let f=this.findFinderPattern(i,a),g=this.parseFoundFinderPattern(i,c,a,f),y=d==null?null:d.get(B.NEED_RESULT_POINT_CALLBACK);if(y!=null){let O=(f[0]+f[1])/2;a&&(O=i.getSize()-1-O),y.foundPossibleResultPoint(new we(O,c))}let v=this.decodeDataCharacter(i,g,!0),C=this.decodeDataCharacter(i,g,!1);return new hN(1597*v.getValue()+C.getValue(),v.getChecksumPortion()+4*C.getChecksumPortion(),g)}catch{return null}}decodeDataCharacter(i,a,c){let d=this.getDataCharacterCounters();for(let q=0;q<d.length;q++)d[q]=0;if(c)Bt.recordPatternInReverse(i,a.getStartEnd()[0],d);else{Bt.recordPattern(i,a.getStartEnd()[1]+1,d);for(let q=0,te=d.length-1;q<te;q++,te--){let ge=d[q];d[q]=d[te],d[te]=ge}}let f=c?16:15,g=be.sum(new Int32Array(d))/f,y=this.getOddCounts(),v=this.getEvenCounts(),C=this.getOddRoundingErrors(),O=this.getEvenRoundingErrors();for(let q=0;q<d.length;q++){let te=d[q]/g,ge=Math.floor(te+.5);ge<1?ge=1:ge>8&&(ge=8);let me=Math.floor(q/2);q&1?(v[me]=ge,O[me]=te-ge):(y[me]=ge,C[me]=te-ge)}this.adjustOddEvenCounts(c,f);let D=0,j=0;for(let q=y.length-1;q>=0;q--)j*=9,j+=y[q],D+=y[q];let z=0,W=0;for(let q=v.length-1;q>=0;q--)z*=9,z+=v[q],W+=v[q];let $=j+3*z;if(c){if(D&1||D>12||D<4)throw new H;let q=(12-D)/2,te=er.OUTSIDE_ODD_WIDEST[q],ge=9-te,me=wr.getRSSvalue(y,te,!1),he=wr.getRSSvalue(v,ge,!0),it=er.OUTSIDE_EVEN_TOTAL_SUBSET[q],Ye=er.OUTSIDE_GSUM[q];return new Tr(me*it+he+Ye,$)}else{if(W&1||W>10||W<4)throw new H;let q=(10-W)/2,te=er.INSIDE_ODD_WIDEST[q],ge=9-te,me=wr.getRSSvalue(y,te,!0),he=wr.getRSSvalue(v,ge,!1),it=er.INSIDE_ODD_TOTAL_SUBSET[q],Ye=er.INSIDE_GSUM[q];return new Tr(he*it+me+Ye,$)}}findFinderPattern(i,a){let c=this.getDecodeFinderCounters();c[0]=0,c[1]=0,c[2]=0,c[3]=0;let d=i.getSize(),f=!1,g=0;for(;g<d&&(f=!i.get(g),a!==f);)g++;let y=0,v=g;for(let C=g;C<d;C++)if(i.get(C)!==f)c[y]++;else{if(y===3){if(qe.isFinderPattern(c))return[v,C];v+=c[0]+c[1],c[0]=c[2],c[1]=c[3],c[2]=0,c[3]=0,y--}else y++;c[y]=1,f=!f}throw new H}parseFoundFinderPattern(i,a,c,d){let f=i.get(d[0]),g=d[0]-1;for(;g>=0&&f!==i.get(g);)g--;g++;const y=d[0]-g,v=this.getDecodeFinderCounters(),C=new Int32Array(v.length);E.arraycopy(v,0,C,1,v.length-1),C[0]=y;const O=this.parseFinderValue(C,er.FINDER_PATTERNS);let D=g,j=d[1];return c&&(D=i.getSize()-1-D,j=i.getSize()-1-j),new Vr(O,[g,d[1]],D,j,a)}adjustOddEvenCounts(i,a){let c=be.sum(new Int32Array(this.getOddCounts())),d=be.sum(new Int32Array(this.getEvenCounts())),f=!1,g=!1,y=!1,v=!1;i?(c>12?g=!0:c<4&&(f=!0),d>12?v=!0:d<4&&(y=!0)):(c>11?g=!0:c<5&&(f=!0),d>10?v=!0:d<4&&(y=!0));let C=c+d-a,O=(c&1)===(i?1:0),D=(d&1)===1;if(C===1)if(O){if(D)throw new H;g=!0}else{if(!D)throw new H;v=!0}else if(C===-1)if(O){if(D)throw new H;f=!0}else{if(!D)throw new H;y=!0}else if(C===0){if(O){if(!D)throw new H;c<d?(f=!0,v=!0):(g=!0,y=!0)}else if(D)throw new H}else throw new H;if(f){if(g)throw new H;qe.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(g&&qe.decrement(this.getOddCounts(),this.getOddRoundingErrors()),y){if(v)throw new H;qe.increment(this.getEvenCounts(),this.getOddRoundingErrors())}v&&qe.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}er.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],er.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],er.OUTSIDE_GSUM=[0,161,961,2015,2715],er.INSIDE_GSUM=[0,336,1036,1516],er.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],er.INSIDE_ODD_WIDEST=[2,4,6,8],er.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class Za extends Bt{constructor(i,a){super(),this.readers=[],this.verbose=a===!0;const c=i?i.get(B.POSSIBLE_FORMATS):null,d=i&&i.get(B.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;c?((c.includes(ve.EAN_13)||c.includes(ve.UPC_A)||c.includes(ve.EAN_8)||c.includes(ve.UPC_E))&&this.readers.push(new pt(i)),c.includes(ve.CODE_39)&&this.readers.push(new Jt(d)),c.includes(ve.CODE_128)&&this.readers.push(new xe),c.includes(ve.ITF)&&this.readers.push(new ct),c.includes(ve.RSS_14)&&this.readers.push(new er),c.includes(ve.RSS_EXPANDED)&&this.readers.push(new le(this.verbose))):(this.readers.push(new pt(i)),this.readers.push(new Jt),this.readers.push(new pt(i)),this.readers.push(new xe),this.readers.push(new ct),this.readers.push(new er),this.readers.push(new le(this.verbose)))}decodeRow(i,a,c){for(let d=0;d<this.readers.length;d++)try{return this.readers[d].decodeRow(i,a,c)}catch{}throw new H}reset(){this.readers.forEach(i=>i.reset())}}class fN extends ae{constructor(i=500,a){super(new Za(a),i,a)}}class yt{constructor(i,a,c){this.ecCodewords=i,this.ecBlocks=[a],c&&this.ecBlocks.push(c)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class mt{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ot{constructor(i,a,c,d,f,g){this.versionNumber=i,this.symbolSizeRows=a,this.symbolSizeColumns=c,this.dataRegionSizeRows=d,this.dataRegionSizeColumns=f,this.ecBlocks=g;let y=0;const v=g.getECCodewords(),C=g.getECBlocks();for(let O of C)y+=O.getCount()*(O.getDataCodewords()+v);this.totalCodewords=y}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(i,a){if(i&1||a&1)throw new L;for(let c of ot.VERSIONS)if(c.symbolSizeRows===i&&c.symbolSizeColumns===a)return c;throw new L}toString(){return""+this.versionNumber}static buildVersions(){return[new ot(1,10,10,8,8,new yt(5,new mt(1,3))),new ot(2,12,12,10,10,new yt(7,new mt(1,5))),new ot(3,14,14,12,12,new yt(10,new mt(1,8))),new ot(4,16,16,14,14,new yt(12,new mt(1,12))),new ot(5,18,18,16,16,new yt(14,new mt(1,18))),new ot(6,20,20,18,18,new yt(18,new mt(1,22))),new ot(7,22,22,20,20,new yt(20,new mt(1,30))),new ot(8,24,24,22,22,new yt(24,new mt(1,36))),new ot(9,26,26,24,24,new yt(28,new mt(1,44))),new ot(10,32,32,14,14,new yt(36,new mt(1,62))),new ot(11,36,36,16,16,new yt(42,new mt(1,86))),new ot(12,40,40,18,18,new yt(48,new mt(1,114))),new ot(13,44,44,20,20,new yt(56,new mt(1,144))),new ot(14,48,48,22,22,new yt(68,new mt(1,174))),new ot(15,52,52,24,24,new yt(42,new mt(2,102))),new ot(16,64,64,14,14,new yt(56,new mt(2,140))),new ot(17,72,72,16,16,new yt(36,new mt(4,92))),new ot(18,80,80,18,18,new yt(48,new mt(4,114))),new ot(19,88,88,20,20,new yt(56,new mt(4,144))),new ot(20,96,96,22,22,new yt(68,new mt(4,174))),new ot(21,104,104,24,24,new yt(56,new mt(6,136))),new ot(22,120,120,18,18,new yt(68,new mt(6,175))),new ot(23,132,132,20,20,new yt(62,new mt(8,163))),new ot(24,144,144,22,22,new yt(62,new mt(8,156),new mt(2,155))),new ot(25,8,18,6,16,new yt(7,new mt(1,5))),new ot(26,8,32,6,14,new yt(11,new mt(1,10))),new ot(27,12,26,10,24,new yt(14,new mt(1,16))),new ot(28,12,36,10,16,new yt(18,new mt(1,22))),new ot(29,16,36,14,16,new yt(24,new mt(1,32))),new ot(30,16,48,14,22,new yt(28,new mt(1,49)))]}}ot.VERSIONS=ot.buildVersions();class E0{constructor(i){const a=i.getHeight();if(a<8||a>144||a&1)throw new L;this.version=E0.readVersion(i),this.mappingBitMatrix=this.extractDataRegion(i),this.readMappingMatrix=new G(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(i){const a=i.getHeight(),c=i.getWidth();return ot.getVersionForDimensions(a,c)}readCodewords(){const i=new Int8Array(this.version.getTotalCodewords());let a=0,c=4,d=0;const f=this.mappingBitMatrix.getHeight(),g=this.mappingBitMatrix.getWidth();let y=!1,v=!1,C=!1,O=!1;do if(c===f&&d===0&&!y)i[a++]=this.readCorner1(f,g)&255,c-=2,d+=2,y=!0;else if(c===f-2&&d===0&&g&3&&!v)i[a++]=this.readCorner2(f,g)&255,c-=2,d+=2,v=!0;else if(c===f+4&&d===2&&!(g&7)&&!C)i[a++]=this.readCorner3(f,g)&255,c-=2,d+=2,C=!0;else if(c===f-2&&d===0&&(g&7)===4&&!O)i[a++]=this.readCorner4(f,g)&255,c-=2,d+=2,O=!0;else{do c<f&&d>=0&&!this.readMappingMatrix.get(d,c)&&(i[a++]=this.readUtah(c,d,f,g)&255),c-=2,d+=2;while(c>=0&&d<g);c+=1,d+=3;do c>=0&&d<g&&!this.readMappingMatrix.get(d,c)&&(i[a++]=this.readUtah(c,d,f,g)&255),c+=2,d-=2;while(c<f&&d>=0);c+=3,d+=1}while(c<f||d<g);if(a!==this.version.getTotalCodewords())throw new L;return i}readModule(i,a,c,d){return i<0&&(i+=c,a+=4-(c+4&7)),a<0&&(a+=d,i+=4-(d+4&7)),this.readMappingMatrix.set(a,i),this.mappingBitMatrix.get(a,i)}readUtah(i,a,c,d){let f=0;return this.readModule(i-2,a-2,c,d)&&(f|=1),f<<=1,this.readModule(i-2,a-1,c,d)&&(f|=1),f<<=1,this.readModule(i-1,a-2,c,d)&&(f|=1),f<<=1,this.readModule(i-1,a-1,c,d)&&(f|=1),f<<=1,this.readModule(i-1,a,c,d)&&(f|=1),f<<=1,this.readModule(i,a-2,c,d)&&(f|=1),f<<=1,this.readModule(i,a-1,c,d)&&(f|=1),f<<=1,this.readModule(i,a,c,d)&&(f|=1),f}readCorner1(i,a){let c=0;return this.readModule(i-1,0,i,a)&&(c|=1),c<<=1,this.readModule(i-1,1,i,a)&&(c|=1),c<<=1,this.readModule(i-1,2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-1,i,a)&&(c|=1),c<<=1,this.readModule(1,a-1,i,a)&&(c|=1),c<<=1,this.readModule(2,a-1,i,a)&&(c|=1),c<<=1,this.readModule(3,a-1,i,a)&&(c|=1),c}readCorner2(i,a){let c=0;return this.readModule(i-3,0,i,a)&&(c|=1),c<<=1,this.readModule(i-2,0,i,a)&&(c|=1),c<<=1,this.readModule(i-1,0,i,a)&&(c|=1),c<<=1,this.readModule(0,a-4,i,a)&&(c|=1),c<<=1,this.readModule(0,a-3,i,a)&&(c|=1),c<<=1,this.readModule(0,a-2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-1,i,a)&&(c|=1),c<<=1,this.readModule(1,a-1,i,a)&&(c|=1),c}readCorner3(i,a){let c=0;return this.readModule(i-1,0,i,a)&&(c|=1),c<<=1,this.readModule(i-1,a-1,i,a)&&(c|=1),c<<=1,this.readModule(0,a-3,i,a)&&(c|=1),c<<=1,this.readModule(0,a-2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-1,i,a)&&(c|=1),c<<=1,this.readModule(1,a-3,i,a)&&(c|=1),c<<=1,this.readModule(1,a-2,i,a)&&(c|=1),c<<=1,this.readModule(1,a-1,i,a)&&(c|=1),c}readCorner4(i,a){let c=0;return this.readModule(i-3,0,i,a)&&(c|=1),c<<=1,this.readModule(i-2,0,i,a)&&(c|=1),c<<=1,this.readModule(i-1,0,i,a)&&(c|=1),c<<=1,this.readModule(0,a-2,i,a)&&(c|=1),c<<=1,this.readModule(0,a-1,i,a)&&(c|=1),c<<=1,this.readModule(1,a-1,i,a)&&(c|=1),c<<=1,this.readModule(2,a-1,i,a)&&(c|=1),c<<=1,this.readModule(3,a-1,i,a)&&(c|=1),c}extractDataRegion(i){const a=this.version.getSymbolSizeRows(),c=this.version.getSymbolSizeColumns();if(i.getHeight()!==a)throw new w("Dimension of bitMatrix must match the version size");const d=this.version.getDataRegionSizeRows(),f=this.version.getDataRegionSizeColumns(),g=a/d|0,y=c/f|0,v=g*d,C=y*f,O=new G(C,v);for(let D=0;D<g;++D){const j=D*d;for(let z=0;z<y;++z){const W=z*f;for(let $=0;$<d;++$){const q=D*(d+2)+1+$,te=j+$;for(let ge=0;ge<f;++ge){const me=z*(f+2)+1+ge;if(i.get(me,q)){const he=W+ge;O.set(he,te)}}}}}return O}}class C0{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a){const c=a.getECBlocks();let d=0;const f=c.getECBlocks();for(let $ of f)d+=$.getCount();const g=new Array(d);let y=0;for(let $ of f)for(let q=0;q<$.getCount();q++){const te=$.getDataCodewords(),ge=c.getECCodewords()+te;g[y++]=new C0(te,new Uint8Array(ge))}const C=g[0].codewords.length-c.getECCodewords(),O=C-1;let D=0;for(let $=0;$<O;$++)for(let q=0;q<y;q++)g[q].codewords[$]=i[D++];const j=a.getVersionNumber()===24,z=j?8:y;for(let $=0;$<z;$++)g[$].codewords[C-1]=i[D++];const W=g[0].codewords.length;for(let $=C;$<W;$++)for(let q=0;q<y;q++){const te=j?(q+8)%y:q,ge=j&&te>7?$-1:$;g[te].codewords[ge]=i[D++]}if(D!==i.length)throw new w;return g}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class S0{constructor(i){this.bytes=i,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(i){if(i<1||i>32||i>this.available())throw new w(""+i);let a=0,c=this.bitOffset,d=this.byteOffset;const f=this.bytes;if(c>0){const g=8-c,y=i<g?i:g,v=g-y,C=255>>8-y<<v;a=(f[d]&C)>>v,i-=y,c+=y,c===8&&(c=0,d++)}if(i>0){for(;i>=8;)a=a<<8|f[d]&255,d++,i-=8;if(i>0){const g=8-i,y=255>>g<<g;a=a<<i|(f[d]&y)>>g,c+=i}}return this.bitOffset=c,this.byteOffset=d,a}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var _r;(function(P){P[P.PAD_ENCODE=0]="PAD_ENCODE",P[P.ASCII_ENCODE=1]="ASCII_ENCODE",P[P.C40_ENCODE=2]="C40_ENCODE",P[P.TEXT_ENCODE=3]="TEXT_ENCODE",P[P.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",P[P.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",P[P.BASE256_ENCODE=6]="BASE256_ENCODE"})(_r||(_r={}));class Bi{static decode(i){const a=new S0(i),c=new se,d=new se,f=new Array;let g=_r.ASCII_ENCODE;do if(g===_r.ASCII_ENCODE)g=this.decodeAsciiSegment(a,c,d);else{switch(g){case _r.C40_ENCODE:this.decodeC40Segment(a,c);break;case _r.TEXT_ENCODE:this.decodeTextSegment(a,c);break;case _r.ANSIX12_ENCODE:this.decodeAnsiX12Segment(a,c);break;case _r.EDIFACT_ENCODE:this.decodeEdifactSegment(a,c);break;case _r.BASE256_ENCODE:this.decodeBase256Segment(a,c,f);break;default:throw new L}g=_r.ASCII_ENCODE}while(g!==_r.PAD_ENCODE&&a.available()>0);return d.length()>0&&c.append(d.toString()),new ut(i,c.toString(),f.length===0?null:f,null)}static decodeAsciiSegment(i,a,c){let d=!1;do{let f=i.readBits(8);if(f===0)throw new L;if(f<=128)return d&&(f+=128),a.append(String.fromCharCode(f-1)),_r.ASCII_ENCODE;if(f===129)return _r.PAD_ENCODE;if(f<=229){const g=f-130;g<10&&a.append("0"),a.append(""+g)}else switch(f){case 230:return _r.C40_ENCODE;case 231:return _r.BASE256_ENCODE;case 232:a.append("");break;case 233:case 234:break;case 235:d=!0;break;case 236:a.append("[)>05"),c.insert(0,"");break;case 237:a.append("[)>06"),c.insert(0,"");break;case 238:return _r.ANSIX12_ENCODE;case 239:return _r.TEXT_ENCODE;case 240:return _r.EDIFACT_ENCODE;case 241:break;default:if(f!==254||i.available()!==0)throw new L;break}}while(i.available()>0);return _r.ASCII_ENCODE}static decodeC40Segment(i,a){let c=!1;const d=[];let f=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),d);for(let y=0;y<3;y++){const v=d[y];switch(f){case 0:if(v<3)f=v+1;else if(v<this.C40_BASIC_SET_CHARS.length){const C=this.C40_BASIC_SET_CHARS[v];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C)}else throw new L;break;case 1:c?(a.append(String.fromCharCode(v+128)),c=!1):a.append(String.fromCharCode(v)),f=0;break;case 2:if(v<this.C40_SHIFT2_SET_CHARS.length){const C=this.C40_SHIFT2_SET_CHARS[v];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C)}else switch(v){case 27:a.append("");break;case 30:c=!0;break;default:throw new L}f=0;break;case 3:c?(a.append(String.fromCharCode(v+224)),c=!1):a.append(String.fromCharCode(v+96)),f=0;break;default:throw new L}}}while(i.available()>0)}static decodeTextSegment(i,a){let c=!1,d=[],f=0;do{if(i.available()===8)return;const g=i.readBits(8);if(g===254)return;this.parseTwoBytes(g,i.readBits(8),d);for(let y=0;y<3;y++){const v=d[y];switch(f){case 0:if(v<3)f=v+1;else if(v<this.TEXT_BASIC_SET_CHARS.length){const C=this.TEXT_BASIC_SET_CHARS[v];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C)}else throw new L;break;case 1:c?(a.append(String.fromCharCode(v+128)),c=!1):a.append(String.fromCharCode(v)),f=0;break;case 2:if(v<this.TEXT_SHIFT2_SET_CHARS.length){const C=this.TEXT_SHIFT2_SET_CHARS[v];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C)}else switch(v){case 27:a.append("");break;case 30:c=!0;break;default:throw new L}f=0;break;case 3:if(v<this.TEXT_SHIFT3_SET_CHARS.length){const C=this.TEXT_SHIFT3_SET_CHARS[v];c?(a.append(String.fromCharCode(C.charCodeAt(0)+128)),c=!1):a.append(C),f=0}else throw new L;break;default:throw new L}}}while(i.available()>0)}static decodeAnsiX12Segment(i,a){const c=[];do{if(i.available()===8)return;const d=i.readBits(8);if(d===254)return;this.parseTwoBytes(d,i.readBits(8),c);for(let f=0;f<3;f++){const g=c[f];switch(g){case 0:a.append("\r");break;case 1:a.append("*");break;case 2:a.append(">");break;case 3:a.append(" ");break;default:if(g<14)a.append(String.fromCharCode(g+44));else if(g<40)a.append(String.fromCharCode(g+51));else throw new L;break}}}while(i.available()>0)}static parseTwoBytes(i,a,c){let d=(i<<8)+a-1,f=Math.floor(d/1600);c[0]=f,d-=f*1600,f=Math.floor(d/40),c[1]=f,c[2]=d-f*40}static decodeEdifactSegment(i,a){do{if(i.available()<=16)return;for(let c=0;c<4;c++){let d=i.readBits(6);if(d===31){const f=8-i.getBitOffset();f!==8&&i.readBits(f);return}d&32||(d|=64),a.append(String.fromCharCode(d))}}while(i.available()>0)}static decodeBase256Segment(i,a,c){let d=1+i.getByteOffset();const f=this.unrandomize255State(i.readBits(8),d++);let g;if(f===0?g=i.available()/8|0:f<250?g=f:g=250*(f-249)+this.unrandomize255State(i.readBits(8),d++),g<0)throw new L;const y=new Uint8Array(g);for(let v=0;v<g;v++){if(i.available()<8)throw new L;y[v]=this.unrandomize255State(i.readBits(8),d++)}c.push(y);try{a.append(ne.decode(y,K.ISO88591))}catch(v){throw new yr("Platform does not support required encoding: "+v.message)}}static unrandomize255State(i,a){const c=149*a%255+1,d=i-c;return d>=0?d:d+256}}Bi.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],Bi.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],Bi.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],Bi.TEXT_SHIFT2_SET_CHARS=Bi.C40_SHIFT2_SET_CHARS,Bi.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class pN{constructor(){this.rsDecoder=new Ar(Be.DATA_MATRIX_FIELD_256)}decode(i){const a=new E0(i),c=a.getVersion(),d=a.readCodewords(),f=C0.getDataBlocks(d,c);let g=0;for(let C of f)g+=C.getNumDataCodewords();const y=new Uint8Array(g),v=f.length;for(let C=0;C<v;C++){const O=f[C],D=O.getCodewords(),j=O.getNumDataCodewords();this.correctErrors(D,j);for(let z=0;z<j;z++)y[z*v+C]=D[z]}return Bi.decode(y)}correctErrors(i,a){const c=new Int32Array(i);try{this.rsDecoder.decode(c,i.length-a)}catch{throw new b}for(let d=0;d<a;d++)i[d]=c[d]}}class ur{constructor(i){this.image=i,this.rectangleDetector=new Zt(this.image)}detect(){const i=this.rectangleDetector.detect();let a=this.detectSolid1(i);if(a=this.detectSolid2(a),a[3]=this.correctTopRight(a),!a[3])throw new H;a=this.shiftToModuleCenter(a);const c=a[0],d=a[1],f=a[2],g=a[3];let y=this.transitionsBetween(c,g)+1,v=this.transitionsBetween(f,g)+1;(y&1)===1&&(y+=1),(v&1)===1&&(v+=1),4*y<7*v&&4*v<7*y&&(y=v=Math.max(y,v));let C=ur.sampleGrid(this.image,c,d,f,g,y,v);return new Jr(C,[c,d,f,g])}static shiftPoint(i,a,c){let d=(a.getX()-i.getX())/(c+1),f=(a.getY()-i.getY())/(c+1);return new we(i.getX()+d,i.getY()+f)}static moveAway(i,a,c){let d=i.getX(),f=i.getY();return d<a?d-=1:d+=1,f<c?f-=1:f+=1,new we(d,f)}detectSolid1(i){let a=i[0],c=i[1],d=i[3],f=i[2],g=this.transitionsBetween(a,c),y=this.transitionsBetween(c,d),v=this.transitionsBetween(d,f),C=this.transitionsBetween(f,a),O=g,D=[f,a,c,d];return O>y&&(O=y,D[0]=a,D[1]=c,D[2]=d,D[3]=f),O>v&&(O=v,D[0]=c,D[1]=d,D[2]=f,D[3]=a),O>C&&(D[0]=d,D[1]=f,D[2]=a,D[3]=c),D}detectSolid2(i){let a=i[0],c=i[1],d=i[2],f=i[3],g=this.transitionsBetween(a,f),y=ur.shiftPoint(c,d,(g+1)*4),v=ur.shiftPoint(d,c,(g+1)*4),C=this.transitionsBetween(y,a),O=this.transitionsBetween(v,f);return C<O?(i[0]=a,i[1]=c,i[2]=d,i[3]=f):(i[0]=c,i[1]=d,i[2]=f,i[3]=a),i}correctTopRight(i){let a=i[0],c=i[1],d=i[2],f=i[3],g=this.transitionsBetween(a,f),y=this.transitionsBetween(c,f),v=ur.shiftPoint(a,c,(y+1)*4),C=ur.shiftPoint(d,c,(g+1)*4);g=this.transitionsBetween(v,f),y=this.transitionsBetween(C,f);let O=new we(f.getX()+(d.getX()-c.getX())/(g+1),f.getY()+(d.getY()-c.getY())/(g+1)),D=new we(f.getX()+(a.getX()-c.getX())/(y+1),f.getY()+(a.getY()-c.getY())/(y+1));if(!this.isValid(O))return this.isValid(D)?D:null;if(!this.isValid(D))return O;let j=this.transitionsBetween(v,O)+this.transitionsBetween(C,O),z=this.transitionsBetween(v,D)+this.transitionsBetween(C,D);return j>z?O:D}shiftToModuleCenter(i){let a=i[0],c=i[1],d=i[2],f=i[3],g=this.transitionsBetween(a,f)+1,y=this.transitionsBetween(d,f)+1,v=ur.shiftPoint(a,c,y*4),C=ur.shiftPoint(d,c,g*4);g=this.transitionsBetween(v,f)+1,y=this.transitionsBetween(C,f)+1,(g&1)===1&&(g+=1),(y&1)===1&&(y+=1);let O=(a.getX()+c.getX()+d.getX()+f.getX())/4,D=(a.getY()+c.getY()+d.getY()+f.getY())/4;a=ur.moveAway(a,O,D),c=ur.moveAway(c,O,D),d=ur.moveAway(d,O,D),f=ur.moveAway(f,O,D);let j,z;return v=ur.shiftPoint(a,c,y*4),v=ur.shiftPoint(v,f,g*4),j=ur.shiftPoint(c,a,y*4),j=ur.shiftPoint(j,d,g*4),C=ur.shiftPoint(d,f,y*4),C=ur.shiftPoint(C,c,g*4),z=ur.shiftPoint(f,d,y*4),z=ur.shiftPoint(z,a,g*4),[v,j,C,z]}isValid(i){return i.getX()>=0&&i.getX()<this.image.getWidth()&&i.getY()>0&&i.getY()<this.image.getHeight()}static sampleGrid(i,a,c,d,f,g,y){return zs.getInstance().sampleGrid(i,g,y,.5,.5,g-.5,.5,g-.5,y-.5,.5,y-.5,a.getX(),a.getY(),f.getX(),f.getY(),d.getX(),d.getY(),c.getX(),c.getY())}transitionsBetween(i,a){let c=Math.trunc(i.getX()),d=Math.trunc(i.getY()),f=Math.trunc(a.getX()),g=Math.trunc(a.getY()),y=Math.abs(g-d)>Math.abs(f-c);if(y){let $=c;c=d,d=$,$=f,f=g,g=$}let v=Math.abs(f-c),C=Math.abs(g-d),O=-v/2,D=d<g?1:-1,j=c<f?1:-1,z=0,W=this.image.get(y?d:c,y?c:d);for(let $=c,q=d;$!==f;$+=j){let te=this.image.get(y?q:$,y?$:q);if(te!==W&&(z++,W=te),O+=C,O>0){if(q===g)break;q+=D,O-=v}}return z}}class Fi{constructor(){this.decoder=new pN}decode(i,a=null){let c,d;if(a!=null&&a.has(B.PURE_BARCODE)){const C=Fi.extractPureBits(i.getBlackMatrix());c=this.decoder.decode(C),d=Fi.NO_POINTS}else{const C=new ur(i.getBlackMatrix()).detect();c=this.decoder.decode(C.getBits()),d=C.getPoints()}const f=c.getRawBytes(),g=new fe(c.getText(),f,8*f.length,d,ve.DATA_MATRIX,E.currentTimeMillis()),y=c.getByteSegments();y!=null&&g.putMetadata(Me.BYTE_SEGMENTS,y);const v=c.getECLevel();return v!=null&&g.putMetadata(Me.ERROR_CORRECTION_LEVEL,v),g}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),c=i.getBottomRightOnBit();if(a==null||c==null)throw new H;const d=this.moduleSize(a,i);let f=a[1];const g=c[1];let y=a[0];const C=(c[0]-y+1)/d,O=(g-f+1)/d;if(C<=0||O<=0)throw new H;const D=d/2;f+=D,y+=D;const j=new G(C,O);for(let z=0;z<O;z++){const W=f+z*d;for(let $=0;$<C;$++)i.get(y+$*d,W)&&j.set($,z)}return j}static moduleSize(i,a){const c=a.getWidth();let d=i[0];const f=i[1];for(;d<c&&a.get(d,f);)d++;if(d===c)throw new H;const g=d-i[0];if(g===0)throw new H;return g}}Fi.NO_POINTS=[];class gN extends ae{constructor(i=500){super(new Fi,i)}}var Ja;(function(P){P[P.L=0]="L",P[P.M=1]="M",P[P.Q=2]="Q",P[P.H=3]="H"})(Ja||(Ja={}));class Rt{constructor(i,a,c){this.value=i,this.stringValue=a,this.bits=c,Rt.FOR_BITS.set(c,this),Rt.FOR_VALUE.set(i,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(i){switch(i){case"L":return Rt.L;case"M":return Rt.M;case"Q":return Rt.Q;case"H":return Rt.H;default:throw new x(i+"not available")}}toString(){return this.stringValue}equals(i){if(!(i instanceof Rt))return!1;const a=i;return this.value===a.value}static forBits(i){if(i<0||i>=Rt.FOR_BITS.size)throw new w;return Rt.FOR_BITS.get(i)}}Rt.FOR_BITS=new Map,Rt.FOR_VALUE=new Map,Rt.L=new Rt(Ja.L,"L",1),Rt.M=new Rt(Ja.M,"M",0),Rt.Q=new Rt(Ja.Q,"Q",3),Rt.H=new Rt(Ja.H,"H",2);class Hr{constructor(i){this.errorCorrectionLevel=Rt.forBits(i>>3&3),this.dataMask=i&7}static numBitsDiffering(i,a){return A.bitCount(i^a)}static decodeFormatInformation(i,a){const c=Hr.doDecodeFormatInformation(i,a);return c!==null?c:Hr.doDecodeFormatInformation(i^Hr.FORMAT_INFO_MASK_QR,a^Hr.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(i,a){let c=Number.MAX_SAFE_INTEGER,d=0;for(const f of Hr.FORMAT_INFO_DECODE_LOOKUP){const g=f[0];if(g===i||g===a)return new Hr(f[1]);let y=Hr.numBitsDiffering(i,g);y<c&&(d=f[1],c=y),i!==a&&(y=Hr.numBitsDiffering(a,g),y<c&&(d=f[1],c=y))}return c<=3?new Hr(d):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(i){if(!(i instanceof Hr))return!1;const a=i;return this.errorCorrectionLevel===a.errorCorrectionLevel&&this.dataMask===a.dataMask}}Hr.FORMAT_INFO_MASK_QR=21522,Hr.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class Q{constructor(i,...a){this.ecCodewordsPerBlock=i,this.ecBlocks=a}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let i=0;const a=this.ecBlocks;for(const c of a)i+=c.getCount();return i}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class F{constructor(i,a){this.count=i,this.dataCodewords=a}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Re{constructor(i,a,...c){this.versionNumber=i,this.alignmentPatternCenters=a,this.ecBlocks=c;let d=0;const f=c[0].getECCodewordsPerBlock(),g=c[0].getECBlocks();for(const y of g)d+=y.getCount()*(y.getDataCodewords()+f);this.totalCodewords=d}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(i){return this.ecBlocks[i.getValue()]}static getProvisionalVersionForDimension(i){if(i%4!==1)throw new L;try{return this.getVersionForNumber((i-17)/4)}catch{throw new L}}static getVersionForNumber(i){if(i<1||i>40)throw new w;return Re.VERSIONS[i-1]}static decodeVersionInformation(i){let a=Number.MAX_SAFE_INTEGER,c=0;for(let d=0;d<Re.VERSION_DECODE_INFO.length;d++){const f=Re.VERSION_DECODE_INFO[d];if(f===i)return Re.getVersionForNumber(d+7);const g=Hr.numBitsDiffering(i,f);g<a&&(c=d+7,a=g)}return a<=3?Re.getVersionForNumber(c):null}buildFunctionPattern(){const i=this.getDimensionForVersion(),a=new G(i);a.setRegion(0,0,9,9),a.setRegion(i-8,0,8,9),a.setRegion(0,i-8,9,8);const c=this.alignmentPatternCenters.length;for(let d=0;d<c;d++){const f=this.alignmentPatternCenters[d]-2;for(let g=0;g<c;g++)d===0&&(g===0||g===c-1)||d===c-1&&g===0||a.setRegion(this.alignmentPatternCenters[g]-2,f,5,5)}return a.setRegion(6,9,1,i-17),a.setRegion(9,6,i-17,1),this.versionNumber>6&&(a.setRegion(i-11,0,3,6),a.setRegion(0,i-11,6,3)),a}toString(){return""+this.versionNumber}}Re.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Re.VERSIONS=[new Re(1,new Int32Array(0),new Q(7,new F(1,19)),new Q(10,new F(1,16)),new Q(13,new F(1,13)),new Q(17,new F(1,9))),new Re(2,Int32Array.from([6,18]),new Q(10,new F(1,34)),new Q(16,new F(1,28)),new Q(22,new F(1,22)),new Q(28,new F(1,16))),new Re(3,Int32Array.from([6,22]),new Q(15,new F(1,55)),new Q(26,new F(1,44)),new Q(18,new F(2,17)),new Q(22,new F(2,13))),new Re(4,Int32Array.from([6,26]),new Q(20,new F(1,80)),new Q(18,new F(2,32)),new Q(26,new F(2,24)),new Q(16,new F(4,9))),new Re(5,Int32Array.from([6,30]),new Q(26,new F(1,108)),new Q(24,new F(2,43)),new Q(18,new F(2,15),new F(2,16)),new Q(22,new F(2,11),new F(2,12))),new Re(6,Int32Array.from([6,34]),new Q(18,new F(2,68)),new Q(16,new F(4,27)),new Q(24,new F(4,19)),new Q(28,new F(4,15))),new Re(7,Int32Array.from([6,22,38]),new Q(20,new F(2,78)),new Q(18,new F(4,31)),new Q(18,new F(2,14),new F(4,15)),new Q(26,new F(4,13),new F(1,14))),new Re(8,Int32Array.from([6,24,42]),new Q(24,new F(2,97)),new Q(22,new F(2,38),new F(2,39)),new Q(22,new F(4,18),new F(2,19)),new Q(26,new F(4,14),new F(2,15))),new Re(9,Int32Array.from([6,26,46]),new Q(30,new F(2,116)),new Q(22,new F(3,36),new F(2,37)),new Q(20,new F(4,16),new F(4,17)),new Q(24,new F(4,12),new F(4,13))),new Re(10,Int32Array.from([6,28,50]),new Q(18,new F(2,68),new F(2,69)),new Q(26,new F(4,43),new F(1,44)),new Q(24,new F(6,19),new F(2,20)),new Q(28,new F(6,15),new F(2,16))),new Re(11,Int32Array.from([6,30,54]),new Q(20,new F(4,81)),new Q(30,new F(1,50),new F(4,51)),new Q(28,new F(4,22),new F(4,23)),new Q(24,new F(3,12),new F(8,13))),new Re(12,Int32Array.from([6,32,58]),new Q(24,new F(2,92),new F(2,93)),new Q(22,new F(6,36),new F(2,37)),new Q(26,new F(4,20),new F(6,21)),new Q(28,new F(7,14),new F(4,15))),new Re(13,Int32Array.from([6,34,62]),new Q(26,new F(4,107)),new Q(22,new F(8,37),new F(1,38)),new Q(24,new F(8,20),new F(4,21)),new Q(22,new F(12,11),new F(4,12))),new Re(14,Int32Array.from([6,26,46,66]),new Q(30,new F(3,115),new F(1,116)),new Q(24,new F(4,40),new F(5,41)),new Q(20,new F(11,16),new F(5,17)),new Q(24,new F(11,12),new F(5,13))),new Re(15,Int32Array.from([6,26,48,70]),new Q(22,new F(5,87),new F(1,88)),new Q(24,new F(5,41),new F(5,42)),new Q(30,new F(5,24),new F(7,25)),new Q(24,new F(11,12),new F(7,13))),new Re(16,Int32Array.from([6,26,50,74]),new Q(24,new F(5,98),new F(1,99)),new Q(28,new F(7,45),new F(3,46)),new Q(24,new F(15,19),new F(2,20)),new Q(30,new F(3,15),new F(13,16))),new Re(17,Int32Array.from([6,30,54,78]),new Q(28,new F(1,107),new F(5,108)),new Q(28,new F(10,46),new F(1,47)),new Q(28,new F(1,22),new F(15,23)),new Q(28,new F(2,14),new F(17,15))),new Re(18,Int32Array.from([6,30,56,82]),new Q(30,new F(5,120),new F(1,121)),new Q(26,new F(9,43),new F(4,44)),new Q(28,new F(17,22),new F(1,23)),new Q(28,new F(2,14),new F(19,15))),new Re(19,Int32Array.from([6,30,58,86]),new Q(28,new F(3,113),new F(4,114)),new Q(26,new F(3,44),new F(11,45)),new Q(26,new F(17,21),new F(4,22)),new Q(26,new F(9,13),new F(16,14))),new Re(20,Int32Array.from([6,34,62,90]),new Q(28,new F(3,107),new F(5,108)),new Q(26,new F(3,41),new F(13,42)),new Q(30,new F(15,24),new F(5,25)),new Q(28,new F(15,15),new F(10,16))),new Re(21,Int32Array.from([6,28,50,72,94]),new Q(28,new F(4,116),new F(4,117)),new Q(26,new F(17,42)),new Q(28,new F(17,22),new F(6,23)),new Q(30,new F(19,16),new F(6,17))),new Re(22,Int32Array.from([6,26,50,74,98]),new Q(28,new F(2,111),new F(7,112)),new Q(28,new F(17,46)),new Q(30,new F(7,24),new F(16,25)),new Q(24,new F(34,13))),new Re(23,Int32Array.from([6,30,54,78,102]),new Q(30,new F(4,121),new F(5,122)),new Q(28,new F(4,47),new F(14,48)),new Q(30,new F(11,24),new F(14,25)),new Q(30,new F(16,15),new F(14,16))),new Re(24,Int32Array.from([6,28,54,80,106]),new Q(30,new F(6,117),new F(4,118)),new Q(28,new F(6,45),new F(14,46)),new Q(30,new F(11,24),new F(16,25)),new Q(30,new F(30,16),new F(2,17))),new Re(25,Int32Array.from([6,32,58,84,110]),new Q(26,new F(8,106),new F(4,107)),new Q(28,new F(8,47),new F(13,48)),new Q(30,new F(7,24),new F(22,25)),new Q(30,new F(22,15),new F(13,16))),new Re(26,Int32Array.from([6,30,58,86,114]),new Q(28,new F(10,114),new F(2,115)),new Q(28,new F(19,46),new F(4,47)),new Q(28,new F(28,22),new F(6,23)),new Q(30,new F(33,16),new F(4,17))),new Re(27,Int32Array.from([6,34,62,90,118]),new Q(30,new F(8,122),new F(4,123)),new Q(28,new F(22,45),new F(3,46)),new Q(30,new F(8,23),new F(26,24)),new Q(30,new F(12,15),new F(28,16))),new Re(28,Int32Array.from([6,26,50,74,98,122]),new Q(30,new F(3,117),new F(10,118)),new Q(28,new F(3,45),new F(23,46)),new Q(30,new F(4,24),new F(31,25)),new Q(30,new F(11,15),new F(31,16))),new Re(29,Int32Array.from([6,30,54,78,102,126]),new Q(30,new F(7,116),new F(7,117)),new Q(28,new F(21,45),new F(7,46)),new Q(30,new F(1,23),new F(37,24)),new Q(30,new F(19,15),new F(26,16))),new Re(30,Int32Array.from([6,26,52,78,104,130]),new Q(30,new F(5,115),new F(10,116)),new Q(28,new F(19,47),new F(10,48)),new Q(30,new F(15,24),new F(25,25)),new Q(30,new F(23,15),new F(25,16))),new Re(31,Int32Array.from([6,30,56,82,108,134]),new Q(30,new F(13,115),new F(3,116)),new Q(28,new F(2,46),new F(29,47)),new Q(30,new F(42,24),new F(1,25)),new Q(30,new F(23,15),new F(28,16))),new Re(32,Int32Array.from([6,34,60,86,112,138]),new Q(30,new F(17,115)),new Q(28,new F(10,46),new F(23,47)),new Q(30,new F(10,24),new F(35,25)),new Q(30,new F(19,15),new F(35,16))),new Re(33,Int32Array.from([6,30,58,86,114,142]),new Q(30,new F(17,115),new F(1,116)),new Q(28,new F(14,46),new F(21,47)),new Q(30,new F(29,24),new F(19,25)),new Q(30,new F(11,15),new F(46,16))),new Re(34,Int32Array.from([6,34,62,90,118,146]),new Q(30,new F(13,115),new F(6,116)),new Q(28,new F(14,46),new F(23,47)),new Q(30,new F(44,24),new F(7,25)),new Q(30,new F(59,16),new F(1,17))),new Re(35,Int32Array.from([6,30,54,78,102,126,150]),new Q(30,new F(12,121),new F(7,122)),new Q(28,new F(12,47),new F(26,48)),new Q(30,new F(39,24),new F(14,25)),new Q(30,new F(22,15),new F(41,16))),new Re(36,Int32Array.from([6,24,50,76,102,128,154]),new Q(30,new F(6,121),new F(14,122)),new Q(28,new F(6,47),new F(34,48)),new Q(30,new F(46,24),new F(10,25)),new Q(30,new F(2,15),new F(64,16))),new Re(37,Int32Array.from([6,28,54,80,106,132,158]),new Q(30,new F(17,122),new F(4,123)),new Q(28,new F(29,46),new F(14,47)),new Q(30,new F(49,24),new F(10,25)),new Q(30,new F(24,15),new F(46,16))),new Re(38,Int32Array.from([6,32,58,84,110,136,162]),new Q(30,new F(4,122),new F(18,123)),new Q(28,new F(13,46),new F(32,47)),new Q(30,new F(48,24),new F(14,25)),new Q(30,new F(42,15),new F(32,16))),new Re(39,Int32Array.from([6,26,54,82,110,138,166]),new Q(30,new F(20,117),new F(4,118)),new Q(28,new F(40,47),new F(7,48)),new Q(30,new F(43,24),new F(22,25)),new Q(30,new F(10,15),new F(67,16))),new Re(40,Int32Array.from([6,30,58,86,114,142,170]),new Q(30,new F(19,118),new F(6,119)),new Q(28,new F(18,47),new F(31,48)),new Q(30,new F(34,24),new F(34,25)),new Q(30,new F(20,15),new F(61,16)))];var Nr;(function(P){P[P.DATA_MASK_000=0]="DATA_MASK_000",P[P.DATA_MASK_001=1]="DATA_MASK_001",P[P.DATA_MASK_010=2]="DATA_MASK_010",P[P.DATA_MASK_011=3]="DATA_MASK_011",P[P.DATA_MASK_100=4]="DATA_MASK_100",P[P.DATA_MASK_101=5]="DATA_MASK_101",P[P.DATA_MASK_110=6]="DATA_MASK_110",P[P.DATA_MASK_111=7]="DATA_MASK_111"})(Nr||(Nr={}));class Kn{constructor(i,a){this.value=i,this.isMasked=a}unmaskBitMatrix(i,a){for(let c=0;c<a;c++)for(let d=0;d<a;d++)this.isMasked(c,d)&&i.flip(d,c)}}Kn.values=new Map([[Nr.DATA_MASK_000,new Kn(Nr.DATA_MASK_000,(P,i)=>(P+i&1)===0)],[Nr.DATA_MASK_001,new Kn(Nr.DATA_MASK_001,(P,i)=>(P&1)===0)],[Nr.DATA_MASK_010,new Kn(Nr.DATA_MASK_010,(P,i)=>i%3===0)],[Nr.DATA_MASK_011,new Kn(Nr.DATA_MASK_011,(P,i)=>(P+i)%3===0)],[Nr.DATA_MASK_100,new Kn(Nr.DATA_MASK_100,(P,i)=>(Math.floor(P/2)+Math.floor(i/3)&1)===0)],[Nr.DATA_MASK_101,new Kn(Nr.DATA_MASK_101,(P,i)=>P*i%6===0)],[Nr.DATA_MASK_110,new Kn(Nr.DATA_MASK_110,(P,i)=>P*i%6<3)],[Nr.DATA_MASK_111,new Kn(Nr.DATA_MASK_111,(P,i)=>(P+i+P*i%3&1)===0)]]);class mN{constructor(i){const a=i.getHeight();if(a<21||(a&3)!==1)throw new L;this.bitMatrix=i}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let i=0;for(let f=0;f<6;f++)i=this.copyBit(f,8,i);i=this.copyBit(7,8,i),i=this.copyBit(8,8,i),i=this.copyBit(8,7,i);for(let f=5;f>=0;f--)i=this.copyBit(8,f,i);const a=this.bitMatrix.getHeight();let c=0;const d=a-7;for(let f=a-1;f>=d;f--)c=this.copyBit(8,f,c);for(let f=a-8;f<a;f++)c=this.copyBit(f,8,c);if(this.parsedFormatInfo=Hr.decodeFormatInformation(i,c),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new L}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const i=this.bitMatrix.getHeight(),a=Math.floor((i-17)/4);if(a<=6)return Re.getVersionForNumber(a);let c=0;const d=i-11;for(let g=5;g>=0;g--)for(let y=i-9;y>=d;y--)c=this.copyBit(y,g,c);let f=Re.decodeVersionInformation(c);if(f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;c=0;for(let g=5;g>=0;g--)for(let y=i-9;y>=d;y--)c=this.copyBit(g,y,c);if(f=Re.decodeVersionInformation(c),f!==null&&f.getDimensionForVersion()===i)return this.parsedVersion=f,f;throw new L}copyBit(i,a,c){return(this.isMirror?this.bitMatrix.get(a,i):this.bitMatrix.get(i,a))?c<<1|1:c<<1}readCodewords(){const i=this.readFormatInformation(),a=this.readVersion(),c=Kn.values.get(i.getDataMask()),d=this.bitMatrix.getHeight();c.unmaskBitMatrix(this.bitMatrix,d);const f=a.buildFunctionPattern();let g=!0;const y=new Uint8Array(a.getTotalCodewords());let v=0,C=0,O=0;for(let D=d-1;D>0;D-=2){D===6&&D--;for(let j=0;j<d;j++){const z=g?d-1-j:j;for(let W=0;W<2;W++)f.get(D-W,z)||(O++,C<<=1,this.bitMatrix.get(D-W,z)&&(C|=1),O===8&&(y[v++]=C,O=0,C=0))}g=!g}if(v!==a.getTotalCodewords())throw new L;return y}remask(){if(this.parsedFormatInfo===null)return;const i=Kn.values[this.parsedFormatInfo.getDataMask()],a=this.bitMatrix.getHeight();i.unmaskBitMatrix(this.bitMatrix,a)}setMirror(i){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=i}mirror(){const i=this.bitMatrix;for(let a=0,c=i.getWidth();a<c;a++)for(let d=a+1,f=i.getHeight();d<f;d++)i.get(a,d)!==i.get(d,a)&&(i.flip(d,a),i.flip(a,d))}}class A0{constructor(i,a){this.numDataCodewords=i,this.codewords=a}static getDataBlocks(i,a,c){if(i.length!==a.getTotalCodewords())throw new w;const d=a.getECBlocksForLevel(c);let f=0;const g=d.getECBlocks();for(const W of g)f+=W.getCount();const y=new Array(f);let v=0;for(const W of g)for(let $=0;$<W.getCount();$++){const q=W.getDataCodewords(),te=d.getECCodewordsPerBlock()+q;y[v++]=new A0(q,new Uint8Array(te))}const C=y[0].codewords.length;let O=y.length-1;for(;O>=0&&y[O].codewords.length!==C;)O--;O++;const D=C-d.getECCodewordsPerBlock();let j=0;for(let W=0;W<D;W++)for(let $=0;$<v;$++)y[$].codewords[W]=i[j++];for(let W=O;W<v;W++)y[W].codewords[D]=i[j++];const z=y[0].codewords.length;for(let W=D;W<z;W++)for(let $=0;$<v;$++){const q=$<O?W:W+1;y[$].codewords[q]=i[j++]}return y}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Qn;(function(P){P[P.TERMINATOR=0]="TERMINATOR",P[P.NUMERIC=1]="NUMERIC",P[P.ALPHANUMERIC=2]="ALPHANUMERIC",P[P.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",P[P.BYTE=4]="BYTE",P[P.ECI=5]="ECI",P[P.KANJI=6]="KANJI",P[P.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",P[P.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",P[P.HANZI=9]="HANZI"})(Qn||(Qn={}));class De{constructor(i,a,c,d){this.value=i,this.stringValue=a,this.characterCountBitsForVersions=c,this.bits=d,De.FOR_BITS.set(d,this),De.FOR_VALUE.set(i,this)}static forBits(i){const a=De.FOR_BITS.get(i);if(a===void 0)throw new w;return a}getCharacterCountBits(i){const a=i.getVersionNumber();let c;return a<=9?c=0:a<=26?c=1:c=2,this.characterCountBitsForVersions[c]}getValue(){return this.value}getBits(){return this.bits}equals(i){if(!(i instanceof De))return!1;const a=i;return this.value===a.value}toString(){return this.stringValue}}De.FOR_BITS=new Map,De.FOR_VALUE=new Map,De.TERMINATOR=new De(Qn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),De.NUMERIC=new De(Qn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),De.ALPHANUMERIC=new De(Qn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),De.STRUCTURED_APPEND=new De(Qn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),De.BYTE=new De(Qn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),De.ECI=new De(Qn.ECI,"ECI",Int32Array.from([0,0,0]),7),De.KANJI=new De(Qn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),De.FNC1_FIRST_POSITION=new De(Qn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),De.FNC1_SECOND_POSITION=new De(Qn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),De.HANZI=new De(Qn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Wt{static decode(i,a,c,d){const f=new S0(i);let g=new se;const y=new Array;let v=-1,C=-1;try{let O=null,D=!1,j;do{if(f.available()<4)j=De.TERMINATOR;else{const z=f.readBits(4);j=De.forBits(z)}switch(j){case De.TERMINATOR:break;case De.FNC1_FIRST_POSITION:case De.FNC1_SECOND_POSITION:D=!0;break;case De.STRUCTURED_APPEND:if(f.available()<16)throw new L;v=f.readBits(8),C=f.readBits(8);break;case De.ECI:const z=Wt.parseECIValue(f);if(O=U.getCharacterSetECIByValue(z),O===null)throw new L;break;case De.HANZI:const W=f.readBits(4),$=f.readBits(j.getCharacterCountBits(a));W===Wt.GB2312_SUBSET&&Wt.decodeHanziSegment(f,g,$);break;default:const q=f.readBits(j.getCharacterCountBits(a));switch(j){case De.NUMERIC:Wt.decodeNumericSegment(f,g,q);break;case De.ALPHANUMERIC:Wt.decodeAlphanumericSegment(f,g,q,D);break;case De.BYTE:Wt.decodeByteSegment(f,g,q,O,y,d);break;case De.KANJI:Wt.decodeKanjiSegment(f,g,q);break;default:throw new L}break}}while(j!==De.TERMINATOR)}catch{throw new L}return new ut(i,g.toString(),y.length===0?null:y,c===null?null:c.toString(),v,C)}static decodeHanziSegment(i,a,c){if(c*13>i.available())throw new L;const d=new Uint8Array(2*c);let f=0;for(;c>0;){const g=i.readBits(13);let y=g/96<<8&4294967295|g%96;y<959?y+=41377:y+=42657,d[f]=y>>8&255,d[f+1]=y&255,f+=2,c--}try{a.append(ne.decode(d,K.GB2312))}catch(g){throw new L(g)}}static decodeKanjiSegment(i,a,c){if(c*13>i.available())throw new L;const d=new Uint8Array(2*c);let f=0;for(;c>0;){const g=i.readBits(13);let y=g/192<<8&4294967295|g%192;y<7936?y+=33088:y+=49472,d[f]=y>>8,d[f+1]=y,f+=2,c--}try{a.append(ne.decode(d,K.SHIFT_JIS))}catch(g){throw new L(g)}}static decodeByteSegment(i,a,c,d,f,g){if(8*c>i.available())throw new L;const y=new Uint8Array(c);for(let C=0;C<c;C++)y[C]=i.readBits(8);let v;d===null?v=K.guessEncoding(y,g):v=d.getName();try{a.append(ne.decode(y,v))}catch(C){throw new L(C)}f.push(y)}static toAlphaNumericChar(i){if(i>=Wt.ALPHANUMERIC_CHARS.length)throw new L;return Wt.ALPHANUMERIC_CHARS[i]}static decodeAlphanumericSegment(i,a,c,d){const f=a.length();for(;c>1;){if(i.available()<11)throw new L;const g=i.readBits(11);a.append(Wt.toAlphaNumericChar(Math.floor(g/45))),a.append(Wt.toAlphaNumericChar(g%45)),c-=2}if(c===1){if(i.available()<6)throw new L;a.append(Wt.toAlphaNumericChar(i.readBits(6)))}if(d)for(let g=f;g<a.length();g++)a.charAt(g)==="%"&&(g<a.length()-1&&a.charAt(g+1)==="%"?a.deleteCharAt(g+1):a.setCharAt(g,""))}static decodeNumericSegment(i,a,c){for(;c>=3;){if(i.available()<10)throw new L;const d=i.readBits(10);if(d>=1e3)throw new L;a.append(Wt.toAlphaNumericChar(Math.floor(d/100))),a.append(Wt.toAlphaNumericChar(Math.floor(d/10)%10)),a.append(Wt.toAlphaNumericChar(d%10)),c-=3}if(c===2){if(i.available()<7)throw new L;const d=i.readBits(7);if(d>=100)throw new L;a.append(Wt.toAlphaNumericChar(Math.floor(d/10))),a.append(Wt.toAlphaNumericChar(d%10))}else if(c===1){if(i.available()<4)throw new L;const d=i.readBits(4);if(d>=10)throw new L;a.append(Wt.toAlphaNumericChar(d))}}static parseECIValue(i){const a=i.readBits(8);if(!(a&128))return a&127;if((a&192)===128){const c=i.readBits(8);return(a&63)<<8&4294967295|c}if((a&224)===192){const c=i.readBits(16);return(a&31)<<16&4294967295|c}throw new L}}Wt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Wt.GB2312_SUBSET=1;class Kx{constructor(i){this.mirrored=i}isMirrored(){return this.mirrored}applyMirroredCorrection(i){if(!this.mirrored||i===null||i.length<3)return;const a=i[0];i[0]=i[2],i[2]=a}}class xN{constructor(){this.rsDecoder=new Ar(Be.QR_CODE_FIELD_256)}decodeBooleanArray(i,a){return this.decodeBitMatrix(G.parseFromBooleanArray(i),a)}decodeBitMatrix(i,a){const c=new mN(i);let d=null;try{return this.decodeBitMatrixParser(c,a)}catch(f){d=f}try{c.remask(),c.setMirror(!0),c.readVersion(),c.readFormatInformation(),c.mirror();const f=this.decodeBitMatrixParser(c,a);return f.setOther(new Kx(!0)),f}catch(f){throw d!==null?d:f}}decodeBitMatrixParser(i,a){const c=i.readVersion(),d=i.readFormatInformation().getErrorCorrectionLevel(),f=i.readCodewords(),g=A0.getDataBlocks(f,c,d);let y=0;for(const O of g)y+=O.getNumDataCodewords();const v=new Uint8Array(y);let C=0;for(const O of g){const D=O.getCodewords(),j=O.getNumDataCodewords();this.correctErrors(D,j);for(let z=0;z<j;z++)v[C++]=D[z]}return Wt.decode(v,c,d,a)}correctErrors(i,a){const c=new Int32Array(i);try{this.rsDecoder.decode(c,i.length-a)}catch{throw new b}for(let d=0;d<a;d++)i[d]=c[d]}}class T0 extends we{constructor(i,a,c){super(i,a),this.estimatedModuleSize=c}aboutEquals(i,a,c){if(Math.abs(a-this.getY())<=i&&Math.abs(c-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,a,c){const d=(this.getX()+a)/2,f=(this.getY()+i)/2,g=(this.estimatedModuleSize+c)/2;return new T0(d,f,g)}}class Cd{constructor(i,a,c,d,f,g,y){this.image=i,this.startX=a,this.startY=c,this.width=d,this.height=f,this.moduleSize=g,this.resultPointCallback=y,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const i=this.startX,a=this.height,c=this.width,d=i+c,f=this.startY+a/2,g=new Int32Array(3),y=this.image;for(let v=0;v<a;v++){const C=f+(v&1?-Math.floor((v+1)/2):Math.floor((v+1)/2));g[0]=0,g[1]=0,g[2]=0;let O=i;for(;O<d&&!y.get(O,C);)O++;let D=0;for(;O<d;){if(y.get(O,C))if(D===1)g[1]++;else if(D===2){if(this.foundPatternCross(g)){const j=this.handlePossibleCenter(g,C,O);if(j!==null)return j}g[0]=g[2],g[1]=1,g[2]=0,D=1}else g[++D]++;else D===1&&D++,g[D]++;O++}if(this.foundPatternCross(g)){const j=this.handlePossibleCenter(g,C,d);if(j!==null)return j}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(i,a){return a-i[2]-i[1]/2}foundPatternCross(i){const a=this.moduleSize,c=a/2;for(let d=0;d<3;d++)if(Math.abs(a-i[d])>=c)return!1;return!0}crossCheckVertical(i,a,c,d){const f=this.image,g=f.getHeight(),y=this.crossCheckStateCount;y[0]=0,y[1]=0,y[2]=0;let v=i;for(;v>=0&&f.get(a,v)&&y[1]<=c;)y[1]++,v--;if(v<0||y[1]>c)return NaN;for(;v>=0&&!f.get(a,v)&&y[0]<=c;)y[0]++,v--;if(y[0]>c)return NaN;for(v=i+1;v<g&&f.get(a,v)&&y[1]<=c;)y[1]++,v++;if(v===g||y[1]>c)return NaN;for(;v<g&&!f.get(a,v)&&y[2]<=c;)y[2]++,v++;if(y[2]>c)return NaN;const C=y[0]+y[1]+y[2];return 5*Math.abs(C-d)>=2*d?NaN:this.foundPatternCross(y)?Cd.centerFromEnd(y,v):NaN}handlePossibleCenter(i,a,c){const d=i[0]+i[1]+i[2],f=Cd.centerFromEnd(i,c),g=this.crossCheckVertical(a,f,2*i[1],d);if(!isNaN(g)){const y=(i[0]+i[1]+i[2])/3;for(const C of this.possibleCenters)if(C.aboutEquals(y,g,f))return C.combineEstimate(g,f,y);const v=new T0(f,g,y);this.possibleCenters.push(v),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(v)}return null}}class N0 extends we{constructor(i,a,c,d){super(i,a),this.estimatedModuleSize=c,this.count=d,d===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(i,a,c){if(Math.abs(a-this.getY())<=i&&Math.abs(c-this.getX())<=i){const d=Math.abs(i-this.estimatedModuleSize);return d<=1||d<=this.estimatedModuleSize}return!1}combineEstimate(i,a,c){const d=this.count+1,f=(this.count*this.getX()+a)/d,g=(this.count*this.getY()+i)/d,y=(this.count*this.estimatedModuleSize+c)/d;return new N0(f,g,y,d)}}class yN{constructor(i){this.bottomLeft=i[0],this.topLeft=i[1],this.topRight=i[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Ir{constructor(i,a){this.image=i,this.resultPointCallback=a,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=a}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(i){const a=i!=null&&i.get(B.TRY_HARDER)!==void 0,c=i!=null&&i.get(B.PURE_BARCODE)!==void 0,d=this.image,f=d.getHeight(),g=d.getWidth();let y=Math.floor(3*f/(4*Ir.MAX_MODULES));(y<Ir.MIN_SKIP||a)&&(y=Ir.MIN_SKIP);let v=!1;const C=new Int32Array(5);for(let D=y-1;D<f&&!v;D+=y){C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0;let j=0;for(let z=0;z<g;z++)if(d.get(z,D))(j&1)===1&&j++,C[j]++;else if(j&1)C[j]++;else if(j===4)if(Ir.foundPatternCross(C)){if(this.handlePossibleCenter(C,D,z,c)===!0)if(y=2,this.hasSkipped===!0)v=this.haveMultiplyConfirmedCenters();else{const $=this.findRowSkip();$>C[2]&&(D+=$-C[2]-y,z=g-1)}else{C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,j=3;continue}j=0,C[0]=0,C[1]=0,C[2]=0,C[3]=0,C[4]=0}else C[0]=C[2],C[1]=C[3],C[2]=C[4],C[3]=1,C[4]=0,j=3;else C[++j]++;Ir.foundPatternCross(C)&&this.handlePossibleCenter(C,D,g,c)===!0&&(y=C[0],this.hasSkipped&&(v=this.haveMultiplyConfirmedCenters()))}const O=this.selectBestPatterns();return we.orderBestPatterns(O),new yN(O)}static centerFromEnd(i,a){return a-i[4]-i[3]-i[2]/2}static foundPatternCross(i){let a=0;for(let f=0;f<5;f++){const g=i[f];if(g===0)return!1;a+=g}if(a<7)return!1;const c=a/7,d=c/2;return Math.abs(c-i[0])<d&&Math.abs(c-i[1])<d&&Math.abs(3*c-i[2])<3*d&&Math.abs(c-i[3])<d&&Math.abs(c-i[4])<d}getCrossCheckStateCount(){const i=this.crossCheckStateCount;return i[0]=0,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i}crossCheckDiagonal(i,a,c,d){const f=this.getCrossCheckStateCount();let g=0;const y=this.image;for(;i>=g&&a>=g&&y.get(a-g,i-g);)f[2]++,g++;if(i<g||a<g)return!1;for(;i>=g&&a>=g&&!y.get(a-g,i-g)&&f[1]<=c;)f[1]++,g++;if(i<g||a<g||f[1]>c)return!1;for(;i>=g&&a>=g&&y.get(a-g,i-g)&&f[0]<=c;)f[0]++,g++;if(f[0]>c)return!1;const v=y.getHeight(),C=y.getWidth();for(g=1;i+g<v&&a+g<C&&y.get(a+g,i+g);)f[2]++,g++;if(i+g>=v||a+g>=C)return!1;for(;i+g<v&&a+g<C&&!y.get(a+g,i+g)&&f[3]<c;)f[3]++,g++;if(i+g>=v||a+g>=C||f[3]>=c)return!1;for(;i+g<v&&a+g<C&&y.get(a+g,i+g)&&f[4]<c;)f[4]++,g++;if(f[4]>=c)return!1;const O=f[0]+f[1]+f[2]+f[3]+f[4];return Math.abs(O-d)<2*d&&Ir.foundPatternCross(f)}crossCheckVertical(i,a,c,d){const f=this.image,g=f.getHeight(),y=this.getCrossCheckStateCount();let v=i;for(;v>=0&&f.get(a,v);)y[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(a,v)&&y[1]<=c;)y[1]++,v--;if(v<0||y[1]>c)return NaN;for(;v>=0&&f.get(a,v)&&y[0]<=c;)y[0]++,v--;if(y[0]>c)return NaN;for(v=i+1;v<g&&f.get(a,v);)y[2]++,v++;if(v===g)return NaN;for(;v<g&&!f.get(a,v)&&y[3]<c;)y[3]++,v++;if(v===g||y[3]>=c)return NaN;for(;v<g&&f.get(a,v)&&y[4]<c;)y[4]++,v++;if(y[4]>=c)return NaN;const C=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(C-d)>=2*d?NaN:Ir.foundPatternCross(y)?Ir.centerFromEnd(y,v):NaN}crossCheckHorizontal(i,a,c,d){const f=this.image,g=f.getWidth(),y=this.getCrossCheckStateCount();let v=i;for(;v>=0&&f.get(v,a);)y[2]++,v--;if(v<0)return NaN;for(;v>=0&&!f.get(v,a)&&y[1]<=c;)y[1]++,v--;if(v<0||y[1]>c)return NaN;for(;v>=0&&f.get(v,a)&&y[0]<=c;)y[0]++,v--;if(y[0]>c)return NaN;for(v=i+1;v<g&&f.get(v,a);)y[2]++,v++;if(v===g)return NaN;for(;v<g&&!f.get(v,a)&&y[3]<c;)y[3]++,v++;if(v===g||y[3]>=c)return NaN;for(;v<g&&f.get(v,a)&&y[4]<c;)y[4]++,v++;if(y[4]>=c)return NaN;const C=y[0]+y[1]+y[2]+y[3]+y[4];return 5*Math.abs(C-d)>=d?NaN:Ir.foundPatternCross(y)?Ir.centerFromEnd(y,v):NaN}handlePossibleCenter(i,a,c,d){const f=i[0]+i[1]+i[2]+i[3]+i[4];let g=Ir.centerFromEnd(i,c),y=this.crossCheckVertical(a,Math.floor(g),i[2],f);if(!isNaN(y)&&(g=this.crossCheckHorizontal(Math.floor(g),Math.floor(y),i[2],f),!isNaN(g)&&(!d||this.crossCheckDiagonal(Math.floor(y),Math.floor(g),i[2],f)))){const v=f/7;let C=!1;const O=this.possibleCenters;for(let D=0,j=O.length;D<j;D++){const z=O[D];if(z.aboutEquals(v,y,g)){O[D]=z.combineEstimate(y,g,v),C=!0;break}}if(!C){const D=new N0(g,y,v);O.push(D),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(D)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let a=null;for(const c of this.possibleCenters)if(c.getCount()>=Ir.CENTER_QUORUM)if(a==null)a=c;else return this.hasSkipped=!0,Math.floor((Math.abs(a.getX()-c.getX())-Math.abs(a.getY()-c.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let i=0,a=0;const c=this.possibleCenters.length;for(const g of this.possibleCenters)g.getCount()>=Ir.CENTER_QUORUM&&(i++,a+=g.getEstimatedModuleSize());if(i<3)return!1;const d=a/c;let f=0;for(const g of this.possibleCenters)f+=Math.abs(g.getEstimatedModuleSize()-d);return f<=.05*a}selectBestPatterns(){const i=this.possibleCenters.length;if(i<3)throw new H;const a=this.possibleCenters;let c;if(i>3){let d=0,f=0;for(const v of this.possibleCenters){const C=v.getEstimatedModuleSize();d+=C,f+=C*C}c=d/i;let g=Math.sqrt(f/i-c*c);a.sort((v,C)=>{const O=Math.abs(C.getEstimatedModuleSize()-c),D=Math.abs(v.getEstimatedModuleSize()-c);return O<D?-1:O>D?1:0});const y=Math.max(.2*c,g);for(let v=0;v<a.length&&a.length>3;v++){const C=a[v];Math.abs(C.getEstimatedModuleSize()-c)>y&&(a.splice(v,1),v--)}}if(a.length>3){let d=0;for(const f of a)d+=f.getEstimatedModuleSize();c=d/a.length,a.sort((f,g)=>{if(g.getCount()===f.getCount()){const y=Math.abs(g.getEstimatedModuleSize()-c),v=Math.abs(f.getEstimatedModuleSize()-c);return y<v?1:y>v?-1:0}else return g.getCount()-f.getCount()}),a.splice(3)}return[a[0],a[1],a[2]]}}Ir.CENTER_QUORUM=2,Ir.MIN_SKIP=3,Ir.MAX_MODULES=57;class Mc{constructor(i){this.image=i}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(i){this.resultPointCallback=i==null?null:i.get(B.NEED_RESULT_POINT_CALLBACK);const c=new Ir(this.image,this.resultPointCallback).find(i);return this.processFinderPatternInfo(c)}processFinderPatternInfo(i){const a=i.getTopLeft(),c=i.getTopRight(),d=i.getBottomLeft(),f=this.calculateModuleSize(a,c,d);if(f<1)throw new H("No pattern found in proccess finder.");const g=Mc.computeDimension(a,c,d,f),y=Re.getProvisionalVersionForDimension(g),v=y.getDimensionForVersion()-7;let C=null;if(y.getAlignmentPatternCenters().length>0){const z=c.getX()-a.getX()+d.getX(),W=c.getY()-a.getY()+d.getY(),$=1-3/v,q=Math.floor(a.getX()+$*(z-a.getX())),te=Math.floor(a.getY()+$*(W-a.getY()));for(let ge=4;ge<=16;ge<<=1)try{C=this.findAlignmentInRegion(f,q,te,ge);break}catch(me){if(!(me instanceof H))throw me}}const O=Mc.createTransform(a,c,d,C,g),D=Mc.sampleGrid(this.image,O,g);let j;return C===null?j=[d,a,c]:j=[d,a,c,C],new Jr(D,j)}static createTransform(i,a,c,d,f){const g=f-3.5;let y,v,C,O;return d!==null?(y=d.getX(),v=d.getY(),C=g-3,O=C):(y=a.getX()-i.getX()+c.getX(),v=a.getY()-i.getY()+c.getY(),C=g,O=g),St.quadrilateralToQuadrilateral(3.5,3.5,g,3.5,C,O,3.5,g,i.getX(),i.getY(),a.getX(),a.getY(),y,v,c.getX(),c.getY())}static sampleGrid(i,a,c){return zs.getInstance().sampleGridWithTransform(i,c,c,a)}static computeDimension(i,a,c,d){const f=be.round(we.distance(i,a)/d),g=be.round(we.distance(i,c)/d);let y=Math.floor((f+g)/2)+7;switch(y&3){case 0:y++;break;case 2:y--;break;case 3:throw new H("Dimensions could be not found.")}return y}calculateModuleSize(i,a,c){return(this.calculateModuleSizeOneWay(i,a)+this.calculateModuleSizeOneWay(i,c))/2}calculateModuleSizeOneWay(i,a){const c=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(i.getX()),Math.floor(i.getY()),Math.floor(a.getX()),Math.floor(a.getY())),d=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(a.getX()),Math.floor(a.getY()),Math.floor(i.getX()),Math.floor(i.getY()));return isNaN(c)?d/7:isNaN(d)?c/7:(c+d)/14}sizeOfBlackWhiteBlackRunBothWays(i,a,c,d){let f=this.sizeOfBlackWhiteBlackRun(i,a,c,d),g=1,y=i-(c-i);y<0?(g=i/(i-y),y=0):y>=this.image.getWidth()&&(g=(this.image.getWidth()-1-i)/(y-i),y=this.image.getWidth()-1);let v=Math.floor(a-(d-a)*g);return g=1,v<0?(g=a/(a-v),v=0):v>=this.image.getHeight()&&(g=(this.image.getHeight()-1-a)/(v-a),v=this.image.getHeight()-1),y=Math.floor(i+(y-i)*g),f+=this.sizeOfBlackWhiteBlackRun(i,a,y,v),f-1}sizeOfBlackWhiteBlackRun(i,a,c,d){const f=Math.abs(d-a)>Math.abs(c-i);if(f){let z=i;i=a,a=z,z=c,c=d,d=z}const g=Math.abs(c-i),y=Math.abs(d-a);let v=-g/2;const C=i<c?1:-1,O=a<d?1:-1;let D=0;const j=c+C;for(let z=i,W=a;z!==j;z+=C){const $=f?W:z,q=f?z:W;if(D===1===this.image.get($,q)){if(D===2)return be.distance(z,W,i,a);D++}if(v+=y,v>0){if(W===d)break;W+=O,v-=g}}return D===2?be.distance(c+C,d,i,a):NaN}findAlignmentInRegion(i,a,c,d){const f=Math.floor(d*i),g=Math.max(0,a-f),y=Math.min(this.image.getWidth()-1,a+f);if(y-g<i*3)throw new H("Alignment top exceeds estimated module size.");const v=Math.max(0,c-f),C=Math.min(this.image.getHeight()-1,c+f);if(C-v<i*3)throw new H("Alignment bottom exceeds estimated module size.");return new Cd(this.image,g,v,y-g,C-v,i,this.resultPointCallback).find()}}class Ui{constructor(){this.decoder=new xN}getDecoder(){return this.decoder}decode(i,a){let c,d;if(a!=null&&a.get(B.PURE_BARCODE)!==void 0){const v=Ui.extractPureBits(i.getBlackMatrix());c=this.decoder.decodeBitMatrix(v,a),d=Ui.NO_POINTS}else{const v=new Mc(i.getBlackMatrix()).detect(a);c=this.decoder.decodeBitMatrix(v.getBits(),a),d=v.getPoints()}c.getOther()instanceof Kx&&c.getOther().applyMirroredCorrection(d);const f=new fe(c.getText(),c.getRawBytes(),void 0,d,ve.QR_CODE,void 0),g=c.getByteSegments();g!==null&&f.putMetadata(Me.BYTE_SEGMENTS,g);const y=c.getECLevel();return y!==null&&f.putMetadata(Me.ERROR_CORRECTION_LEVEL,y),c.hasStructuredAppend()&&(f.putMetadata(Me.STRUCTURED_APPEND_SEQUENCE,c.getStructuredAppendSequenceNumber()),f.putMetadata(Me.STRUCTURED_APPEND_PARITY,c.getStructuredAppendParity())),f}reset(){}static extractPureBits(i){const a=i.getTopLeftOnBit(),c=i.getBottomRightOnBit();if(a===null||c===null)throw new H;const d=this.moduleSize(a,i);let f=a[1],g=c[1],y=a[0],v=c[0];if(y>=v||f>=g)throw new H;if(g-f!==v-y&&(v=y+(g-f),v>=i.getWidth()))throw new H;const C=Math.round((v-y+1)/d),O=Math.round((g-f+1)/d);if(C<=0||O<=0)throw new H;if(O!==C)throw new H;const D=Math.floor(d/2);f+=D,y+=D;const j=y+Math.floor((C-1)*d)-v;if(j>0){if(j>D)throw new H;y-=j}const z=f+Math.floor((O-1)*d)-g;if(z>0){if(z>D)throw new H;f-=z}const W=new G(C,O);for(let $=0;$<O;$++){const q=f+Math.floor($*d);for(let te=0;te<C;te++)i.get(y+Math.floor(te*d),q)&&W.set(te,$)}return W}static moduleSize(i,a){const c=a.getHeight(),d=a.getWidth();let f=i[0],g=i[1],y=!0,v=0;for(;f<d&&g<c;){if(y!==a.get(f,g)){if(++v===5)break;y=!y}f++,g++}if(f===d||g===c)throw new H;return(f-i[0])/7}}Ui.NO_POINTS=new Array;class ze{PDF417Common(){}static getBitCountSum(i){return be.sum(i)}static toIntArray(i){if(i==null||!i.length)return ze.EMPTY_INT_ARRAY;const a=new Int32Array(i.length);let c=0;for(const d of i)a[c++]=d;return a}static getCodeword(i){const a=S.binarySearch(ze.SYMBOL_TABLE,i&262143);return a<0?-1:(ze.CODEWORD_TABLE[a]-1)%ze.NUMBER_OF_CODEWORDS}}ze.NUMBER_OF_CODEWORDS=929,ze.MAX_CODEWORDS_IN_BARCODE=ze.NUMBER_OF_CODEWORDS-1,ze.MIN_ROWS_IN_BARCODE=3,ze.MAX_ROWS_IN_BARCODE=90,ze.MODULES_IN_CODEWORD=17,ze.MODULES_IN_STOP_PATTERN=18,ze.BARS_IN_MODULE=8,ze.EMPTY_INT_ARRAY=new Int32Array([]),ze.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ze.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class wN{constructor(i,a){this.bits=i,this.points=a}getBits(){return this.bits}getPoints(){return this.points}}class Ze{static detectMultiple(i,a,c){let d=i.getBlackMatrix(),f=Ze.detect(c,d);return f.length||(d=d.clone(),d.rotate180(),f=Ze.detect(c,d)),new wN(d,f)}static detect(i,a){const c=new Array;let d=0,f=0,g=!1;for(;d<a.getHeight();){const y=Ze.findVertices(a,d,f);if(y[0]==null&&y[3]==null){if(!g)break;g=!1,f=0;for(const v of c)v[1]!=null&&(d=Math.trunc(Math.max(d,v[1].getY()))),v[3]!=null&&(d=Math.max(d,Math.trunc(v[3].getY())));d+=Ze.ROW_STEP;continue}if(g=!0,c.push(y),!i)break;y[2]!=null?(f=Math.trunc(y[2].getX()),d=Math.trunc(y[2].getY())):(f=Math.trunc(y[4].getX()),d=Math.trunc(y[4].getY()))}return c}static findVertices(i,a,c){const d=i.getHeight(),f=i.getWidth(),g=new Array(8);return Ze.copyToResult(g,Ze.findRowsWithPattern(i,d,f,a,c,Ze.START_PATTERN),Ze.INDEXES_START_PATTERN),g[4]!=null&&(c=Math.trunc(g[4].getX()),a=Math.trunc(g[4].getY())),Ze.copyToResult(g,Ze.findRowsWithPattern(i,d,f,a,c,Ze.STOP_PATTERN),Ze.INDEXES_STOP_PATTERN),g}static copyToResult(i,a,c){for(let d=0;d<c.length;d++)i[c[d]]=a[d]}static findRowsWithPattern(i,a,c,d,f,g){const y=new Array(4);let v=!1;const C=new Int32Array(g.length);for(;d<a;d+=Ze.ROW_STEP){let D=Ze.findGuardPattern(i,f,d,c,!1,g,C);if(D!=null){for(;d>0;){const j=Ze.findGuardPattern(i,f,--d,c,!1,g,C);if(j!=null)D=j;else{d++;break}}y[0]=new we(D[0],d),y[1]=new we(D[1],d),v=!0;break}}let O=d+1;if(v){let D=0,j=Int32Array.from([Math.trunc(y[0].getX()),Math.trunc(y[1].getX())]);for(;O<a;O++){const z=Ze.findGuardPattern(i,j[0],O,c,!1,g,C);if(z!=null&&Math.abs(j[0]-z[0])<Ze.MAX_PATTERN_DRIFT&&Math.abs(j[1]-z[1])<Ze.MAX_PATTERN_DRIFT)j=z,D=0;else{if(D>Ze.SKIPPED_ROW_COUNT_MAX)break;D++}}O-=D+1,y[2]=new we(j[0],O),y[3]=new we(j[1],O)}return O-d<Ze.BARCODE_MIN_HEIGHT&&S.fill(y,null),y}static findGuardPattern(i,a,c,d,f,g,y){S.fillWithin(y,0,y.length,0);let v=a,C=0;for(;i.get(v,c)&&v>0&&C++<Ze.MAX_PIXEL_DRIFT;)v--;let O=v,D=0,j=g.length;for(let z=f;O<d;O++)if(i.get(O,c)!==z)y[D]++;else{if(D===j-1){if(Ze.patternMatchVariance(y,g,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE)return new Int32Array([v,O]);v+=y[0]+y[1],E.arraycopy(y,2,y,0,D-1),y[D-1]=0,y[D]=0,D--}else D++;y[D]=1,z=!z}return D===j-1&&Ze.patternMatchVariance(y,g,Ze.MAX_INDIVIDUAL_VARIANCE)<Ze.MAX_AVG_VARIANCE?new Int32Array([v,O-1]):null}static patternMatchVariance(i,a,c){let d=i.length,f=0,g=0;for(let C=0;C<d;C++)f+=i[C],g+=a[C];if(f<g)return 1/0;let y=f/g;c*=y;let v=0;for(let C=0;C<d;C++){let O=i[C],D=a[C]*y,j=O>D?O-D:D-O;if(j>c)return 1/0;v+=j}return v/f}}Ze.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ze.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ze.MAX_AVG_VARIANCE=.42,Ze.MAX_INDIVIDUAL_VARIANCE=.8,Ze.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ze.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ze.MAX_PIXEL_DRIFT=3,Ze.MAX_PATTERN_DRIFT=5,Ze.SKIPPED_ROW_COUNT_MAX=25,Ze.ROW_STEP=5,Ze.BARCODE_MIN_HEIGHT=10;class Pr{constructor(i,a){if(a.length===0)throw new w;this.field=i;let c=a.length;if(c>1&&a[0]===0){let d=1;for(;d<c&&a[d]===0;)d++;d===c?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(c-d),E.arraycopy(a,d,this.coefficients,0,this.coefficients.length))}else this.coefficients=a}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(i){return this.coefficients[this.coefficients.length-1-i]}evaluateAt(i){if(i===0)return this.getCoefficient(0);if(i===1){let d=0;for(let f of this.coefficients)d=this.field.add(d,f);return d}let a=this.coefficients[0],c=this.coefficients.length;for(let d=1;d<c;d++)a=this.field.add(this.field.multiply(i,a),this.coefficients[d]);return a}add(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero())return i;if(i.isZero())return this;let a=this.coefficients,c=i.coefficients;if(a.length>c.length){let g=a;a=c,c=g}let d=new Int32Array(c.length),f=c.length-a.length;E.arraycopy(c,0,d,0,f);for(let g=f;g<c.length;g++)d[g]=this.field.add(a[g-f],c[g]);return new Pr(this.field,d)}subtract(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");return i.isZero()?this:this.add(i.negative())}multiply(i){return i instanceof Pr?this.multiplyOther(i):this.multiplyScalar(i)}multiplyOther(i){if(!this.field.equals(i.field))throw new w("ModulusPolys do not have same ModulusGF field");if(this.isZero()||i.isZero())return new Pr(this.field,new Int32Array([0]));let a=this.coefficients,c=a.length,d=i.coefficients,f=d.length,g=new Int32Array(c+f-1);for(let y=0;y<c;y++){let v=a[y];for(let C=0;C<f;C++)g[y+C]=this.field.add(g[y+C],this.field.multiply(v,d[C]))}return new Pr(this.field,g)}negative(){let i=this.coefficients.length,a=new Int32Array(i);for(let c=0;c<i;c++)a[c]=this.field.subtract(0,this.coefficients[c]);return new Pr(this.field,a)}multiplyScalar(i){if(i===0)return new Pr(this.field,new Int32Array([0]));if(i===1)return this;let a=this.coefficients.length,c=new Int32Array(a);for(let d=0;d<a;d++)c[d]=this.field.multiply(this.coefficients[d],i);return new Pr(this.field,c)}multiplyByMonomial(i,a){if(i<0)throw new w;if(a===0)return new Pr(this.field,new Int32Array([0]));let c=this.coefficients.length,d=new Int32Array(c+i);for(let f=0;f<c;f++)d[f]=this.field.multiply(this.coefficients[f],a);return new Pr(this.field,d)}toString(){let i=new se;for(let a=this.getDegree();a>=0;a--){let c=this.getCoefficient(a);c!==0&&(c<0?(i.append(" - "),c=-c):i.length()>0&&i.append(" + "),(a===0||c!==1)&&i.append(c),a!==0&&(a===1?i.append("x"):(i.append("x^"),i.append(a))))}return i.toString()}}class vN{add(i,a){return(i+a)%this.modulus}subtract(i,a){return(this.modulus+i-a)%this.modulus}exp(i){return this.expTable[i]}log(i){if(i===0)throw new w;return this.logTable[i]}inverse(i){if(i===0)throw new Je;return this.expTable[this.modulus-this.logTable[i]-1]}multiply(i,a){return i===0||a===0?0:this.expTable[(this.logTable[i]+this.logTable[a])%(this.modulus-1)]}getSize(){return this.modulus}equals(i){return i===this}}class I0 extends vN{constructor(i,a){super(),this.modulus=i,this.expTable=new Int32Array(i),this.logTable=new Int32Array(i);let c=1;for(let d=0;d<i;d++)this.expTable[d]=c,c=c*a%i;for(let d=0;d<i-1;d++)this.logTable[this.expTable[d]]=d;this.zero=new Pr(this,new Int32Array([0])),this.one=new Pr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(i,a){if(i<0)throw new w;if(a===0)return this.zero;let c=new Int32Array(i+1);return c[0]=a,new Pr(this,c)}}I0.PDF417_GF=new I0(ze.NUMBER_OF_CODEWORDS,3);class Qx{constructor(){this.field=I0.PDF417_GF}decode(i,a,c){let d=new Pr(this.field,i),f=new Int32Array(a),g=!1;for(let W=a;W>0;W--){let $=d.evaluateAt(this.field.exp(W));f[a-W]=$,$!==0&&(g=!0)}if(!g)return 0;let y=this.field.getOne();if(c!=null)for(const W of c){let $=this.field.exp(i.length-1-W),q=new Pr(this.field,new Int32Array([this.field.subtract(0,$),1]));y=y.multiply(q)}let v=new Pr(this.field,f),C=this.runEuclideanAlgorithm(this.field.buildMonomial(a,1),v,a),O=C[0],D=C[1],j=this.findErrorLocations(O),z=this.findErrorMagnitudes(D,O,j);for(let W=0;W<j.length;W++){let $=i.length-1-this.field.log(j[W]);if($<0)throw b.getChecksumInstance();i[$]=this.field.subtract(i[$],z[W])}return j.length}runEuclideanAlgorithm(i,a,c){if(i.getDegree()<a.getDegree()){let j=i;i=a,a=j}let d=i,f=a,g=this.field.getZero(),y=this.field.getOne();for(;f.getDegree()>=Math.round(c/2);){let j=d,z=g;if(d=f,g=y,d.isZero())throw b.getChecksumInstance();f=j;let W=this.field.getZero(),$=d.getCoefficient(d.getDegree()),q=this.field.inverse($);for(;f.getDegree()>=d.getDegree()&&!f.isZero();){let te=f.getDegree()-d.getDegree(),ge=this.field.multiply(f.getCoefficient(f.getDegree()),q);W=W.add(this.field.buildMonomial(te,ge)),f=f.subtract(d.multiplyByMonomial(te,ge))}y=W.multiply(g).subtract(z).negative()}let v=y.getCoefficient(0);if(v===0)throw b.getChecksumInstance();let C=this.field.inverse(v),O=y.multiply(C),D=f.multiply(C);return[O,D]}findErrorLocations(i){let a=i.getDegree(),c=new Int32Array(a),d=0;for(let f=1;f<this.field.getSize()&&d<a;f++)i.evaluateAt(f)===0&&(c[d]=this.field.inverse(f),d++);if(d!==a)throw b.getChecksumInstance();return c}findErrorMagnitudes(i,a,c){let d=a.getDegree(),f=new Int32Array(d);for(let C=1;C<=d;C++)f[d-C]=this.field.multiply(C,a.getCoefficient(C));let g=new Pr(this.field,f),y=c.length,v=new Int32Array(y);for(let C=0;C<y;C++){let O=this.field.inverse(c[C]),D=this.field.subtract(0,i.evaluateAt(O)),j=this.field.inverse(g.evaluateAt(O));v[C]=this.field.multiply(D,j)}return v}}class Ko{constructor(i,a,c,d,f){i instanceof Ko?this.constructor_2(i):this.constructor_1(i,a,c,d,f)}constructor_1(i,a,c,d,f){const g=a==null||c==null,y=d==null||f==null;if(g&&y)throw new H;g?(a=new we(0,d.getY()),c=new we(0,f.getY())):y&&(d=new we(i.getWidth()-1,a.getY()),f=new we(i.getWidth()-1,c.getY())),this.image=i,this.topLeft=a,this.bottomLeft=c,this.topRight=d,this.bottomRight=f,this.minX=Math.trunc(Math.min(a.getX(),c.getX())),this.maxX=Math.trunc(Math.max(d.getX(),f.getX())),this.minY=Math.trunc(Math.min(a.getY(),d.getY())),this.maxY=Math.trunc(Math.max(c.getY(),f.getY()))}constructor_2(i){this.image=i.image,this.topLeft=i.getTopLeft(),this.bottomLeft=i.getBottomLeft(),this.topRight=i.getTopRight(),this.bottomRight=i.getBottomRight(),this.minX=i.getMinX(),this.maxX=i.getMaxX(),this.minY=i.getMinY(),this.maxY=i.getMaxY()}static merge(i,a){return i==null?a:a==null?i:new Ko(i.image,i.topLeft,i.bottomLeft,a.topRight,a.bottomRight)}addMissingRows(i,a,c){let d=this.topLeft,f=this.bottomLeft,g=this.topRight,y=this.bottomRight;if(i>0){let v=c?this.topLeft:this.topRight,C=Math.trunc(v.getY()-i);C<0&&(C=0);let O=new we(v.getX(),C);c?d=O:g=O}if(a>0){let v=c?this.bottomLeft:this.bottomRight,C=Math.trunc(v.getY()+a);C>=this.image.getHeight()&&(C=this.image.getHeight()-1);let O=new we(v.getX(),C);c?f=O:y=O}return new Ko(this.image,d,f,g,y)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class _N{constructor(i,a,c,d){this.columnCount=i,this.errorCorrectionLevel=d,this.rowCountUpperPart=a,this.rowCountLowerPart=c,this.rowCount=a+c}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class kc{constructor(){this.buffer=""}static form(i,a){let c=-1;function d(g,y,v,C,O,D){if(g==="%%")return"%";if(a[++c]===void 0)return;g=C?parseInt(C.substr(1)):void 0;let j=O?parseInt(O.substr(1)):void 0,z;switch(D){case"s":z=a[c];break;case"c":z=a[c][0];break;case"f":z=parseFloat(a[c]).toFixed(g);break;case"p":z=parseFloat(a[c]).toPrecision(g);break;case"e":z=parseFloat(a[c]).toExponential(g);break;case"x":z=parseInt(a[c]).toString(j||16);break;case"d":z=parseFloat(parseInt(a[c],j||10).toPrecision(g)).toFixed(0);break}z=typeof z=="object"?JSON.stringify(z):(+z).toString(j);let W=parseInt(v),$=v&&v[0]+""=="0"?"0":" ";for(;z.length<W;)z=y!==void 0?z+$:$+z;return z}let f=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return i.replace(f,d)}format(i,...a){this.buffer+=kc.form(i,a)}toString(){return this.buffer}}class Pc{constructor(i){this.boundingBox=new Ko(i),this.codewords=new Array(i.getMaxY()-i.getMinY()+1)}getCodewordNearby(i){let a=this.getCodeword(i);if(a!=null)return a;for(let c=1;c<Pc.MAX_NEARBY_DISTANCE;c++){let d=this.imageRowToCodewordIndex(i)-c;if(d>=0&&(a=this.codewords[d],a!=null)||(d=this.imageRowToCodewordIndex(i)+c,d<this.codewords.length&&(a=this.codewords[d],a!=null)))return a}return null}imageRowToCodewordIndex(i){return i-this.boundingBox.getMinY()}setCodeword(i,a){this.codewords[this.imageRowToCodewordIndex(i)]=a}getCodeword(i){return this.codewords[this.imageRowToCodewordIndex(i)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const i=new kc;let a=0;for(const c of this.codewords){if(c==null){i.format("%3d:    |   %n",a++);continue}i.format("%3d: %3d|%3d%n",a++,c.getRowNumber(),c.getValue())}return i.toString()}}Pc.MAX_NEARBY_DISTANCE=5;class Dc{constructor(){this.values=new Map}setValue(i){i=Math.trunc(i);let a=this.values.get(i);a==null&&(a=0),a++,this.values.set(i,a)}getValue(){let i=-1,a=new Array;for(const[c,d]of this.values.entries()){const f={getKey:()=>c,getValue:()=>d};f.getValue()>i?(i=f.getValue(),a=[],a.push(f.getKey())):f.getValue()===i&&a.push(f.getKey())}return ze.toIntArray(a)}getConfidence(i){return this.values.get(i)}}class Zx extends Pc{constructor(i,a){super(i),this._isLeft=a}setRowNumbers(){for(let i of this.getCodewords())i!=null&&i.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(i){let a=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(a,i);let c=this.getBoundingBox(),d=this._isLeft?c.getTopLeft():c.getTopRight(),f=this._isLeft?c.getBottomLeft():c.getBottomRight(),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=this.imageRowToCodewordIndex(Math.trunc(f.getY())),v=-1,C=1,O=0;for(let D=g;D<y;D++){if(a[D]==null)continue;let j=a[D],z=j.getRowNumber()-v;if(z===0)O++;else if(z===1)C=Math.max(C,O),O=1,v=j.getRowNumber();else if(z<0||j.getRowNumber()>=i.getRowCount()||z>D)a[D]=null;else{let W;C>2?W=(C-2)*z:W=z;let $=W>=D;for(let q=1;q<=W&&!$;q++)$=a[D-q]!=null;$?a[D]=null:(v=j.getRowNumber(),O=1)}}}getRowHeights(){let i=this.getBarcodeMetadata();if(i==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(i);let a=new Int32Array(i.getRowCount());for(let c of this.getCodewords())if(c!=null){let d=c.getRowNumber();if(d>=a.length)continue;a[d]++}return a}adjustIncompleteIndicatorColumnRowNumbers(i){let a=this.getBoundingBox(),c=this._isLeft?a.getTopLeft():a.getTopRight(),d=this._isLeft?a.getBottomLeft():a.getBottomRight(),f=this.imageRowToCodewordIndex(Math.trunc(c.getY())),g=this.imageRowToCodewordIndex(Math.trunc(d.getY())),y=this.getCodewords(),v=-1;for(let C=f;C<g;C++){if(y[C]==null)continue;let O=y[C];O.setRowNumberAsRowIndicatorColumn();let D=O.getRowNumber()-v;D===0||(D===1?v=O.getRowNumber():O.getRowNumber()>=i.getRowCount()?y[C]=null:v=O.getRowNumber())}}getBarcodeMetadata(){let i=this.getCodewords(),a=new Dc,c=new Dc,d=new Dc,f=new Dc;for(let y of i){if(y==null)continue;y.setRowNumberAsRowIndicatorColumn();let v=y.getValue()%30,C=y.getRowNumber();switch(this._isLeft||(C+=2),C%3){case 0:c.setValue(v*3+1);break;case 1:f.setValue(v/3),d.setValue(v%3);break;case 2:a.setValue(v+1);break}}if(a.getValue().length===0||c.getValue().length===0||d.getValue().length===0||f.getValue().length===0||a.getValue()[0]<1||c.getValue()[0]+d.getValue()[0]<ze.MIN_ROWS_IN_BARCODE||c.getValue()[0]+d.getValue()[0]>ze.MAX_ROWS_IN_BARCODE)return null;let g=new _N(a.getValue()[0],c.getValue()[0],d.getValue()[0],f.getValue()[0]);return this.removeIncorrectCodewords(i,g),g}removeIncorrectCodewords(i,a){for(let c=0;c<i.length;c++){let d=i[c];if(i[c]==null)continue;let f=d.getValue()%30,g=d.getRowNumber();if(g>a.getRowCount()){i[c]=null;continue}switch(this._isLeft||(g+=2),g%3){case 0:f*3+1!==a.getRowCountUpperPart()&&(i[c]=null);break;case 1:(Math.trunc(f/3)!==a.getErrorCorrectionLevel()||f%3!==a.getRowCountLowerPart())&&(i[c]=null);break;case 2:f+1!==a.getColumnCount()&&(i[c]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class jc{constructor(i,a){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=i,this.barcodeColumnCount=i.getColumnCount(),this.boundingBox=a,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let i=ze.MAX_CODEWORDS_IN_BARCODE,a;do a=i,i=this.adjustRowNumbersAndGetCount();while(i>0&&i<a);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(i){i!=null&&i.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let i=this.adjustRowNumbersByRow();if(i===0)return 0;for(let a=1;a<this.barcodeColumnCount+1;a++){let c=this.detectionResultColumns[a].getCodewords();for(let d=0;d<c.length;d++)c[d]!=null&&(c[d].hasValidRowNumber()||this.adjustRowNumbers(a,d,c))}return i}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let i=this.detectionResultColumns[0].getCodewords(),a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<i.length;c++)if(i[c]!=null&&a[c]!=null&&i[c].getRowNumber()===a[c].getRowNumber())for(let d=1;d<=this.barcodeColumnCount;d++){let f=this.detectionResultColumns[d].getCodewords()[c];f!=null&&(f.setRowNumber(i[c].getRowNumber()),f.hasValidRowNumber()||(this.detectionResultColumns[d].getCodewords()[c]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let i=0,a=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let d=a[c].getRowNumber(),f=0;for(let g=this.barcodeColumnCount+1;g>0&&f<this.ADJUST_ROW_NUMBER_SKIP;g--){let y=this.detectionResultColumns[g].getCodewords()[c];y!=null&&(f=jc.adjustRowNumberIfValid(d,f,y),y.hasValidRowNumber()||i++)}}return i}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let i=0,a=this.detectionResultColumns[0].getCodewords();for(let c=0;c<a.length;c++){if(a[c]==null)continue;let d=a[c].getRowNumber(),f=0;for(let g=1;g<this.barcodeColumnCount+1&&f<this.ADJUST_ROW_NUMBER_SKIP;g++){let y=this.detectionResultColumns[g].getCodewords()[c];y!=null&&(f=jc.adjustRowNumberIfValid(d,f,y),y.hasValidRowNumber()||i++)}}return i}static adjustRowNumberIfValid(i,a,c){return c==null||c.hasValidRowNumber()||(c.isValidRowNumber(i)?(c.setRowNumber(i),a=0):++a),a}adjustRowNumbers(i,a,c){if(!this.detectionResultColumns[i-1])return;let d=c[a],f=this.detectionResultColumns[i-1].getCodewords(),g=f;this.detectionResultColumns[i+1]!=null&&(g=this.detectionResultColumns[i+1].getCodewords());let y=new Array(14);y[2]=f[a],y[3]=g[a],a>0&&(y[0]=c[a-1],y[4]=f[a-1],y[5]=g[a-1]),a>1&&(y[8]=c[a-2],y[10]=f[a-2],y[11]=g[a-2]),a<c.length-1&&(y[1]=c[a+1],y[6]=f[a+1],y[7]=g[a+1]),a<c.length-2&&(y[9]=c[a+2],y[12]=f[a+2],y[13]=g[a+2]);for(let v of y)if(jc.adjustRowNumber(d,v))return}static adjustRowNumber(i,a){return a==null?!1:a.hasValidRowNumber()&&a.getBucket()===i.getBucket()?(i.setRowNumber(a.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(i){this.boundingBox=i}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(i,a){this.detectionResultColumns[i]=a}getDetectionResultColumn(i){return this.detectionResultColumns[i]}toString(){let i=this.detectionResultColumns[0];i==null&&(i=this.detectionResultColumns[this.barcodeColumnCount+1]);let a=new kc;for(let c=0;c<i.getCodewords().length;c++){a.format("CW %3d:",c);for(let d=0;d<this.barcodeColumnCount+2;d++){if(this.detectionResultColumns[d]==null){a.format("    |   ");continue}let f=this.detectionResultColumns[d].getCodewords()[c];if(f==null){a.format("    |   ");continue}a.format(" %3d|%3d",f.getRowNumber(),f.getValue())}a.format("%n")}return a.toString()}}class Lc{constructor(i,a,c,d){this.rowNumber=Lc.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(i),this.endX=Math.trunc(a),this.bucket=Math.trunc(c),this.value=Math.trunc(d)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(i){return i!==Lc.BARCODE_ROW_UNKNOWN&&this.bucket===i%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(i){this.rowNumber=i}toString(){return this.rowNumber+"|"+this.value}}Lc.BARCODE_ROW_UNKNOWN=-1;class fn{static initialize(){for(let i=0;i<ze.SYMBOL_TABLE.length;i++){let a=ze.SYMBOL_TABLE[i],c=a&1;for(let d=0;d<ze.BARS_IN_MODULE;d++){let f=0;for(;(a&1)===c;)f+=1,a>>=1;c=a&1,fn.RATIOS_TABLE[i]||(fn.RATIOS_TABLE[i]=new Array(ze.BARS_IN_MODULE)),fn.RATIOS_TABLE[i][ze.BARS_IN_MODULE-d-1]=Math.fround(f/ze.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(i){let a=fn.getDecodedCodewordValue(fn.sampleBitCounts(i));return a!==-1?a:fn.getClosestDecodedValue(i)}static sampleBitCounts(i){let a=be.sum(i),c=new Int32Array(ze.BARS_IN_MODULE),d=0,f=0;for(let g=0;g<ze.MODULES_IN_CODEWORD;g++){let y=a/(2*ze.MODULES_IN_CODEWORD)+g*a/ze.MODULES_IN_CODEWORD;f+i[d]<=y&&(f+=i[d],d++),c[d]++}return c}static getDecodedCodewordValue(i){let a=fn.getBitValue(i);return ze.getCodeword(a)===-1?-1:a}static getBitValue(i){let a=0;for(let c=0;c<i.length;c++)for(let d=0;d<i[c];d++)a=a<<1|(c%2===0?1:0);return Math.trunc(a)}static getClosestDecodedValue(i){let a=be.sum(i),c=new Array(ze.BARS_IN_MODULE);if(a>1)for(let g=0;g<c.length;g++)c[g]=Math.fround(i[g]/a);let d=vt.MAX_VALUE,f=-1;this.bSymbolTableReady||fn.initialize();for(let g=0;g<fn.RATIOS_TABLE.length;g++){let y=0,v=fn.RATIOS_TABLE[g];for(let C=0;C<ze.BARS_IN_MODULE;C++){let O=Math.fround(v[C]-c[C]);if(y+=Math.fround(O*O),y>=d)break}y<d&&(d=y,f=ze.SYMBOL_TABLE[g])}return f}}fn.bSymbolTableReady=!1,fn.RATIOS_TABLE=new Array(ze.SYMBOL_TABLE.length).map(P=>new Array(ze.BARS_IN_MODULE));class Jx{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(i){this.segmentIndex=i}getFileId(){return this.fileId}setFileId(i){this.fileId=i}getOptionalData(){return this.optionalData}setOptionalData(i){this.optionalData=i}isLastSegment(){return this.lastSegment}setLastSegment(i){this.lastSegment=i}getSegmentCount(){return this.segmentCount}setSegmentCount(i){this.segmentCount=i}getSender(){return this.sender||null}setSender(i){this.sender=i}getAddressee(){return this.addressee||null}setAddressee(i){this.addressee=i}getFileName(){return this.fileName}setFileName(i){this.fileName=i}getFileSize(){return this.fileSize}setFileSize(i){this.fileSize=i}getChecksum(){return this.checksum}setChecksum(i){this.checksum=i}getTimestamp(){return this.timestamp}setTimestamp(i){this.timestamp=i}}class ey{static parseLong(i,a=void 0){return parseInt(i,a)}}class ty extends h{}ty.kind="NullPointerException";class bN{writeBytes(i){this.writeBytesOffset(i,0,i.length)}writeBytesOffset(i,a,c){if(i==null)throw new ty;if(a<0||a>i.length||c<0||a+c>i.length||a+c<0)throw new N;if(c===0)return;for(let d=0;d<c;d++)this.write(i[a+d])}flush(){}close(){}}class EN extends h{}class CN extends bN{constructor(i=32){if(super(),this.count=0,i<0)throw new w("Negative initial size: "+i);this.buf=new Uint8Array(i)}ensureCapacity(i){i-this.buf.length>0&&this.grow(i)}grow(i){let c=this.buf.length<<1;if(c-i<0&&(c=i),c<0){if(i<0)throw new EN;c=A.MAX_VALUE}this.buf=S.copyOfUint8Array(this.buf,c)}write(i){this.ensureCapacity(this.count+1),this.buf[this.count]=i,this.count+=1}writeBytesOffset(i,a,c){if(a<0||a>i.length||c<0||a+c-i.length>0)throw new N;this.ensureCapacity(this.count+c),E.arraycopy(i,a,this.buf,this.count,c),this.count+=c}writeTo(i){i.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return S.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(i){return i?typeof i=="string"?this.toString_string(i):this.toString_number(i):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(i){return new String(this.buf).toString()}toString_number(i){return new String(this.buf).toString()}close(){}}var Ct;(function(P){P[P.ALPHA=0]="ALPHA",P[P.LOWER=1]="LOWER",P[P.MIXED=2]="MIXED",P[P.PUNCT=3]="PUNCT",P[P.ALPHA_SHIFT=4]="ALPHA_SHIFT",P[P.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Ct||(Ct={}));function ry(){if(typeof window<"u")return window.BigInt||null;if(typeof Uc<"u")return Uc.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let Sd;function zi(P){if(typeof Sd>"u"&&(Sd=ry()),Sd===null)throw new Error("BigInt is not supported!");return Sd(P)}function SN(){let P=[];P[0]=zi(1);let i=zi(900);P[1]=i;for(let a=2;a<16;a++)P[a]=P[a-1]*i;return P}class ee{static decode(i,a){let c=new se(""),d=U.ISO8859_1;c.enableDecoding(d);let f=1,g=i[f++],y=new Jx;for(;f<i[0];){switch(g){case ee.TEXT_COMPACTION_MODE_LATCH:f=ee.textCompaction(i,f,c);break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:f=ee.byteCompaction(g,i,d,f,c);break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:c.append(i[f++]);break;case ee.NUMERIC_COMPACTION_MODE_LATCH:f=ee.numericCompaction(i,f,c);break;case ee.ECI_CHARSET:U.getCharacterSetECIByValue(i[f++]);break;case ee.ECI_GENERAL_PURPOSE:f+=2;break;case ee.ECI_USER_DEFINED:f++;break;case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:f=ee.decodeMacroBlock(i,f,y);break;case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:throw new L;default:f--,f=ee.textCompaction(i,f,c);break}if(f<i.length)g=i[f++];else throw L.getFormatInstance()}if(c.length()===0)throw L.getFormatInstance();let v=new ut(null,c.toString(),null,a);return v.setOther(y),v}static decodeMacroBlock(i,a,c){if(a+ee.NUMBER_OF_SEQUENCE_CODEWORDS>i[0])throw L.getFormatInstance();let d=new Int32Array(ee.NUMBER_OF_SEQUENCE_CODEWORDS);for(let y=0;y<ee.NUMBER_OF_SEQUENCE_CODEWORDS;y++,a++)d[y]=i[a];c.setSegmentIndex(A.parseInt(ee.decodeBase900toBase10(d,ee.NUMBER_OF_SEQUENCE_CODEWORDS)));let f=new se;a=ee.textCompaction(i,a,f),c.setFileId(f.toString());let g=-1;for(i[a]===ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(g=a+1);a<i[0];)switch(i[a]){case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(a++,i[a]){case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let y=new se;a=ee.textCompaction(i,a+1,y),c.setFileName(y.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let v=new se;a=ee.textCompaction(i,a+1,v),c.setSender(v.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let C=new se;a=ee.textCompaction(i,a+1,C),c.setAddressee(C.toString());break;case ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let O=new se;a=ee.numericCompaction(i,a+1,O),c.setSegmentCount(A.parseInt(O.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let D=new se;a=ee.numericCompaction(i,a+1,D),c.setTimestamp(ey.parseLong(D.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let j=new se;a=ee.numericCompaction(i,a+1,j),c.setChecksum(A.parseInt(j.toString()));break;case ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let z=new se;a=ee.numericCompaction(i,a+1,z),c.setFileSize(ey.parseLong(z.toString()));break;default:throw L.getFormatInstance()}break;case ee.MACRO_PDF417_TERMINATOR:a++,c.setLastSegment(!0);break;default:throw L.getFormatInstance()}if(g!==-1){let y=a-g;c.isLastSegment()&&y--,c.setOptionalData(S.copyOfRange(i,g,g+y))}return a}static textCompaction(i,a,c){let d=new Int32Array((i[0]-a)*2),f=new Int32Array((i[0]-a)*2),g=0,y=!1;for(;a<i[0]&&!y;){let v=i[a++];if(v<ee.TEXT_COMPACTION_MODE_LATCH)d[g]=v/30,d[g+1]=v%30,g+=2;else switch(v){case ee.TEXT_COMPACTION_MODE_LATCH:d[g++]=ee.TEXT_COMPACTION_MODE_LATCH;break;case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:a--,y=!0;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d[g]=ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,v=i[a++],f[g]=v,g++;break}}return ee.decodeTextCompaction(d,f,g,c),a}static decodeTextCompaction(i,a,c,d){let f=Ct.ALPHA,g=Ct.ALPHA,y=0;for(;y<c;){let v=i[y],C="";switch(f){case Ct.ALPHA:if(v<26)C=String.fromCharCode(65+v);else switch(v){case 26:C=" ";break;case ee.LL:f=Ct.LOWER;break;case ee.ML:f=Ct.MIXED;break;case ee.PS:g=f,f=Ct.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case ee.TEXT_COMPACTION_MODE_LATCH:f=Ct.ALPHA;break}break;case Ct.LOWER:if(v<26)C=String.fromCharCode(97+v);else switch(v){case 26:C=" ";break;case ee.AS:g=f,f=Ct.ALPHA_SHIFT;break;case ee.ML:f=Ct.MIXED;break;case ee.PS:g=f,f=Ct.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case ee.TEXT_COMPACTION_MODE_LATCH:f=Ct.ALPHA;break}break;case Ct.MIXED:if(v<ee.PL)C=ee.MIXED_CHARS[v];else switch(v){case ee.PL:f=Ct.PUNCT;break;case 26:C=" ";break;case ee.LL:f=Ct.LOWER;break;case ee.AL:f=Ct.ALPHA;break;case ee.PS:g=f,f=Ct.PUNCT_SHIFT;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case ee.TEXT_COMPACTION_MODE_LATCH:f=Ct.ALPHA;break}break;case Ct.PUNCT:if(v<ee.PAL)C=ee.PUNCT_CHARS[v];else switch(v){case ee.PAL:f=Ct.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case ee.TEXT_COMPACTION_MODE_LATCH:f=Ct.ALPHA;break}break;case Ct.ALPHA_SHIFT:if(f=g,v<26)C=String.fromCharCode(65+v);else switch(v){case 26:C=" ";break;case ee.TEXT_COMPACTION_MODE_LATCH:f=Ct.ALPHA;break}break;case Ct.PUNCT_SHIFT:if(f=g,v<ee.PAL)C=ee.PUNCT_CHARS[v];else switch(v){case ee.PAL:f=Ct.ALPHA;break;case ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:d.append(a[y]);break;case ee.TEXT_COMPACTION_MODE_LATCH:f=Ct.ALPHA;break}break}C!==""&&d.append(C),y++}}static byteCompaction(i,a,c,d,f){let g=new CN,y=0,v=0,C=!1;switch(i){case ee.BYTE_COMPACTION_MODE_LATCH:let O=new Int32Array(6),D=a[d++];for(;d<a[0]&&!C;)switch(O[y++]=D,v=900*v+D,D=a[d++],D){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:d--,C=!0;break;default:if(y%5===0&&y>0){for(let j=0;j<6;++j)g.write(Number(zi(v)>>zi(8*(5-j))));v=0,y=0}break}d===a[0]&&D<ee.TEXT_COMPACTION_MODE_LATCH&&(O[y++]=D);for(let j=0;j<y;j++)g.write(O[j]);break;case ee.BYTE_COMPACTION_MODE_LATCH_6:for(;d<a[0]&&!C;){let j=a[d++];if(j<ee.TEXT_COMPACTION_MODE_LATCH)y++,v=900*v+j;else switch(j){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.NUMERIC_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:d--,C=!0;break}if(y%5===0&&y>0){for(let z=0;z<6;++z)g.write(Number(zi(v)>>zi(8*(5-z))));v=0,y=0}}break}return f.append(ne.decode(g.toByteArray(),c)),d}static numericCompaction(i,a,c){let d=0,f=!1,g=new Int32Array(ee.MAX_NUMERIC_CODEWORDS);for(;a<i[0]&&!f;){let y=i[a++];if(a===i[0]&&(f=!0),y<ee.TEXT_COMPACTION_MODE_LATCH)g[d]=y,d++;else switch(y){case ee.TEXT_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH:case ee.BYTE_COMPACTION_MODE_LATCH_6:case ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case ee.MACRO_PDF417_TERMINATOR:a--,f=!0;break}(d%ee.MAX_NUMERIC_CODEWORDS===0||y===ee.NUMERIC_COMPACTION_MODE_LATCH||f)&&d>0&&(c.append(ee.decodeBase900toBase10(g,d)),d=0)}return a}static decodeBase900toBase10(i,a){let c=zi(0);for(let f=0;f<a;f++)c+=ee.EXP900[a-f-1]*zi(i[f]);let d=c.toString();if(d.charAt(0)!=="1")throw new L;return d.substring(1)}}ee.TEXT_COMPACTION_MODE_LATCH=900,ee.BYTE_COMPACTION_MODE_LATCH=901,ee.NUMERIC_COMPACTION_MODE_LATCH=902,ee.BYTE_COMPACTION_MODE_LATCH_6=924,ee.ECI_USER_DEFINED=925,ee.ECI_GENERAL_PURPOSE=926,ee.ECI_CHARSET=927,ee.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,ee.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,ee.MACRO_PDF417_TERMINATOR=922,ee.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,ee.MAX_NUMERIC_CODEWORDS=15,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,ee.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,ee.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,ee.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,ee.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,ee.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,ee.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,ee.PL=25,ee.LL=27,ee.AS=27,ee.ML=28,ee.AL=28,ee.PS=29,ee.PAL=29,ee.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,ee.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",ee.EXP900=ry()?SN():[],ee.NUMBER_OF_SEQUENCE_CODEWORDS=2;class et{constructor(){}static decode(i,a,c,d,f,g,y){let v=new Ko(i,a,c,d,f),C=null,O=null,D;for(let W=!0;;W=!1){if(a!=null&&(C=et.getRowIndicatorColumn(i,v,a,!0,g,y)),d!=null&&(O=et.getRowIndicatorColumn(i,v,d,!1,g,y)),D=et.merge(C,O),D==null)throw H.getNotFoundInstance();let $=D.getBoundingBox();if(W&&$!=null&&($.getMinY()<v.getMinY()||$.getMaxY()>v.getMaxY()))v=$;else break}D.setBoundingBox(v);let j=D.getBarcodeColumnCount()+1;D.setDetectionResultColumn(0,C),D.setDetectionResultColumn(j,O);let z=C!=null;for(let W=1;W<=j;W++){let $=z?W:j-W;if(D.getDetectionResultColumn($)!==void 0)continue;let q;$===0||$===j?q=new Zx(v,$===0):q=new Pc(v),D.setDetectionResultColumn($,q);let te=-1,ge=te;for(let me=v.getMinY();me<=v.getMaxY();me++){if(te=et.getStartColumn(D,$,me,z),te<0||te>v.getMaxX()){if(ge===-1)continue;te=ge}let he=et.detectCodeword(i,v.getMinX(),v.getMaxX(),z,te,me,g,y);he!=null&&(q.setCodeword(me,he),ge=te,g=Math.min(g,he.getWidth()),y=Math.max(y,he.getWidth()))}}return et.createDecoderResult(D)}static merge(i,a){if(i==null&&a==null)return null;let c=et.getBarcodeMetadata(i,a);if(c==null)return null;let d=Ko.merge(et.adjustBoundingBox(i),et.adjustBoundingBox(a));return new jc(c,d)}static adjustBoundingBox(i){if(i==null)return null;let a=i.getRowHeights();if(a==null)return null;let c=et.getMax(a),d=0;for(let y of a)if(d+=c-y,y>0)break;let f=i.getCodewords();for(let y=0;d>0&&f[y]==null;y++)d--;let g=0;for(let y=a.length-1;y>=0&&(g+=c-a[y],!(a[y]>0));y--);for(let y=f.length-1;g>0&&f[y]==null;y--)g--;return i.getBoundingBox().addMissingRows(d,g,i.isLeft())}static getMax(i){let a=-1;for(let c of i)a=Math.max(a,c);return a}static getBarcodeMetadata(i,a){let c;if(i==null||(c=i.getBarcodeMetadata())==null)return a==null?null:a.getBarcodeMetadata();let d;return a==null||(d=a.getBarcodeMetadata())==null?c:c.getColumnCount()!==d.getColumnCount()&&c.getErrorCorrectionLevel()!==d.getErrorCorrectionLevel()&&c.getRowCount()!==d.getRowCount()?null:c}static getRowIndicatorColumn(i,a,c,d,f,g){let y=new Zx(a,d);for(let v=0;v<2;v++){let C=v===0?1:-1,O=Math.trunc(Math.trunc(c.getX()));for(let D=Math.trunc(Math.trunc(c.getY()));D<=a.getMaxY()&&D>=a.getMinY();D+=C){let j=et.detectCodeword(i,0,i.getWidth(),d,O,D,f,g);j!=null&&(y.setCodeword(D,j),d?O=j.getStartX():O=j.getEndX())}}return y}static adjustCodewordCount(i,a){let c=a[0][1],d=c.getValue(),f=i.getBarcodeColumnCount()*i.getBarcodeRowCount()-et.getNumberOfECCodeWords(i.getBarcodeECLevel());if(d.length===0){if(f<1||f>ze.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();c.setValue(f)}else d[0]!==f&&c.setValue(f)}static createDecoderResult(i){let a=et.createBarcodeMatrix(i);et.adjustCodewordCount(i,a);let c=new Array,d=new Int32Array(i.getBarcodeRowCount()*i.getBarcodeColumnCount()),f=[],g=new Array;for(let v=0;v<i.getBarcodeRowCount();v++)for(let C=0;C<i.getBarcodeColumnCount();C++){let O=a[v][C+1].getValue(),D=v*i.getBarcodeColumnCount()+C;O.length===0?c.push(D):O.length===1?d[D]=O[0]:(g.push(D),f.push(O))}let y=new Array(f.length);for(let v=0;v<y.length;v++)y[v]=f[v];return et.createDecoderResultFromAmbiguousValues(i.getBarcodeECLevel(),d,ze.toIntArray(c),ze.toIntArray(g),y)}static createDecoderResultFromAmbiguousValues(i,a,c,d,f){let g=new Int32Array(d.length),y=100;for(;y-- >0;){for(let v=0;v<g.length;v++)a[d[v]]=f[v][g[v]];try{return et.decodeCodewords(a,i,c)}catch(v){if(!(v instanceof b))throw v}if(g.length===0)throw b.getChecksumInstance();for(let v=0;v<g.length;v++)if(g[v]<f[v].length-1){g[v]++;break}else if(g[v]=0,v===g.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(i){let a=Array.from({length:i.getBarcodeRowCount()},()=>new Array(i.getBarcodeColumnCount()+2));for(let d=0;d<a.length;d++)for(let f=0;f<a[d].length;f++)a[d][f]=new Dc;let c=0;for(let d of i.getDetectionResultColumns()){if(d!=null){for(let f of d.getCodewords())if(f!=null){let g=f.getRowNumber();if(g>=0){if(g>=a.length)continue;a[g][c].setValue(f.getValue())}}}c++}return a}static isValidBarcodeColumn(i,a){return a>=0&&a<=i.getBarcodeColumnCount()+1}static getStartColumn(i,a,c,d){let f=d?1:-1,g=null;if(et.isValidBarcodeColumn(i,a-f)&&(g=i.getDetectionResultColumn(a-f).getCodeword(c)),g!=null)return d?g.getEndX():g.getStartX();if(g=i.getDetectionResultColumn(a).getCodewordNearby(c),g!=null)return d?g.getStartX():g.getEndX();if(et.isValidBarcodeColumn(i,a-f)&&(g=i.getDetectionResultColumn(a-f).getCodewordNearby(c)),g!=null)return d?g.getEndX():g.getStartX();let y=0;for(;et.isValidBarcodeColumn(i,a-f);){a-=f;for(let v of i.getDetectionResultColumn(a).getCodewords())if(v!=null)return(d?v.getEndX():v.getStartX())+f*y*(v.getEndX()-v.getStartX());y++}return d?i.getBoundingBox().getMinX():i.getBoundingBox().getMaxX()}static detectCodeword(i,a,c,d,f,g,y,v){f=et.adjustCodewordStartColumn(i,a,c,d,f,g);let C=et.getModuleBitCount(i,a,c,d,f,g);if(C==null)return null;let O,D=be.sum(C);if(d)O=f+D;else{for(let W=0;W<C.length/2;W++){let $=C[W];C[W]=C[C.length-1-W],C[C.length-1-W]=$}O=f,f=O-D}if(!et.checkCodewordSkew(D,y,v))return null;let j=fn.getDecodedValue(C),z=ze.getCodeword(j);return z===-1?null:new Lc(f,O,et.getCodewordBucketNumber(j),z)}static getModuleBitCount(i,a,c,d,f,g){let y=f,v=new Int32Array(8),C=0,O=d?1:-1,D=d;for(;(d?y<c:y>=a)&&C<v.length;)i.get(y,g)===D?(v[C]++,y+=O):(C++,D=!D);return C===v.length||y===(d?c:a)&&C===v.length-1?v:null}static getNumberOfECCodeWords(i){return 2<<i}static adjustCodewordStartColumn(i,a,c,d,f,g){let y=f,v=d?-1:1;for(let C=0;C<2;C++){for(;(d?y>=a:y<c)&&d===i.get(y,g);){if(Math.abs(f-y)>et.CODEWORD_SKEW_SIZE)return f;y+=v}v=-v,d=!d}return y}static checkCodewordSkew(i,a,c){return a-et.CODEWORD_SKEW_SIZE<=i&&i<=c+et.CODEWORD_SKEW_SIZE}static decodeCodewords(i,a,c){if(i.length===0)throw L.getFormatInstance();let d=1<<a+1,f=et.correctErrors(i,c,d);et.verifyCodewordCount(i,d);let g=ee.decode(i,""+a);return g.setErrorsCorrected(f),g.setErasures(c.length),g}static correctErrors(i,a,c){if(a!=null&&a.length>c/2+et.MAX_ERRORS||c<0||c>et.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return et.errorCorrection.decode(i,c,a)}static verifyCodewordCount(i,a){if(i.length<4)throw L.getFormatInstance();let c=i[0];if(c>i.length)throw L.getFormatInstance();if(c===0)if(a<i.length)i[0]=i.length-a;else throw L.getFormatInstance()}static getBitCountForCodeword(i){let a=new Int32Array(8),c=0,d=a.length-1;for(;!((i&1)!==c&&(c=i&1,d--,d<0));)a[d]++,i>>=1;return a}static getCodewordBucketNumber(i){return i instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(i):this.getCodewordBucketNumber_number(i)}static getCodewordBucketNumber_number(i){return et.getCodewordBucketNumber(et.getBitCountForCodeword(i))}static getCodewordBucketNumber_Int32Array(i){return(i[0]-i[2]+i[4]-i[6]+9)%9}static toString(i){let a=new kc;for(let c=0;c<i.length;c++){a.format("Row %2d: ",c);for(let d=0;d<i[c].length;d++){let f=i[c][d];f.getValue().length===0?a.format("        ",null):a.format("%4d(%2d)",f.getValue()[0],f.getConfidence(f.getValue()[0]))}a.format("%n")}return a.toString()}}et.CODEWORD_SKEW_SIZE=2,et.MAX_ERRORS=3,et.MAX_EC_CODEWORDS=512,et.errorCorrection=new Qx;class Dr{decode(i,a=null){let c=Dr.decode(i,a,!1);if(c==null||c.length===0||c[0]==null)throw H.getNotFoundInstance();return c[0]}decodeMultiple(i,a=null){try{return Dr.decode(i,a,!0)}catch(c){throw c instanceof L||c instanceof b?H.getNotFoundInstance():c}}static decode(i,a,c){const d=new Array,f=Ze.detectMultiple(i,a,c);for(const g of f.getPoints()){const y=et.decode(f.getBits(),g[4],g[5],g[6],g[7],Dr.getMinCodewordWidth(g),Dr.getMaxCodewordWidth(g)),v=new fe(y.getText(),y.getRawBytes(),void 0,g,ve.PDF_417);v.putMetadata(Me.ERROR_CORRECTION_LEVEL,y.getECLevel());const C=y.getOther();C!=null&&v.putMetadata(Me.PDF417_EXTRA_METADATA,C),d.push(v)}return d.map(g=>g)}static getMaxWidth(i,a){return i==null||a==null?0:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMinWidth(i,a){return i==null||a==null?A.MAX_VALUE:Math.trunc(Math.abs(i.getX()-a.getX()))}static getMaxCodewordWidth(i){return Math.floor(Math.max(Math.max(Dr.getMaxWidth(i[0],i[4]),Dr.getMaxWidth(i[6],i[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.max(Dr.getMaxWidth(i[1],i[5]),Dr.getMaxWidth(i[7],i[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(i){return Math.floor(Math.min(Math.min(Dr.getMinWidth(i[0],i[4]),Dr.getMinWidth(i[6],i[2])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN),Math.min(Dr.getMinWidth(i[1],i[5]),Dr.getMinWidth(i[7],i[3])*ze.MODULES_IN_CODEWORD/ze.MODULES_IN_STOP_PATTERN)))}reset(){}}class Ad extends h{}Ad.kind="ReaderException";class ny{constructor(i,a){this.verbose=i===!0,a&&this.setHints(a)}decode(i,a){return a&&this.setHints(a),this.decodeInternal(i)}decodeWithState(i){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(i)}setHints(i){this.hints=i;const a=!n(i)&&i.get(B.TRY_HARDER)===!0,c=n(i)?null:i.get(B.POSSIBLE_FORMATS),d=new Array;if(!n(c)){const f=c.some(g=>g===ve.UPC_A||g===ve.UPC_E||g===ve.EAN_13||g===ve.EAN_8||g===ve.CODABAR||g===ve.CODE_39||g===ve.CODE_93||g===ve.CODE_128||g===ve.ITF||g===ve.RSS_14||g===ve.RSS_EXPANDED);f&&!a&&d.push(new Za(i,this.verbose)),c.includes(ve.QR_CODE)&&d.push(new Ui),c.includes(ve.DATA_MATRIX)&&d.push(new Fi),c.includes(ve.AZTEC)&&d.push(new Xa),c.includes(ve.PDF_417)&&d.push(new Dr),f&&a&&d.push(new Za(i,this.verbose))}d.length===0&&(a||d.push(new Za(i,this.verbose)),d.push(new Ui),d.push(new Fi),d.push(new Xa),d.push(new Dr),a&&d.push(new Za(i,this.verbose))),this.readers=d}reset(){if(this.readers!==null)for(const i of this.readers)i.reset()}decodeInternal(i){if(this.readers===null)throw new Ad("No readers where selected, nothing can be read.");for(const a of this.readers)try{return a.decode(i,this.hints)}catch(c){if(c instanceof Ad)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class AN extends ae{constructor(i=null,a=500){const c=new ny;c.setHints(i),super(c,a)}decodeBitmap(i){return this.reader.decodeWithState(i)}}class TN extends ae{constructor(i=500){super(new Dr,i)}}class NN extends ae{constructor(i=500){super(new Ui,i)}}var R0;(function(P){P[P.ERROR_CORRECTION=0]="ERROR_CORRECTION",P[P.CHARACTER_SET=1]="CHARACTER_SET",P[P.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",P[P.MIN_SIZE=3]="MIN_SIZE",P[P.MAX_SIZE=4]="MAX_SIZE",P[P.MARGIN=5]="MARGIN",P[P.PDF417_COMPACT=6]="PDF417_COMPACT",P[P.PDF417_COMPACTION=7]="PDF417_COMPACTION",P[P.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",P[P.AZTEC_LAYERS=9]="AZTEC_LAYERS",P[P.QR_VERSION=10]="QR_VERSION"})(R0||(R0={}));var br=R0;class O0{constructor(i){this.field=i,this.cachedGenerators=[],this.cachedGenerators.push(new je(i,Int32Array.from([1])))}buildGenerator(i){const a=this.cachedGenerators;if(i>=a.length){let c=a[a.length-1];const d=this.field;for(let f=a.length;f<=i;f++){const g=c.multiply(new je(d,Int32Array.from([1,d.exp(f-1+d.getGeneratorBase())])));a.push(g),c=g}}return a[i]}encode(i,a){if(a===0)throw new w("No error correction bytes");const c=i.length-a;if(c<=0)throw new w("No data bytes provided");const d=this.buildGenerator(a),f=new Int32Array(c);E.arraycopy(i,0,f,0,c);let g=new je(this.field,f);g=g.multiplyByMonomial(a,1);const v=g.divide(d)[1].getCoefficients(),C=a-v.length;for(let O=0;O<C;O++)i[c+O]=0;E.arraycopy(v,0,i,c+C,v.length)}}class tr{constructor(){}static applyMaskPenaltyRule1(i){return tr.applyMaskPenaltyRule1Internal(i,!0)+tr.applyMaskPenaltyRule1Internal(i,!1)}static applyMaskPenaltyRule2(i){let a=0;const c=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let g=0;g<f-1;g++){const y=c[g];for(let v=0;v<d-1;v++){const C=y[v];C===y[v+1]&&C===c[g+1][v]&&C===c[g+1][v+1]&&a++}}return tr.N2*a}static applyMaskPenaltyRule3(i){let a=0;const c=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let g=0;g<f;g++)for(let y=0;y<d;y++){const v=c[g];y+6<d&&v[y]===1&&v[y+1]===0&&v[y+2]===1&&v[y+3]===1&&v[y+4]===1&&v[y+5]===0&&v[y+6]===1&&(tr.isWhiteHorizontal(v,y-4,y)||tr.isWhiteHorizontal(v,y+7,y+11))&&a++,g+6<f&&c[g][y]===1&&c[g+1][y]===0&&c[g+2][y]===1&&c[g+3][y]===1&&c[g+4][y]===1&&c[g+5][y]===0&&c[g+6][y]===1&&(tr.isWhiteVertical(c,y,g-4,g)||tr.isWhiteVertical(c,y,g+7,g+11))&&a++}return a*tr.N3}static isWhiteHorizontal(i,a,c){a=Math.max(a,0),c=Math.min(c,i.length);for(let d=a;d<c;d++)if(i[d]===1)return!1;return!0}static isWhiteVertical(i,a,c,d){c=Math.max(c,0),d=Math.min(d,i.length);for(let f=c;f<d;f++)if(i[f][a]===1)return!1;return!0}static applyMaskPenaltyRule4(i){let a=0;const c=i.getArray(),d=i.getWidth(),f=i.getHeight();for(let v=0;v<f;v++){const C=c[v];for(let O=0;O<d;O++)C[O]===1&&a++}const g=i.getHeight()*i.getWidth();return Math.floor(Math.abs(a*2-g)*10/g)*tr.N4}static getDataMaskBit(i,a,c){let d,f;switch(i){case 0:d=c+a&1;break;case 1:d=c&1;break;case 2:d=a%3;break;case 3:d=(c+a)%3;break;case 4:d=Math.floor(c/2)+Math.floor(a/3)&1;break;case 5:f=c*a,d=(f&1)+f%3;break;case 6:f=c*a,d=(f&1)+f%3&1;break;case 7:f=c*a,d=f%3+(c+a&1)&1;break;default:throw new w("Invalid mask pattern: "+i)}return d===0}static applyMaskPenaltyRule1Internal(i,a){let c=0;const d=a?i.getHeight():i.getWidth(),f=a?i.getWidth():i.getHeight(),g=i.getArray();for(let y=0;y<d;y++){let v=0,C=-1;for(let O=0;O<f;O++){const D=a?g[y][O]:g[O][y];D===C?v++:(v>=5&&(c+=tr.N1+(v-5)),v=1,C=D)}v>=5&&(c+=tr.N1+(v-5))}return c}}tr.N1=3,tr.N2=3,tr.N3=40,tr.N4=10;class Td{constructor(i,a){this.width=i,this.height=a;const c=new Array(a);for(let d=0;d!==a;d++)c[d]=new Uint8Array(i);this.bytes=c}getHeight(){return this.height}getWidth(){return this.width}get(i,a){return this.bytes[a][i]}getArray(){return this.bytes}setNumber(i,a,c){this.bytes[a][i]=c}setBoolean(i,a,c){this.bytes[a][i]=c?1:0}clear(i){for(const a of this.bytes)S.fill(a,i)}equals(i){if(!(i instanceof Td))return!1;const a=i;if(this.width!==a.width||this.height!==a.height)return!1;for(let c=0,d=this.height;c<d;++c){const f=this.bytes[c],g=a.bytes[c];for(let y=0,v=this.width;y<v;++y)if(f[y]!==g[y])return!1}return!0}toString(){const i=new se;for(let a=0,c=this.height;a<c;++a){const d=this.bytes[a];for(let f=0,g=this.width;f<g;++f)switch(d[f]){case 0:i.append(" 0");break;case 1:i.append(" 1");break;default:i.append("  ");break}i.append(`
`)}return i.toString()}}class Qo{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const i=new se;return i.append(`<<
`),i.append(" mode: "),i.append(this.mode?this.mode.toString():"null"),i.append(`
 ecLevel: `),i.append(this.ecLevel?this.ecLevel.toString():"null"),i.append(`
 version: `),i.append(this.version?this.version.toString():"null"),i.append(`
 maskPattern: `),i.append(this.maskPattern.toString()),this.matrix?(i.append(`
 matrix:
`),i.append(this.matrix.toString())):i.append(`
 matrix: null
`),i.append(`>>
`),i.toString()}setMode(i){this.mode=i}setECLevel(i){this.ecLevel=i}setVersion(i){this.version=i}setMaskPattern(i){this.maskPattern=i}setMatrix(i){this.matrix=i}static isValidMaskPattern(i){return i>=0&&i<Qo.NUM_MASK_PATTERNS}}Qo.NUM_MASK_PATTERNS=8;class At extends h{}At.kind="WriterException";class Le{constructor(){}static clearMatrix(i){i.clear(255)}static buildMatrix(i,a,c,d,f){Le.clearMatrix(f),Le.embedBasicPatterns(c,f),Le.embedTypeInfo(a,d,f),Le.maybeEmbedVersionInfo(c,f),Le.embedDataBits(i,d,f)}static embedBasicPatterns(i,a){Le.embedPositionDetectionPatternsAndSeparators(a),Le.embedDarkDotAtLeftBottomCorner(a),Le.maybeEmbedPositionAdjustmentPatterns(i,a),Le.embedTimingPatterns(a)}static embedTypeInfo(i,a,c){const d=new M;Le.makeTypeInfoBits(i,a,d);for(let f=0,g=d.getSize();f<g;++f){const y=d.get(d.getSize()-1-f),v=Le.TYPE_INFO_COORDINATES[f],C=v[0],O=v[1];if(c.setBoolean(C,O,y),f<8){const D=c.getWidth()-f-1;c.setBoolean(D,8,y)}else{const j=c.getHeight()-7+(f-8);c.setBoolean(8,j,y)}}}static maybeEmbedVersionInfo(i,a){if(i.getVersionNumber()<7)return;const c=new M;Le.makeVersionInfoBits(i,c);let d=6*3-1;for(let f=0;f<6;++f)for(let g=0;g<3;++g){const y=c.get(d);d--,a.setBoolean(f,a.getHeight()-11+g,y),a.setBoolean(a.getHeight()-11+g,f,y)}}static embedDataBits(i,a,c){let d=0,f=-1,g=c.getWidth()-1,y=c.getHeight()-1;for(;g>0;){for(g===6&&(g-=1);y>=0&&y<c.getHeight();){for(let v=0;v<2;++v){const C=g-v;if(!Le.isEmpty(c.get(C,y)))continue;let O;d<i.getSize()?(O=i.get(d),++d):O=!1,a!==255&&tr.getDataMaskBit(a,C,y)&&(O=!O),c.setBoolean(C,y,O)}y+=f}f=-f,y+=f,g-=2}if(d!==i.getSize())throw new At("Not all bits consumed: "+d+"/"+i.getSize())}static findMSBSet(i){return 32-A.numberOfLeadingZeros(i)}static calculateBCHCode(i,a){if(a===0)throw new w("0 polynomial");const c=Le.findMSBSet(a);for(i<<=c-1;Le.findMSBSet(i)>=c;)i^=a<<Le.findMSBSet(i)-c;return i}static makeTypeInfoBits(i,a,c){if(!Qo.isValidMaskPattern(a))throw new At("Invalid mask pattern");const d=i.getBits()<<3|a;c.appendBits(d,5);const f=Le.calculateBCHCode(d,Le.TYPE_INFO_POLY);c.appendBits(f,10);const g=new M;if(g.appendBits(Le.TYPE_INFO_MASK_PATTERN,15),c.xor(g),c.getSize()!==15)throw new At("should not happen but we got: "+c.getSize())}static makeVersionInfoBits(i,a){a.appendBits(i.getVersionNumber(),6);const c=Le.calculateBCHCode(i.getVersionNumber(),Le.VERSION_INFO_POLY);if(a.appendBits(c,12),a.getSize()!==18)throw new At("should not happen but we got: "+a.getSize())}static isEmpty(i){return i===255}static embedTimingPatterns(i){for(let a=8;a<i.getWidth()-8;++a){const c=(a+1)%2;Le.isEmpty(i.get(a,6))&&i.setNumber(a,6,c),Le.isEmpty(i.get(6,a))&&i.setNumber(6,a,c)}}static embedDarkDotAtLeftBottomCorner(i){if(i.get(8,i.getHeight()-8)===0)throw new At;i.setNumber(8,i.getHeight()-8,1)}static embedHorizontalSeparationPattern(i,a,c){for(let d=0;d<8;++d){if(!Le.isEmpty(c.get(i+d,a)))throw new At;c.setNumber(i+d,a,0)}}static embedVerticalSeparationPattern(i,a,c){for(let d=0;d<7;++d){if(!Le.isEmpty(c.get(i,a+d)))throw new At;c.setNumber(i,a+d,0)}}static embedPositionAdjustmentPattern(i,a,c){for(let d=0;d<5;++d){const f=Le.POSITION_ADJUSTMENT_PATTERN[d];for(let g=0;g<5;++g)c.setNumber(i+g,a+d,f[g])}}static embedPositionDetectionPattern(i,a,c){for(let d=0;d<7;++d){const f=Le.POSITION_DETECTION_PATTERN[d];for(let g=0;g<7;++g)c.setNumber(i+g,a+d,f[g])}}static embedPositionDetectionPatternsAndSeparators(i){const a=Le.POSITION_DETECTION_PATTERN[0].length;Le.embedPositionDetectionPattern(0,0,i),Le.embedPositionDetectionPattern(i.getWidth()-a,0,i),Le.embedPositionDetectionPattern(0,i.getWidth()-a,i);const c=8;Le.embedHorizontalSeparationPattern(0,c-1,i),Le.embedHorizontalSeparationPattern(i.getWidth()-c,c-1,i),Le.embedHorizontalSeparationPattern(0,i.getWidth()-c,i);const d=7;Le.embedVerticalSeparationPattern(d,0,i),Le.embedVerticalSeparationPattern(i.getHeight()-d-1,0,i),Le.embedVerticalSeparationPattern(d,i.getHeight()-d,i)}static maybeEmbedPositionAdjustmentPatterns(i,a){if(i.getVersionNumber()<2)return;const c=i.getVersionNumber()-1,d=Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[c];for(let f=0,g=d.length;f!==g;f++){const y=d[f];if(y>=0)for(let v=0;v!==g;v++){const C=d[v];C>=0&&Le.isEmpty(a.get(C,y))&&Le.embedPositionAdjustmentPattern(C-2,y-2,a)}}}}Le.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Le.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Le.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Le.VERSION_INFO_POLY=7973,Le.TYPE_INFO_POLY=1335,Le.TYPE_INFO_MASK_PATTERN=21522;class IN{constructor(i,a){this.dataBytes=i,this.errorCorrectionBytes=a}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class kt{constructor(){}static calculateMaskPenalty(i){return tr.applyMaskPenaltyRule1(i)+tr.applyMaskPenaltyRule2(i)+tr.applyMaskPenaltyRule3(i)+tr.applyMaskPenaltyRule4(i)}static encode(i,a,c=null){let d=kt.DEFAULT_BYTE_MODE_ENCODING;const f=c!==null&&c.get(br.CHARACTER_SET)!==void 0;f&&(d=c.get(br.CHARACTER_SET).toString());const g=this.chooseMode(i,d),y=new M;if(g===De.BYTE&&(f||kt.DEFAULT_BYTE_MODE_ENCODING!==d)){const me=U.getCharacterSetECIByName(d);me!==void 0&&this.appendECI(me,y)}this.appendModeInfo(g,y);const v=new M;this.appendBytes(i,g,v,d);let C;if(c!==null&&c.get(br.QR_VERSION)!==void 0){const me=Number.parseInt(c.get(br.QR_VERSION).toString(),10);C=Re.getVersionForNumber(me);const he=this.calculateBitsNeeded(g,y,v,C);if(!this.willFit(he,C,a))throw new At("Data too big for requested version")}else C=this.recommendVersion(a,g,y,v);const O=new M;O.appendBitArray(y);const D=g===De.BYTE?v.getSizeInBytes():i.length;this.appendLengthInfo(D,C,g,O),O.appendBitArray(v);const j=C.getECBlocksForLevel(a),z=C.getTotalCodewords()-j.getTotalECCodewords();this.terminateBits(z,O);const W=this.interleaveWithECBytes(O,C.getTotalCodewords(),z,j.getNumBlocks()),$=new Qo;$.setECLevel(a),$.setMode(g),$.setVersion(C);const q=C.getDimensionForVersion(),te=new Td(q,q),ge=this.chooseMaskPattern(W,a,C,te);return $.setMaskPattern(ge),Le.buildMatrix(W,a,C,ge,te),$.setMatrix(te),$}static recommendVersion(i,a,c,d){const f=this.calculateBitsNeeded(a,c,d,Re.getVersionForNumber(1)),g=this.chooseVersion(f,i),y=this.calculateBitsNeeded(a,c,d,g);return this.chooseVersion(y,i)}static calculateBitsNeeded(i,a,c,d){return a.getSize()+i.getCharacterCountBits(d)+c.getSize()}static getAlphanumericCode(i){return i<kt.ALPHANUMERIC_TABLE.length?kt.ALPHANUMERIC_TABLE[i]:-1}static chooseMode(i,a=null){if(U.SJIS.getName()===a&&this.isOnlyDoubleByteKanji(i))return De.KANJI;let c=!1,d=!1;for(let f=0,g=i.length;f<g;++f){const y=i.charAt(f);if(kt.isDigit(y))c=!0;else if(this.getAlphanumericCode(y.charCodeAt(0))!==-1)d=!0;else return De.BYTE}return d?De.ALPHANUMERIC:c?De.NUMERIC:De.BYTE}static isOnlyDoubleByteKanji(i){let a;try{a=ne.encode(i,U.SJIS)}catch{return!1}const c=a.length;if(c%2!==0)return!1;for(let d=0;d<c;d+=2){const f=a[d]&255;if((f<129||f>159)&&(f<224||f>235))return!1}return!0}static chooseMaskPattern(i,a,c,d){let f=Number.MAX_SAFE_INTEGER,g=-1;for(let y=0;y<Qo.NUM_MASK_PATTERNS;y++){Le.buildMatrix(i,a,c,y,d);let v=this.calculateMaskPenalty(d);v<f&&(f=v,g=y)}return g}static chooseVersion(i,a){for(let c=1;c<=40;c++){const d=Re.getVersionForNumber(c);if(kt.willFit(i,d,a))return d}throw new At("Data too big")}static willFit(i,a,c){const d=a.getTotalCodewords(),g=a.getECBlocksForLevel(c).getTotalECCodewords(),y=d-g,v=(i+7)/8;return y>=v}static terminateBits(i,a){const c=i*8;if(a.getSize()>c)throw new At("data bits cannot fit in the QR Code"+a.getSize()+" > "+c);for(let g=0;g<4&&a.getSize()<c;++g)a.appendBit(!1);const d=a.getSize()&7;if(d>0)for(let g=d;g<8;g++)a.appendBit(!1);const f=i-a.getSizeInBytes();for(let g=0;g<f;++g)a.appendBits(g&1?17:236,8);if(a.getSize()!==c)throw new At("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(i,a,c,d,f,g){if(d>=c)throw new At("Block ID too large");const y=i%c,v=c-y,C=Math.floor(i/c),O=C+1,D=Math.floor(a/c),j=D+1,z=C-D,W=O-j;if(z!==W)throw new At("EC bytes mismatch");if(c!==v+y)throw new At("RS blocks mismatch");if(i!==(D+z)*v+(j+W)*y)throw new At("Total bytes mismatch");d<v?(f[0]=D,g[0]=z):(f[0]=j,g[0]=W)}static interleaveWithECBytes(i,a,c,d){if(i.getSizeInBytes()!==c)throw new At("Number of bits and data bytes does not match");let f=0,g=0,y=0;const v=new Array;for(let O=0;O<d;++O){const D=new Int32Array(1),j=new Int32Array(1);kt.getNumDataBytesAndNumECBytesForBlockID(a,c,d,O,D,j);const z=D[0],W=new Uint8Array(z);i.toBytes(8*f,W,0,z);const $=kt.generateECBytes(W,j[0]);v.push(new IN(W,$)),g=Math.max(g,z),y=Math.max(y,$.length),f+=D[0]}if(c!==f)throw new At("Data bytes does not match offset");const C=new M;for(let O=0;O<g;++O)for(const D of v){const j=D.getDataBytes();O<j.length&&C.appendBits(j[O],8)}for(let O=0;O<y;++O)for(const D of v){const j=D.getErrorCorrectionBytes();O<j.length&&C.appendBits(j[O],8)}if(a!==C.getSizeInBytes())throw new At("Interleaving error: "+a+" and "+C.getSizeInBytes()+" differ.");return C}static generateECBytes(i,a){const c=i.length,d=new Int32Array(c+a);for(let g=0;g<c;g++)d[g]=i[g]&255;new O0(Be.QR_CODE_FIELD_256).encode(d,a);const f=new Uint8Array(a);for(let g=0;g<a;g++)f[g]=d[c+g];return f}static appendModeInfo(i,a){a.appendBits(i.getBits(),4)}static appendLengthInfo(i,a,c,d){const f=c.getCharacterCountBits(a);if(i>=1<<f)throw new At(i+" is bigger than "+((1<<f)-1));d.appendBits(i,f)}static appendBytes(i,a,c,d){switch(a){case De.NUMERIC:kt.appendNumericBytes(i,c);break;case De.ALPHANUMERIC:kt.appendAlphanumericBytes(i,c);break;case De.BYTE:kt.append8BitBytes(i,c,d);break;case De.KANJI:kt.appendKanjiBytes(i,c);break;default:throw new At("Invalid mode: "+a)}}static getDigit(i){return i.charCodeAt(0)-48}static isDigit(i){const a=kt.getDigit(i);return a>=0&&a<=9}static appendNumericBytes(i,a){const c=i.length;let d=0;for(;d<c;){const f=kt.getDigit(i.charAt(d));if(d+2<c){const g=kt.getDigit(i.charAt(d+1)),y=kt.getDigit(i.charAt(d+2));a.appendBits(f*100+g*10+y,10),d+=3}else if(d+1<c){const g=kt.getDigit(i.charAt(d+1));a.appendBits(f*10+g,7),d+=2}else a.appendBits(f,4),d++}}static appendAlphanumericBytes(i,a){const c=i.length;let d=0;for(;d<c;){const f=kt.getAlphanumericCode(i.charCodeAt(d));if(f===-1)throw new At;if(d+1<c){const g=kt.getAlphanumericCode(i.charCodeAt(d+1));if(g===-1)throw new At;a.appendBits(f*45+g,11),d+=2}else a.appendBits(f,6),d++}}static append8BitBytes(i,a,c){let d;try{d=ne.encode(i,c)}catch(f){throw new At(f)}for(let f=0,g=d.length;f!==g;f++){const y=d[f];a.appendBits(y,8)}}static appendKanjiBytes(i,a){let c;try{c=ne.encode(i,U.SJIS)}catch(f){throw new At(f)}const d=c.length;for(let f=0;f<d;f+=2){const g=c[f]&255,y=c[f+1]&255,v=g<<8&4294967295|y;let C=-1;if(v>=33088&&v<=40956?C=v-33088:v>=57408&&v<=60351&&(C=v-49472),C===-1)throw new At("Invalid byte sequence");const O=(C>>8)*192+(C&255);a.appendBits(O,13)}}static appendECI(i,a){a.appendBits(De.ECI.getBits(),4),a.appendBits(i.getValue(),8)}}kt.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),kt.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class Zo{write(i,a,c,d=null){if(i.length===0)throw new w("Found empty contents");if(a<0||c<0)throw new w("Requested dimensions are too small: "+a+"x"+c);let f=Rt.L,g=Zo.QUIET_ZONE_SIZE;d!==null&&(d.get(br.ERROR_CORRECTION)!==void 0&&(f=Rt.fromString(d.get(br.ERROR_CORRECTION).toString())),d.get(br.MARGIN)!==void 0&&(g=Number.parseInt(d.get(br.MARGIN).toString(),10)));const y=kt.encode(i,f,d);return this.renderResult(y,a,c,g)}writeToDom(i,a,c,d,f=null){typeof i=="string"&&(i=document.querySelector(i));const g=this.write(a,c,d,f);i&&i.appendChild(g)}renderResult(i,a,c,d){const f=i.getMatrix();if(f===null)throw new yr;const g=f.getWidth(),y=f.getHeight(),v=g+d*2,C=y+d*2,O=Math.max(a,v),D=Math.max(c,C),j=Math.min(Math.floor(O/v),Math.floor(D/C)),z=Math.floor((O-g*j)/2),W=Math.floor((D-y*j)/2),$=this.createSVGElement(O,D);for(let q=0,te=W;q<y;q++,te+=j)for(let ge=0,me=z;ge<g;ge++,me+=j)if(f.get(ge,q)===1){const he=this.createSvgRectElement(me,te,j,j);$.appendChild(he)}return $}createSVGElement(i,a){const c=document.createElementNS(Zo.SVG_NS,"svg");return c.setAttributeNS(null,"height",i.toString()),c.setAttributeNS(null,"width",a.toString()),c}createSvgRectElement(i,a,c,d){const f=document.createElementNS(Zo.SVG_NS,"rect");return f.setAttributeNS(null,"x",i.toString()),f.setAttributeNS(null,"y",a.toString()),f.setAttributeNS(null,"height",c.toString()),f.setAttributeNS(null,"width",d.toString()),f.setAttributeNS(null,"fill","#000000"),f}}Zo.QUIET_ZONE_SIZE=4,Zo.SVG_NS="http://www.w3.org/2000/svg";class el{encode(i,a,c,d,f){if(i.length===0)throw new w("Found empty contents");if(a!==ve.QR_CODE)throw new w("Can only encode QR_CODE, but got "+a);if(c<0||d<0)throw new w(`Requested dimensions are too small: ${c}x${d}`);let g=Rt.L,y=el.QUIET_ZONE_SIZE;f!==null&&(f.get(br.ERROR_CORRECTION)!==void 0&&(g=Rt.fromString(f.get(br.ERROR_CORRECTION).toString())),f.get(br.MARGIN)!==void 0&&(y=Number.parseInt(f.get(br.MARGIN).toString(),10)));const v=kt.encode(i,g,f);return el.renderResult(v,c,d,y)}static renderResult(i,a,c,d){const f=i.getMatrix();if(f===null)throw new yr;const g=f.getWidth(),y=f.getHeight(),v=g+d*2,C=y+d*2,O=Math.max(a,v),D=Math.max(c,C),j=Math.min(Math.floor(O/v),Math.floor(D/C)),z=Math.floor((O-g*j)/2),W=Math.floor((D-y*j)/2),$=new G(O,D);for(let q=0,te=W;q<y;q++,te+=j)for(let ge=0,me=z;ge<g;ge++,me+=j)f.get(ge,q)===1&&$.setRegion(me,te,j,j);return $}}el.QUIET_ZONE_SIZE=4;class RN{encode(i,a,c,d,f){let g;switch(a){case ve.QR_CODE:g=new el;break;default:throw new w("No encoder available for format "+a)}return g.encode(i,a,c,d,f)}}class Ws extends Y{constructor(i,a,c,d,f,g,y,v){if(super(g,y),this.yuvData=i,this.dataWidth=a,this.dataHeight=c,this.left=d,this.top=f,d+g>a||f+y>c)throw new w("Crop rectangle does not fit within image data.");v&&this.reverseHorizontal(g,y)}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const d=(i+this.top)*this.dataWidth+this.left;return E.arraycopy(this.yuvData,d,a,0,c),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.yuvData;const c=i*a,d=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return E.arraycopy(this.yuvData,f,d,0,c),d;for(let g=0;g<a;g++){const y=g*i;E.arraycopy(this.yuvData,f,d,y,i),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,a,c,d){return new Ws(this.yuvData,this.dataWidth,this.dataHeight,this.left+i,this.top+a,c,d,!1)}renderThumbnail(){const i=this.getWidth()/Ws.THUMBNAIL_SCALE_FACTOR,a=this.getHeight()/Ws.THUMBNAIL_SCALE_FACTOR,c=new Int32Array(i*a),d=this.yuvData;let f=this.top*this.dataWidth+this.left;for(let g=0;g<a;g++){const y=g*i;for(let v=0;v<i;v++){const C=d[f+v*Ws.THUMBNAIL_SCALE_FACTOR]&255;c[y+v]=4278190080|C*65793}f+=this.dataWidth*Ws.THUMBNAIL_SCALE_FACTOR}return c}getThumbnailWidth(){return this.getWidth()/Ws.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Ws.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(i,a){const c=this.yuvData;for(let d=0,f=this.top*this.dataWidth+this.left;d<a;d++,f+=this.dataWidth){const g=f+i/2;for(let y=f,v=f+i-1;y<g;y++,v--){const C=c[y];c[y]=c[v],c[v]=C}}}invert(){return new Z(this)}}Ws.THUMBNAIL_SCALE_FACTOR=2;class M0 extends Y{constructor(i,a,c,d,f,g,y){if(super(a,c),this.dataWidth=d,this.dataHeight=f,this.left=g,this.top=y,i.BYTES_PER_ELEMENT===4){const v=a*c,C=new Uint8ClampedArray(v);for(let O=0;O<v;O++){const D=i[O],j=D>>16&255,z=D>>7&510,W=D&255;C[O]=(j+z+W)/4&255}this.luminances=C}else this.luminances=i;if(d===void 0&&(this.dataWidth=a),f===void 0&&(this.dataHeight=c),g===void 0&&(this.left=0),y===void 0&&(this.top=0),this.left+a>this.dataWidth||this.top+c>this.dataHeight)throw new w("Crop rectangle does not fit within image data.")}getRow(i,a){if(i<0||i>=this.getHeight())throw new w("Requested row is outside the image: "+i);const c=this.getWidth();(a==null||a.length<c)&&(a=new Uint8ClampedArray(c));const d=(i+this.top)*this.dataWidth+this.left;return E.arraycopy(this.luminances,d,a,0,c),a}getMatrix(){const i=this.getWidth(),a=this.getHeight();if(i===this.dataWidth&&a===this.dataHeight)return this.luminances;const c=i*a,d=new Uint8ClampedArray(c);let f=this.top*this.dataWidth+this.left;if(i===this.dataWidth)return E.arraycopy(this.luminances,f,d,0,c),d;for(let g=0;g<a;g++){const y=g*i;E.arraycopy(this.luminances,f,d,y,i),f+=this.dataWidth}return d}isCropSupported(){return!0}crop(i,a,c,d){return new M0(this.luminances,c,d,this.dataWidth,this.dataHeight,this.left+i,this.top+a)}invert(){return new Z(this)}}class sy extends U{static forName(i){return this.getCharacterSetECIByName(i)}}class k0{}k0.ISO_8859_1=U.ISO8859_1;class iy{isCompact(){return this.compact}setCompact(i){this.compact=i}getSize(){return this.size}setSize(i){this.size=i}getLayers(){return this.layers}setLayers(i){this.layers=i}getCodeWords(){return this.codeWords}setCodeWords(i){this.codeWords=i}getMatrix(){return this.matrix}setMatrix(i){this.matrix=i}}class oy{static singletonList(i){return[i]}static min(i,a){return i.sort(a)[0]}}class ON{constructor(i){this.previous=i}getPrevious(){return this.previous}}class tl extends ON{constructor(i,a,c){super(i),this.value=a,this.bitCount=c}appendTo(i,a){i.appendBits(this.value,this.bitCount)}add(i,a){return new tl(this,i,a)}addBinaryShift(i,a){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new tl(this,i,a)}toString(){let i=this.value&(1<<this.bitCount)-1;return i|=1<<this.bitCount,"<"+A.toBinaryString(i|1<<this.bitCount).substring(1)+">"}}class P0 extends tl{constructor(i,a,c){super(i,0,0),this.binaryShiftStart=a,this.binaryShiftByteCount=c}appendTo(i,a){for(let c=0;c<this.binaryShiftByteCount;c++)(c===0||c===31&&this.binaryShiftByteCount<=62)&&(i.appendBits(31,5),this.binaryShiftByteCount>62?i.appendBits(this.binaryShiftByteCount-31,16):c===0?i.appendBits(Math.min(this.binaryShiftByteCount,31),5):i.appendBits(this.binaryShiftByteCount-31,5)),i.appendBits(a[this.binaryShiftStart+c],8)}addBinaryShift(i,a){return new P0(this,i,a)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function MN(P,i,a){return new P0(P,i,a)}function Bc(P,i,a){return new tl(P,i,a)}const kN=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Vi=0,Nd=1,Zn=2,ay=3,$s=4,PN=new tl(null,0,0),D0=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function DN(P){for(let i of P)S.fill(i,-1);return P[Vi][$s]=0,P[Nd][$s]=0,P[Nd][Vi]=28,P[ay][$s]=0,P[Zn][$s]=0,P[Zn][Vi]=15,P}const ly=DN(S.createInt32Array(6,6));class Gs{constructor(i,a,c,d){this.token=i,this.mode=a,this.binaryShiftByteCount=c,this.bitCount=d}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(i,a){let c=this.bitCount,d=this.token;if(i!==this.mode){let g=D0[this.mode][i];d=Bc(d,g&65535,g>>16),c+=g>>16}let f=i===Zn?4:5;return d=Bc(d,a,f),new Gs(d,i,0,c+f)}shiftAndAppend(i,a){let c=this.token,d=this.mode===Zn?4:5;return c=Bc(c,ly[this.mode][i],d),c=Bc(c,a,5),new Gs(c,this.mode,0,this.bitCount+d+5)}addBinaryShiftChar(i){let a=this.token,c=this.mode,d=this.bitCount;if(this.mode===$s||this.mode===Zn){let y=D0[c][Vi];a=Bc(a,y&65535,y>>16),d+=y>>16,c=Vi}let f=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,g=new Gs(a,c,this.binaryShiftByteCount+1,d+f);return g.binaryShiftByteCount===2078&&(g=g.endBinaryShift(i+1)),g}endBinaryShift(i){if(this.binaryShiftByteCount===0)return this;let a=this.token;return a=MN(a,i-this.binaryShiftByteCount,this.binaryShiftByteCount),new Gs(a,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(i){let a=this.bitCount+(D0[this.mode][i.mode]>>16);return this.binaryShiftByteCount<i.binaryShiftByteCount?a+=Gs.calculateBinaryShiftCost(i)-Gs.calculateBinaryShiftCost(this):this.binaryShiftByteCount>i.binaryShiftByteCount&&i.binaryShiftByteCount>0&&(a+=10),a<=i.bitCount}toBitArray(i){let a=[];for(let d=this.endBinaryShift(i.length).token;d!==null;d=d.getPrevious())a.unshift(d);let c=new M;for(const d of a)d.appendTo(c,i);return c}toString(){return K.format("%s bits=%d bytes=%d",kN[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(i){return i.binaryShiftByteCount>62?21:i.binaryShiftByteCount>31?20:i.binaryShiftByteCount>0?10:0}}Gs.INITIAL_STATE=new Gs(PN,Vi,0,0);function jN(P){const i=K.getCharCode(" "),a=K.getCharCode("."),c=K.getCharCode(",");P[Vi][i]=1;const d=K.getCharCode("Z"),f=K.getCharCode("A");for(let j=f;j<=d;j++)P[Vi][j]=j-f+2;P[Nd][i]=1;const g=K.getCharCode("z"),y=K.getCharCode("a");for(let j=y;j<=g;j++)P[Nd][j]=j-y+2;P[Zn][i]=1;const v=K.getCharCode("9"),C=K.getCharCode("0");for(let j=C;j<=v;j++)P[Zn][j]=j-C+2;P[Zn][c]=12,P[Zn][a]=13;const O=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let j=0;j<O.length;j++)P[ay][K.getCharCode(O[j])]=j;const D=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let j=0;j<D.length;j++)K.getCharCode(D[j])>0&&(P[$s][K.getCharCode(D[j])]=j);return P}const j0=jN(S.createInt32Array(5,256));class Fc{constructor(i){this.text=i}encode(){const i=K.getCharCode(" "),a=K.getCharCode(`
`);let c=oy.singletonList(Gs.INITIAL_STATE);for(let f=0;f<this.text.length;f++){let g,y=f+1<this.text.length?this.text[f+1]:0;switch(this.text[f]){case K.getCharCode("\r"):g=y===a?2:0;break;case K.getCharCode("."):g=y===i?3:0;break;case K.getCharCode(","):g=y===i?4:0;break;case K.getCharCode(":"):g=y===i?5:0;break;default:g=0}g>0?(c=Fc.updateStateListForPair(c,f,g),f++):c=this.updateStateListForChar(c,f)}return oy.min(c,(f,g)=>f.getBitCount()-g.getBitCount()).toBitArray(this.text)}updateStateListForChar(i,a){const c=[];for(let d of i)this.updateStateForChar(d,a,c);return Fc.simplifyStates(c)}updateStateForChar(i,a,c){let d=this.text[a]&255,f=j0[i.getMode()][d]>0,g=null;for(let y=0;y<=$s;y++){let v=j0[y][d];if(v>0){if(g==null&&(g=i.endBinaryShift(a)),!f||y===i.getMode()||y===Zn){const C=g.latchAndAppend(y,v);c.push(C)}if(!f&&ly[i.getMode()][y]>=0){const C=g.shiftAndAppend(y,v);c.push(C)}}}if(i.getBinaryShiftByteCount()>0||j0[i.getMode()][d]===0){let y=i.addBinaryShiftChar(a);c.push(y)}}static updateStateListForPair(i,a,c){const d=[];for(let f of i)this.updateStateForPair(f,a,c,d);return this.simplifyStates(d)}static updateStateForPair(i,a,c,d){let f=i.endBinaryShift(a);if(d.push(f.latchAndAppend($s,c)),i.getMode()!==$s&&d.push(f.shiftAndAppend($s,c)),c===3||c===4){let g=f.latchAndAppend(Zn,16-c).latchAndAppend(Zn,1);d.push(g)}if(i.getBinaryShiftByteCount()>0){let g=i.addBinaryShiftChar(a).addBinaryShiftChar(a+1);d.push(g)}}static simplifyStates(i){let a=[];for(const c of i){let d=!0;for(const f of a){if(f.isBetterThanOrEqualTo(c)){d=!1;break}c.isBetterThanOrEqualTo(f)&&(a=a.filter(g=>g!==f))}d&&a.push(c)}return a}}class ht{constructor(){}static encodeBytes(i){return ht.encode(i,ht.DEFAULT_EC_PERCENT,ht.DEFAULT_AZTEC_LAYERS)}static encode(i,a,c){let d=new Fc(i).encode(),f=A.truncDivision(d.getSize()*a,100)+11,g=d.getSize()+f,y,v,C,O,D;if(c!==ht.DEFAULT_AZTEC_LAYERS){if(y=c<0,v=Math.abs(c),v>(y?ht.MAX_NB_BITS_COMPACT:ht.MAX_NB_BITS))throw new w(K.format("Illegal value %s for layers",c));C=ht.totalBitsInLayer(v,y),O=ht.WORD_SIZE[v];let he=C-C%O;if(D=ht.stuffBits(d,O),D.getSize()+f>he)throw new w("Data to large for user specified layer");if(y&&D.getSize()>O*64)throw new w("Data to large for user specified layer")}else{O=0,D=null;for(let he=0;;he++){if(he>ht.MAX_NB_BITS)throw new w("Data too large for an Aztec code");if(y=he<=3,v=y?he+1:he,C=ht.totalBitsInLayer(v,y),g>C)continue;(D==null||O!==ht.WORD_SIZE[v])&&(O=ht.WORD_SIZE[v],D=ht.stuffBits(d,O));let it=C-C%O;if(!(y&&D.getSize()>O*64)&&D.getSize()+f<=it)break}}let j=ht.generateCheckWords(D,C,O),z=D.getSize()/O,W=ht.generateModeMessage(y,v,z),$=(y?11:14)+v*4,q=new Int32Array($),te;if(y){te=$;for(let he=0;he<q.length;he++)q[he]=he}else{te=$+1+2*A.truncDivision(A.truncDivision($,2)-1,15);let he=A.truncDivision($,2),it=A.truncDivision(te,2);for(let Ye=0;Ye<he;Ye++){let pn=Ye+A.truncDivision(Ye,15);q[he-Ye-1]=it-pn-1,q[he+Ye]=it+pn+1}}let ge=new G(te);for(let he=0,it=0;he<v;he++){let Ye=(v-he)*4+(y?9:12);for(let pn=0;pn<Ye;pn++){let xs=pn*2;for(let gn=0;gn<2;gn++)j.get(it+xs+gn)&&ge.set(q[he*2+gn],q[he*2+pn]),j.get(it+Ye*2+xs+gn)&&ge.set(q[he*2+pn],q[$-1-he*2-gn]),j.get(it+Ye*4+xs+gn)&&ge.set(q[$-1-he*2-gn],q[$-1-he*2-pn]),j.get(it+Ye*6+xs+gn)&&ge.set(q[$-1-he*2-pn],q[he*2+gn])}it+=Ye*8}if(ht.drawModeMessage(ge,y,te,W),y)ht.drawBullsEye(ge,A.truncDivision(te,2),5);else{ht.drawBullsEye(ge,A.truncDivision(te,2),7);for(let he=0,it=0;he<A.truncDivision($,2)-1;he+=15,it+=16)for(let Ye=A.truncDivision(te,2)&1;Ye<te;Ye+=2)ge.set(A.truncDivision(te,2)-it,Ye),ge.set(A.truncDivision(te,2)+it,Ye),ge.set(Ye,A.truncDivision(te,2)-it),ge.set(Ye,A.truncDivision(te,2)+it)}let me=new iy;return me.setCompact(y),me.setSize(te),me.setLayers(v),me.setCodeWords(z),me.setMatrix(ge),me}static drawBullsEye(i,a,c){for(let d=0;d<c;d+=2)for(let f=a-d;f<=a+d;f++)i.set(f,a-d),i.set(f,a+d),i.set(a-d,f),i.set(a+d,f);i.set(a-c,a-c),i.set(a-c+1,a-c),i.set(a-c,a-c+1),i.set(a+c,a-c),i.set(a+c,a-c+1),i.set(a+c,a+c-1)}static generateModeMessage(i,a,c){let d=new M;return i?(d.appendBits(a-1,2),d.appendBits(c-1,6),d=ht.generateCheckWords(d,28,4)):(d.appendBits(a-1,5),d.appendBits(c-1,11),d=ht.generateCheckWords(d,40,4)),d}static drawModeMessage(i,a,c,d){let f=A.truncDivision(c,2);if(a)for(let g=0;g<7;g++){let y=f-3+g;d.get(g)&&i.set(y,f-5),d.get(g+7)&&i.set(f+5,y),d.get(20-g)&&i.set(y,f+5),d.get(27-g)&&i.set(f-5,y)}else for(let g=0;g<10;g++){let y=f-5+g+A.truncDivision(g,5);d.get(g)&&i.set(y,f-7),d.get(g+10)&&i.set(f+7,y),d.get(29-g)&&i.set(y,f+7),d.get(39-g)&&i.set(f-7,y)}}static generateCheckWords(i,a,c){let d=i.getSize()/c,f=new O0(ht.getGF(c)),g=A.truncDivision(a,c),y=ht.bitsToWords(i,c,g);f.encode(y,g-d);let v=a%c,C=new M;C.appendBits(0,v);for(const O of Array.from(y))C.appendBits(O,c);return C}static bitsToWords(i,a,c){let d=new Int32Array(c),f,g;for(f=0,g=i.getSize()/a;f<g;f++){let y=0;for(let v=0;v<a;v++)y|=i.get(f*a+v)?1<<a-v-1:0;d[f]=y}return d}static getGF(i){switch(i){case 4:return Be.AZTEC_PARAM;case 6:return Be.AZTEC_DATA_6;case 8:return Be.AZTEC_DATA_8;case 10:return Be.AZTEC_DATA_10;case 12:return Be.AZTEC_DATA_12;default:throw new w("Unsupported word size "+i)}}static stuffBits(i,a){let c=new M,d=i.getSize(),f=(1<<a)-2;for(let g=0;g<d;g+=a){let y=0;for(let v=0;v<a;v++)(g+v>=d||i.get(g+v))&&(y|=1<<a-1-v);(y&f)===f?(c.appendBits(y&f,a),g--):y&f?c.appendBits(y,a):(c.appendBits(y|1,a),g--)}return c}static totalBitsInLayer(i,a){return((a?88:112)+16*i)*i}}ht.DEFAULT_EC_PERCENT=33,ht.DEFAULT_AZTEC_LAYERS=0,ht.MAX_NB_BITS=32,ht.MAX_NB_BITS_COMPACT=4,ht.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Id{encode(i,a,c,d){return this.encodeWithHints(i,a,c,d,null)}encodeWithHints(i,a,c,d,f){let g=k0.ISO_8859_1,y=ht.DEFAULT_EC_PERCENT,v=ht.DEFAULT_AZTEC_LAYERS;return f!=null&&(f.has(br.CHARACTER_SET)&&(g=sy.forName(f.get(br.CHARACTER_SET).toString())),f.has(br.ERROR_CORRECTION)&&(y=A.parseInt(f.get(br.ERROR_CORRECTION).toString())),f.has(br.AZTEC_LAYERS)&&(v=A.parseInt(f.get(br.AZTEC_LAYERS).toString()))),Id.encodeLayers(i,a,c,d,g,y,v)}static encodeLayers(i,a,c,d,f,g,y){if(a!==ve.AZTEC)throw new w("Can only encode AZTEC, but got "+a);let v=ht.encode(K.getBytes(i,f),g,y);return Id.renderResult(v,c,d)}static renderResult(i,a,c){let d=i.getMatrix();if(d==null)throw new yr;let f=d.getWidth(),g=d.getHeight(),y=Math.max(a,f),v=Math.max(c,g),C=Math.min(y/f,v/g),O=(y-f*C)/2,D=(v-g*C)/2,j=new G(y,v);for(let z=0,W=D;z<g;z++,W+=C)for(let $=0,q=O;$<f;$++,q+=C)d.get($,z)&&j.setRegion(q,W,C,C);return j}}r.AbstractExpandedDecoder=_0,r.ArgumentException=x,r.ArithmeticException=Je,r.AztecCode=iy,r.AztecCodeReader=Xa,r.AztecCodeWriter=Id,r.AztecDecoder=Ie,r.AztecDetector=Yo,r.AztecDetectorResult=tt,r.AztecEncoder=ht,r.AztecHighLevelEncoder=Fc,r.AztecPoint=kr,r.BarcodeFormat=ve,r.Binarizer=T,r.BinaryBitmap=_,r.BitArray=M,r.BitMatrix=G,r.BitSource=S0,r.BrowserAztecCodeReader=vd,r.BrowserBarcodeReader=fN,r.BrowserCodeReader=ae,r.BrowserDatamatrixCodeReader=gN,r.BrowserMultiFormatReader=AN,r.BrowserPDF417Reader=TN,r.BrowserQRCodeReader=NN,r.BrowserQRCodeSvgWriter=Zo,r.CharacterSetECI=U,r.ChecksumException=b,r.Code128Reader=xe,r.Code39Reader=Jt,r.DataMatrixDecodedBitStreamParser=Bi,r.DataMatrixReader=Fi,r.DecodeHintType=B,r.DecoderResult=ut,r.DefaultGridSampler=di,r.DetectorResult=Jr,r.EAN13Reader=gs,r.EncodeHintType=br,r.Exception=h,r.FormatException=L,r.GenericGF=Be,r.GenericGFPoly=je,r.GlobalHistogramBinarizer=re,r.GridSampler=Go,r.GridSamplerInstance=zs,r.HTMLCanvasElementLuminanceSource=oe,r.HybridBinarizer=X,r.ITFReader=ct,r.IllegalArgumentException=w,r.IllegalStateException=yr,r.InvertedLuminanceSource=Z,r.LuminanceSource=Y,r.MathUtils=be,r.MultiFormatOneDReader=Za,r.MultiFormatReader=ny,r.MultiFormatWriter=RN,r.NotFoundException=H,r.OneDReader=Bt,r.PDF417DecodedBitStreamParser=ee,r.PDF417DecoderErrorCorrection=Qx,r.PDF417Reader=Dr,r.PDF417ResultMetadata=Jx,r.PerspectiveTransform=St,r.PlanarYUVLuminanceSource=Ws,r.QRCodeByteMatrix=Td,r.QRCodeDataMask=Kn,r.QRCodeDecodedBitStreamParser=Wt,r.QRCodeDecoderErrorCorrectionLevel=Rt,r.QRCodeDecoderFormatInformation=Hr,r.QRCodeEncoder=kt,r.QRCodeEncoderQRCode=Qo,r.QRCodeMaskUtil=tr,r.QRCodeMatrixUtil=Le,r.QRCodeMode=De,r.QRCodeReader=Ui,r.QRCodeVersion=Re,r.QRCodeWriter=el,r.RGBLuminanceSource=M0,r.RSS14Reader=er,r.RSSExpandedReader=le,r.ReaderException=Ad,r.ReedSolomonDecoder=Ar,r.ReedSolomonEncoder=O0,r.ReedSolomonException=cr,r.Result=fe,r.ResultMetadataType=Me,r.ResultPoint=we,r.StringUtils=K,r.UnsupportedOperationException=J,r.VideoInputDevice=Ee,r.WhiteRectangleDetector=Zt,r.WriterException=At,r.ZXingArrays=S,r.ZXingCharset=sy,r.ZXingInteger=A,r.ZXingStandardCharsets=k0,r.ZXingStringBuilder=se,r.ZXingStringEncoding=ne,r.ZXingSystem=E,r.createAbstractExpandedDecoder=qx,Object.defineProperty(r,"__esModule",{value:!0})})})(Lg,Lg.exports);var jt=Lg.exports;const y9=Fg(jt),w9=Bg({__proto__:null,default:y9},[jt]);var f2=function(){function t(e,r,n){if(this.formatMap=new Map([[Ae.QR_CODE,jt.BarcodeFormat.QR_CODE],[Ae.AZTEC,jt.BarcodeFormat.AZTEC],[Ae.CODABAR,jt.BarcodeFormat.CODABAR],[Ae.CODE_39,jt.BarcodeFormat.CODE_39],[Ae.CODE_93,jt.BarcodeFormat.CODE_93],[Ae.CODE_128,jt.BarcodeFormat.CODE_128],[Ae.DATA_MATRIX,jt.BarcodeFormat.DATA_MATRIX],[Ae.MAXICODE,jt.BarcodeFormat.MAXICODE],[Ae.ITF,jt.BarcodeFormat.ITF],[Ae.EAN_13,jt.BarcodeFormat.EAN_13],[Ae.EAN_8,jt.BarcodeFormat.EAN_8],[Ae.PDF_417,jt.BarcodeFormat.PDF_417],[Ae.RSS_14,jt.BarcodeFormat.RSS_14],[Ae.RSS_EXPANDED,jt.BarcodeFormat.RSS_EXPANDED],[Ae.UPC_A,jt.BarcodeFormat.UPC_A],[Ae.UPC_E,jt.BarcodeFormat.UPC_E],[Ae.UPC_EAN_EXTENSION,jt.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!w9)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=r,this.logger=n;var s=this.createZXingFormats(e),o=new Map;o.set(jt.DecodeHintType.POSSIBLE_FORMATS,s),o.set(jt.DecodeHintType.TRY_HARDER,!1),this.hints=o}return t.prototype.decodeAsync=function(e){var r=this;return new Promise(function(n,s){try{n(r.decode(e))}catch(o){s(o)}})},t.prototype.decode=function(e){var r=new jt.MultiFormatReader(this.verbose,this.hints),n=new jt.HTMLCanvasElementLuminanceSource(e),s=new jt.BinaryBitmap(new jt.HybridBinarizer(n)),o=r.decode(s);return{text:o.text,format:K3.create(this.toHtml5QrcodeSupportedFormats(o.format)),debugData:this.createDebugData()}},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,s){e.set(r,n)}),e},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createZXingFormats=function(e){for(var r=[],n=0,s=e;n<s.length;n++){var o=s[n];this.formatMap.has(o)?r.push(this.formatMap.get(o)):this.logger.logError("".concat(o," is not supported by")+"ZXingHtml5QrcodeShim")}return r},t.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},t}(),v9=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function p(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,p)}h((n=n.apply(t,e||[])).next())})},_9=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},p2=function(){function t(e,r,n){if(this.formatMap=new Map([[Ae.QR_CODE,"qr_code"],[Ae.AZTEC,"aztec"],[Ae.CODABAR,"codabar"],[Ae.CODE_39,"code_39"],[Ae.CODE_93,"code_93"],[Ae.CODE_128,"code_128"],[Ae.DATA_MATRIX,"data_matrix"],[Ae.ITF,"itf"],[Ae.EAN_13,"ean_13"],[Ae.EAN_8,"ean_8"],[Ae.PDF_417,"pdf417"],[Ae.UPC_A,"upc_a"],[Ae.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!t.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=r,this.logger=n;var s=this.createBarcodeDetectorFormats(e);if(this.detector=new BarcodeDetector(s),!this.detector)throw"BarcodeDetector detector not supported"}return t.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var e=new BarcodeDetector({formats:["qr_code"]});return typeof e<"u"},t.prototype.decodeAsync=function(e){return v9(this,void 0,void 0,function(){var r,n;return _9(this,function(s){switch(s.label){case 0:return[4,this.detector.detect(e)];case 1:if(r=s.sent(),!r||r.length===0)throw"No barcode or QR code detected.";return n=this.selectLargestBarcode(r),[2,{text:n.rawValue,format:K3.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},t.prototype.selectLargestBarcode=function(e){for(var r=null,n=0,s=0,o=e;s<o.length;s++){var l=o[s],u=l.boundingBox.width*l.boundingBox.height;u>n&&(n=u,r=l)}if(!r)throw"No largest barcode found";return r},t.prototype.createBarcodeDetectorFormats=function(e){for(var r=[],n=0,s=e;n<s.length;n++){var o=s[n];this.formatMap.has(o)?r.push(this.formatMap.get(o)):this.logger.warn("".concat(o," is not supported by")+"BarcodeDetectorDelegate")}return{formats:r}},t.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw"reverseFormatMap doesn't have ".concat(e);return this.reverseFormatMap.get(e)},t.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(r,n,s){e.set(r,n)}),e},t.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},t}(),g2=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function p(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,p)}h((n=n.apply(t,e||[])).next())})},m2=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},b9=function(){function t(e,r,n,s){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,r&&p2.isSupported()?(this.primaryDecoder=new p2(e,n,s),this.secondaryDecoder=new f2(e,n,s)):this.primaryDecoder=new f2(e,n,s)}return t.prototype.decodeAsync=function(e){return g2(this,void 0,void 0,function(){var r;return m2(this,function(n){switch(n.label){case 0:r=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(r),[7];case 4:return[2]}})})},t.prototype.decodeRobustlyAsync=function(e){return g2(this,void 0,void 0,function(){var r,n;return m2(this,function(s){switch(s.label){case 0:r=performance.now(),s.label=1;case 1:return s.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,s.sent()];case 3:if(n=s.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(r),[7];case 5:return[2]}})})},t.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},t.prototype.possiblyLogPerformance=function(e){if(this.verbose){var r=performance.now()-e;this.executionResults.push(r),this.executions++,this.possiblyFlushPerformanceReport()}},t.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,r=0,n=this.executionResults;r<n.length;r++){var s=n[r];e+=s}var o=e/this.executionResults.length;console.log("".concat(o," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},t}(),Gx=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),Tf=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function p(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,p)}h((n=n.apply(t,e||[])).next())})},Nf=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},eN=function(){function t(e,r){this.name=e,this.track=r}return t.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},t.prototype.apply=function(e){var r={};r[this.name]=e;var n={advanced:[r]};return this.track.applyConstraints(n)},t.prototype.value=function(){var e=this.track.getSettings();if(this.name in e){var r=e[this.name];return r}return null},t}(),E9=function(t){Gx(e,t);function e(r,n){return t.call(this,r,n)||this}return e.prototype.min=function(){return this.getCapabilities().min},e.prototype.max=function(){return this.getCapabilities().max},e.prototype.step=function(){return this.getCapabilities().step},e.prototype.apply=function(r){var n={};n[this.name]=r;var s={advanced:[n]};return this.track.applyConstraints(s)},e.prototype.getCapabilities=function(){this.failIfNotSupported();var r=this.track.getCapabilities(),n=r[this.name];return{min:n.min,max:n.max,step:n.step}},e.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},e}(eN),C9=function(t){Gx(e,t);function e(r){return t.call(this,"zoom",r)||this}return e}(E9),S9=function(t){Gx(e,t);function e(r){return t.call(this,"torch",r)||this}return e}(eN),A9=function(){function t(e){this.track=e}return t.prototype.zoomFeature=function(){return new C9(this.track)},t.prototype.torchFeature=function(){return new S9(this.track)},t}(),T9=function(){function t(e,r,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=r,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return t.prototype.createVideoElement=function(e){var r=document.createElement("video");return r.style.width="".concat(e,"px"),r.style.display="block",r.muted=!0,r.setAttribute("muted","true"),r.playsInline=!0,r},t.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var r=function(){var n=e.surface.clientWidth,s=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,s),e.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.srcObject=this.mediaStream,this.surface.play()},t.create=function(e,r,n,s){return Tf(this,void 0,void 0,function(){var o,l;return Nf(this,function(u){switch(u.label){case 0:return o=new t(e,r,s),n.aspectRatio?(l={aspectRatio:n.aspectRatio},[4,o.getFirstTrackOrFail().applyConstraints(l)]):[3,2];case 1:u.sent(),u.label=2;case 2:return o.setupSurface(),[2,o]}})})},t.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},t.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},t.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},t.prototype.resume=function(e){this.failIfClosed();var r=this,n=function(){setTimeout(e,200),r.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.play()},t.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},t.prototype.getSurface=function(){return this.failIfClosed(),this.surface},t.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},t.prototype.applyVideoConstraints=function(e){return Tf(this,void 0,void 0,function(){return Nf(this,function(r){if("aspectRatio"in e)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},t.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(r,n){var s=e.mediaStream.getVideoTracks(),o=s.length,l=0;e.mediaStream.getVideoTracks().forEach(function(u){e.mediaStream.removeTrack(u),u.stop(),++l,l>=o&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),r())})})},t.prototype.getCapabilities=function(){return new A9(this.getFirstTrackOrFail())},t}(),N9=function(){function t(e){this.mediaStream=e}return t.prototype.render=function(e,r,n){return Tf(this,void 0,void 0,function(){return Nf(this,function(s){return[2,T9.create(e,this.mediaStream,r,n)]})})},t.create=function(e){return Tf(this,void 0,void 0,function(){var r,n;return Nf(this,function(s){switch(s.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return r={audio:!1,video:e},[4,navigator.mediaDevices.getUserMedia(r)];case 1:return n=s.sent(),[2,new t(n)]}})})},t}(),x2=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function p(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,p)}h((n=n.apply(t,e||[])).next())})},y2=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},I9=function(){function t(){}return t.failIfNotSupported=function(){return x2(this,void 0,void 0,function(){return y2(this,function(e){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new t]})})},t.prototype.create=function(e){return x2(this,void 0,void 0,function(){return y2(this,function(r){return[2,N9.create(e)]})})},t}(),R9=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function p(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,p)}h((n=n.apply(t,e||[])).next())})},O9=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},M9=function(){function t(){}return t.retrieve=function(){if(navigator.mediaDevices)return t.getCamerasFromMediaDevices();var e=MediaStreamTrack;return MediaStreamTrack&&e.getSources?t.getCamerasFromMediaStreamTrack():t.rejectWithError()},t.rejectWithError=function(){var e=Ol.unableToQuerySupportedDevices();return t.isHttpsOrLocalhost()||(e=Ol.insecureContextCameraQueryError()),Promise.reject(e)},t.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var e=location.host.split(":")[0];return e==="127.0.0.1"||e==="localhost"},t.getCamerasFromMediaDevices=function(){return R9(this,void 0,void 0,function(){var e,r,n,s,o,l,u;return O9(this,function(p){switch(p.label){case 0:return e=function(h){for(var x=h.getVideoTracks(),w=0,_=x;w<_.length;w++){var b=_[w];b.enabled=!1,b.stop(),h.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return r=p.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=p.sent(),s=[],o=0,l=n;o<l.length;o++)u=l[o],u.kind==="videoinput"&&s.push({id:u.deviceId,label:u.label});return e(r),[2,s]}})})},t.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,r){var n=function(o){for(var l=[],u=0,p=o;u<p.length;u++){var h=p[u];h.kind==="video"&&l.push({id:h.id,label:h.label})}e(l)},s=MediaStreamTrack;s.getSources(n)})},t}(),sr;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.NOT_STARTED=1]="NOT_STARTED",t[t.SCANNING=2]="SCANNING",t[t.PAUSED=3]="PAUSED"})(sr||(sr={}));var k9=function(){function t(){this.state=sr.NOT_STARTED,this.onGoingTransactionNewState=sr.UNKNOWN}return t.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},t.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},t.prototype.execute=function(){if(this.onGoingTransactionNewState===sr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=sr.UNKNOWN,this.directTransition(e)},t.prototype.cancel=function(){if(this.onGoingTransactionNewState===sr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=sr.UNKNOWN},t.prototype.getState=function(){return this.state},t.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==sr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},t.prototype.validateTransition=function(e){switch(this.state){case sr.UNKNOWN:throw"Transition from unknown is not allowed";case sr.NOT_STARTED:this.failIfNewStateIs(e,[sr.PAUSED]);break;case sr.SCANNING:break;case sr.PAUSED:break}},t.prototype.failIfNewStateIs=function(e,r){for(var n=0,s=r;n<s.length;n++){var o=s[n];if(e===o)throw"Cannot transition from ".concat(this.state," to ").concat(e)}},t}(),P9=function(){function t(e){this.stateManager=e}return t.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},t.prototype.directTransition=function(e){this.stateManager.directTransition(e)},t.prototype.getState=function(){return this.stateManager.getState()},t.prototype.canScanFile=function(){return this.stateManager.getState()===sr.NOT_STARTED},t.prototype.isScanning=function(){return this.stateManager.getState()!==sr.NOT_STARTED},t.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===sr.SCANNING},t.prototype.isPaused=function(){return this.stateManager.getState()===sr.PAUSED},t}(),D9=function(){function t(){}return t.create=function(){return new P9(new k9)},t}(),j9=function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(n[o]=s[o])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function n(){this.constructor=e}e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}}(),In=function(t){j9(e,t);function e(){return t!==null&&t.apply(this,arguments)||this}return e.DEFAULT_WIDTH=300,e.DEFAULT_WIDTH_OFFSET=2,e.FILE_SCAN_MIN_HEIGHT=300,e.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,e.MIN_QR_BOX_SIZE=50,e.SHADED_LEFT=1,e.SHADED_RIGHT=2,e.SHADED_TOP=3,e.SHADED_BOTTOM=4,e.SHADED_REGION_ELEMENT_ID="qr-shaded-region",e.VERBOSE=!1,e.BORDER_SHADER_DEFAULT_COLOR="#ffffff",e.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",e}(Rs),L9=function(){function t(e,r){this.logger=r,this.fps=In.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=In.DEFAULT_DISABLE_FLIP}return t.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?J3.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},t.prototype.isShadedBoxEnabled=function(){return!qs(this.qrbox)},t.create=function(e,r){return new t(e,r)},t}(),w2=function(){function t(e,r){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.elementId=e,this.verbose=!1;var n;typeof r=="boolean"?this.verbose=r===!0:r&&(n=r,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new Z3(this.verbose),this.qrcode=new b9(this.getSupportedFormats(r),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=D9.create()}return t.prototype.start=function(e,r,n,s){var o=this;if(!e)throw"cameraIdOrConfig is required";if(!n||typeof n!="function")throw"qrCodeSuccessCallback is required and should be a function.";var l;s?l=s:l=this.verbose?this.logger.log:function(){};var u=L9.create(r,this.logger);this.clearElement();var p=!1;u.videoConstraints&&(u.isMediaStreamConstraintsValid()?p=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var h=p,x=document.getElementById(this.elementId);x.clientWidth?x.clientWidth:In.DEFAULT_WIDTH,x.style.position="relative",this.shouldScan=!0,this.element=x;var w=this,_=this.stateManagerProxy.startTransition(sr.SCANNING);return new Promise(function(b,T){var E=h?u.videoConstraints:w.createVideoConstraints(e);if(!E){_.cancel(),T("videoConstraints should be defined");return}var N={};(!h||u.aspectRatio)&&(N.aspectRatio=u.aspectRatio);var R={onRenderSurfaceReady:function(S,A){w.setupUi(S,A,u),w.isScanning=!0,w.foreverScan(u,n,l)}};I9.failIfNotSupported().then(function(S){S.create(E).then(function(A){return A.render(o.element,N,R).then(function(M){w.renderedCamera=M,_.execute(),b(null)}).catch(function(M){_.cancel(),T(M)})}).catch(function(A){_.cancel(),T(Ol.errorGettingUserMedia(A))})}).catch(function(S){_.cancel(),T(Ol.cameraStreamingNotSupported())})})},t.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(sr.PAUSED),this.showPausedState(),(qs(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},t.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var e=this,r=function(){e.stateManagerProxy.directTransition(sr.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){r();return}this.renderedCamera.resume(function(){r()})},t.prototype.getState=function(){return this.stateManagerProxy.getState()},t.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var r=this.stateManagerProxy.startTransition(sr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var o=document.getElementById(In.SHADED_REGION_ELEMENT_ID);o&&e.element.removeChild(o)}},s=this;return this.renderedCamera.close().then(function(){return s.renderedCamera=null,s.element&&(s.element.removeChild(s.canvasElement),s.canvasElement=null),n(),s.qrRegion&&(s.qrRegion=null),s.context&&(s.context=null),r.execute(),s.hidePausedState(),s.isScanning=!1,Promise.resolve()})},t.prototype.scanFile=function(e,r){return this.scanFileV2(e,r).then(function(n){return n.decodedText})},t.prototype.scanFileV2=function(e,r){var n=this;if(!e||!(e instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(qs(r)&&(r=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(s,o){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var l=new Image;l.onload=function(){var u=l.width,p=l.height,h=document.getElementById(n.elementId),x=h.clientWidth?h.clientWidth:In.DEFAULT_WIDTH,w=Math.max(h.clientHeight?h.clientHeight:p,In.FILE_SCAN_MIN_HEIGHT),_=n.computeCanvasDrawConfig(u,p,x,w);if(r){var b=n.createCanvasElement(x,w,"qr-canvas-visible");b.style.display="inline-block",h.appendChild(b);var T=b.getContext("2d");if(!T)throw"Unable to get 2d context from canvas";T.canvas.width=x,T.canvas.height=w,T.drawImage(l,0,0,u,p,_.x,_.y,_.width,_.height)}var E=In.FILE_SCAN_HIDDEN_CANVAS_PADDING,N=Math.max(l.width,_.width),R=Math.max(l.height,_.height),S=N+2*E,A=R+2*E,M=n.createCanvasElement(S,A);h.appendChild(M);var k=M.getContext("2d");if(!k)throw"Unable to get 2d context from canvas";k.canvas.width=S,k.canvas.height=A,k.drawImage(l,0,0,u,p,E,E,N,R);try{n.qrcode.decodeRobustlyAsync(M).then(function(B){s(d2.createFromQrcodeResult(B))}).catch(o)}catch(B){o("QR code parse error, error = ".concat(B))}},l.onerror=o,l.onabort=o,l.onstalled=o,l.onsuspend=o,l.src=URL.createObjectURL(e)})},t.prototype.clear=function(){this.clearElement()},t.getCameras=function(){return M9.retrieve()},t.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},t.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},t.prototype.applyVideoConstraints=function(e){if(e){if(!J3.isMediaStreamConstraintsValid(e,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(e)},t.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},t.prototype.getSupportedFormats=function(e){var r=[Ae.QR_CODE,Ae.AZTEC,Ae.CODABAR,Ae.CODE_39,Ae.CODE_93,Ae.CODE_128,Ae.DATA_MATRIX,Ae.MAXICODE,Ae.ITF,Ae.EAN_13,Ae.EAN_8,Ae.PDF_417,Ae.RSS_14,Ae.RSS_EXPANDED,Ae.UPC_A,Ae.UPC_E,Ae.UPC_EAN_EXTENSION];if(!e||typeof e=="boolean"||!e.formatsToSupport)return r;if(!Array.isArray(e.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(e.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var n=[],s=0,o=e.formatsToSupport;s<o.length;s++){var l=o[s];m9(l)?n.push(l):this.logger.warn("Invalid format: ".concat(l," passed in config, ignoring."))}if(n.length===0)throw"None of formatsToSupport match supported values.";return n},t.prototype.getUseBarCodeDetectorIfSupported=function(e){if(qs(e))return!0;if(!qs(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(qs(e.experimentalFeatures))return!0;var r=e.experimentalFeatures;return qs(r.useBarCodeDetectorIfSupported)?!0:r.useBarCodeDetectorIfSupported!==!1},t.prototype.validateQrboxSize=function(e,r,n){var s=this,o=n.qrbox;this.validateQrboxConfig(o);var l=this.toQrdimensions(e,r,o),u=function(h){if(h<In.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(In.MIN_QR_BOX_SIZE,"px.")},p=function(h){return h>e&&(s.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),h=e),h};u(l.width),u(l.height),l.width=p(l.width)},t.prototype.validateQrboxConfig=function(e){if(typeof e!="number"&&typeof e!="function"&&(e.width===void 0||e.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},t.prototype.toQrdimensions=function(e,r,n){if(typeof n=="number")return{width:n,height:n};if(typeof n=="function")try{return n(e,r)}catch(s){throw new Error("qrbox config was passed as a function but it failed with unknown error"+s)}return n},t.prototype.setupUi=function(e,r,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,r,n);var s=qs(n.qrbox)?{width:e,height:r}:n.qrbox;this.validateQrboxConfig(s);var o=this.toQrdimensions(e,r,s);o.height>r&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var l=n.isShadedBoxEnabled()&&o.height<=r,u={x:0,y:0,width:e,height:r},p=l?this.getShadedRegionBounds(e,r,o):u,h=this.createCanvasElement(p.width,p.height),x={willReadFrequently:!0},w=h.getContext("2d",x);w.canvas.width=p.width,w.canvas.height=p.height,this.element.append(h),l&&this.possiblyInsertShadingElement(this.element,e,r,o),this.createScannerPausedUiElement(this.element),this.qrRegion=p,this.context=w,this.canvasElement=h},t.prototype.createScannerPausedUiElement=function(e){var r=document.createElement("div");r.innerText=Ol.scannerPaused(),r.style.display="none",r.style.position="absolute",r.style.top="0px",r.style.zIndex="1",r.style.background="rgba(9, 9, 9, 0.46)",r.style.color="#FFECEC",r.style.textAlign="center",r.style.width="100%",e.appendChild(r),this.scannerPausedUiElement=r},t.prototype.scanContext=function(e,r){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(s){return e(s.text,d2.createFromQrcodeResult(s)),n.possiblyUpdateShaders(!0),!0}).catch(function(s){n.possiblyUpdateShaders(!1);var o=Ol.codeParseError(s);return r(o,Q3.createFrom(o)),!1})},t.prototype.foreverScan=function(e,r,n){var s=this;if(this.shouldScan&&this.renderedCamera){var o=this.renderedCamera.getSurface(),l=o.videoWidth/o.clientWidth,u=o.videoHeight/o.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var p=this.qrRegion.width*l,h=this.qrRegion.height*u,x=this.qrRegion.x*l,w=this.qrRegion.y*u;this.context.drawImage(o,x,w,p,h,0,0,this.qrRegion.width,this.qrRegion.height);var _=function(){s.foreverScanTimeout=setTimeout(function(){s.foreverScan(e,r,n)},s.getTimeoutFps(e.fps))};this.scanContext(r,n).then(function(b){!b&&e.disableFlip!==!0?(s.context.translate(s.context.canvas.width,0),s.context.scale(-1,1),s.scanContext(r,n).finally(function(){_()})):_()}).catch(function(b){s.logger.logError("Error happend while scanning context",b),_()})}},t.prototype.createVideoConstraints=function(e){if(typeof e=="string")return{deviceId:{exact:e}};if(typeof e=="object"){var r="facingMode",n="deviceId",s={user:!0,environment:!0},o="exact",l=function(T){if(T in s)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(T,"'")},u=Object.keys(e);if(u.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(u.length," keys");var p=Object.keys(e)[0];if(p!==r&&p!==n)throw"Only '".concat(r,"' and '").concat(n,"' ")+" are supported for 'cameraIdOrConfig'";if(p===r){var h=e.facingMode;if(typeof h=="string"){if(l(h))return{facingMode:h}}else if(typeof h=="object")if(o in h){if(l(h["".concat(o)]))return{facingMode:{exact:h["".concat(o)]}}}else throw"'facingMode' should be string or object with"+" ".concat(o," as key.");else{var x=typeof h;throw"Invalid type of 'facingMode' = ".concat(x)}}else{var w=e.deviceId;if(typeof w=="string")return{deviceId:w};if(typeof w=="object"){if(o in w)return{deviceId:{exact:w["".concat(o)]}};throw"'deviceId' should be string or object with"+" ".concat(o," as key.")}else{var _=typeof w;throw"Invalid type of 'deviceId' = ".concat(_)}}}var b=typeof e;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},t.prototype.computeCanvasDrawConfig=function(e,r,n,s){if(e<=n&&r<=s){var o=(n-e)/2,l=(s-r)/2;return{x:o,y:l,width:e,height:r}}else{var u=e,p=r;return e>n&&(r=n/e*r,e=n),r>s&&(e=s/r*e,r=s),this.logger.log("Image downsampled from "+"".concat(u,"X").concat(p)+" to ".concat(e,"X").concat(r,".")),this.computeCanvasDrawConfig(e,r,n,s)}},t.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var e=document.getElementById(this.elementId);e&&(e.innerHTML="")},t.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(r){r.style.backgroundColor=e?In.BORDER_SHADER_MATCH_COLOR:In.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},t.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},t.prototype.createCanvasElement=function(e,r,n){var s=e,o=r,l=document.createElement("canvas");return l.style.width="".concat(s,"px"),l.style.height="".concat(o,"px"),l.style.display="none",l.id=qs(n)?"qr-canvas":n,l},t.prototype.getShadedRegionBounds=function(e,r,n){if(n.width>e||n.height>r)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(e-n.width)/2,y:(r-n.height)/2,width:n.width,height:n.height}},t.prototype.possiblyInsertShadingElement=function(e,r,n,s){if(!(r-s.width<1||n-s.height<1)){var o=document.createElement("div");o.style.position="absolute";var l=(r-s.width)/2,u=(n-s.height)/2;if(o.style.borderLeft="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderRight="".concat(l,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderTop="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),o.style.borderBottom="".concat(u,"px solid rgba(0, 0, 0, 0.48)"),o.style.boxSizing="border-box",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.id="".concat(In.SHADED_REGION_ELEMENT_ID),r-s.width<11||n-s.height<11)this.hasBorderShaders=!1;else{var p=5,h=40;this.insertShaderBorders(o,h,p,-p,null,0,!0),this.insertShaderBorders(o,h,p,-p,null,0,!1),this.insertShaderBorders(o,h,p,null,-p,0,!0),this.insertShaderBorders(o,h,p,null,-p,0,!1),this.insertShaderBorders(o,p,h+p,-p,null,-p,!0),this.insertShaderBorders(o,p,h+p,null,-p,-p,!0),this.insertShaderBorders(o,p,h+p,-p,null,-p,!1),this.insertShaderBorders(o,p,h+p,null,-p,-p,!1),this.hasBorderShaders=!0}e.append(o)}},t.prototype.insertShaderBorders=function(e,r,n,s,o,l,u){var p=document.createElement("div");p.style.position="absolute",p.style.backgroundColor=In.BORDER_SHADER_DEFAULT_COLOR,p.style.width="".concat(r,"px"),p.style.height="".concat(n,"px"),s!==null&&(p.style.top="".concat(s,"px")),o!==null&&(p.style.bottom="".concat(o,"px")),u?p.style.left="".concat(l,"px"):p.style.right="".concat(l,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(p),e.appendChild(p)},t.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},t.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},t.prototype.getTimeoutFps=function(e){return 1e3/e},t}(),Yx="data:image/svg+xml;base64,",B9=Yx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==",F9=Yx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=",v2=Yx+"PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+",U9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=",_2=function(){function t(){}return t.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},t}(),z9=function(){function t(){this.data=_2.createDefault();var e=localStorage.getItem(t.LOCAL_STORAGE_KEY);e?this.data=JSON.parse(e):this.reset()}return t.prototype.hasCameraPermissions=function(){return this.data.hasPermission},t.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},t.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},t.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},t.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},t.prototype.reset=function(){this.data=_2.createDefault(),this.flush()},t.prototype.flush=function(){localStorage.setItem(t.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},t.LOCAL_STORAGE_KEY="HTML5_QRCODE_DATA",t}(),V9=function(){function t(){this.infoDiv=document.createElement("div")}return t.prototype.renderInto=function(e){this.infoDiv.style.position="absolute",this.infoDiv.style.top="10px",this.infoDiv.style.right="10px",this.infoDiv.style.zIndex="2",this.infoDiv.style.display="none",this.infoDiv.style.padding="5pt",this.infoDiv.style.border="1px solid #171717",this.infoDiv.style.fontSize="10pt",this.infoDiv.style.background="rgb(0 0 0 / 69%)",this.infoDiv.style.borderRadius="5px",this.infoDiv.style.textAlign="center",this.infoDiv.style.fontWeight="400",this.infoDiv.style.color="white",this.infoDiv.innerText=h2.poweredBy();var r=document.createElement("a");r.innerText="ScanApp",r.href="https://scanapp.org",r.target="new",r.style.color="white",this.infoDiv.appendChild(r);var n=document.createElement("br"),s=document.createElement("br");this.infoDiv.appendChild(n),this.infoDiv.appendChild(s);var o=document.createElement("a");o.innerText=h2.reportIssues(),o.href="https://github.com/mebjas/html5-qrcode/issues",o.target="new",o.style.color="white",this.infoDiv.appendChild(o),e.appendChild(this.infoDiv)},t.prototype.show=function(){this.infoDiv.style.display="block"},t.prototype.hide=function(){this.infoDiv.style.display="none"},t}(),H9=function(){function t(e,r){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=r,this.infoIcon=document.createElement("img")}return t.prototype.renderInto=function(e){var r=this;this.infoIcon.alt="Info icon",this.infoIcon.src=v2,this.infoIcon.style.position="absolute",this.infoIcon.style.top="4px",this.infoIcon.style.right="4px",this.infoIcon.style.opacity="0.6",this.infoIcon.style.cursor="pointer",this.infoIcon.style.zIndex="2",this.infoIcon.style.width="16px",this.infoIcon.style.height="16px",this.infoIcon.onmouseover=function(n){return r.onHoverIn()},this.infoIcon.onmouseout=function(n){return r.onHoverOut()},this.infoIcon.onclick=function(n){return r.onClick()},e.appendChild(this.infoIcon)},t.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="1")},t.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity="0.6")},t.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=U9,this.infoIcon.style.opacity="1"):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=v2,this.infoIcon.style.opacity="0.6")},t}(),W9=function(){function t(){var e=this;this.infoDiv=new V9,this.infoIcon=new H9(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return t.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},t}(),$9=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function p(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,p)}h((n=n.apply(t,e||[])).next())})},G9=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},b2=function(){function t(){}return t.hasPermissions=function(){return $9(this,void 0,void 0,function(){var e,r,n,s;return G9(this,function(o){switch(o.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=o.sent(),r=0,n=e;r<n.length;r++)if(s=n[r],s.kind==="videoinput"&&s.label)return[2,!0];return[2,!1]}})})},t}(),Yi=function(){function t(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return t.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},t.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},t.prototype.isCameraScanRequired=function(){for(var e=0,r=this.supportedScanTypes;e<r.length;e++){var n=r[e];if(t.isCameraScanType(n))return!0}return!1},t.isCameraScanType=function(e){return e===Po.SCAN_TYPE_CAMERA},t.isFileScanType=function(e){return e===Po.SCAN_TYPE_FILE},t.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return Rs.DEFAULT_SUPPORTED_SCAN_TYPE;var r=Rs.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>r)throw"Max ".concat(r," values expected for ")+"supportedScanTypes";for(var n=0,s=e;n<s.length;n++){var o=s[n];if(!Rs.DEFAULT_SUPPORTED_SCAN_TYPE.includes(o))throw"Unsupported scan type ".concat(o)}return e},t}(),Ln=function(){function t(){}return t.ALL_ELEMENT_CLASS="html5-qrcode-element",t.CAMERA_PERMISSION_BUTTON_ID="html5-qrcode-button-camera-permission",t.CAMERA_START_BUTTON_ID="html5-qrcode-button-camera-start",t.CAMERA_STOP_BUTTON_ID="html5-qrcode-button-camera-stop",t.TORCH_BUTTON_ID="html5-qrcode-button-torch",t.CAMERA_SELECTION_SELECT_ID="html5-qrcode-select-camera",t.FILE_SELECTION_BUTTON_ID="html5-qrcode-button-file-selection",t.ZOOM_SLIDER_ID="html5-qrcode-input-range-zoom",t.SCAN_TYPE_CHANGE_ANCHOR_ID="html5-qrcode-anchor-scan-type-change",t.TORCH_BUTTON_CLASS_TORCH_ON="html5-qrcode-button-torch-on",t.TORCH_BUTTON_CLASS_TORCH_OFF="html5-qrcode-button-torch-off",t}(),Ai=function(){function t(){}return t.createElement=function(e,r){var n=document.createElement(e);return n.id=r,n.classList.add(Ln.ALL_ELEMENT_CLASS),e==="button"&&n.setAttribute("type","button"),n},t}(),tN=function(t,e,r,n){function s(o){return o instanceof r?o:new r(function(l){l(o)})}return new(r||(r=Promise))(function(o,l){function u(x){try{h(n.next(x))}catch(w){l(w)}}function p(x){try{h(n.throw(x))}catch(w){l(w)}}function h(x){x.done?o(x.value):s(x.value).then(u,p)}h((n=n.apply(t,e||[])).next())})},rN=function(t,e){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,s,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(h){return function(x){return p([h,x])}}function p(h){if(n)throw new TypeError("Generator is already executing.");for(;l&&(l=0,h[0]&&(r=0)),r;)try{if(n=1,s&&(o=h[0]&2?s.return:h[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,h[1])).done)return o;switch(s=0,o&&(h=[h[0]&2,o.value]),h[0]){case 0:case 1:o=h;break;case 4:return r.label++,{value:h[1],done:!1};case 5:r.label++,s=h[1],h=[0];continue;case 7:h=r.ops.pop(),r.trys.pop();continue;default:if(o=r.trys,!(o=o.length>0&&o[o.length-1])&&(h[0]===6||h[0]===2)){r=0;continue}if(h[0]===3&&(!o||h[1]>o[0]&&h[1]<o[3])){r.label=h[1];break}if(h[0]===6&&r.label<o[1]){r.label=o[1],o=h;break}if(o&&r.label<o[2]){r.label=o[2],r.ops.push(h);break}o[2]&&r.ops.pop(),r.trys.pop();continue}h=e.call(t,r)}catch(x){h=[6,x],s=0}finally{n=o=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},E2=function(){function t(e,r,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=r,this.onTorchActionFailureCallback=n}return t.prototype.isTorchEnabled=function(){return this.isTorchOn},t.prototype.flipState=function(){return tN(this,void 0,void 0,function(){var e,r;return rN(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return r=n.sent(),this.propagateFailure(e,r),this.buttonController.enable(),[3,4];case 4:return[2]}})})},t.prototype.updateUiBasedOnLatestSettings=function(e,r){e===r?(this.buttonController.setText(r?_t.torchOffButton():_t.torchOnButton()),this.isTorchOn=r):this.propagateFailure(r),this.buttonController.enable()},t.prototype.propagateFailure=function(e,r){var n=e?_t.torchOnFailedMessage():_t.torchOffFailedMessage();r&&(n+="; Error = "+r),this.onTorchActionFailureCallback(n)},t.prototype.reset=function(){this.isTorchOn=!1},t}(),Y9=function(){function t(e,r){this.onTorchActionFailureCallback=r,this.torchButton=Ai.createElement("button",Ln.TORCH_BUTTON_ID),this.torchController=new E2(e,this,r)}return t.prototype.render=function(e,r){var n=this;this.torchButton.innerText=_t.torchOnButton(),this.torchButton.style.display=r.display,this.torchButton.style.marginLeft=r.marginLeft;var s=this;this.torchButton.addEventListener("click",function(o){return tN(n,void 0,void 0,function(){return rN(this,function(l){switch(l.label){case 0:return[4,s.torchController.flipState()];case 1:return l.sent(),s.torchController.isTorchEnabled()?(s.torchButton.classList.remove(Ln.TORCH_BUTTON_CLASS_TORCH_OFF),s.torchButton.classList.add(Ln.TORCH_BUTTON_CLASS_TORCH_ON)):(s.torchButton.classList.remove(Ln.TORCH_BUTTON_CLASS_TORCH_ON),s.torchButton.classList.add(Ln.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},t.prototype.updateTorchCapability=function(e){this.torchController=new E2(e,this,this.onTorchActionFailureCallback)},t.prototype.getTorchButton=function(){return this.torchButton},t.prototype.hide=function(){this.torchButton.style.display="none"},t.prototype.show=function(){this.torchButton.style.display="inline-block"},t.prototype.disable=function(){this.torchButton.disabled=!0},t.prototype.enable=function(){this.torchButton.disabled=!1},t.prototype.setText=function(e){this.torchButton.innerText=e},t.prototype.reset=function(){this.torchButton.innerText=_t.torchOnButton(),this.torchController.reset()},t.create=function(e,r,n,s){var o=new t(r,s);return o.render(e,n),o},t}(),X9=function(){function t(e,r,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=r?"block":"none",e.appendChild(this.fileBasedScanRegion);var s=document.createElement("label");s.setAttribute("for",this.getFileScanInputId()),s.style.display="inline-block",this.fileBasedScanRegion.appendChild(s),this.fileSelectionButton=Ai.createElement("button",Ln.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener("click",function(u){s.click()}),s.append(this.fileSelectionButton),this.fileScanInput=Ai.createElement("input",this.getFileScanInputId()),this.fileScanInput.type="file",this.fileScanInput.accept="image/*",this.fileScanInput.style.display="none",s.appendChild(this.fileScanInput);var o=this;this.fileScanInput.addEventListener("change",function(u){if(!(u==null||u.target==null)){var p=u.target;if(!(p.files&&p.files.length===0)){var h=p.files,x=h[0],w=x.name;o.setImageNameToButton(w),n(x)}}});var l=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(l),this.fileBasedScanRegion.addEventListener("dragenter",function(u){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragleave",function(u){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("dragover",function(u){o.fileBasedScanRegion.style.border=o.fileBasedScanRegionActiveBorder(),u.stopPropagation(),u.preventDefault()}),this.fileBasedScanRegion.addEventListener("drop",function(u){u.stopPropagation(),u.preventDefault(),o.fileBasedScanRegion.style.border=o.fileBasedScanRegionDefaultBorder();var p=u.dataTransfer;if(p){var h=p.files;if(!h||h.length===0)return;for(var x=!1,w=0;w<h.length;++w){var _=h.item(w);if(_){var b=/image.*/;if(_.type.match(b)){x=!0;var T=_.name;o.setImageNameToButton(T),n(_),l.innerText=_t.dragAndDropMessage();break}}}x||(l.innerText=_t.dragAndDropMessageOnlyImages())}})}return t.prototype.hide=function(){this.fileBasedScanRegion.style.display="none",this.fileScanInput.disabled=!0},t.prototype.show=function(){this.fileBasedScanRegion.style.display="block",this.fileScanInput.disabled=!1},t.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display==="block"},t.prototype.resetValue=function(){this.fileScanInput.value="",this.setInitialValueToButton()},t.prototype.createFileBasedScanRegion=function(){var e=document.createElement("div");return e.style.textAlign="center",e.style.margin="auto",e.style.width="80%",e.style.maxWidth="600px",e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding="10px",e.style.marginBottom="10px",e},t.prototype.fileBasedScanRegionDefaultBorder=function(){return"6px dashed #ebebeb"},t.prototype.fileBasedScanRegionActiveBorder=function(){return"6px dashed rgb(153 151 151)"},t.prototype.createDragAndDropMessage=function(){var e=document.createElement("div");return e.innerText=_t.dragAndDropMessage(),e.style.fontWeight="400",e},t.prototype.setImageNameToButton=function(e){var r=20;if(e.length>r){var n=e.substring(0,8),s=e.length,o=e.substring(s-8,s);e="".concat(n,"....").concat(o)}var l=_t.fileSelectionChooseAnother()+" - "+e;this.fileSelectionButton.innerText=l},t.prototype.setInitialValueToButton=function(){var e=_t.fileSelectionChooseImage()+" - "+_t.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},t.prototype.getFileScanInputId=function(){return"html5-qrcode-private-filescan-input"},t.create=function(e,r,n){var s=new t(e,r,n);return s},t}(),q9=function(){function t(e){this.selectElement=Ai.createElement("select",Ln.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return t.prototype.render=function(e){var r=document.createElement("span");r.style.marginRight="10px";var n=this.cameras.length;if(n===0)throw new Error("No cameras found");if(n===1)r.style.display="none";else{var s=_t.selectCamera();r.innerText="".concat(s," (").concat(this.cameras.length,")  ")}for(var o=1,l=0,u=this.cameras;l<u.length;l++){var p=u[l],h=p.id,x=p.label==null?h:p.label;(!x||x==="")&&(x=[_t.anonymousCameraPrefix(),o++].join(" "));var w=document.createElement("option");w.value=h,w.innerText=x,this.options.push(w),this.selectElement.appendChild(w)}r.appendChild(this.selectElement),e.appendChild(r)},t.prototype.disable=function(){this.selectElement.disabled=!0},t.prototype.isDisabled=function(){return this.selectElement.disabled===!0},t.prototype.enable=function(){this.selectElement.disabled=!1},t.prototype.getValue=function(){return this.selectElement.value},t.prototype.hasValue=function(e){for(var r=0,n=this.options;r<n.length;r++){var s=n[r];if(s.value===e)return!0}return!1},t.prototype.setValue=function(e){if(!this.hasValue(e))throw new Error("".concat(e," is not present in the camera list."));this.selectElement.value=e},t.prototype.hasSingleItem=function(){return this.cameras.length===1},t.prototype.numCameras=function(){return this.cameras.length},t.create=function(e,r){var n=new t(r);return n.render(e),n},t}(),K9=function(){function t(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement("div"),this.rangeInput=Ai.createElement("input",Ln.ZOOM_SLIDER_ID),this.rangeInput.type="range",this.rangeText=document.createElement("span"),this.rangeInput.min="1",this.rangeInput.max="5",this.rangeInput.value="1",this.rangeInput.step="0.1"}return t.prototype.render=function(e,r){this.zoomElementContainer.style.display=r?"block":"none",this.zoomElementContainer.style.padding="5px 10px",this.zoomElementContainer.style.textAlign="center",e.appendChild(this.zoomElementContainer),this.rangeInput.style.display="inline-block",this.rangeInput.style.width="50%",this.rangeInput.style.height="5px",this.rangeInput.style.background="#d3d3d3",this.rangeInput.style.outline="none",this.rangeInput.style.opacity="0.7";var n=_t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(n),this.rangeText.style.marginRight="10px";var s=this;this.rangeInput.addEventListener("input",function(){return s.onValueChange()}),this.rangeInput.addEventListener("change",function(){return s.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},t.prototype.onValueChange=function(){var e=_t.zoom();this.rangeText.innerText="".concat(this.rangeInput.value,"x ").concat(e),this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},t.prototype.setValues=function(e,r,n,s){this.rangeInput.min=e.toString(),this.rangeInput.max=r.toString(),this.rangeInput.step=s.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},t.prototype.show=function(){this.zoomElementContainer.style.display="block"},t.prototype.hide=function(){this.zoomElementContainer.style.display="none"},t.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},t.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},t.create=function(e,r){var n=new t;return n.render(e,r),n},t}(),Rn;(function(t){t[t.STATUS_DEFAULT=0]="STATUS_DEFAULT",t[t.STATUS_SUCCESS=1]="STATUS_SUCCESS",t[t.STATUS_WARNING=2]="STATUS_WARNING",t[t.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(Rn||(Rn={}));function Q9(t){return{fps:t.fps,qrbox:t.qrbox,aspectRatio:t.aspectRatio,disableFlip:t.disableFlip,videoConstraints:t.videoConstraints}}function Z9(t,e){return{formatsToSupport:t.formatsToSupport,useBarCodeDetectorIfSupported:t.useBarCodeDetectorIfSupported,experimentalFeatures:t.experimentalFeatures,verbose:e}}var J9=function(){function t(e,r,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(r),this.verbose=n===!0,!document.getElementById(e))throw"HTML Element with id=".concat(e," not found");this.scanTypeSelector=new Yi(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new Z3(this.verbose),this.persistedDataManager=new z9,r.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return t.prototype.render=function(e,r){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(o,l){if(e)e(o,l);else{if(n.lastMatchFound===o)return;n.lastMatchFound=o,n.setHeaderMessage(_t.lastMatch(o),Rn.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(o,l){r&&r(o,l)};var s=document.getElementById(this.elementId);if(!s)throw"HTML Element with id=".concat(this.elementId," not found");s.innerHTML="",this.createBasicLayout(s),this.html5Qrcode=new w2(this.getScanRegionId(),Z9(this.config,this.verbose))},t.prototype.pause=function(e){(qs(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},t.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},t.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},t.prototype.clear=function(){var e=this,r=function(){var n=document.getElementById(e.elementId);n&&(n.innerHTML="",e.resetBasicLayout(n))};return this.html5Qrcode?new Promise(function(n,s){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(o){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),r(),n()}).catch(function(o){e.verbose&&e.logger.logError("Unable to stop qrcode scanner",o),s(o)}):(e.html5Qrcode.clear(),r(),n())}):Promise.resolve()},t.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},t.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},t.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},t.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw"Code scanner not initialized.";return this.html5Qrcode},t.prototype.createConfig=function(e){return e?(e.fps||(e.fps=Rs.SCAN_DEFAULT_FPS),e.rememberLastUsedCamera!==!Rs.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=Rs.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||(e.supportedScanTypes=Rs.DEFAULT_SUPPORTED_SCAN_TYPE),e):{fps:Rs.SCAN_DEFAULT_FPS,rememberLastUsedCamera:Rs.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:Rs.DEFAULT_SUPPORTED_SCAN_TYPE}},t.prototype.createBasicLayout=function(e){e.style.position="relative",e.style.padding="0px",e.style.border="1px solid silver",this.createHeader(e);var r=document.createElement("div"),n=this.getScanRegionId();r.id=n,r.style.width="100%",r.style.minHeight="100px",r.style.textAlign="center",e.appendChild(r),Yi.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var s=document.createElement("div"),o=this.getDashboardId();s.id=o,s.style.width="100%",e.appendChild(s),this.setupInitialDashboard(s)},t.prototype.resetBasicLayout=function(e){e.style.border="none"},t.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},t.prototype.createHeader=function(e){var r=document.createElement("div");r.style.textAlign="left",r.style.margin="0px",e.appendChild(r);var n=new W9;n.renderInto(r);var s=document.createElement("div");s.id=this.getHeaderMessageContainerId(),s.style.display="none",s.style.textAlign="center",s.style.fontSize="14px",s.style.padding="2px 10px",s.style.margin="4px",s.style.borderTop="1px solid #f6f6f6",r.appendChild(s)},t.prototype.createSection=function(e){var r=document.createElement("div");r.id=this.getDashboardSectionId(),r.style.width="100%",r.style.padding="10px 0px 10px 0px",r.style.textAlign="left",e.appendChild(r)},t.prototype.createCameraListUi=function(e,r,n){var s=this;s.showHideScanTypeSwapLink(!1),s.setHeaderMessage(_t.cameraPermissionRequesting());var o=function(){n||s.createPermissionButton(e,r)};w2.getCameras().then(function(l){s.persistedDataManager.setHasPermission(!0),s.showHideScanTypeSwapLink(!0),s.resetHeaderMessage(),l&&l.length>0?(e.removeChild(r),s.renderCameraSelection(l)):(s.setHeaderMessage(_t.noCameraFound(),Rn.STATUS_WARNING),o())}).catch(function(l){s.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:o(),s.setHeaderMessage(l,Rn.STATUS_WARNING),s.showHideScanTypeSwapLink(!0)})},t.prototype.createPermissionButton=function(e,r){var n=this,s=Ai.createElement("button",this.getCameraPermissionButtonId());s.innerText=_t.cameraPermissionTitle(),s.addEventListener("click",function(){s.disabled=!0,n.createCameraListUi(e,r,s)}),r.appendChild(s)},t.prototype.createPermissionsUi=function(e,r){var n=this;if(Yi.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){b2.hasPermissions().then(function(s){s?n.createCameraListUi(e,r):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r))}).catch(function(s){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,r)});return}this.createPermissionButton(e,r)},t.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),r=document.createElement("div");e.appendChild(r);var n=document.createElement("div");n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=Yi.isCameraScanType(this.currentScanType)?"block":"none",r.appendChild(n);var s=document.createElement("div");s.style.textAlign="center",n.appendChild(s),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,s),this.renderFileScanUi(r)},t.prototype.renderFileScanUi=function(e){var r=Yi.isFileScanType(this.currentScanType),n=this,s=function(o){if(!n.html5Qrcode)throw"html5Qrcode not defined";Yi.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(_t.loadingImage()),n.html5Qrcode.scanFileV2(o,!0).then(function(l){n.resetHeaderMessage(),n.qrCodeSuccessCallback(l.decodedText,l)}).catch(function(l){n.setHeaderMessage(l,Rn.STATUS_WARNING),n.qrCodeErrorCallback(l,Q3.createFrom(l))}))};this.fileSelectionUi=X9.create(e,r,s)},t.prototype.renderCameraSelection=function(e){var r=this,n=this,s=document.getElementById(this.getDashboardSectionCameraScanRegionId());s.style.textAlign="center";var o=K9.create(s,!1),l=function(E){var N=E.zoomFeature();if(N.isSupported()){o.setOnCameraZoomValueChangeCallback(function(S){N.apply(S)});var R=1;r.config.defaultZoomValueIfSupported&&(R=r.config.defaultZoomValueIfSupported),R=x9(R,N.min(),N.max()),o.setValues(N.min(),N.max(),R,N.step()),o.show()}},u=q9.create(s,e),p=document.createElement("span"),h=Ai.createElement("button",Ln.CAMERA_START_BUTTON_ID);h.innerText=_t.scanButtonStartScanningText(),p.appendChild(h);var x=Ai.createElement("button",Ln.CAMERA_STOP_BUTTON_ID);x.innerText=_t.scanButtonStopScanningText(),x.style.display="none",x.disabled=!0,p.appendChild(x);var w,_=function(E){if(!E.torchFeature().isSupported()){w&&w.hide();return}w?w.updateTorchCapability(E.torchFeature()):w=Y9.create(p,E.torchFeature(),{display:"none",marginLeft:"5px"},function(N){n.setHeaderMessage(N,Rn.STATUS_WARNING)}),w.show()};s.appendChild(p);var b=function(E){E||(h.style.display="none"),h.innerText=_t.scanButtonStartScanningText(),h.style.opacity="1",h.disabled=!1,E&&(h.style.display="inline-block")};if(h.addEventListener("click",function(E){h.innerText=_t.scanButtonScanningStarting(),u.disable(),h.disabled=!0,h.style.opacity="0.5",r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var N=u.getValue();n.persistedDataManager.setLastUsedCameraId(N),n.html5Qrcode.start(N,Q9(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(R){x.disabled=!1,x.style.display="inline-block",b(!1);var S=n.html5Qrcode.getRunningTrackCameraCapabilities();r.config.showTorchButtonIfSupported===!0&&_(S),r.config.showZoomSliderIfSupported===!0&&l(S)}).catch(function(R){n.showHideScanTypeSwapLink(!0),u.enable(),b(!0),n.setHeaderMessage(R,Rn.STATUS_WARNING)})}),u.hasSingleItem()&&h.click(),x.addEventListener("click",function(E){if(!n.html5Qrcode)throw"html5Qrcode not defined";x.disabled=!0,n.html5Qrcode.stop().then(function(N){r.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),u.enable(),h.disabled=!1,x.style.display="none",h.style.display="inline-block",w&&(w.reset(),w.hide()),o.removeOnCameraZoomValueChangeCallback(),o.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(N){x.disabled=!1,n.setHeaderMessage(N,Rn.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var T=n.persistedDataManager.getLastUsedCameraId();u.hasValue(T)?(u.setValue(T),h.click()):n.persistedDataManager.resetLastUsedCameraId()}},t.prototype.createSectionSwap=function(){var e=this,r=_t.textIfCameraScanSelected(),n=_t.textIfFileScanSelected(),s=document.getElementById(this.getDashboardSectionId()),o=document.createElement("div");o.style.textAlign="center";var l=Ai.createElement("span",this.getDashboardSectionSwapLinkId());l.style.textDecoration="underline",l.style.cursor="pointer",l.innerText=Yi.isCameraScanType(this.currentScanType)?r:n,l.addEventListener("click",function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError("Section swap called when not allowed");return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,Yi.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display="none",e.fileSelectionUi.show(),l.innerText=n,e.currentScanType=Po.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display="block",e.fileSelectionUi.hide(),l.innerText=r,e.currentScanType=Po.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),o.appendChild(l),s.appendChild(o)},t.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,r=this;if(this.persistedDataManager.hasCameraPermissions()){b2.hasPermissions().then(function(n){if(n){var s=document.getElementById(r.getCameraPermissionButtonId());if(!s)throw e.logger.logError("Permission button not found, fail;"),"Permission button not found";s.click()}else r.persistedDataManager.setHasPermission(!1)}).catch(function(n){r.persistedDataManager.setHasPermission(!1)});return}},t.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display="none"},t.prototype.setHeaderMessage=function(e,r){r||(r=Rn.STATUS_DEFAULT);var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display="block",r){case Rn.STATUS_SUCCESS:n.style.background="rgba(106, 175, 80, 0.26)",n.style.color="#477735";break;case Rn.STATUS_WARNING:n.style.background="rgba(203, 36, 49, 0.14)",n.style.color="#cb2431";break;case Rn.STATUS_DEFAULT:default:n.style.background="rgba(0, 0, 0, 0)",n.style.color="rgb(17, 17, 17)";break}},t.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?"inline-block":"none")},t.prototype.insertCameraScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){r.innerHTML="<br>",r.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity="0.8",this.cameraScanImage.src=B9,this.cameraScanImage.alt=_t.cameraScanAltText()},t.prototype.insertFileScanImageToScanRegion=function(){var e=this,r=document.getElementById(this.getScanRegionId());if(this.fileScanImage){r.innerHTML="<br>",r.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){r.innerHTML="<br>",r.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity="0.8",this.fileScanImage.src=F9,this.fileScanImage.alt=_t.fileScanAltText()},t.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=""},t.prototype.getDashboardSectionId=function(){return"".concat(this.elementId,"__dashboard_section")},t.prototype.getDashboardSectionCameraScanRegionId=function(){return"".concat(this.elementId,"__dashboard_section_csr")},t.prototype.getDashboardSectionSwapLinkId=function(){return Ln.SCAN_TYPE_CHANGE_ANCHOR_ID},t.prototype.getScanRegionId=function(){return"".concat(this.elementId,"__scan_region")},t.prototype.getDashboardId=function(){return"".concat(this.elementId,"__dashboard")},t.prototype.getHeaderMessageContainerId=function(){return"".concat(this.elementId,"__header_message")},t.prototype.getCameraPermissionButtonId=function(){return Ln.CAMERA_PERMISSION_BUTTON_ID},t.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},t.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},t.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},t}();const eB=()=>{var x,w;const[t,e]=I.useState(!1),[r,n]=I.useState(null),s=I.useRef(null),[o,l]=I.useState(!1),u=()=>{e(!0);const _=new J9("qr-reader",{fps:10,qrbox:{width:250,height:250}},!1);_.render(async b=>{l(!0);try{let T=b;try{const R=JSON.parse(b);T=R.orderId||R.id||b}catch{}const{data:E,error:N}=await Ce.from("orders").select(`
              *,
              profiles (full_name),
              restaurants (name)
            `).eq("qr_code",b).single();if(N)throw N;if(!E){ye.error("Order not found");return}n(E),ye.success("Order verified successfully!"),p()}catch(T){console.error("Error verifying order:",T),ye.error("Failed to verify order")}finally{l(!1)}},b=>{console.log(b)}),s.current=_},p=()=>{s.current&&(s.current.clear(),s.current=null),e(!1)},h=async()=>{if(r)try{const{error:_}=await Ce.from("orders").update({status:"completed"}).eq("id",r.id);if(_)throw _;ye.success("Order marked as served!"),n(null)}catch(_){console.error("Error updating order:",_),ye.error("Failed to update order status")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"QR Scanner"}),m.jsx("p",{className:"text-muted-foreground",children:"Scan customer booking QR codes"})]}),!t&&!r&&m.jsx(Ge,{className:"border-border/50 luxury-shadow",children:m.jsxs(bt,{className:"py-12 text-center space-y-4",children:[m.jsx(Aw,{className:"h-16 w-16 mx-auto text-primary"}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Ready to Scan"}),m.jsx("p",{className:"text-muted-foreground mb-4",children:"Click the button below to activate your camera and scan customer QR codes"}),m.jsxs(Fe,{onClick:u,className:"luxury-gradient",size:"lg",children:[m.jsx(Aw,{className:"w-5 h-5 mr-2"}),"Start Scanner"]})]})]})}),t&&m.jsxs(Ge,{className:"border-border/50 luxury-shadow",children:[m.jsxs(or,{children:[m.jsx(ar,{children:"Scanning..."}),m.jsx(Ci,{children:"Position the QR code within the frame"})]}),m.jsxs(bt,{className:"space-y-4",children:[m.jsx("div",{id:"qr-reader",className:"w-full"}),m.jsxs(Fe,{onClick:p,variant:"outline",className:"w-full",children:[m.jsx(fO,{className:"w-4 h-4 mr-2"}),"Stop Scanning"]})]})]}),r&&m.jsxs(Ge,{className:"border-border/50 luxury-shadow",children:[m.jsxs(or,{children:[m.jsx(ar,{className:"text-xl",children:"Order Details"}),m.jsxs(Ci,{children:["Order ID: ",r.id]})]}),m.jsxs(bt,{className:"space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Customer:"}),m.jsx("span",{className:"font-medium",children:((x=r.profiles)==null?void 0:x.full_name)||"Customer"})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Restaurant:"}),m.jsx("span",{className:"font-medium",children:(w=r.restaurants)==null?void 0:w.name})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Order Type:"}),m.jsx("span",{className:"font-medium capitalize",children:r.order_type.replace("_"," ")})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-muted-foreground",children:"Status:"}),m.jsx("span",{className:"font-medium capitalize",children:r.status})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx("h4",{className:"font-semibold",children:"Items:"}),m.jsx("ul",{className:"space-y-1",children:r.order_items.map((_,b)=>m.jsxs("li",{className:"flex justify-between text-sm",children:[m.jsxs("span",{children:[_.quantity,"x ",_.name]}),m.jsxs("span",{children:[(_.price*_.quantity).toLocaleString()," MMK"]})]},b))})]}),m.jsxs("div",{className:"flex justify-between pt-4 border-t",children:[m.jsx("span",{className:"font-semibold",children:"Total:"}),m.jsxs("span",{className:"font-bold text-lg",children:[r.total_amount.toLocaleString()," MMK"]})]}),m.jsxs("div",{className:"flex gap-2 pt-4",children:[m.jsxs(Fe,{onClick:h,className:"flex-1 luxury-gradient",size:"lg",children:[m.jsx(EE,{className:"w-5 h-5 mr-2"}),"Mark as Served"]}),m.jsx(Fe,{onClick:()=>n(null),variant:"outline",className:"flex-1",size:"lg",children:"Scan Another"})]})]})]})]})};var v0="Switch",[tB,LB]=Fs(v0),[rB,nB]=tB(v0),nN=I.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:s,defaultChecked:o,required:l,disabled:u,value:p="on",onCheckedChange:h,form:x,...w}=t,[_,b]=I.useState(null),T=xt(e,A=>b(A)),E=I.useRef(!1),N=_?x||!!_.closest("form"):!0,[R,S]=No({prop:s,defaultProp:o??!1,onChange:h,caller:v0});return m.jsxs(rB,{scope:r,checked:R,disabled:u,children:[m.jsx(We.button,{type:"button",role:"switch","aria-checked":R,"aria-required":l,"data-state":aN(R),"data-disabled":u?"":void 0,disabled:u,value:p,...w,ref:T,onClick:Pe(t.onClick,A=>{S(M=>!M),N&&(E.current=A.isPropagationStopped(),E.current||A.stopPropagation())})}),N&&m.jsx(oN,{control:_,bubbles:!E.current,name:n,value:p,checked:R,required:l,disabled:u,form:x,style:{transform:"translateX(-100%)"}})]})});nN.displayName=v0;var sN="SwitchThumb",iN=I.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,s=nB(sN,r);return m.jsx(We.span,{"data-state":aN(s.checked),"data-disabled":s.disabled?"":void 0,...n,ref:e})});iN.displayName=sN;var sB="SwitchBubbleInput",oN=I.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...s},o)=>{const l=I.useRef(null),u=xt(l,o),p=Lx(r),h=Km(e);return I.useEffect(()=>{const x=l.current;if(!x)return;const w=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(w,"checked").set;if(p!==r&&b){const T=new Event("click",{bubbles:n});b.call(x,r),x.dispatchEvent(T)}},[p,r,n]),m.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:u,style:{...s.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});oN.displayName=sB;function aN(t){return t?"checked":"unchecked"}var lN=nN,iB=iN;const cN=I.forwardRef(({className:t,...e},r)=>m.jsx(lN,{className:He("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:r,children:m.jsx(iB,{className:He("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));cN.displayName=lN.displayName;const oB=()=>{const{user:t}=ps(),[e,r]=I.useState([]),[n,s]=I.useState(!0),[o,l]=I.useState(null),[u,p]=I.useState(!1),[h,x]=I.useState(null),[w,_]=I.useState({name:"",description:"",price:"",image_url:""});I.useEffect(()=>{t&&b()},[t]);const b=async()=>{try{const{data:A,error:M}=await Ce.from("restaurants").select("id").eq("owner_id",t==null?void 0:t.id).single();if(M)throw M;l(A.id);const{data:k,error:B}=await Ce.from("menu_items").select("*").eq("restaurant_id",A.id).order("created_at",{ascending:!1});if(B)throw B;r(k||[])}catch(A){console.error("Error fetching menu:",A),ye.error("Failed to load menu items")}finally{s(!1)}},T=()=>{x(null),_({name:"",description:"",price:"",image_url:""}),p(!0)},E=A=>{x(A.id),_({name:A.name,description:A.description||"",price:A.price.toString(),image_url:A.image_url||""}),p(!0)},N=async A=>{try{const{error:M}=await Ce.from("menu_items").delete().eq("id",A);if(M)throw M;r(e.filter(k=>k.id!==A)),ye.success("Menu item deleted")}catch(M){console.error("Error deleting item:",M),ye.error("Failed to delete menu item")}},R=async()=>{if(!w.name||!w.price||!o){ye.error("Please fill in all required fields");return}try{const A={name:w.name,description:w.description||null,price:parseFloat(w.price),image_url:w.image_url||null,restaurant_id:o};if(h){const{error:M}=await Ce.from("menu_items").update(A).eq("id",h);if(M)throw M;r(e.map(k=>k.id===h?{...k,...A}:k)),ye.success("Menu item updated")}else{const{data:M,error:k}=await Ce.from("menu_items").insert([{...A,available:!0}]).select().single();if(k)throw k;r([M,...e]),ye.success("Menu item added")}p(!1),_({name:"",description:"",price:"",image_url:""})}catch(A){console.error("Error saving menu item:",A),ye.error("Failed to save menu item")}},S=async A=>{const M=e.find(k=>k.id===A);if(M)try{const{error:k}=await Ce.from("menu_items").update({available:!M.available}).eq("id",A);if(k)throw k;r(e.map(B=>B.id===A?{...B,available:!B.available}:B)),ye.success("Availability updated")}catch(k){console.error("Error updating availability:",k),ye.error("Failed to update availability")}};return m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Menu"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage your menu items"})]}),m.jsxs(Fe,{onClick:T,className:"luxury-gradient",children:[m.jsx(ac,{className:"w-4 h-4 mr-2"}),"Add Item"]})]}),n?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ec,{className:"h-8 w-8 animate-spin text-primary"})}):e.length===0?m.jsx(Ge,{children:m.jsx(bt,{className:"py-12 text-center text-muted-foreground",children:"No menu items yet. Add your first item to get started!"})}):m.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:e.map(A=>m.jsxs(Ge,{children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:A.image_url||"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=400",alt:A.name,className:"w-full h-48 object-cover"}),m.jsxs("div",{className:"absolute top-2 right-2 flex gap-2",children:[m.jsx(Fe,{size:"icon",variant:"secondary",onClick:()=>E(A),children:m.jsx(AE,{className:"h-4 w-4"})}),m.jsx(Fe,{size:"icon",variant:"destructive",onClick:()=>N(A.id),children:m.jsx(Um,{className:"h-4 w-4"})})]})]}),m.jsxs(bt,{className:"p-4 space-y-2",children:[m.jsxs("div",{className:"flex items-start justify-between",children:[m.jsxs("div",{className:"flex-1",children:[m.jsx("h3",{className:"font-semibold",children:A.name}),A.description&&m.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:A.description})]}),m.jsxs("p",{className:"font-semibold text-primary ml-2",children:[A.price.toLocaleString()," MMK"]})]}),m.jsxs("div",{className:"flex items-center justify-between pt-2",children:[m.jsx("span",{className:"text-sm text-muted-foreground",children:"Available"}),m.jsx(cN,{checked:A.available,onCheckedChange:()=>S(A.id)})]})]})]},A.id))}),m.jsx(yc,{open:u,onOpenChange:p,children:m.jsxs(ja,{children:[m.jsx(La,{children:m.jsxs(Ba,{children:[h?"Edit":"Add"," Menu Item"]})}),m.jsxs("div",{className:"space-y-4 py-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"name",children:"Name *"}),m.jsx(at,{id:"name",value:w.name,onChange:A=>_({...w,name:A.target.value}),placeholder:"e.g., Traditional Mohinga"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"price",children:"Price (MMK) *"}),m.jsx(at,{id:"price",type:"number",value:w.price,onChange:A=>_({...w,price:A.target.value}),placeholder:"5000"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"description",children:"Description"}),m.jsx(at,{id:"description",value:w.description,onChange:A=>_({...w,description:A.target.value}),placeholder:"Describe the dish..."})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"image_url",children:"Image URL"}),m.jsx(at,{id:"image_url",value:w.image_url,onChange:A=>_({...w,image_url:A.target.value}),placeholder:"https://..."})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[m.jsx(Fe,{variant:"outline",onClick:()=>p(!1),children:"Cancel"}),m.jsxs(Fe,{onClick:R,className:"luxury-gradient",children:[h?"Update":"Add"," Item"]})]})]})]})})]})},Xx=I.forwardRef(({className:t,...e},r)=>m.jsx("textarea",{className:He("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...e}));Xx.displayName="Textarea";const aB=()=>{const{user:t}=ps(),[e,r]=I.useState(!0),[n,s]=I.useState(!1),[o,l]=I.useState(null),[u,p]=I.useState({name:"",address:"",phone:"",description:"",image_url:"",open_hours:""});I.useEffect(()=>{t&&h()},[t]);const h=async()=>{try{const{data:w,error:_}=await Ce.from("restaurants").select("*").eq("owner_id",t==null?void 0:t.id).single();if(_)throw _;l(w.id),p({name:w.name,address:w.address,phone:w.phone||"",description:w.description||"",image_url:w.image_url||"",open_hours:w.open_hours||""})}catch(w){console.error("Error fetching restaurant:",w),ye.error("Failed to load restaurant data")}finally{r(!1)}},x=async()=>{if(o){s(!0);try{const{error:w}=await Ce.from("restaurants").update({name:u.name,address:u.address,phone:u.phone,description:u.description,image_url:u.image_url,open_hours:u.open_hours}).eq("id",o);if(w)throw w;ye.success("Restaurant information updated successfully!")}catch(w){console.error("Error updating restaurant:",w),ye.error("Failed to update restaurant information")}finally{s(!1)}}};return e?m.jsx("div",{className:"flex justify-center py-12",children:m.jsx(Ec,{className:"h-8 w-8 animate-spin text-primary"})}):m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Restaurant Settings"}),m.jsx("p",{className:"text-muted-foreground",children:"Update your restaurant information"})]}),m.jsxs(Ge,{className:"border-border/50 luxury-shadow",children:[m.jsxs(or,{children:[m.jsx(ar,{children:"Restaurant Information"}),m.jsx(Ci,{children:"Update your restaurant details and settings"})]}),m.jsxs(bt,{className:"space-y-6",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"image_url",children:"Cover Photo URL"}),m.jsxs("div",{className:"space-y-2",children:[u.image_url&&m.jsx("div",{className:"relative h-48 bg-muted rounded-lg overflow-hidden",children:m.jsx("img",{src:u.image_url,alt:"Restaurant cover",className:"w-full h-full object-cover"})}),m.jsx(at,{id:"image_url",value:u.image_url,onChange:w=>p({...u,image_url:w.target.value}),placeholder:"https://..."})]})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"name",children:"Restaurant Name *"}),m.jsx(at,{id:"name",value:u.name,onChange:w=>p({...u,name:w.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"address",children:"Address *"}),m.jsx(at,{id:"address",value:u.address,onChange:w=>p({...u,address:w.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"phone",children:"Phone Number *"}),m.jsx(at,{id:"phone",type:"tel",value:u.phone,onChange:w=>p({...u,phone:w.target.value})})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"open_hours",children:"Open Hours"}),m.jsx(at,{id:"open_hours",value:u.open_hours,onChange:w=>p({...u,open_hours:w.target.value}),placeholder:"9:00 AM - 10:00 PM"})]}),m.jsxs("div",{className:"space-y-2",children:[m.jsx(Qe,{htmlFor:"description",children:"Description"}),m.jsx(Xx,{id:"description",value:u.description,onChange:w=>p({...u,description:w.target.value}),rows:4,placeholder:"Tell customers about your restaurant..."})]}),m.jsx("div",{className:"flex justify-end pt-4",children:m.jsxs(Fe,{onClick:x,className:"luxury-gradient",children:[m.jsx(_O,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]})]})]})},lB=()=>{const{signOut:t}=ps(),e=Tn(),[r,n]=I.useState("orders"),s=async()=>{await t(),e("/auth")};return m.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-secondary/10 to-background",children:[m.jsx("header",{className:"border-b border-border/50 bg-card/80 backdrop-blur-xl sticky top-0 z-50",children:m.jsxs("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"w-10 h-10 rounded-full luxury-gradient flex items-center justify-center",children:m.jsx(zm,{className:"w-5 h-5 text-white"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-xl font-bold text-foreground",children:"Restaurant Dashboard"}),m.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your restaurant"})]})]}),m.jsxs(Fe,{variant:"outline",size:"sm",onClick:s,className:"gap-2",children:[m.jsx(qf,{className:"w-4 h-4"}),"Logout"]})]})}),m.jsx("main",{className:"container mx-auto px-4 py-6",children:m.jsxs(Dx,{value:r,onValueChange:n,className:"w-full",children:[m.jsxs(f0,{className:"grid w-full grid-cols-4 mb-6 bg-muted/50",children:[m.jsx(Si,{value:"orders",children:"Orders"}),m.jsx(Si,{value:"scanner",children:"QR Scanner"}),m.jsx(Si,{value:"menu",children:"Menu"}),m.jsx(Si,{value:"settings",children:"Settings"})]}),m.jsx(pa,{value:"orders",className:"mt-0",children:m.jsx(g9,{})}),m.jsx(pa,{value:"scanner",className:"mt-0",children:m.jsx(eB,{})}),m.jsx(pa,{value:"menu",className:"mt-0",children:m.jsx(oB,{})}),m.jsx(pa,{value:"settings",className:"mt-0",children:m.jsx(aB,{})})]})})]})},cB=()=>{const{user:t,userRole:e,loading:r,signOut:n}=ps(),s=Tn(),[o,l]=I.useState({totalRestaurants:0,totalOrders:0,totalCustomers:0,totalRevenue:0}),[u,p]=I.useState(!0);I.useEffect(()=>{!r&&(!t||e!=="admin")&&(ye.error("Admin access required"),s("/auth"))},[t,e,r,s]);const h=async()=>{try{await n(),ye.success("Logged out successfully"),s("/auth")}catch{ye.error("Failed to logout")}};I.useEffect(()=>{t&&e==="admin"&&x()},[t,e]);const x=async()=>{try{p(!0);const{count:_}=await Ce.from("restaurants").select("*",{count:"exact",head:!0}),{data:b,count:T}=await Ce.from("orders").select("total_amount",{count:"exact"}),E=(b==null?void 0:b.reduce((R,S)=>R+Number(S.total_amount),0))||0,{count:N}=await Ce.from("user_roles").select("*",{count:"exact",head:!0}).eq("role","customer");l({totalRestaurants:_||0,totalOrders:T||0,totalCustomers:N||0,totalRevenue:E})}catch(_){console.error("Error fetching stats:",_),ye.error("Failed to load statistics")}finally{p(!1)}};if(r||u)return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5 flex items-center justify-center",children:m.jsxs("div",{className:"text-center",children:[m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary mx-auto"}),m.jsx("p",{className:"mt-4 text-muted-foreground",children:"Loading admin dashboard..."})]})});if(!t||e!=="admin")return null;const w=[{title:"Total Restaurants",value:o.totalRestaurants,icon:nf,description:"Active restaurants",color:"text-blue-600"},{title:"Total Orders",value:o.totalOrders,icon:sf,description:"All time orders",color:"text-green-600"},{title:"Total Customers",value:o.totalCustomers,icon:f1,description:"Registered customers",color:"text-purple-600"},{title:"Total Revenue",value:`${o.totalRevenue.toLocaleString()} MMK`,icon:mO,description:"All time revenue",color:"text-yellow-600"}];return m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[m.jsx("div",{className:"mb-8",children:m.jsxs("div",{className:"flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Admin Dashboard"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage your ALAN platform"})]}),m.jsxs(Fe,{variant:"outline",onClick:h,className:"flex items-center gap-2 hover:bg-destructive hover:text-destructive-foreground",children:[m.jsx(qf,{className:"h-4 w-4"}),"Logout"]})]})}),m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:w.map(_=>{const b=_.icon;return m.jsxs(Ge,{className:"hover:shadow-lg transition-shadow",children:[m.jsxs(or,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[m.jsx(ar,{className:"text-sm font-medium",children:_.title}),m.jsx(b,{className:`h-5 w-5 ${_.color}`})]}),m.jsxs(bt,{children:[m.jsx("div",{className:"text-2xl font-bold",children:_.value}),m.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:_.description})]})]},_.title)})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[m.jsx(Ge,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105",onClick:()=>s("/admin/restaurants"),children:m.jsxs(or,{children:[m.jsxs(ar,{className:"text-lg flex items-center gap-2",children:[m.jsx(nf,{className:"h-5 w-5"}),"Restaurants"]}),m.jsx(Ci,{children:"Manage all restaurants"})]})}),m.jsx(Ge,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105",onClick:()=>s("/admin/owners"),children:m.jsxs(or,{children:[m.jsxs(ar,{className:"text-lg flex items-center gap-2",children:[m.jsx(f1,{className:"h-5 w-5"}),"Restaurant Owners"]}),m.jsx(Ci,{children:"Manage owner accounts"})]})}),m.jsx(Ge,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105",onClick:()=>s("/admin/orders"),children:m.jsxs(or,{children:[m.jsxs(ar,{className:"text-lg flex items-center gap-2",children:[m.jsx(sf,{className:"h-5 w-5"}),"Orders Report"]}),m.jsx(Ci,{children:"View all orders"})]})}),m.jsx(Ge,{className:"cursor-pointer hover:shadow-lg transition-all hover:scale-105",onClick:()=>s("/admin/users"),children:m.jsxs(or,{children:[m.jsxs(ar,{className:"text-lg flex items-center gap-2",children:[m.jsx(f1,{className:"h-5 w-5"}),"Users"]}),m.jsx(Ci,{children:"Manage all users"})]})})]})]})})},xd=I.forwardRef(({className:t,...e},r)=>m.jsx("div",{className:"relative w-full overflow-auto",children:m.jsx("table",{ref:r,className:He("w-full caption-bottom text-sm",t),...e})}));xd.displayName="Table";const yd=I.forwardRef(({className:t,...e},r)=>m.jsx("thead",{ref:r,className:He("[&_tr]:border-b",t),...e}));yd.displayName="TableHeader";const wd=I.forwardRef(({className:t,...e},r)=>m.jsx("tbody",{ref:r,className:He("[&_tr:last-child]:border-0",t),...e}));wd.displayName="TableBody";const uB=I.forwardRef(({className:t,...e},r)=>m.jsx("tfoot",{ref:r,className:He("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));uB.displayName="TableFooter";const ai=I.forwardRef(({className:t,...e},r)=>m.jsx("tr",{ref:r,className:He("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));ai.displayName="TableRow";const Xt=I.forwardRef(({className:t,...e},r)=>m.jsx("th",{ref:r,className:He("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Xt.displayName="TableHead";const zt=I.forwardRef(({className:t,...e},r)=>m.jsx("td",{ref:r,className:He("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));zt.displayName="TableCell";const dB=I.forwardRef(({className:t,...e},r)=>m.jsx("caption",{ref:r,className:He("mt-4 text-sm text-muted-foreground",t),...e}));dB.displayName="TableCaption";const hB=()=>{const{user:t,userRole:e,loading:r}=ps(),n=Tn(),[s,o]=I.useState([]),[l,u]=I.useState([]),[p,h]=I.useState(""),[x,w]=I.useState(!1),[_,b]=I.useState(null),[T,E]=I.useState({name:"",address:"",description:"",phone:"",cuisine_type:"",image_url:""});I.useEffect(()=>{!r&&(!t||e!=="admin")&&(ye.error("Admin access required"),n("/auth"))},[t,e,r,n]),I.useEffect(()=>{t&&e==="admin"&&N()},[t,e]),I.useEffect(()=>{const k=s.filter(B=>B.name.toLowerCase().includes(p.toLowerCase())||B.address.toLowerCase().includes(p.toLowerCase()));u(k)},[p,s]);const N=async()=>{const{data:k,error:B}=await Ce.from("restaurants").select("*").order("created_at",{ascending:!1});if(B){ye.error("Failed to load restaurants");return}o(k||[]),u(k||[])},R=async()=>{if(!T.name||!T.address){ye.error("Name and address are required");return}if(_){const{error:k}=await Ce.from("restaurants").update(T).eq("id",_.id);if(k){ye.error("Failed to update restaurant");return}ye.success("Restaurant updated successfully")}else{const{error:k}=await Ce.from("restaurants").insert([T]);if(k){ye.error("Failed to create restaurant");return}ye.success("Restaurant created successfully")}w(!1),M(),N()},S=async k=>{if(!confirm("Are you sure you want to delete this restaurant?"))return;const{error:B}=await Ce.from("restaurants").delete().eq("id",k);if(B){ye.error("Failed to delete restaurant");return}ye.success("Restaurant deleted successfully"),N()},A=k=>{b(k),E({name:k.name,address:k.address,description:k.description||"",phone:k.phone||"",cuisine_type:k.cuisine_type||"",image_url:k.image_url||""}),w(!0)},M=()=>{b(null),E({name:"",address:"",description:"",phone:"",cuisine_type:"",image_url:""})};return r||!t||e!=="admin"?null:m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:m.jsx(bc,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Restaurant Management"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage all restaurants on the platform"})]}),m.jsxs(yc,{open:x,onOpenChange:k=>{w(k),k||M()},children:[m.jsx(d3,{asChild:!0,children:m.jsxs(Fe,{children:[m.jsx(ac,{className:"h-4 w-4 mr-2"}),"Add Restaurant"]})}),m.jsxs(ja,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[m.jsx(La,{children:m.jsx(Ba,{children:_?"Edit Restaurant":"Add New Restaurant"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"name",children:"Restaurant Name *"}),m.jsx(at,{id:"name",value:T.name,onChange:k=>E({...T,name:k.target.value}),placeholder:"Enter restaurant name"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"address",children:"Address *"}),m.jsx(at,{id:"address",value:T.address,onChange:k=>E({...T,address:k.target.value}),placeholder:"Enter address"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"phone",children:"Phone"}),m.jsx(at,{id:"phone",value:T.phone,onChange:k=>E({...T,phone:k.target.value}),placeholder:"Enter phone number"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"cuisine_type",children:"Cuisine Type"}),m.jsx(at,{id:"cuisine_type",value:T.cuisine_type,onChange:k=>E({...T,cuisine_type:k.target.value}),placeholder:"e.g., Italian, Chinese"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"description",children:"Description"}),m.jsx(Xx,{id:"description",value:T.description,onChange:k=>E({...T,description:k.target.value}),placeholder:"Enter restaurant description",rows:3})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"image_url",children:"Image URL"}),m.jsx(at,{id:"image_url",value:T.image_url,onChange:k=>E({...T,image_url:k.target.value}),placeholder:"Enter image URL"})]}),m.jsx(Fe,{onClick:R,className:"w-full",children:_?"Update Restaurant":"Create Restaurant"})]})]})]})]}),m.jsx(Ge,{className:"mb-6",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(at,{placeholder:"Search restaurants...",value:p,onChange:k=>h(k.target.value),className:"pl-10"})]})})}),m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsxs(ar,{children:["All Restaurants (",l.length,")"]})}),m.jsx(bt,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(xd,{children:[m.jsx(yd,{children:m.jsxs(ai,{children:[m.jsx(Xt,{children:"Name"}),m.jsx(Xt,{children:"Address"}),m.jsx(Xt,{children:"Phone"}),m.jsx(Xt,{children:"Cuisine"}),m.jsx(Xt,{className:"text-right",children:"Actions"})]})}),m.jsx(wd,{children:l.map(k=>m.jsxs(ai,{children:[m.jsx(zt,{className:"font-medium",children:k.name}),m.jsx(zt,{children:k.address}),m.jsx(zt,{children:k.phone||"N/A"}),m.jsx(zt,{children:k.cuisine_type||"N/A"}),m.jsxs(zt,{className:"text-right",children:[m.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>A(k),children:m.jsx(NE,{className:"h-4 w-4"})}),m.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>S(k.id),children:m.jsx(Um,{className:"h-4 w-4 text-destructive"})})]})]},k.id))})]})})})]})]})})},fB=()=>{const{user:t,userRole:e,loading:r}=ps(),n=Tn(),[s,o]=I.useState([]),[l,u]=I.useState([]),[p,h]=I.useState([]),[x,w]=I.useState(""),[_,b]=I.useState(!1),[T,E]=I.useState({ownerId:"",restaurantId:""});I.useEffect(()=>{!r&&(!t||e!=="admin")&&(ye.error("Admin access required"),n("/auth"))},[t,e,r,n]),I.useEffect(()=>{t&&e==="admin"&&(N(),R())},[t,e]),I.useEffect(()=>{const M=s.filter(k=>k.email.toLowerCase().includes(x.toLowerCase())||k.restaurant_name&&k.restaurant_name.toLowerCase().includes(x.toLowerCase()));h(M)},[x,s]);const N=async()=>{try{const{data:M,error:k}=await Ce.rpc("get_restaurant_owners");if(!k&&M&&M.length>0){const X=M||[],Y=Array.from(new Set(X.map(ae=>ae.restaurant_id).filter(Boolean))),{data:Z,error:oe}=await Ce.from("restaurants").select("id, address").in("id",Y);oe&&console.error("Failed to fetch restaurant addresses:",oe);const Ee=new Map((Z||[]).map(ae=>[ae.id,ae.address??null])),de=X.map(ae=>({user_id:ae.user_id,full_name:ae.full_name??"Unnamed Owner",email:ae.email??"Email not available",phone:ae.phone??null,restaurant_id:ae.restaurant_id??null,restaurant_name:ae.restaurant_name??null,restaurant_address:ae.restaurant_id?Ee.get(ae.restaurant_id)??null:null}));o(de),h(de);return}console.warn("RPC get_restaurant_owners unavailable or empty; falling back. Error:",k);const{data:B,error:L}=await Ce.from("user_roles").select("user_id").eq("role","restaurant_owner");if(L){console.error("Failed to load owner roles:",L),ye.error("Failed to load owners");return}const V=Array.from(new Set((B??[]).map(X=>X.user_id).filter(X=>!!X)));if(V.length===0){o([]),h([]);return}const{data:U,error:J}=await Ce.from("profiles").select("id, full_name, phone").in("id",V);J&&console.error("Failed to load owner profiles:",J);let ne=new Map;try{const{data:X,error:Y}=await Ce.rpc("get_user_emails",{user_ids:V});if(!Y&&X)ne=new Map((X??[]).filter(Z=>Z.email).map(Z=>[Z.user_id,Z.email]));else{console.warn("RPC get_user_emails failed, attempting direct fallback:",Y);const{data:Z,error:oe}=await Ce.from("user_emails").select("user_id, email").in("user_id",V);!oe&&Z&&(ne=new Map((Z??[]).map(Ee=>[Ee.user_id,Ee.email])))}}catch(X){console.warn("Error getting emails via RPC/fallback:",X)}const{data:K,error:se}=await Ce.from("restaurants").select("id, name, address, owner_id").in("owner_id",V);if(se){console.error("Failed to load restaurants for owners:",se),ye.error("Failed to load owners");return}const G=new Map((U??[]).map(X=>[X.id,{fullName:X.full_name??"Unnamed Owner",phone:X.phone??null}])),H=new Map;(K??[]).forEach(X=>{X.owner_id&&H.set(X.owner_id,{id:X.id,name:X.name??"Unnamed Restaurant",address:X.address??null})});const re=V.map(X=>{const Y=G.get(X),Z=ne.get(X)??"Email not available",oe=H.get(X);return{user_id:X,full_name:(Y==null?void 0:Y.fullName)??"Unnamed Owner",email:Z,phone:(Y==null?void 0:Y.phone)??null,restaurant_id:(oe==null?void 0:oe.id)??null,restaurant_name:(oe==null?void 0:oe.name)??null,restaurant_address:(oe==null?void 0:oe.address)??null}});o(re),h(re)}catch(M){console.error("Unexpected error fetching owners:",M),ye.error("Failed to load owners")}},R=async()=>{const{data:M,error:k}=await Ce.from("restaurants").select("id, name").is("owner_id",null).order("name");if(k){console.error("Failed to load restaurants:",k);return}u(M||[])},S=async()=>{if(!T.ownerId||!T.restaurantId){ye.error("Please select both an owner and a restaurant");return}try{const{data:M,error:k}=await Ce.from("user_roles").select("user_id").eq("user_id",T.ownerId).eq("role","restaurant_owner").maybeSingle();if(k){console.error("Error checking owner role:",k),ye.error("Failed to verify owner role");return}if(!M){const{error:L}=await Ce.from("user_roles").insert([{user_id:T.ownerId,role:"restaurant_owner"}]);if(L){ye.error("Failed to assign owner role");return}}const{error:B}=await Ce.from("restaurants").update({owner_id:T.ownerId}).eq("id",T.restaurantId);if(B){ye.error("Failed to link restaurant to owner");return}ye.success("Owner linked to restaurant successfully"),b(!1),A(),N(),R()}catch(M){console.error("Error linking owner:",M),ye.error("Failed to link owner")}},A=()=>{E({ownerId:"",restaurantId:""})};return r||!t||e!=="admin"?null:m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:m.jsx(bc,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Restaurant Owner Management"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage all restaurant owner accounts"})]}),m.jsxs(yc,{open:_,onOpenChange:M=>{b(M),M||A()},children:[m.jsx(d3,{asChild:!0,children:m.jsxs(Fe,{disabled:l.length===0||s.filter(M=>!M.restaurant_id).length===0,children:[m.jsx(ac,{className:"h-4 w-4 mr-2"}),"Add Owner"]})}),m.jsxs(ja,{className:"max-w-md",children:[m.jsx(La,{children:m.jsx(Ba,{children:"Link Existing Owner to Restaurant"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"owner",children:"Owner *"}),m.jsxs(Ms,{value:T.ownerId,onValueChange:M=>E({...T,ownerId:M}),children:[m.jsx(ss,{children:m.jsx(ks,{placeholder:"Select owner without restaurant"})}),m.jsx(is,{children:s.filter(M=>!M.restaurant_id).map(M=>m.jsxs(wt,{value:M.user_id,children:[M.full_name||"Unnamed Owner","  ",M.email]},M.user_id))})]})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"restaurant",children:"Restaurant *"}),m.jsxs(Ms,{value:T.restaurantId,onValueChange:M=>E({...T,restaurantId:M}),children:[m.jsx(ss,{children:m.jsx(ks,{placeholder:"Select restaurant without owner"})}),m.jsx(is,{children:l.map(M=>m.jsx(wt,{value:M.id,children:M.name},M.id))})]})]}),m.jsx(Fe,{onClick:S,className:"w-full",disabled:!T.ownerId||!T.restaurantId,children:"Link Owner"})]})]})]})]}),l.length===0&&m.jsx(Ge,{className:"mb-6 border-amber-200 bg-amber-50",children:m.jsx(bt,{className:"pt-6",children:m.jsx("p",{className:"text-amber-800",children:"No restaurants available without owners. Please create restaurants first before adding owners."})})}),m.jsx(Ge,{className:"mb-6",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"relative",children:[m.jsx(dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(at,{placeholder:"Search owners...",value:x,onChange:M=>w(M.target.value),className:"pl-10"})]})})}),m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsxs(ar,{children:["All Restaurant Owners (",p.length,")"]})}),m.jsx(bt,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(xd,{children:[m.jsx(yd,{children:m.jsxs(ai,{children:[m.jsx(Xt,{children:"Restaurant"}),m.jsx(Xt,{children:"Address"}),m.jsx(Xt,{children:"Owner"}),m.jsx(Xt,{children:"Email"}),m.jsx(Xt,{children:"Phone"})]})}),m.jsx(wd,{children:p.map(M=>m.jsxs(ai,{children:[m.jsx(zt,{children:M.restaurant_name?m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(nf,{className:"h-4 w-4 text-muted-foreground"}),M.restaurant_name]}):m.jsx("span",{className:"text-muted-foreground",children:"No restaurant"})}),m.jsx(zt,{children:M.restaurant_address||m.jsx("span",{className:"text-muted-foreground",children:"N/A"})}),m.jsx(zt,{children:M.full_name||m.jsx("span",{className:"text-muted-foreground",children:"Unnamed Owner"})}),m.jsx(zt,{className:"text-muted-foreground",children:M.email}),m.jsx(zt,{children:M.phone||"N/A"})]},M.user_id))})]})})})]})]})})};function pB(t){const e=typeof t=="string"?new Date(t):t,r=e.getMonth()+1,n=e.getDate(),s=e.getFullYear();let o=e.getHours();const l=e.getMinutes(),u=o>=12?"PM":"AM";o=o%12,o=o||12;const p=l<10?`0${l}`:`${l}`;return`${r}/${n}/${s} - ${o}:${p} ${u}`}const gB=()=>{var J,ne,K,se;const{user:t,userRole:e,loading:r}=ps(),n=Tn(),[s,o]=I.useState([]),[l,u]=I.useState([]),[p,h]=I.useState([]),[x,w]=I.useState([]),[_,b]=I.useState(""),[T,E]=I.useState("all"),[N,R]=I.useState("all"),[S,A]=I.useState("all");I.useEffect(()=>{!r&&(!t||e!=="admin")&&(ye.error("Admin access required"),n("/auth"))},[t,e,r,n]),I.useEffect(()=>{t&&e==="admin"&&M()},[t,e]),I.useEffect(()=>{B()},[_,T,N,S,s]);const M=async()=>{console.log(" Fetching orders data...");const{data:G,error:H}=await Ce.from("orders").select("*").order("created_at",{ascending:!1});if(H){console.error(" Error fetching orders:",H),ye.error("Failed to load orders");return}if(console.log(" Orders fetched:",(G==null?void 0:G.length)||0,"orders"),!G||G.length===0){console.log(" No orders found in database"),o([]),u([]);const{data:ae}=await Ce.from("restaurants").select("id, name").order("name");h(ae||[]),ye.info("No orders found in the database");return}console.log(" Found existing orders in database:",G.length);const re=[...new Set(G.map(ae=>ae.customer_id).filter(ae=>!!ae))];console.log(" Looking up customer details for IDs:",re.map(ae=>ae.substring(0,8)));let X=[];if(re.length>0){try{let ae=await Ce.rpc("get_order_customers_fallback",{customer_ids:re});ae.error&&(console.warn(" get_order_customers_fallback not available or failed, trying get_order_customers:",ae.error.message),ae=await Ce.rpc("get_order_customers",{customer_ids:re})),ae.error?(console.error(" Error fetching customer details via RPC:",ae.error),ye.error("Failed to load customer details")):(X=ae.data||[],console.log(" Customer details fetched via RPC:",X.length))}catch(ae){console.error(" Unexpected error fetching customer details:",ae),ye.error("Failed to load customer details")}if(X.length===0)try{const{data:ae,error:fe}=await Ce.from("profiles").select("id, full_name, phone").in("id",re);!fe&&ae&&(X=ae.map(Ue=>({user_id:Ue.id,full_name:Ue.full_name,email:null,phone:Ue.phone})),console.log(" Fallback to profiles fetched:",X.length))}catch(ae){console.error(" Unexpected error fetching profiles as fallback:",ae)}}const Y=new Map(X.map(ae=>{var fe,Ue,ve;return[ae.user_id,{name:((fe=ae.full_name)==null?void 0:fe.trim())||"",email:((Ue=ae.email)==null?void 0:Ue.trim())||"Email not available",phone:((ve=ae.phone)==null?void 0:ve.trim())||""}]}));console.log(" Customer mapping (via RPC):",{totalCustomers:X.length,customerIds:re.map(ae=>ae.substring(0,8)),foundCustomers:X.map(ae=>({id:ae.user_id.substring(0,8),name:ae.full_name,email:ae.email,phone:ae.phone}))});const{data:Z}=await Ce.from("restaurants").select("id, name").order("name"),oe=[...new Set(G.map(ae=>ae.restaurant_id))],{data:Ee}=await Ce.from("restaurants").select("id, name").in("id",oe),de=G.map(ae=>{var ut;const fe=Y.get(ae.customer_id),Ue=ae.customer_id?ae.customer_id.substring(0,8):"UNKNOWN",ve=fe!=null&&fe.name&&fe.name.length>0?fe.name:`Customer ${Ue}`,_e=fe!=null&&fe.email&&fe.email.length>0?fe.email:"Email not available",Me=fe!=null&&fe.phone&&fe.phone.length>0?fe.phone:"Phone not available";return{...ae,customer_name:ve,customer_email:_e,customer_phone:Me,restaurant_name:((ut=Ee==null?void 0:Ee.find(Xe=>Xe.id===ae.restaurant_id))==null?void 0:ut.name)||"Unknown Restaurant"}});console.log(" Orders enriched with customer data:",{totalOrders:de.length,ordersWithCustomerNames:de.filter(ae=>!ae.customer_name.startsWith("Customer ")).length,sampleOrder:de[0]?{id:de[0].id.substring(0,8),customerName:de[0].customer_name,customerEmail:de[0].customer_email,customerPhone:de[0].customer_phone}:null}),o(de),u(de),h(Z||[]),k(de)},k=G=>{const H=new Map;G.forEach(X=>{const Y=X.restaurant_id,Z=X.restaurant_name,oe=Number(X.total_amount);if(H.has(Y)){const Ee=H.get(Y);Ee.total_orders+=1,Ee.total_revenue+=oe,Ee.avg_order_value=Ee.total_revenue/Ee.total_orders}else H.set(Y,{restaurant_id:Y,restaurant_name:Z,total_orders:1,total_revenue:oe,avg_order_value:oe})});const re=Array.from(H.values()).sort((X,Y)=>Y.total_revenue-X.total_revenue);w(re)},B=()=>{let G=[...s];if(_&&(G=G.filter(H=>H.customer_name.toLowerCase().includes(_.toLowerCase())||H.customer_phone.toLowerCase().includes(_.toLowerCase())||H.restaurant_name.toLowerCase().includes(_.toLowerCase())||H.id.toLowerCase().includes(_.toLowerCase()))),S!=="all"&&(G=G.filter(H=>H.restaurant_id===S)),T!=="all"&&(G=G.filter(H=>H.status===T)),N!=="all"){const H=new Date,re=new Date;N==="today"?re.setHours(0,0,0,0):N==="week"?re.setDate(H.getDate()-7):N==="month"&&re.setMonth(H.getMonth()-1),G=G.filter(X=>new Date(X.created_at)>=re)}u(G),k(G)},L=()=>{window.print()},V=l.reduce((G,H)=>G+Number(H.total_amount),0),U=G=>{const H={paid:"default",preparing:"secondary",ready:"outline",completed:"default"};return m.jsx(ko,{variant:H[G]||"default",children:G.toUpperCase()})};return r||!t||e!=="admin"?null:m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl print:p-0",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8 print:hidden",children:[m.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:m.jsx(bc,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Orders Report"}),m.jsx("p",{className:"text-muted-foreground",children:"View and manage all orders"})]}),m.jsxs(Fe,{onClick:L,children:[m.jsx(wO,{className:"h-4 w-4 mr-2"}),"Print Report"]})]}),m.jsx("div",{className:"hidden print:block mb-8",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"text-3xl font-bold mb-2",children:"ALAN - Orders Report"}),m.jsxs("p",{className:"text-muted-foreground",children:["Generated on ",new Date().toLocaleDateString()]}),S!=="all"&&m.jsxs("p",{className:"text-sm text-blue-600 mt-2 font-medium",children:["Restaurant: ",((J=p.find(G=>G.id===S))==null?void 0:J.name)||"Selected Restaurant"]}),T!=="all"&&m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Status Filter: ",T.toUpperCase()]}),N!=="all"&&m.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Date Filter: ",N==="today"?"Today":N==="week"?"Last 7 Days":N==="month"?"Last 30 Days":N]})]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsx(ar,{className:"text-sm",children:"Total Orders"})}),m.jsx(bt,{children:m.jsx("p",{className:"text-3xl font-bold",children:l.length})})]}),m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsx(ar,{className:"text-sm",children:"Total Revenue"})}),m.jsx(bt,{children:m.jsxs("p",{className:"text-3xl font-bold",children:[V.toLocaleString()," MMK"]})})]}),m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsx(ar,{className:"text-sm",children:"Average Order"})}),m.jsx(bt,{children:m.jsxs("p",{className:"text-3xl font-bold",children:[l.length>0?Math.round(V/l.length).toLocaleString():0," MMK"]})})]})]}),m.jsx(Ge,{className:"mb-6 print:hidden",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-4",children:[m.jsxs("div",{className:"relative",children:[m.jsx(dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(at,{placeholder:"Search orders...",value:_,onChange:G=>b(G.target.value),className:"pl-10"})]}),m.jsxs(Ms,{value:S,onValueChange:A,children:[m.jsx(ss,{children:m.jsx(ks,{placeholder:"Filter by restaurant"})}),m.jsxs(is,{children:[m.jsx(wt,{value:"all",children:"All Restaurants"}),p.map(G=>m.jsx(wt,{value:G.id,children:G.name},G.id))]})]}),m.jsxs(Ms,{value:T,onValueChange:E,children:[m.jsx(ss,{children:m.jsx(ks,{placeholder:"Filter by status"})}),m.jsxs(is,{children:[m.jsx(wt,{value:"all",children:"All Statuses"}),m.jsx(wt,{value:"paid",children:"Paid"}),m.jsx(wt,{value:"preparing",children:"Preparing"}),m.jsx(wt,{value:"ready",children:"Ready"}),m.jsx(wt,{value:"completed",children:"Completed"})]})]}),m.jsxs(Ms,{value:N,onValueChange:R,children:[m.jsx(ss,{children:m.jsx(ks,{placeholder:"Filter by date"})}),m.jsxs(is,{children:[m.jsx(wt,{value:"all",children:"All Time"}),m.jsx(wt,{value:"today",children:"Today"}),m.jsx(wt,{value:"week",children:"Last 7 Days"}),m.jsx(wt,{value:"month",children:"Last 30 Days"})]})]}),m.jsxs(Fe,{variant:"outline",onClick:()=>{b(""),A("all"),E("all"),R("all")},children:[m.jsx(Tw,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})]})})}),S==="all"&&x.length>0&&m.jsxs(Ge,{className:"mb-6",children:[m.jsx(or,{children:m.jsxs(ar,{className:"flex items-center gap-2",children:[m.jsx(Tw,{className:"h-5 w-5"}),"Restaurant Performance Summary"]})}),m.jsx(bt,{children:m.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:x.map(G=>m.jsx(Ge,{className:"bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:m.jsxs(bt,{className:"p-4",children:[m.jsx("h3",{className:"font-semibold text-lg mb-2 text-blue-900",children:G.restaurant_name}),m.jsxs("div",{className:"space-y-2 text-sm",children:[m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Total Orders:"}),m.jsx("span",{className:"font-medium",children:G.total_orders})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Total Revenue:"}),m.jsxs("span",{className:"font-bold text-green-600",children:[G.total_revenue.toLocaleString()," MMK"]})]}),m.jsxs("div",{className:"flex justify-between",children:[m.jsx("span",{className:"text-gray-600",children:"Avg Order Value:"}),m.jsxs("span",{className:"font-medium",children:[Math.round(G.avg_order_value).toLocaleString()," MMK"]})]})]}),m.jsx(Fe,{variant:"outline",size:"sm",className:"w-full mt-3",onClick:()=>A(G.restaurant_id),children:"View Orders"})]})},G.restaurant_id))})})]}),S!=="all"&&m.jsx(Ge,{className:"mb-6 bg-gradient-to-r from-green-50 to-emerald-50 border-green-200",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h3",{className:"text-lg font-semibold text-green-900",children:[((ne=p.find(G=>G.id===S))==null?void 0:ne.name)||"Selected Restaurant"," Performance"]}),m.jsx("p",{className:"text-sm text-green-700",children:"Filtered results for selected restaurant"})]}),m.jsxs("div",{className:"grid grid-cols-3 gap-6 text-center",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-2xl font-bold text-green-800",children:l.length}),m.jsx("p",{className:"text-xs text-green-600",children:"Orders"})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-2xl font-bold text-green-800",children:[V.toLocaleString()," MMK"]}),m.jsx("p",{className:"text-xs text-green-600",children:"Revenue"})]}),m.jsxs("div",{children:[m.jsxs("p",{className:"text-2xl font-bold text-green-800",children:[l.length>0?Math.round(V/l.length).toLocaleString():0," MMK"]}),m.jsx("p",{className:"text-xs text-green-600",children:"Avg Order"})]})]})]})})}),m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsxs(ar,{className:"flex items-center justify-between",children:[m.jsx("span",{children:"Order Details"}),m.jsx("span",{className:"text-sm font-normal text-muted-foreground",children:S!=="all"?`Showing ${l.length} orders for ${(K=p.find(G=>G.id===S))==null?void 0:K.name}`:`Showing ${l.length} of ${s.length} orders`})]})}),m.jsx(bt,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(xd,{children:[m.jsx(yd,{children:m.jsxs(ai,{children:[m.jsx(Xt,{children:"Order ID"}),m.jsx(Xt,{children:"Customer"}),m.jsx(Xt,{children:"Restaurant"}),m.jsx(Xt,{children:"Type"}),m.jsx(Xt,{children:"Amount"}),m.jsx(Xt,{children:"Status"}),m.jsx(Xt,{children:"Date"})]})}),m.jsx(wd,{children:l.length>0?l.map(G=>m.jsxs(ai,{children:[m.jsx(zt,{className:"font-mono text-xs",children:G.id.substring(0,8)}),m.jsx(zt,{children:m.jsxs("div",{className:"space-y-1",children:[m.jsx("div",{className:"font-medium",children:G.customer_name}),G.customer_email!=="Email not available"&&m.jsx("div",{className:"text-xs text-muted-foreground",children:G.customer_email}),G.customer_phone!=="Phone not available"&&m.jsx("div",{className:"text-xs text-muted-foreground",children:G.customer_phone})]})}),m.jsx(zt,{children:G.restaurant_name}),m.jsx(zt,{className:"capitalize",children:G.order_type}),m.jsxs(zt,{className:"font-semibold",children:[Number(G.total_amount).toLocaleString()," MMK"]}),m.jsx(zt,{children:U(G.status)}),m.jsx(zt,{children:pB(G.created_at)})]},G.id)):m.jsx(ai,{children:m.jsx(zt,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:S!=="all"?`No orders found for ${((se=p.find(G=>G.id===S))==null?void 0:se.name)||"selected restaurant"}`:"No orders found matching the current filters"})})})]})})})]})]})})},mB=()=>{const{user:t,userRole:e,loading:r}=ps(),n=Tn(),[s,o]=I.useState([]),[l,u]=I.useState([]),[p,h]=I.useState(""),[x,w]=I.useState("all"),[_,b]=I.useState(!1),[T,E]=I.useState(null),[N,R]=I.useState(""),[S,A]=I.useState(null),[M,k]=I.useState(null),[B,L]=I.useState(""),[V,U]=I.useState(""),[J,ne]=I.useState("customer"),[K,se]=I.useState([]),[G,H]=I.useState(!1),[re,X]=I.useState("customer"),[Y,Z]=I.useState(""),[oe,Ee]=I.useState(""),[de,ae]=I.useState(""),[fe,Ue]=I.useState(""),[ve,_e]=I.useState(null);I.useEffect(()=>{!r&&(!t||e!=="admin")&&(ye.error("Admin access required"),n("/auth"))},[t,e,r,n]),I.useEffect(()=>{t&&e==="admin"&&(Me(),ut())},[t,e]),I.useEffect(()=>{const ce=p.toLowerCase(),Ie=s.filter(be=>{const vt=be.full_name.toLowerCase().includes(ce)||be.role.toLowerCase().includes(ce)||be.phone&&be.phone.toLowerCase().includes(ce)||be.user_id.toLowerCase().includes(ce),we=x==="all"?!0:be.role===x;return vt&&we});u(Ie)},[p,x,s]);const Me=async()=>{console.log(" Fetching users and details via RPC...");try{const{data:ce,error:Ie}=await Ce.from("user_roles").select("user_id, role, created_at").order("created_at",{ascending:!1});if(Ie){console.error(" Error fetching user roles:",Ie),ye.error("Failed to load users");return}if(!ce||ce.length===0){console.log(" No users found in user_roles table"),o([]),u([]);return}const be=ce.map(tt=>tt.user_id);let vt=[];try{let tt=await Ce.rpc("get_order_customers_fallback",{customer_ids:be});tt.error&&(console.warn(" get_order_customers_fallback not available, trying get_order_customers:",tt.error.message),tt=await Ce.rpc("get_order_customers",{customer_ids:be})),tt.error?(console.error(" Error fetching user details via RPC:",tt.error),ye.error("Failed to load some user details")):vt=tt.data||[]}catch(tt){console.error(" Unexpected RPC error:",tt)}const we=new Map(vt.map(tt=>[tt.user_id,tt])),Jr=ce.map(tt=>{var St;const Zt=we.get(tt.user_id),Go=(St=Zt==null?void 0:Zt.full_name)!=null&&St.trim()?Zt.full_name.trim():`User ${tt.user_id.substring(0,8)}`;return{user_id:tt.user_id,full_name:Go,phone:(Zt==null?void 0:Zt.phone)||null,role:tt.role,created_at:tt.created_at}});console.log(" Final users data (via RPC):",{total:Jr.length,withRealNames:Jr.filter(tt=>!tt.full_name.startsWith("User ")).length,withPhones:Jr.filter(tt=>tt.phone).length}),o(Jr),u(Jr)}catch(ce){console.error(" Unexpected error in fetchUsers:",ce),ye.error("An unexpected error occurred while loading users")}},ut=async()=>{try{const{data:ce,error:Ie}=await Ce.from("restaurants").select("id, name").order("name");if(Ie){console.error(" Error fetching restaurants:",Ie);return}se(ce||[])}catch(ce){console.error(" Unexpected error fetching restaurants:",ce)}},Xe=async ce=>{var Ie;console.log(" Opening user details for:",ce.user_id.substring(0,8)),E(ce),L(ce.full_name),U(ce.phone||""),ne(ce.role);try{let be=await Ce.rpc("get_order_customers_fallback",{customer_ids:[ce.user_id]});be.error&&(be=await Ce.rpc("get_order_customers",{customer_ids:[ce.user_id]})),!be.error&&be.data&&be.data.length>0?R(be.data[0].email||"Email not available"):R("Email not available")}catch{R("Email not available")}if(A(null),k(null),ce.role==="restaurant_owner")try{const{data:be,error:vt}=await Ce.from("restaurant_owners").select("restaurant_id, restaurants(name)").eq("user_id",ce.user_id).single();!vt&&be&&(A(be.restaurant_id),k(((Ie=be.restaurants)==null?void 0:Ie.name)||"Unknown Restaurant"))}catch(be){console.error(" Error fetching restaurant for owner:",be)}b(!0)},je=async()=>{if(T)try{const{error:ce}=await Ce.from("profiles").update({full_name:B.trim(),phone:V.trim()||null,updated_at:new Date().toISOString()}).eq("id",T.user_id);if(ce){console.error(" Error updating profile:",ce),ye.error("Failed to update user profile");return}if(J!==T.role){const{error:Ie}=await Ce.from("user_roles").update({role:J}).eq("user_id",T.user_id);if(Ie){console.error(" Error updating role:",Ie),ye.error("Failed to update user role");return}if(J==="restaurant_owner"&&S){const{error:be}=await Ce.from("restaurant_owners").upsert({user_id:T.user_id,restaurant_id:S,created_at:new Date().toISOString()});if(be){console.error(" Error linking restaurant:",be),ye.error("Failed to link restaurant");return}}else T.role==="restaurant_owner"&&J!=="restaurant_owner"&&await Ce.from("restaurant_owners").delete().eq("user_id",T.user_id)}ye.success("User updated successfully"),b(!1),Me()}catch(ce){console.error(" Unexpected error updating user:",ce),ye.error("An unexpected error occurred")}},Je=async()=>{if(T&&confirm("Are you sure you want to delete this user? This action cannot be undone."))try{console.log(" Deleting user:",T.user_id.substring(0,8),"with role:",T.role),console.log(" Checking for restaurant ownership...");const{data:ce,error:Ie}=await Ce.from("restaurant_owners").select("restaurant_id").eq("user_id",T.user_id);if(!Ie&&ce&&ce.length>0){console.log(" Removing restaurant ownership links...");const{error:we}=await Ce.from("restaurant_owners").delete().eq("user_id",T.user_id);if(we){console.error(" Error deleting restaurant ownership:",we),ye.error(`Failed to remove restaurant links: ${we.message}`);return}console.log(" Restaurant ownership removed")}console.log(" Deleting user role...");const{error:be}=await Ce.from("user_roles").delete().eq("user_id",T.user_id);if(be){console.error(" Error deleting user role:",be),ye.error(`Failed to delete user role: ${be.message}`);return}console.log(" User role deleted"),console.log(" Deleting user profile...");const{error:vt}=await Ce.from("profiles").delete().eq("id",T.user_id);if(vt){console.error(" Error deleting profile:",vt),ye.error(`Failed to delete user profile: ${vt.message}`);return}console.log(" User profile deleted");try{console.log(" Attempting to delete auth user...");const{error:we}=await Ce.auth.admin.deleteUser(T.user_id);we?console.warn(" Could not delete auth user (service role required):",we.message):console.log(" Auth user deleted")}catch(we){console.warn(" Auth user deletion not available:",we)}console.log(" User deletion complete"),ye.success("User deleted successfully"),b(!1),setTimeout(()=>{Me()},500)}catch(ce){console.error(" Unexpected error deleting user:",ce),ye.error("An unexpected error occurred")}},Be=async()=>{var ce,Ie,be;if(!Y.trim()||!oe.trim()||!de.trim()){ye.error("Please fill in all required fields");return}try{console.log(" Creating user without auth signup to prevent session interference..."),console.log(" Selected role for new user:",re);const we=(ce=(await Ce.auth.getSession()).data.session)==null?void 0:ce.user;if(!we){ye.error("Admin session not found");return}console.log(" Current admin:",we.email,"ID:",we.id.substring(0,8)),console.log(" Creating user via edge function...");const{data:Jr,error:tt}=await Ce.functions.invoke("admin-create-user",{body:{email:oe.trim(),password:de.trim(),full_name:Y.trim(),phone:fe.trim()||null,role:re,restaurant_id:ve}});if(tt){console.error(" Edge function error:",tt),ye.error(tt.message||"Failed to create user");return}console.log(" Edge function result:",Jr);const Zt=await Ce.auth.getSession();((be=(Ie=Zt.data.session)==null?void 0:Ie.user)==null?void 0:be.id)===we.id?console.log(" Admin session remained intact:",Zt.data.session.user.email):console.error(" Admin session was somehow changed!"),console.log(" User creation complete without session interference"),ye.success(`${re.charAt(0).toUpperCase()+re.slice(1)} user created successfully`),H(!1),X("customer"),Z(""),Ee(""),ae(""),Ue(""),_e(null),Me()}catch(vt){console.error(" Unexpected error creating user:",vt),ye.error("An unexpected error occurred")}},cr=ce=>{const Ie={admin:{variant:"destructive",icon:Nw},restaurant_owner:{variant:"default",icon:lo},customer:{variant:"secondary",icon:lo}},be=Ie[ce]||Ie.customer,vt=be.icon;return m.jsxs(ko,{variant:be.variant,className:"flex items-center gap-1 w-fit",children:[m.jsx(vt,{className:"h-3 w-3"}),ce.replace("_"," ").toUpperCase()]})},Ar=(()=>{const ce=s.filter(vt=>vt.role==="admin").length,Ie=s.filter(vt=>vt.role==="restaurant_owner").length,be=s.filter(vt=>vt.role==="customer").length;return{admins:ce,owners:Ie,customers:be}})();return r||!t||e!=="admin"?null:m.jsx("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-accent/5",children:m.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[m.jsx(Fe,{variant:"ghost",size:"icon",onClick:()=>n("/admin"),children:m.jsx(bc,{className:"h-5 w-5"})}),m.jsxs("div",{className:"flex-1",children:[m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"User Management"}),m.jsx("p",{className:"text-muted-foreground",children:"Manage all registered users"})]})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsxs(ar,{className:"text-sm flex items-center gap-2",children:[m.jsx(Nw,{className:"h-4 w-4 text-destructive"}),"Admins"]})}),m.jsx(bt,{children:m.jsx("p",{className:"text-3xl font-bold",children:Ar.admins})})]}),m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsxs(ar,{className:"text-sm flex items-center gap-2",children:[m.jsx(lo,{className:"h-4 w-4 text-primary"}),"Restaurant Owners"]})}),m.jsx(bt,{children:m.jsx("p",{className:"text-3xl font-bold",children:Ar.owners})})]}),m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsxs(ar,{className:"text-sm flex items-center gap-2",children:[m.jsx(lo,{className:"h-4 w-4 text-secondary"}),"Customers"]})}),m.jsx(bt,{children:m.jsx("p",{className:"text-3xl font-bold",children:Ar.customers})})]})]}),m.jsx(Ge,{className:"mb-6",children:m.jsx(bt,{className:"pt-6",children:m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-4",children:[m.jsxs("div",{className:"relative md:flex-1",children:[m.jsx(dd,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),m.jsx(at,{placeholder:"Search users...",value:p,onChange:ce=>h(ce.target.value),className:"pl-10"})]}),m.jsx("div",{className:"md:w-64",children:m.jsxs(Ms,{value:x,onValueChange:ce=>w(ce),children:[m.jsx(ss,{children:m.jsx(ks,{placeholder:"Filter by role"})}),m.jsxs(is,{children:[m.jsx(wt,{value:"all",children:"All"}),m.jsx(wt,{value:"admin",children:"Admin"}),m.jsx(wt,{value:"restaurant_owner",children:"Restaurant Owner"}),m.jsx(wt,{value:"customer",children:"Customer"})]})]})})]})})}),m.jsxs(Ge,{children:[m.jsx(or,{children:m.jsxs(ar,{children:["All Users (",l.length,")"]})}),m.jsx(bt,{children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs(xd,{children:[m.jsx(yd,{children:m.jsxs(ai,{children:[m.jsx(Xt,{children:"Name"}),m.jsx(Xt,{children:"Phone"}),m.jsx(Xt,{children:"Role"}),m.jsx(Xt,{children:"Registered"}),m.jsx(Xt,{className:"text-right",children:"Actions"})]})}),m.jsx(wd,{children:l.map(ce=>m.jsxs(ai,{children:[m.jsx(zt,{className:"font-medium",children:m.jsxs("div",{className:"flex flex-col",children:[m.jsx("span",{children:ce.full_name}),m.jsx("span",{className:"text-xs text-muted-foreground",children:ce.phone?ce.phone:`ID: ${ce.user_id.substring(0,8)}...`})]})}),m.jsx(zt,{children:m.jsx("span",{className:"text-sm",children:ce.phone||"N/A"})}),m.jsx(zt,{children:cr(ce.role)}),m.jsx(zt,{children:new Date(ce.created_at).toLocaleDateString()}),m.jsx(zt,{className:"text-right",children:m.jsx(Fe,{variant:"ghost",size:"sm",onClick:()=>Xe(ce),children:"View Details"})})]},ce.user_id))})]})})})]}),m.jsx(yc,{open:_,onOpenChange:b,children:m.jsxs(ja,{className:"max-w-2xl",children:[m.jsx(La,{children:m.jsx(Ba,{children:"User Details"})}),T&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-name",children:"Full Name"}),m.jsx(at,{id:"detail-name",value:B,onChange:ce=>L(ce.target.value)})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-phone",children:"Phone"}),m.jsx(at,{id:"detail-phone",value:V,onChange:ce=>U(ce.target.value)})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-email",children:"Email"}),m.jsx(at,{id:"detail-email",value:N,disabled:!0,className:"bg-muted"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-role",children:"Role"}),m.jsxs(Ms,{value:J,onValueChange:ne,children:[m.jsx(ss,{children:m.jsx(ks,{})}),m.jsxs(is,{children:[m.jsx(wt,{value:"customer",children:"Customer"}),m.jsx(wt,{value:"restaurant_owner",children:"Restaurant Owner"}),m.jsx(wt,{value:"admin",children:"Admin"})]})]})]})]}),J==="restaurant_owner"&&m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"detail-restaurant",children:"Linked Restaurant"}),m.jsxs(Ms,{value:S||"",onValueChange:A,children:[m.jsx(ss,{children:m.jsx(ks,{placeholder:"Select a restaurant"})}),m.jsx(is,{children:K.map(ce=>m.jsx(wt,{value:ce.id,children:ce.name},ce.id))})]}),M&&m.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:["Currently linked: ",M]})]}),m.jsx("div",{className:"border-t pt-4",children:m.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[m.jsxs("div",{children:[m.jsx(Qe,{className:"text-muted-foreground",children:"User ID"}),m.jsx("p",{className:"font-mono",children:T.user_id})]}),m.jsxs("div",{children:[m.jsx(Qe,{className:"text-muted-foreground",children:"Registration Date"}),m.jsx("p",{children:new Date(T.created_at).toLocaleDateString()})]})]})})]}),m.jsxs(Rg,{className:"flex justify-between",children:[m.jsxs(Fe,{variant:"destructive",onClick:Je,className:"flex items-center gap-2",children:[m.jsx(Um,{className:"h-4 w-4"}),"Delete User"]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx(Fe,{variant:"outline",onClick:()=>b(!1),children:"Cancel"}),m.jsxs(Fe,{onClick:je,className:"flex items-center gap-2",children:[m.jsx(NE,{className:"h-4 w-4"}),"Save Changes"]})]})]})]})}),m.jsx(yc,{open:G,onOpenChange:H,children:m.jsxs(ja,{className:"max-w-2xl",children:[m.jsx(La,{children:m.jsx(Ba,{children:"Create New User"})}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-name",children:"Full Name *"}),m.jsx(at,{id:"create-name",value:Y,onChange:ce=>Z(ce.target.value),placeholder:"Enter full name"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-phone",children:"Phone"}),m.jsx(at,{id:"create-phone",value:fe,onChange:ce=>Ue(ce.target.value),placeholder:"Enter phone number"})]})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-email",children:"Email *"}),m.jsx(at,{id:"create-email",type:"email",value:oe,onChange:ce=>Ee(ce.target.value),placeholder:"Enter email address"})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-password",children:"Password *"}),m.jsx(at,{id:"create-password",type:"password",value:de,onChange:ce=>ae(ce.target.value),placeholder:"Enter password"})]})]}),m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-role",children:"Role *"}),m.jsxs(Ms,{value:re,onValueChange:ce=>X(ce),children:[m.jsx(ss,{children:m.jsx(ks,{})}),m.jsxs(is,{children:[m.jsx(wt,{value:"customer",children:"Customer"}),m.jsx(wt,{value:"restaurant_owner",children:"Restaurant Owner"}),m.jsx(wt,{value:"admin",children:"Admin"})]})]})]}),re==="restaurant_owner"&&m.jsxs("div",{children:[m.jsx(Qe,{htmlFor:"create-restaurant",children:"Link to Restaurant"}),m.jsxs(Ms,{value:ve||"",onValueChange:_e,children:[m.jsx(ss,{children:m.jsx(ks,{placeholder:"Select a restaurant (optional)"})}),m.jsx(is,{children:K.map(ce=>m.jsx(wt,{value:ce.id,children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx(nf,{className:"h-4 w-4"}),ce.name]})},ce.id))})]}),m.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"You can link the user to a restaurant later if needed"})]}),m.jsx("div",{className:"bg-muted p-3 rounded-md",children:m.jsx("p",{className:"text-sm text-muted-foreground",children:"* Required fields. The user will receive an email confirmation to activate their account."})})]}),m.jsxs(Rg,{children:[m.jsx(Fe,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),m.jsxs(Fe,{onClick:Be,className:"flex items-center gap-2",children:[m.jsx(ac,{className:"h-4 w-4"}),"Create User"]})]})]})})]})})},xB=()=>{const t=Uo();return I.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),m.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gray-100",children:m.jsxs("div",{className:"text-center",children:[m.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),m.jsx("p",{className:"mb-4 text-xl text-gray-600",children:"Oops! Page not found"}),m.jsx("a",{href:"/",className:"text-blue-500 underline hover:text-blue-700",children:"Return to Home"})]})})},yB=new G6,wB=()=>m.jsx(X6,{client:yB,children:m.jsx(b5,{children:m.jsxs(b6,{children:[m.jsx(i8,{}),m.jsx(L8,{}),m.jsx($k,{children:m.jsxs(Bk,{children:[m.jsx(Yr,{path:"/",element:m.jsx(zj,{})}),m.jsx(Yr,{path:"/auth",element:m.jsx(iL,{})}),m.jsx(Yr,{path:"/home",element:m.jsx(aL,{})}),m.jsx(Yr,{path:"/restaurant/:id",element:m.jsx(lL,{})}),m.jsx(Yr,{path:"/payment",element:m.jsx(vL,{})}),m.jsx(Yr,{path:"/confirmation",element:m.jsx(RL,{})}),m.jsx(Yr,{path:"/orders",element:m.jsx(L7,{})}),m.jsx(Yr,{path:"/profile",element:m.jsx(B7,{})}),m.jsx(Yr,{path:"/dashboard",element:m.jsx(lB,{})}),m.jsx(Yr,{path:"/admin",element:m.jsx(cB,{})}),m.jsx(Yr,{path:"/admin/restaurants",element:m.jsx(hB,{})}),m.jsx(Yr,{path:"/admin/owners",element:m.jsx(fB,{})}),m.jsx(Yr,{path:"/admin/orders",element:m.jsx(gB,{})}),m.jsx(Yr,{path:"/admin/users",element:m.jsx(mB,{})}),m.jsx(Yr,{path:"*",element:m.jsx(xB,{})})]})})]})})});Gb(document.getElementById("root")).render(m.jsx(wB,{}));
